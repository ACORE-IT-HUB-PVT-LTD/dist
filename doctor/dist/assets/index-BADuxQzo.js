function eQ(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function di(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var e3={exports:{}},Lh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UN;function tQ(){if(UN)return Lh;UN=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var c in i)c!=="key"&&(a[c]=i[c])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:s,ref:i!==void 0?i:null,props:a}}return Lh.Fragment=t,Lh.jsx=n,Lh.jsxs=n,Lh}var HN;function nQ(){return HN||(HN=1,e3.exports=tQ()),e3.exports}var o=nQ(),t3={exports:{}},vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VN;function rQ(){if(VN)return vt;VN=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function g(V){return V===null||typeof V!="object"?null:(V=m&&V[m]||V["@@iterator"],typeof V=="function"?V:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,C={};function j(V,Z,re){this.props=V,this.context=Z,this.refs=C,this.updater=re||v}j.prototype.isReactComponent={},j.prototype.setState=function(V,Z){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Z,"setState")},j.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function A(){}A.prototype=j.prototype;function k(V,Z,re){this.props=V,this.context=Z,this.refs=C,this.updater=re||v}var E=k.prototype=new A;E.constructor=k,b(E,j.prototype),E.isPureReactComponent=!0;var P=Array.isArray,$={H:null,A:null,T:null,S:null,V:null},F=Object.prototype.hasOwnProperty;function O(V,Z,re,me,ge,Pe){return re=Pe.ref,{$$typeof:e,type:V,key:Z,ref:re!==void 0?re:null,props:Pe}}function _(V,Z){return O(V.type,Z,void 0,void 0,void 0,V.props)}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===e}function L(V){var Z={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(re){return Z[re]})}var R=/\/+/g;function M(V,Z){return typeof V=="object"&&V!==null&&V.key!=null?L(""+V.key):Z.toString(36)}function H(){}function W(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(H,H):(V.status="pending",V.then(function(Z){V.status==="pending"&&(V.status="fulfilled",V.value=Z)},function(Z){V.status==="pending"&&(V.status="rejected",V.reason=Z)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function fe(V,Z,re,me,ge){var Pe=typeof V;(Pe==="undefined"||Pe==="boolean")&&(V=null);var X=!1;if(V===null)X=!0;else switch(Pe){case"bigint":case"string":case"number":X=!0;break;case"object":switch(V.$$typeof){case e:case t:X=!0;break;case p:return X=V._init,fe(X(V._payload),Z,re,me,ge)}}if(X)return ge=ge(V),X=me===""?"."+M(V,0):me,P(ge)?(re="",X!=null&&(re=X.replace(R,"$&/")+"/"),fe(ge,Z,re,"",function(ae){return ae})):ge!=null&&(D(ge)&&(ge=_(ge,re+(ge.key==null||V&&V.key===ge.key?"":(""+ge.key).replace(R,"$&/")+"/")+X)),Z.push(ge)),1;X=0;var J=me===""?".":me+":";if(P(V))for(var ce=0;ce<V.length;ce++)me=V[ce],Pe=J+M(me,ce),X+=fe(me,Z,re,Pe,ge);else if(ce=g(V),typeof ce=="function")for(V=ce.call(V),ce=0;!(me=V.next()).done;)me=me.value,Pe=J+M(me,ce++),X+=fe(me,Z,re,Pe,ge);else if(Pe==="object"){if(typeof V.then=="function")return fe(W(V),Z,re,me,ge);throw Z=String(V),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return X}function q(V,Z,re){if(V==null)return V;var me=[],ge=0;return fe(V,me,"","",function(Pe){return Z.call(re,Pe,ge++)}),me}function te(V){if(V._status===-1){var Z=V._result;Z=Z(),Z.then(function(re){(V._status===0||V._status===-1)&&(V._status=1,V._result=re)},function(re){(V._status===0||V._status===-1)&&(V._status=2,V._result=re)}),V._status===-1&&(V._status=0,V._result=Z)}if(V._status===1)return V._result.default;throw V._result}var K=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function z(){}return vt.Children={map:q,forEach:function(V,Z,re){q(V,function(){Z.apply(this,arguments)},re)},count:function(V){var Z=0;return q(V,function(){Z++}),Z},toArray:function(V){return q(V,function(Z){return Z})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},vt.Component=j,vt.Fragment=n,vt.Profiler=i,vt.PureComponent=k,vt.StrictMode=r,vt.Suspense=d,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,vt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return $.H.useMemoCache(V)}},vt.cache=function(V){return function(){return V.apply(null,arguments)}},vt.cloneElement=function(V,Z,re){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var me=b({},V.props),ge=V.key,Pe=void 0;if(Z!=null)for(X in Z.ref!==void 0&&(Pe=void 0),Z.key!==void 0&&(ge=""+Z.key),Z)!F.call(Z,X)||X==="key"||X==="__self"||X==="__source"||X==="ref"&&Z.ref===void 0||(me[X]=Z[X]);var X=arguments.length-2;if(X===1)me.children=re;else if(1<X){for(var J=Array(X),ce=0;ce<X;ce++)J[ce]=arguments[ce+2];me.children=J}return O(V.type,ge,void 0,void 0,Pe,me)},vt.createContext=function(V){return V={$$typeof:s,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:a,_context:V},V},vt.createElement=function(V,Z,re){var me,ge={},Pe=null;if(Z!=null)for(me in Z.key!==void 0&&(Pe=""+Z.key),Z)F.call(Z,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(ge[me]=Z[me]);var X=arguments.length-2;if(X===1)ge.children=re;else if(1<X){for(var J=Array(X),ce=0;ce<X;ce++)J[ce]=arguments[ce+2];ge.children=J}if(V&&V.defaultProps)for(me in X=V.defaultProps,X)ge[me]===void 0&&(ge[me]=X[me]);return O(V,Pe,void 0,void 0,null,ge)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(V){return{$$typeof:c,render:V}},vt.isValidElement=D,vt.lazy=function(V){return{$$typeof:p,_payload:{_status:-1,_result:V},_init:te}},vt.memo=function(V,Z){return{$$typeof:f,type:V,compare:Z===void 0?null:Z}},vt.startTransition=function(V){var Z=$.T,re={};$.T=re;try{var me=V(),ge=$.S;ge!==null&&ge(re,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(z,K)}catch(Pe){K(Pe)}finally{$.T=Z}},vt.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},vt.use=function(V){return $.H.use(V)},vt.useActionState=function(V,Z,re){return $.H.useActionState(V,Z,re)},vt.useCallback=function(V,Z){return $.H.useCallback(V,Z)},vt.useContext=function(V){return $.H.useContext(V)},vt.useDebugValue=function(){},vt.useDeferredValue=function(V,Z){return $.H.useDeferredValue(V,Z)},vt.useEffect=function(V,Z,re){var me=$.H;if(typeof re=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return me.useEffect(V,Z)},vt.useId=function(){return $.H.useId()},vt.useImperativeHandle=function(V,Z,re){return $.H.useImperativeHandle(V,Z,re)},vt.useInsertionEffect=function(V,Z){return $.H.useInsertionEffect(V,Z)},vt.useLayoutEffect=function(V,Z){return $.H.useLayoutEffect(V,Z)},vt.useMemo=function(V,Z){return $.H.useMemo(V,Z)},vt.useOptimistic=function(V,Z){return $.H.useOptimistic(V,Z)},vt.useReducer=function(V,Z,re){return $.H.useReducer(V,Z,re)},vt.useRef=function(V){return $.H.useRef(V)},vt.useState=function(V){return $.H.useState(V)},vt.useSyncExternalStore=function(V,Z,re){return $.H.useSyncExternalStore(V,Z,re)},vt.useTransition=function(){return $.H.useTransition()},vt.version="19.1.1",vt}var qN;function cc(){return qN||(qN=1,t3.exports=rQ()),t3.exports}var w=cc();const se=di(w),A5=eQ({__proto__:null,default:se},[w]);var n3={exports:{}},Fh={},r3={exports:{}},i3={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YN;function iQ(){return YN||(YN=1,(function(e){function t(q,te){var K=q.length;q.push(te);e:for(;0<K;){var z=K-1>>>1,V=q[z];if(0<i(V,te))q[z]=te,q[K]=V,K=z;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var te=q[0],K=q.pop();if(K!==te){q[0]=K;e:for(var z=0,V=q.length,Z=V>>>1;z<Z;){var re=2*(z+1)-1,me=q[re],ge=re+1,Pe=q[ge];if(0>i(me,K))ge<V&&0>i(Pe,me)?(q[z]=Pe,q[ge]=K,z=ge):(q[z]=me,q[re]=K,z=re);else if(ge<V&&0>i(Pe,K))q[z]=Pe,q[ge]=K,z=ge;else break e}}return te}function i(q,te){var K=q.sortIndex-te.sortIndex;return K!==0?K:q.id-te.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,c=s.now();e.unstable_now=function(){return s.now()-c}}var d=[],f=[],p=1,m=null,g=3,v=!1,b=!1,C=!1,j=!1,A=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function P(q){for(var te=n(f);te!==null;){if(te.callback===null)r(f);else if(te.startTime<=q)r(f),te.sortIndex=te.expirationTime,t(d,te);else break;te=n(f)}}function $(q){if(C=!1,P(q),!b)if(n(d)!==null)b=!0,F||(F=!0,M());else{var te=n(f);te!==null&&fe($,te.startTime-q)}}var F=!1,O=-1,_=5,D=-1;function L(){return j?!0:!(e.unstable_now()-D<_)}function R(){if(j=!1,F){var q=e.unstable_now();D=q;var te=!0;try{e:{b=!1,C&&(C=!1,k(O),O=-1),v=!0;var K=g;try{t:{for(P(q),m=n(d);m!==null&&!(m.expirationTime>q&&L());){var z=m.callback;if(typeof z=="function"){m.callback=null,g=m.priorityLevel;var V=z(m.expirationTime<=q);if(q=e.unstable_now(),typeof V=="function"){m.callback=V,P(q),te=!0;break t}m===n(d)&&r(d),P(q)}else r(d);m=n(d)}if(m!==null)te=!0;else{var Z=n(f);Z!==null&&fe($,Z.startTime-q),te=!1}}break e}finally{m=null,g=K,v=!1}te=void 0}}finally{te?M():F=!1}}}var M;if(typeof E=="function")M=function(){E(R)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,W=H.port2;H.port1.onmessage=R,M=function(){W.postMessage(null)}}else M=function(){A(R,0)};function fe(q,te){O=A(function(){q(e.unstable_now())},te)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(q){switch(g){case 1:case 2:case 3:var te=3;break;default:te=g}var K=g;g=te;try{return q()}finally{g=K}},e.unstable_requestPaint=function(){j=!0},e.unstable_runWithPriority=function(q,te){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var K=g;g=q;try{return te()}finally{g=K}},e.unstable_scheduleCallback=function(q,te,K){var z=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?z+K:z):K=z,q){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=K+V,q={id:p++,callback:te,priorityLevel:q,startTime:K,expirationTime:V,sortIndex:-1},K>z?(q.sortIndex=K,t(f,q),n(d)===null&&q===n(f)&&(C?(k(O),O=-1):C=!0,fe($,K-z))):(q.sortIndex=V,t(d,q),b||v||(b=!0,F||(F=!0,M()))),q},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(q){var te=g;return function(){var K=g;g=te;try{return q.apply(this,arguments)}finally{g=K}}}})(i3)),i3}var WN;function aQ(){return WN||(WN=1,r3.exports=iQ()),r3.exports}var a3={exports:{}},Dr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GN;function oQ(){if(GN)return Dr;GN=1;var e=cc();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(d,f,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:d,containerInfo:f,implementation:p}}var s=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Dr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Dr.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return a(d,f,null,p)},Dr.flushSync=function(d){var f=s.T,p=r.p;try{if(s.T=null,r.p=2,d)return d()}finally{s.T=f,r.p=p,r.d.f()}},Dr.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},Dr.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Dr.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,m=c(p,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,v=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:v}):p==="script"&&r.d.X(d,{crossOrigin:m,integrity:g,fetchPriority:v,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Dr.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=c(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},Dr.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,m=c(p,f.crossOrigin);r.d.L(d,p,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Dr.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=c(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},Dr.requestFormReset=function(d){r.d.r(d)},Dr.unstable_batchedUpdates=function(d,f){return d(f)},Dr.useFormState=function(d,f,p){return s.H.useFormState(d,f,p)},Dr.useFormStatus=function(){return s.H.useHostTransitionStatus()},Dr.version="19.1.1",Dr}var KN;function mL(){if(KN)return a3.exports;KN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),a3.exports=oQ(),a3.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XN;function sQ(){if(XN)return Fh;XN=1;var e=aQ(),t=cc(),n=mL();function r(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function a(l){var u=l,h=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(h=u.return),l=u.return;while(l)}return u.tag===3?h:null}function s(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function c(l){if(a(l)!==l)throw Error(r(188))}function d(l){var u=l.alternate;if(!u){if(u=a(l),u===null)throw Error(r(188));return u!==l?null:l}for(var h=l,y=u;;){var T=h.return;if(T===null)break;var N=T.alternate;if(N===null){if(y=T.return,y!==null){h=y;continue}break}if(T.child===N.child){for(N=T.child;N;){if(N===h)return c(T),l;if(N===y)return c(T),u;N=N.sibling}throw Error(r(188))}if(h.return!==y.return)h=T,y=N;else{for(var U=!1,Y=T.child;Y;){if(Y===h){U=!0,h=T,y=N;break}if(Y===y){U=!0,y=T,h=N;break}Y=Y.sibling}if(!U){for(Y=N.child;Y;){if(Y===h){U=!0,h=N,y=T;break}if(Y===y){U=!0,y=N,h=T;break}Y=Y.sibling}if(!U)throw Error(r(189))}}if(h.alternate!==y)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?l:u}function f(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l;for(l=l.child;l!==null;){if(u=f(l),u!==null)return u;l=l.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),k=Symbol.for("react.consumer"),E=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function M(l){return l===null||typeof l!="object"?null:(l=R&&l[R]||l["@@iterator"],typeof l=="function"?l:null)}var H=Symbol.for("react.client.reference");function W(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===H?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case b:return"Fragment";case j:return"Profiler";case C:return"StrictMode";case $:return"Suspense";case F:return"SuspenseList";case D:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case v:return"Portal";case E:return(l.displayName||"Context")+".Provider";case k:return(l._context.displayName||"Context")+".Consumer";case P:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case O:return u=l.displayName||null,u!==null?u:W(l.type)||"Memo";case _:u=l._payload,l=l._init;try{return W(l(u))}catch{}}return null}var fe=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},z=[],V=-1;function Z(l){return{current:l}}function re(l){0>V||(l.current=z[V],z[V]=null,V--)}function me(l,u){V++,z[V]=l.current,l.current=u}var ge=Z(null),Pe=Z(null),X=Z(null),J=Z(null);function ce(l,u){switch(me(X,u),me(Pe,l),me(ge,null),u.nodeType){case 9:case 11:l=(l=u.documentElement)&&(l=l.namespaceURI)?gN(l):0;break;default:if(l=u.tagName,u=u.namespaceURI)u=gN(u),l=yN(u,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}re(ge),me(ge,l)}function ae(){re(ge),re(Pe),re(X)}function ne(l){l.memoizedState!==null&&me(J,l);var u=ge.current,h=yN(u,l.type);u!==h&&(me(Pe,l),me(ge,h))}function G(l){Pe.current===l&&(re(ge),re(Pe)),J.current===l&&(re(J),Oh._currentValue=K)}var ee=Object.prototype.hasOwnProperty,ue=e.unstable_scheduleCallback,Ae=e.unstable_cancelCallback,Ie=e.unstable_shouldYield,De=e.unstable_requestPaint,ye=e.unstable_now,Oe=e.unstable_getCurrentPriorityLevel,Re=e.unstable_ImmediatePriority,it=e.unstable_UserBlockingPriority,ut=e.unstable_NormalPriority,ze=e.unstable_LowPriority,pe=e.unstable_IdlePriority,ke=e.log,st=e.unstable_setDisableYieldValue,ie=null,we=null;function Ue(l){if(typeof ke=="function"&&st(l),we&&typeof we.setStrictMode=="function")try{we.setStrictMode(ie,l)}catch{}}var le=Math.clz32?Math.clz32:en,et=Math.log,ln=Math.LN2;function en(l){return l>>>=0,l===0?32:31-(et(l)/ln|0)|0}var Se=256,tt=4194304;function Ke(l){var u=l&42;if(u!==0)return u;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function Xe(l,u,h){var y=l.pendingLanes;if(y===0)return 0;var T=0,N=l.suspendedLanes,U=l.pingedLanes;l=l.warmLanes;var Y=y&134217727;return Y!==0?(y=Y&~N,y!==0?T=Ke(y):(U&=Y,U!==0?T=Ke(U):h||(h=Y&~l,h!==0&&(T=Ke(h))))):(Y=y&~N,Y!==0?T=Ke(Y):U!==0?T=Ke(U):h||(h=y&~l,h!==0&&(T=Ke(h)))),T===0?0:u!==0&&u!==T&&(u&N)===0&&(N=T&-T,h=u&-u,N>=h||N===32&&(h&4194048)!==0)?u:T}function Ft(l,u){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&u)===0}function pi(l,u){switch(l){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ma(){var l=Se;return Se<<=1,(Se&4194048)===0&&(Se=256),l}function Ja(){var l=tt;return tt<<=1,(tt&62914560)===0&&(tt=4194304),l}function Zs(l){for(var u=[],h=0;31>h;h++)u.push(l);return u}function Tn(l,u){l.pendingLanes|=u,u!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function S0(l,u,h,y,T,N){var U=l.pendingLanes;l.pendingLanes=h,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=h,l.entangledLanes&=h,l.errorRecoveryDisabledLanes&=h,l.shellSuspendCounter=0;var Y=l.entanglements,oe=l.expirationTimes,xe=l.hiddenUpdates;for(h=U&~h;0<h;){var Me=31-le(h),Be=1<<Me;Y[Me]=0,oe[Me]=-1;var Ce=xe[Me];if(Ce!==null)for(xe[Me]=null,Me=0;Me<Ce.length;Me++){var je=Ce[Me];je!==null&&(je.lane&=-536870913)}h&=~Be}y!==0&&Js(l,y,0),N!==0&&T===0&&l.tag!==0&&(l.suspendedLanes|=N&~(U&~u))}function Js(l,u,h){l.pendingLanes|=u,l.suspendedLanes&=~u;var y=31-le(u);l.entangledLanes|=u,l.entanglements[y]=l.entanglements[y]|1073741824|h&4194090}function el(l,u){var h=l.entangledLanes|=u;for(l=l.entanglements;h;){var y=31-le(h),T=1<<y;T&u|l[y]&u&&(l[y]|=u),h&=~T}}function Mp(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function Lp(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function zo(){var l=te.p;return l!==0?l:(l=window.event,l===void 0?32:RN(l.type))}function aw(l,u){var h=te.p;try{return te.p=l,u()}finally{te.p=h}}var eo=Math.random().toString(36).slice(2),Gn="__reactFiber$"+eo,Nr="__reactProps$"+eo,Uo="__reactContainer$"+eo,Tc="__reactEvents$"+eo,Ac="__reactListeners$"+eo,ow="__reactHandles$"+eo,ga="__reactResources$"+eo,tl="__reactMarker$"+eo;function dd(l){delete l[Gn],delete l[Nr],delete l[Tc],delete l[Ac],delete l[ow]}function to(l){var u=l[Gn];if(u)return u;for(var h=l.parentNode;h;){if(u=h[Uo]||h[Gn]){if(h=u.alternate,u.child!==null||h!==null&&h.child!==null)for(l=wN(l);l!==null;){if(h=l[Gn])return h;l=wN(l)}return u}l=h,h=l.parentNode}return null}function no(l){if(l=l[Gn]||l[Uo]){var u=l.tag;if(u===5||u===6||u===13||u===26||u===27||u===3)return l}return null}function nl(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l.stateNode;throw Error(r(33))}function rl(l){var u=l[ga];return u||(u=l[ga]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function Bn(l){l[tl]=!0}var C0=new Set,kc={};function ro(l,u){io(l,u),io(l+"Capture",u)}function io(l,u){for(kc[l]=u,l=0;l<u.length;l++)C0.add(u[l])}var Ec=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ao={},fd={};function sw(l){return ee.call(fd,l)?!0:ee.call(ao,l)?!1:Ec.test(l)?fd[l]=!0:(ao[l]=!0,!1)}function Nc(l,u,h){if(sw(u))if(h===null)l.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":l.removeAttribute(u);return;case"boolean":var y=u.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){l.removeAttribute(u);return}}l.setAttribute(u,""+h)}}function _c(l,u,h){if(h===null)l.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(u);return}l.setAttribute(u,""+h)}}function Bi(l,u,h,y){if(y===null)l.removeAttribute(h);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(h);return}l.setAttributeNS(u,h,""+y)}}var Pc,pd;function Ho(l){if(Pc===void 0)try{throw Error()}catch(h){var u=h.stack.trim().match(/\n( *(at )?)/);Pc=u&&u[1]||"",pd=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pc+l+pd}var hd=!1;function md(l,u){if(!l||hd)return"";hd=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(u){var Be=function(){throw Error()};if(Object.defineProperty(Be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Be,[])}catch(je){var Ce=je}Reflect.construct(l,[],Be)}else{try{Be.call()}catch(je){Ce=je}l.call(Be.prototype)}}else{try{throw Error()}catch(je){Ce=je}(Be=l())&&typeof Be.catch=="function"&&Be.catch(function(){})}}catch(je){if(je&&Ce&&typeof je.stack=="string")return[je.stack,Ce.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=y.DetermineComponentFrameRoot(),U=N[0],Y=N[1];if(U&&Y){var oe=U.split(`
`),xe=Y.split(`
`);for(T=y=0;y<oe.length&&!oe[y].includes("DetermineComponentFrameRoot");)y++;for(;T<xe.length&&!xe[T].includes("DetermineComponentFrameRoot");)T++;if(y===oe.length||T===xe.length)for(y=oe.length-1,T=xe.length-1;1<=y&&0<=T&&oe[y]!==xe[T];)T--;for(;1<=y&&0<=T;y--,T--)if(oe[y]!==xe[T]){if(y!==1||T!==1)do if(y--,T--,0>T||oe[y]!==xe[T]){var Me=`
`+oe[y].replace(" at new "," at ");return l.displayName&&Me.includes("<anonymous>")&&(Me=Me.replace("<anonymous>",l.displayName)),Me}while(1<=y&&0<=T);break}}}finally{hd=!1,Error.prepareStackTrace=h}return(h=l?l.displayName||l.name:"")?Ho(h):""}function lw(l){switch(l.tag){case 26:case 27:case 5:return Ho(l.type);case 16:return Ho("Lazy");case 13:return Ho("Suspense");case 19:return Ho("SuspenseList");case 0:case 15:return md(l.type,!1);case 11:return md(l.type.render,!1);case 1:return md(l.type,!0);case 31:return Ho("Activity");default:return""}}function ya(l){try{var u="";do u+=lw(l),l=l.return;while(l);return u}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function An(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function il(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Dc(l){var u=il(l)?"checked":"value",h=Object.getOwnPropertyDescriptor(l.constructor.prototype,u),y=""+l[u];if(!l.hasOwnProperty(u)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var T=h.get,N=h.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return T.call(this)},set:function(U){y=""+U,N.call(this,U)}}),Object.defineProperty(l,u,{enumerable:h.enumerable}),{getValue:function(){return y},setValue:function(U){y=""+U},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function al(l){l._valueTracker||(l._valueTracker=Dc(l))}function tn(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var h=u.getValue(),y="";return l&&(y=il(l)?l.checked?"true":"false":l.value),l=y,l!==h?(u.setValue(l),!0):!1}function Vo(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var Oc=/[\n"\\]/g;function pr(l){return l.replace(Oc,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function Fp(l,u,h,y,T,N,U,Y){l.name="",U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?l.type=U:l.removeAttribute("type"),u!=null?U==="number"?(u===0&&l.value===""||l.value!=u)&&(l.value=""+An(u)):l.value!==""+An(u)&&(l.value=""+An(u)):U!=="submit"&&U!=="reset"||l.removeAttribute("value"),u!=null?zp(l,U,An(u)):h!=null?zp(l,U,An(h)):y!=null&&l.removeAttribute("value"),T==null&&N!=null&&(l.defaultChecked=!!N),T!=null&&(l.checked=T&&typeof T!="function"&&typeof T!="symbol"),Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"?l.name=""+An(Y):l.removeAttribute("name")}function Bp(l,u,h,y,T,N,U,Y){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(l.type=N),u!=null||h!=null){if(!(N!=="submit"&&N!=="reset"||u!=null))return;h=h!=null?""+An(h):"",u=u!=null?""+An(u):h,Y||u===l.value||(l.value=u),l.defaultValue=u}y=y??T,y=typeof y!="function"&&typeof y!="symbol"&&!!y,l.checked=Y?l.checked:!!y,l.defaultChecked=!!y,U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"&&(l.name=U)}function zp(l,u,h){u==="number"&&Vo(l.ownerDocument)===l||l.defaultValue===""+h||(l.defaultValue=""+h)}function ol(l,u,h,y){if(l=l.options,u){u={};for(var T=0;T<h.length;T++)u["$"+h[T]]=!0;for(h=0;h<l.length;h++)T=u.hasOwnProperty("$"+l[h].value),l[h].selected!==T&&(l[h].selected=T),T&&y&&(l[h].defaultSelected=!0)}else{for(h=""+An(h),u=null,T=0;T<l.length;T++){if(l[T].value===h){l[T].selected=!0,y&&(l[T].defaultSelected=!0);return}u!==null||l[T].disabled||(u=l[T])}u!==null&&(u.selected=!0)}}function j0(l,u,h){if(u!=null&&(u=""+An(u),u!==l.value&&(l.value=u),h==null)){l.defaultValue!==u&&(l.defaultValue=u);return}l.defaultValue=h!=null?""+An(h):""}function T0(l,u,h,y){if(u==null){if(y!=null){if(h!=null)throw Error(r(92));if(fe(y)){if(1<y.length)throw Error(r(93));y=y[0]}h=y}h==null&&(h=""),u=h}h=An(u),l.defaultValue=h,y=l.textContent,y===h&&y!==""&&y!==null&&(l.value=y)}function zi(l,u){if(u){var h=l.firstChild;if(h&&h===l.lastChild&&h.nodeType===3){h.nodeValue=u;return}}l.textContent=u}var qo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Up(l,u,h){var y=u.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?y?l.setProperty(u,""):u==="float"?l.cssFloat="":l[u]="":y?l.setProperty(u,h):typeof h!="number"||h===0||qo.has(u)?u==="float"?l.cssFloat=h:l[u]=(""+h).trim():l[u]=h+"px"}function Hp(l,u,h){if(u!=null&&typeof u!="object")throw Error(r(62));if(l=l.style,h!=null){for(var y in h)!h.hasOwnProperty(y)||u!=null&&u.hasOwnProperty(y)||(y.indexOf("--")===0?l.setProperty(y,""):y==="float"?l.cssFloat="":l[y]="");for(var T in u)y=u[T],u.hasOwnProperty(T)&&h[T]!==y&&Up(l,T,y)}else for(var N in u)u.hasOwnProperty(N)&&Up(l,N,u[N])}function gd(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var A0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),k0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function va(l){return k0.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}var Vp=null;function qp(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var sl=null,Fr=null;function E0(l){var u=no(l);if(u&&(l=u.stateNode)){var h=l[Nr]||null;e:switch(l=u.stateNode,u.type){case"input":if(Fp(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),u=h.name,h.type==="radio"&&u!=null){for(h=l;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+pr(""+u)+'"][type="radio"]'),u=0;u<h.length;u++){var y=h[u];if(y!==l&&y.form===l.form){var T=y[Nr]||null;if(!T)throw Error(r(90));Fp(y,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(u=0;u<h.length;u++)y=h[u],y.form===l.form&&tn(y)}break e;case"textarea":j0(l,h.value,h.defaultValue);break e;case"select":u=h.value,u!=null&&ol(l,!!h.multiple,u,!1)}}}var $c=!1;function Ic(l,u,h){if($c)return l(u,h);$c=!0;try{var y=l(u);return y}finally{if($c=!1,(sl!==null||Fr!==null)&&(yy(),sl&&(u=sl,l=Fr,Fr=sl=null,E0(u),l)))for(u=0;u<l.length;u++)E0(l[u])}}function ll(l,u){var h=l.stateNode;if(h===null)return null;var y=h[Nr]||null;if(y===null)return null;h=y[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(l=l.type,y=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!y;break e;default:l=!1}if(l)return null;if(h&&typeof h!="function")throw Error(r(231,u,typeof h));return h}var Br=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yo=!1;if(Br)try{var cl={};Object.defineProperty(cl,"passive",{get:function(){Yo=!0}}),window.addEventListener("test",cl,cl),window.removeEventListener("test",cl,cl)}catch{Yo=!1}var Ui=null,hn=null,yd=null;function N0(){if(yd)return yd;var l,u=hn,h=u.length,y,T="value"in Ui?Ui.value:Ui.textContent,N=T.length;for(l=0;l<h&&u[l]===T[l];l++);var U=h-l;for(y=1;y<=U&&u[h-y]===T[N-y];y++);return yd=T.slice(l,1<y?1-y:void 0)}function Rc(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function Mc(){return!0}function Yp(){return!1}function ar(l){function u(h,y,T,N,U){this._reactName=h,this._targetInst=T,this.type=y,this.nativeEvent=N,this.target=U,this.currentTarget=null;for(var Y in l)l.hasOwnProperty(Y)&&(h=l[Y],this[Y]=h?h(N):N[Y]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?Mc:Yp,this.isPropagationStopped=Yp,this}return p(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Mc)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Mc)},persist:function(){},isPersistent:Mc}),u}var _r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lc=ar(_r),Fc=p({},_r,{view:0,detail:0}),Bc=ar(Fc),vd,zc,oo,Uc=p({},Fc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wd,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==oo&&(oo&&l.type==="mousemove"?(vd=l.screenX-oo.screenX,zc=l.screenY-oo.screenY):zc=vd=0,oo=l),vd)},movementY:function(l){return"movementY"in l?l.movementY:zc}}),Hc=ar(Uc),cw=p({},Uc,{dataTransfer:0}),_0=ar(cw),Vc=p({},Fc,{relatedTarget:0}),bd=ar(Vc),P0=p({},_r,{animationName:0,elapsedTime:0,pseudoElement:0}),Wp=ar(P0),Gp=p({},_r,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),D0=ar(Gp),xd=p({},_r,{data:0}),Kp=ar(xd),O0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function I0(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=$0[l])?!!u[l]:!1}function wd(){return I0}var R0=p({},Fc,{key:function(l){if(l.key){var u=O0[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=Rc(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?Wo[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wd,charCode:function(l){return l.type==="keypress"?Rc(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Rc(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),ei=ar(R0),M0=p({},Uc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xp=ar(M0),ul=p({},Fc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wd}),S=ar(ul),I=p({},_r,{propertyName:0,elapsedTime:0,pseudoElement:0}),B=ar(I),Q=p({},Uc,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),be=ar(Q),Ne=p({},_r,{newState:0,oldState:0}),We=ar(Ne),gt=[9,13,27,32],kn=Br&&"CompositionEvent"in window,Lt=null;Br&&"documentMode"in document&&(Lt=document.documentMode);var Kn=Br&&"TextEvent"in window&&!Lt,hi=Br&&(!kn||Lt&&8<Lt&&11>=Lt),so=" ",ba=!1;function xa(l,u){switch(l){case"keyup":return gt.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qc(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var lo=!1;function AK(l,u){switch(l){case"compositionend":return qc(u);case"keypress":return u.which!==32?null:(ba=!0,so);case"textInput":return l=u.data,l===so&&ba?null:l;default:return null}}function kK(l,u){if(lo)return l==="compositionend"||!kn&&xa(l,u)?(l=N0(),yd=hn=Ui=null,lo=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return hi&&u.locale!=="ko"?null:u.data;default:return null}}var EK={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _k(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!EK[l.type]:u==="textarea"}function Pk(l,u,h,y){sl?Fr?Fr.push(y):Fr=[y]:sl=y,u=Cy(u,"onChange"),0<u.length&&(h=new Lc("onChange","change",null,h,y),l.push({event:h,listeners:u}))}var Qp=null,Zp=null;function NK(l){dN(l,0)}function L0(l){var u=nl(l);if(tn(u))return l}function Dk(l,u){if(l==="change")return u}var Ok=!1;if(Br){var uw;if(Br){var dw="oninput"in document;if(!dw){var $k=document.createElement("div");$k.setAttribute("oninput","return;"),dw=typeof $k.oninput=="function"}uw=dw}else uw=!1;Ok=uw&&(!document.documentMode||9<document.documentMode)}function Ik(){Qp&&(Qp.detachEvent("onpropertychange",Rk),Zp=Qp=null)}function Rk(l){if(l.propertyName==="value"&&L0(Zp)){var u=[];Pk(u,Zp,l,qp(l)),Ic(NK,u)}}function _K(l,u,h){l==="focusin"?(Ik(),Qp=u,Zp=h,Qp.attachEvent("onpropertychange",Rk)):l==="focusout"&&Ik()}function PK(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return L0(Zp)}function DK(l,u){if(l==="click")return L0(u)}function OK(l,u){if(l==="input"||l==="change")return L0(u)}function $K(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var mi=typeof Object.is=="function"?Object.is:$K;function Jp(l,u){if(mi(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var h=Object.keys(l),y=Object.keys(u);if(h.length!==y.length)return!1;for(y=0;y<h.length;y++){var T=h[y];if(!ee.call(u,T)||!mi(l[T],u[T]))return!1}return!0}function Mk(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function Lk(l,u){var h=Mk(l);l=0;for(var y;h;){if(h.nodeType===3){if(y=l+h.textContent.length,l<=u&&y>=u)return{node:h,offset:u-l};l=y}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Mk(h)}}function Fk(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?Fk(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function Bk(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var u=Vo(l.document);u instanceof l.HTMLIFrameElement;){try{var h=typeof u.contentWindow.location.href=="string"}catch{h=!1}if(h)l=u.contentWindow;else break;u=Vo(l.document)}return u}function fw(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}var IK=Br&&"documentMode"in document&&11>=document.documentMode,Sd=null,pw=null,eh=null,hw=!1;function zk(l,u,h){var y=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;hw||Sd==null||Sd!==Vo(y)||(y=Sd,"selectionStart"in y&&fw(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),eh&&Jp(eh,y)||(eh=y,y=Cy(pw,"onSelect"),0<y.length&&(u=new Lc("onSelect","select",null,u,h),l.push({event:u,listeners:y}),u.target=Sd)))}function Yc(l,u){var h={};return h[l.toLowerCase()]=u.toLowerCase(),h["Webkit"+l]="webkit"+u,h["Moz"+l]="moz"+u,h}var Cd={animationend:Yc("Animation","AnimationEnd"),animationiteration:Yc("Animation","AnimationIteration"),animationstart:Yc("Animation","AnimationStart"),transitionrun:Yc("Transition","TransitionRun"),transitionstart:Yc("Transition","TransitionStart"),transitioncancel:Yc("Transition","TransitionCancel"),transitionend:Yc("Transition","TransitionEnd")},mw={},Uk={};Br&&(Uk=document.createElement("div").style,"AnimationEvent"in window||(delete Cd.animationend.animation,delete Cd.animationiteration.animation,delete Cd.animationstart.animation),"TransitionEvent"in window||delete Cd.transitionend.transition);function Wc(l){if(mw[l])return mw[l];if(!Cd[l])return l;var u=Cd[l],h;for(h in u)if(u.hasOwnProperty(h)&&h in Uk)return mw[l]=u[h];return l}var Hk=Wc("animationend"),Vk=Wc("animationiteration"),qk=Wc("animationstart"),RK=Wc("transitionrun"),MK=Wc("transitionstart"),LK=Wc("transitioncancel"),Yk=Wc("transitionend"),Wk=new Map,gw="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gw.push("scrollEnd");function wa(l,u){Wk.set(l,u),ro(u,[l])}var Gk=new WeakMap;function Hi(l,u){if(typeof l=="object"&&l!==null){var h=Gk.get(l);return h!==void 0?h:(u={value:l,source:u,stack:ya(u)},Gk.set(l,u),u)}return{value:l,source:u,stack:ya(u)}}var Vi=[],jd=0,yw=0;function F0(){for(var l=jd,u=yw=jd=0;u<l;){var h=Vi[u];Vi[u++]=null;var y=Vi[u];Vi[u++]=null;var T=Vi[u];Vi[u++]=null;var N=Vi[u];if(Vi[u++]=null,y!==null&&T!==null){var U=y.pending;U===null?T.next=T:(T.next=U.next,U.next=T),y.pending=T}N!==0&&Kk(h,T,N)}}function B0(l,u,h,y){Vi[jd++]=l,Vi[jd++]=u,Vi[jd++]=h,Vi[jd++]=y,yw|=y,l.lanes|=y,l=l.alternate,l!==null&&(l.lanes|=y)}function vw(l,u,h,y){return B0(l,u,h,y),z0(l)}function Td(l,u){return B0(l,null,null,u),z0(l)}function Kk(l,u,h){l.lanes|=h;var y=l.alternate;y!==null&&(y.lanes|=h);for(var T=!1,N=l.return;N!==null;)N.childLanes|=h,y=N.alternate,y!==null&&(y.childLanes|=h),N.tag===22&&(l=N.stateNode,l===null||l._visibility&1||(T=!0)),l=N,N=N.return;return l.tag===3?(N=l.stateNode,T&&u!==null&&(T=31-le(h),l=N.hiddenUpdates,y=l[T],y===null?l[T]=[u]:y.push(u),u.lane=h|536870912),N):null}function z0(l){if(50<Th)throw Th=0,j4=null,Error(r(185));for(var u=l.return;u!==null;)l=u,u=l.return;return l.tag===3?l.stateNode:null}var Ad={};function FK(l,u,h,y){this.tag=l,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gi(l,u,h,y){return new FK(l,u,h,y)}function bw(l){return l=l.prototype,!(!l||!l.isReactComponent)}function Go(l,u){var h=l.alternate;return h===null?(h=gi(l.tag,u,l.key,l.mode),h.elementType=l.elementType,h.type=l.type,h.stateNode=l.stateNode,h.alternate=l,l.alternate=h):(h.pendingProps=u,h.type=l.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=l.flags&65011712,h.childLanes=l.childLanes,h.lanes=l.lanes,h.child=l.child,h.memoizedProps=l.memoizedProps,h.memoizedState=l.memoizedState,h.updateQueue=l.updateQueue,u=l.dependencies,h.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},h.sibling=l.sibling,h.index=l.index,h.ref=l.ref,h.refCleanup=l.refCleanup,h}function Xk(l,u){l.flags&=65011714;var h=l.alternate;return h===null?(l.childLanes=0,l.lanes=u,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=h.childLanes,l.lanes=h.lanes,l.child=h.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=h.memoizedProps,l.memoizedState=h.memoizedState,l.updateQueue=h.updateQueue,l.type=h.type,u=h.dependencies,l.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),l}function U0(l,u,h,y,T,N){var U=0;if(y=l,typeof l=="function")bw(l)&&(U=1);else if(typeof l=="string")U=zX(l,h,ge.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case D:return l=gi(31,h,u,T),l.elementType=D,l.lanes=N,l;case b:return Gc(h.children,T,N,u);case C:U=8,T|=24;break;case j:return l=gi(12,h,u,T|2),l.elementType=j,l.lanes=N,l;case $:return l=gi(13,h,u,T),l.elementType=$,l.lanes=N,l;case F:return l=gi(19,h,u,T),l.elementType=F,l.lanes=N,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case A:case E:U=10;break e;case k:U=9;break e;case P:U=11;break e;case O:U=14;break e;case _:U=16,y=null;break e}U=29,h=Error(r(130,l===null?"null":typeof l,"")),y=null}return u=gi(U,h,u,T),u.elementType=l,u.type=y,u.lanes=N,u}function Gc(l,u,h,y){return l=gi(7,l,y,u),l.lanes=h,l}function xw(l,u,h){return l=gi(6,l,null,u),l.lanes=h,l}function ww(l,u,h){return u=gi(4,l.children!==null?l.children:[],l.key,u),u.lanes=h,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}var kd=[],Ed=0,H0=null,V0=0,qi=[],Yi=0,Kc=null,Ko=1,Xo="";function Xc(l,u){kd[Ed++]=V0,kd[Ed++]=H0,H0=l,V0=u}function Qk(l,u,h){qi[Yi++]=Ko,qi[Yi++]=Xo,qi[Yi++]=Kc,Kc=l;var y=Ko;l=Xo;var T=32-le(y)-1;y&=~(1<<T),h+=1;var N=32-le(u)+T;if(30<N){var U=T-T%5;N=(y&(1<<U)-1).toString(32),y>>=U,T-=U,Ko=1<<32-le(u)+T|h<<T|y,Xo=N+l}else Ko=1<<N|h<<T|y,Xo=l}function Sw(l){l.return!==null&&(Xc(l,1),Qk(l,1,0))}function Cw(l){for(;l===H0;)H0=kd[--Ed],kd[Ed]=null,V0=kd[--Ed],kd[Ed]=null;for(;l===Kc;)Kc=qi[--Yi],qi[Yi]=null,Xo=qi[--Yi],qi[Yi]=null,Ko=qi[--Yi],qi[Yi]=null}var zr=null,Dn=null,Yt=!1,Qc=null,co=!1,jw=Error(r(519));function Zc(l){var u=Error(r(418,""));throw rh(Hi(u,l)),jw}function Zk(l){var u=l.stateNode,h=l.type,y=l.memoizedProps;switch(u[Gn]=l,u[Nr]=y,h){case"dialog":At("cancel",u),At("close",u);break;case"iframe":case"object":case"embed":At("load",u);break;case"video":case"audio":for(h=0;h<kh.length;h++)At(kh[h],u);break;case"source":At("error",u);break;case"img":case"image":case"link":At("error",u),At("load",u);break;case"details":At("toggle",u);break;case"input":At("invalid",u),Bp(u,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0),al(u);break;case"select":At("invalid",u);break;case"textarea":At("invalid",u),T0(u,y.value,y.defaultValue,y.children),al(u)}h=y.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||u.textContent===""+h||y.suppressHydrationWarning===!0||mN(u.textContent,h)?(y.popover!=null&&(At("beforetoggle",u),At("toggle",u)),y.onScroll!=null&&At("scroll",u),y.onScrollEnd!=null&&At("scrollend",u),y.onClick!=null&&(u.onclick=jy),u=!0):u=!1,u||Zc(l)}function Jk(l){for(zr=l.return;zr;)switch(zr.tag){case 5:case 13:co=!1;return;case 27:case 3:co=!0;return;default:zr=zr.return}}function th(l){if(l!==zr)return!1;if(!Yt)return Jk(l),Yt=!0,!1;var u=l.tag,h;if((h=u!==3&&u!==27)&&((h=u===5)&&(h=l.type,h=!(h!=="form"&&h!=="button")||B4(l.type,l.memoizedProps)),h=!h),h&&Dn&&Zc(l),Jk(l),u===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));e:{for(l=l.nextSibling,u=0;l;){if(l.nodeType===8)if(h=l.data,h==="/$"){if(u===0){Dn=Ca(l.nextSibling);break e}u--}else h!=="$"&&h!=="$!"&&h!=="$?"||u++;l=l.nextSibling}Dn=null}}else u===27?(u=Dn,Al(l.type)?(l=V4,V4=null,Dn=l):Dn=u):Dn=zr?Ca(l.stateNode.nextSibling):null;return!0}function nh(){Dn=zr=null,Yt=!1}function e9(){var l=Qc;return l!==null&&(ri===null?ri=l:ri.push.apply(ri,l),Qc=null),l}function rh(l){Qc===null?Qc=[l]:Qc.push(l)}var Tw=Z(null),Jc=null,Qo=null;function dl(l,u,h){me(Tw,u._currentValue),u._currentValue=h}function Zo(l){l._currentValue=Tw.current,re(Tw)}function Aw(l,u,h){for(;l!==null;){var y=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,y!==null&&(y.childLanes|=u)):y!==null&&(y.childLanes&u)!==u&&(y.childLanes|=u),l===h)break;l=l.return}}function kw(l,u,h,y){var T=l.child;for(T!==null&&(T.return=l);T!==null;){var N=T.dependencies;if(N!==null){var U=T.child;N=N.firstContext;e:for(;N!==null;){var Y=N;N=T;for(var oe=0;oe<u.length;oe++)if(Y.context===u[oe]){N.lanes|=h,Y=N.alternate,Y!==null&&(Y.lanes|=h),Aw(N.return,h,l),y||(U=null);break e}N=Y.next}}else if(T.tag===18){if(U=T.return,U===null)throw Error(r(341));U.lanes|=h,N=U.alternate,N!==null&&(N.lanes|=h),Aw(U,h,l),U=null}else U=T.child;if(U!==null)U.return=T;else for(U=T;U!==null;){if(U===l){U=null;break}if(T=U.sibling,T!==null){T.return=U.return,U=T;break}U=U.return}T=U}}function ih(l,u,h,y){l=null;for(var T=u,N=!1;T!==null;){if(!N){if((T.flags&524288)!==0)N=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var U=T.alternate;if(U===null)throw Error(r(387));if(U=U.memoizedProps,U!==null){var Y=T.type;mi(T.pendingProps.value,U.value)||(l!==null?l.push(Y):l=[Y])}}else if(T===J.current){if(U=T.alternate,U===null)throw Error(r(387));U.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(l!==null?l.push(Oh):l=[Oh])}T=T.return}l!==null&&kw(u,l,h,y),u.flags|=262144}function q0(l){for(l=l.firstContext;l!==null;){if(!mi(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function eu(l){Jc=l,Qo=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function Pr(l){return t9(Jc,l)}function Y0(l,u){return Jc===null&&eu(l),t9(l,u)}function t9(l,u){var h=u._currentValue;if(u={context:u,memoizedValue:h,next:null},Qo===null){if(l===null)throw Error(r(308));Qo=u,l.dependencies={lanes:0,firstContext:u},l.flags|=524288}else Qo=Qo.next=u;return h}var BK=typeof AbortController<"u"?AbortController:function(){var l=[],u=this.signal={aborted:!1,addEventListener:function(h,y){l.push(y)}};this.abort=function(){u.aborted=!0,l.forEach(function(h){return h()})}},zK=e.unstable_scheduleCallback,UK=e.unstable_NormalPriority,or={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ew(){return{controller:new BK,data:new Map,refCount:0}}function ah(l){l.refCount--,l.refCount===0&&zK(UK,function(){l.controller.abort()})}var oh=null,Nw=0,Nd=0,_d=null;function HK(l,u){if(oh===null){var h=oh=[];Nw=0,Nd=P4(),_d={status:"pending",value:void 0,then:function(y){h.push(y)}}}return Nw++,u.then(n9,n9),u}function n9(){if(--Nw===0&&oh!==null){_d!==null&&(_d.status="fulfilled");var l=oh;oh=null,Nd=0,_d=null;for(var u=0;u<l.length;u++)(0,l[u])()}}function VK(l,u){var h=[],y={status:"pending",value:null,reason:null,then:function(T){h.push(T)}};return l.then(function(){y.status="fulfilled",y.value=u;for(var T=0;T<h.length;T++)(0,h[T])(u)},function(T){for(y.status="rejected",y.reason=T,T=0;T<h.length;T++)(0,h[T])(void 0)}),y}var r9=q.S;q.S=function(l,u){typeof u=="object"&&u!==null&&typeof u.then=="function"&&HK(l,u),r9!==null&&r9(l,u)};var tu=Z(null);function _w(){var l=tu.current;return l!==null?l:fn.pooledCache}function W0(l,u){u===null?me(tu,tu.current):me(tu,u.pool)}function i9(){var l=_w();return l===null?null:{parent:or._currentValue,pool:l}}var sh=Error(r(460)),a9=Error(r(474)),G0=Error(r(542)),Pw={then:function(){}};function o9(l){return l=l.status,l==="fulfilled"||l==="rejected"}function K0(){}function s9(l,u,h){switch(h=l[h],h===void 0?l.push(u):h!==u&&(u.then(K0,K0),u=h),u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,c9(l),l;default:if(typeof u.status=="string")u.then(K0,K0);else{if(l=fn,l!==null&&100<l.shellSuspendCounter)throw Error(r(482));l=u,l.status="pending",l.then(function(y){if(u.status==="pending"){var T=u;T.status="fulfilled",T.value=y}},function(y){if(u.status==="pending"){var T=u;T.status="rejected",T.reason=y}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,c9(l),l}throw lh=u,sh}}var lh=null;function l9(){if(lh===null)throw Error(r(459));var l=lh;return lh=null,l}function c9(l){if(l===sh||l===G0)throw Error(r(483))}var fl=!1;function Dw(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ow(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function pl(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function hl(l,u,h){var y=l.updateQueue;if(y===null)return null;if(y=y.shared,(Xt&2)!==0){var T=y.pending;return T===null?u.next=u:(u.next=T.next,T.next=u),y.pending=u,u=z0(l),Kk(l,null,h),u}return B0(l,y,u,h),z0(l)}function ch(l,u,h){if(u=u.updateQueue,u!==null&&(u=u.shared,(h&4194048)!==0)){var y=u.lanes;y&=l.pendingLanes,h|=y,u.lanes=h,el(l,h)}}function $w(l,u){var h=l.updateQueue,y=l.alternate;if(y!==null&&(y=y.updateQueue,h===y)){var T=null,N=null;if(h=h.firstBaseUpdate,h!==null){do{var U={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};N===null?T=N=U:N=N.next=U,h=h.next}while(h!==null);N===null?T=N=u:N=N.next=u}else T=N=u;h={baseState:y.baseState,firstBaseUpdate:T,lastBaseUpdate:N,shared:y.shared,callbacks:y.callbacks},l.updateQueue=h;return}l=h.lastBaseUpdate,l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=u}var Iw=!1;function uh(){if(Iw){var l=_d;if(l!==null)throw l}}function dh(l,u,h,y){Iw=!1;var T=l.updateQueue;fl=!1;var N=T.firstBaseUpdate,U=T.lastBaseUpdate,Y=T.shared.pending;if(Y!==null){T.shared.pending=null;var oe=Y,xe=oe.next;oe.next=null,U===null?N=xe:U.next=xe,U=oe;var Me=l.alternate;Me!==null&&(Me=Me.updateQueue,Y=Me.lastBaseUpdate,Y!==U&&(Y===null?Me.firstBaseUpdate=xe:Y.next=xe,Me.lastBaseUpdate=oe))}if(N!==null){var Be=T.baseState;U=0,Me=xe=oe=null,Y=N;do{var Ce=Y.lane&-536870913,je=Ce!==Y.lane;if(je?(Ot&Ce)===Ce:(y&Ce)===Ce){Ce!==0&&Ce===Nd&&(Iw=!0),Me!==null&&(Me=Me.next={lane:0,tag:Y.tag,payload:Y.payload,callback:null,next:null});e:{var pt=l,dt=Y;Ce=u;var an=h;switch(dt.tag){case 1:if(pt=dt.payload,typeof pt=="function"){Be=pt.call(an,Be,Ce);break e}Be=pt;break e;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=dt.payload,Ce=typeof pt=="function"?pt.call(an,Be,Ce):pt,Ce==null)break e;Be=p({},Be,Ce);break e;case 2:fl=!0}}Ce=Y.callback,Ce!==null&&(l.flags|=64,je&&(l.flags|=8192),je=T.callbacks,je===null?T.callbacks=[Ce]:je.push(Ce))}else je={lane:Ce,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},Me===null?(xe=Me=je,oe=Be):Me=Me.next=je,U|=Ce;if(Y=Y.next,Y===null){if(Y=T.shared.pending,Y===null)break;je=Y,Y=je.next,je.next=null,T.lastBaseUpdate=je,T.shared.pending=null}}while(!0);Me===null&&(oe=Be),T.baseState=oe,T.firstBaseUpdate=xe,T.lastBaseUpdate=Me,N===null&&(T.shared.lanes=0),Sl|=U,l.lanes=U,l.memoizedState=Be}}function u9(l,u){if(typeof l!="function")throw Error(r(191,l));l.call(u)}function d9(l,u){var h=l.callbacks;if(h!==null)for(l.callbacks=null,l=0;l<h.length;l++)u9(h[l],u)}var Pd=Z(null),X0=Z(0);function f9(l,u){l=as,me(X0,l),me(Pd,u),as=l|u.baseLanes}function Rw(){me(X0,as),me(Pd,Pd.current)}function Mw(){as=X0.current,re(Pd),re(X0)}var ml=0,St=null,nn=null,Xn=null,Q0=!1,Dd=!1,nu=!1,Z0=0,fh=0,Od=null,qK=0;function zn(){throw Error(r(321))}function Lw(l,u){if(u===null)return!1;for(var h=0;h<u.length&&h<l.length;h++)if(!mi(l[h],u[h]))return!1;return!0}function Fw(l,u,h,y,T,N){return ml=N,St=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,q.H=l===null||l.memoizedState===null?K9:X9,nu=!1,N=h(y,T),nu=!1,Dd&&(N=h9(u,h,y,T)),p9(l),N}function p9(l){q.H=iy;var u=nn!==null&&nn.next!==null;if(ml=0,Xn=nn=St=null,Q0=!1,fh=0,Od=null,u)throw Error(r(300));l===null||hr||(l=l.dependencies,l!==null&&q0(l)&&(hr=!0))}function h9(l,u,h,y){St=l;var T=0;do{if(Dd&&(Od=null),fh=0,Dd=!1,25<=T)throw Error(r(301));if(T+=1,Xn=nn=null,l.updateQueue!=null){var N=l.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}q.H=ZK,N=u(h,y)}while(Dd);return N}function YK(){var l=q.H,u=l.useState()[0];return u=typeof u.then=="function"?ph(u):u,l=l.useState()[0],(nn!==null?nn.memoizedState:null)!==l&&(St.flags|=1024),u}function Bw(){var l=Z0!==0;return Z0=0,l}function zw(l,u,h){u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~h}function Uw(l){if(Q0){for(l=l.memoizedState;l!==null;){var u=l.queue;u!==null&&(u.pending=null),l=l.next}Q0=!1}ml=0,Xn=nn=St=null,Dd=!1,fh=Z0=0,Od=null}function ti(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xn===null?St.memoizedState=Xn=l:Xn=Xn.next=l,Xn}function Qn(){if(nn===null){var l=St.alternate;l=l!==null?l.memoizedState:null}else l=nn.next;var u=Xn===null?St.memoizedState:Xn.next;if(u!==null)Xn=u,nn=l;else{if(l===null)throw St.alternate===null?Error(r(467)):Error(r(310));nn=l,l={memoizedState:nn.memoizedState,baseState:nn.baseState,baseQueue:nn.baseQueue,queue:nn.queue,next:null},Xn===null?St.memoizedState=Xn=l:Xn=Xn.next=l}return Xn}function Hw(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ph(l){var u=fh;return fh+=1,Od===null&&(Od=[]),l=s9(Od,l,u),u=St,(Xn===null?u.memoizedState:Xn.next)===null&&(u=u.alternate,q.H=u===null||u.memoizedState===null?K9:X9),l}function J0(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return ph(l);if(l.$$typeof===E)return Pr(l)}throw Error(r(438,String(l)))}function Vw(l){var u=null,h=St.updateQueue;if(h!==null&&(u=h.memoCache),u==null){var y=St.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(u={data:y.data.map(function(T){return T.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),h===null&&(h=Hw(),St.updateQueue=h),h.memoCache=u,h=u.data[u.index],h===void 0)for(h=u.data[u.index]=Array(l),y=0;y<l;y++)h[y]=L;return u.index++,h}function Jo(l,u){return typeof u=="function"?u(l):u}function ey(l){var u=Qn();return qw(u,nn,l)}function qw(l,u,h){var y=l.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=h;var T=l.baseQueue,N=y.pending;if(N!==null){if(T!==null){var U=T.next;T.next=N.next,N.next=U}u.baseQueue=T=N,y.pending=null}if(N=l.baseState,T===null)l.memoizedState=N;else{u=T.next;var Y=U=null,oe=null,xe=u,Me=!1;do{var Be=xe.lane&-536870913;if(Be!==xe.lane?(Ot&Be)===Be:(ml&Be)===Be){var Ce=xe.revertLane;if(Ce===0)oe!==null&&(oe=oe.next={lane:0,revertLane:0,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null}),Be===Nd&&(Me=!0);else if((ml&Ce)===Ce){xe=xe.next,Ce===Nd&&(Me=!0);continue}else Be={lane:0,revertLane:xe.revertLane,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null},oe===null?(Y=oe=Be,U=N):oe=oe.next=Be,St.lanes|=Ce,Sl|=Ce;Be=xe.action,nu&&h(N,Be),N=xe.hasEagerState?xe.eagerState:h(N,Be)}else Ce={lane:Be,revertLane:xe.revertLane,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null},oe===null?(Y=oe=Ce,U=N):oe=oe.next=Ce,St.lanes|=Be,Sl|=Be;xe=xe.next}while(xe!==null&&xe!==u);if(oe===null?U=N:oe.next=Y,!mi(N,l.memoizedState)&&(hr=!0,Me&&(h=_d,h!==null)))throw h;l.memoizedState=N,l.baseState=U,l.baseQueue=oe,y.lastRenderedState=N}return T===null&&(y.lanes=0),[l.memoizedState,y.dispatch]}function Yw(l){var u=Qn(),h=u.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=l;var y=h.dispatch,T=h.pending,N=u.memoizedState;if(T!==null){h.pending=null;var U=T=T.next;do N=l(N,U.action),U=U.next;while(U!==T);mi(N,u.memoizedState)||(hr=!0),u.memoizedState=N,u.baseQueue===null&&(u.baseState=N),h.lastRenderedState=N}return[N,y]}function m9(l,u,h){var y=St,T=Qn(),N=Yt;if(N){if(h===void 0)throw Error(r(407));h=h()}else h=u();var U=!mi((nn||T).memoizedState,h);U&&(T.memoizedState=h,hr=!0),T=T.queue;var Y=v9.bind(null,y,T,l);if(hh(2048,8,Y,[l]),T.getSnapshot!==u||U||Xn!==null&&Xn.memoizedState.tag&1){if(y.flags|=2048,$d(9,ty(),y9.bind(null,y,T,h,u),null),fn===null)throw Error(r(349));N||(ml&124)!==0||g9(y,u,h)}return h}function g9(l,u,h){l.flags|=16384,l={getSnapshot:u,value:h},u=St.updateQueue,u===null?(u=Hw(),St.updateQueue=u,u.stores=[l]):(h=u.stores,h===null?u.stores=[l]:h.push(l))}function y9(l,u,h,y){u.value=h,u.getSnapshot=y,b9(u)&&x9(l)}function v9(l,u,h){return h(function(){b9(u)&&x9(l)})}function b9(l){var u=l.getSnapshot;l=l.value;try{var h=u();return!mi(l,h)}catch{return!0}}function x9(l){var u=Td(l,2);u!==null&&wi(u,l,2)}function Ww(l){var u=ti();if(typeof l=="function"){var h=l;if(l=h(),nu){Ue(!0);try{h()}finally{Ue(!1)}}}return u.memoizedState=u.baseState=l,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jo,lastRenderedState:l},u}function w9(l,u,h,y){return l.baseState=h,qw(l,nn,typeof y=="function"?y:Jo)}function WK(l,u,h,y,T){if(ry(l))throw Error(r(485));if(l=u.action,l!==null){var N={payload:T,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(U){N.listeners.push(U)}};q.T!==null?h(!0):N.isTransition=!1,y(N),h=u.pending,h===null?(N.next=u.pending=N,S9(u,N)):(N.next=h.next,u.pending=h.next=N)}}function S9(l,u){var h=u.action,y=u.payload,T=l.state;if(u.isTransition){var N=q.T,U={};q.T=U;try{var Y=h(T,y),oe=q.S;oe!==null&&oe(U,Y),C9(l,u,Y)}catch(xe){Gw(l,u,xe)}finally{q.T=N}}else try{N=h(T,y),C9(l,u,N)}catch(xe){Gw(l,u,xe)}}function C9(l,u,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(y){j9(l,u,y)},function(y){return Gw(l,u,y)}):j9(l,u,h)}function j9(l,u,h){u.status="fulfilled",u.value=h,T9(u),l.state=h,u=l.pending,u!==null&&(h=u.next,h===u?l.pending=null:(h=h.next,u.next=h,S9(l,h)))}function Gw(l,u,h){var y=l.pending;if(l.pending=null,y!==null){y=y.next;do u.status="rejected",u.reason=h,T9(u),u=u.next;while(u!==y)}l.action=null}function T9(l){l=l.listeners;for(var u=0;u<l.length;u++)(0,l[u])()}function A9(l,u){return u}function k9(l,u){if(Yt){var h=fn.formState;if(h!==null){e:{var y=St;if(Yt){if(Dn){t:{for(var T=Dn,N=co;T.nodeType!==8;){if(!N){T=null;break t}if(T=Ca(T.nextSibling),T===null){T=null;break t}}N=T.data,T=N==="F!"||N==="F"?T:null}if(T){Dn=Ca(T.nextSibling),y=T.data==="F!";break e}}Zc(y)}y=!1}y&&(u=h[0])}}return h=ti(),h.memoizedState=h.baseState=u,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:A9,lastRenderedState:u},h.queue=y,h=Y9.bind(null,St,y),y.dispatch=h,y=Ww(!1),N=Jw.bind(null,St,!1,y.queue),y=ti(),T={state:u,dispatch:null,action:l,pending:null},y.queue=T,h=WK.bind(null,St,T,N,h),T.dispatch=h,y.memoizedState=l,[u,h,!1]}function E9(l){var u=Qn();return N9(u,nn,l)}function N9(l,u,h){if(u=qw(l,u,A9)[0],l=ey(Jo)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var y=ph(u)}catch(U){throw U===sh?G0:U}else y=u;u=Qn();var T=u.queue,N=T.dispatch;return h!==u.memoizedState&&(St.flags|=2048,$d(9,ty(),GK.bind(null,T,h),null)),[y,N,l]}function GK(l,u){l.action=u}function _9(l){var u=Qn(),h=nn;if(h!==null)return N9(u,h,l);Qn(),u=u.memoizedState,h=Qn();var y=h.queue.dispatch;return h.memoizedState=l,[u,y,!1]}function $d(l,u,h,y){return l={tag:l,create:h,deps:y,inst:u,next:null},u=St.updateQueue,u===null&&(u=Hw(),St.updateQueue=u),h=u.lastEffect,h===null?u.lastEffect=l.next=l:(y=h.next,h.next=l,l.next=y,u.lastEffect=l),l}function ty(){return{destroy:void 0,resource:void 0}}function P9(){return Qn().memoizedState}function ny(l,u,h,y){var T=ti();y=y===void 0?null:y,St.flags|=l,T.memoizedState=$d(1|u,ty(),h,y)}function hh(l,u,h,y){var T=Qn();y=y===void 0?null:y;var N=T.memoizedState.inst;nn!==null&&y!==null&&Lw(y,nn.memoizedState.deps)?T.memoizedState=$d(u,N,h,y):(St.flags|=l,T.memoizedState=$d(1|u,N,h,y))}function D9(l,u){ny(8390656,8,l,u)}function O9(l,u){hh(2048,8,l,u)}function $9(l,u){return hh(4,2,l,u)}function I9(l,u){return hh(4,4,l,u)}function R9(l,u){if(typeof u=="function"){l=l();var h=u(l);return function(){typeof h=="function"?h():u(null)}}if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function M9(l,u,h){h=h!=null?h.concat([l]):null,hh(4,4,R9.bind(null,u,l),h)}function Kw(){}function L9(l,u){var h=Qn();u=u===void 0?null:u;var y=h.memoizedState;return u!==null&&Lw(u,y[1])?y[0]:(h.memoizedState=[l,u],l)}function F9(l,u){var h=Qn();u=u===void 0?null:u;var y=h.memoizedState;if(u!==null&&Lw(u,y[1]))return y[0];if(y=l(),nu){Ue(!0);try{l()}finally{Ue(!1)}}return h.memoizedState=[y,u],y}function Xw(l,u,h){return h===void 0||(ml&1073741824)!==0?l.memoizedState=u:(l.memoizedState=h,l=UE(),St.lanes|=l,Sl|=l,h)}function B9(l,u,h,y){return mi(h,u)?h:Pd.current!==null?(l=Xw(l,h,y),mi(l,u)||(hr=!0),l):(ml&42)===0?(hr=!0,l.memoizedState=h):(l=UE(),St.lanes|=l,Sl|=l,u)}function z9(l,u,h,y,T){var N=te.p;te.p=N!==0&&8>N?N:8;var U=q.T,Y={};q.T=Y,Jw(l,!1,u,h);try{var oe=T(),xe=q.S;if(xe!==null&&xe(Y,oe),oe!==null&&typeof oe=="object"&&typeof oe.then=="function"){var Me=VK(oe,y);mh(l,u,Me,xi(l))}else mh(l,u,y,xi(l))}catch(Be){mh(l,u,{then:function(){},status:"rejected",reason:Be},xi())}finally{te.p=N,q.T=U}}function KK(){}function Qw(l,u,h,y){if(l.tag!==5)throw Error(r(476));var T=U9(l).queue;z9(l,T,u,K,h===null?KK:function(){return H9(l),h(y)})}function U9(l){var u=l.memoizedState;if(u!==null)return u;u={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jo,lastRenderedState:K},next:null};var h={};return u.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jo,lastRenderedState:h},next:null},l.memoizedState=u,l=l.alternate,l!==null&&(l.memoizedState=u),u}function H9(l){var u=U9(l).next.queue;mh(l,u,{},xi())}function Zw(){return Pr(Oh)}function V9(){return Qn().memoizedState}function q9(){return Qn().memoizedState}function XK(l){for(var u=l.return;u!==null;){switch(u.tag){case 24:case 3:var h=xi();l=pl(h);var y=hl(u,l,h);y!==null&&(wi(y,u,h),ch(y,u,h)),u={cache:Ew()},l.payload=u;return}u=u.return}}function QK(l,u,h){var y=xi();h={lane:y,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},ry(l)?W9(u,h):(h=vw(l,u,h,y),h!==null&&(wi(h,l,y),G9(h,u,y)))}function Y9(l,u,h){var y=xi();mh(l,u,h,y)}function mh(l,u,h,y){var T={lane:y,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(ry(l))W9(u,T);else{var N=l.alternate;if(l.lanes===0&&(N===null||N.lanes===0)&&(N=u.lastRenderedReducer,N!==null))try{var U=u.lastRenderedState,Y=N(U,h);if(T.hasEagerState=!0,T.eagerState=Y,mi(Y,U))return B0(l,u,T,0),fn===null&&F0(),!1}catch{}finally{}if(h=vw(l,u,T,y),h!==null)return wi(h,l,y),G9(h,u,y),!0}return!1}function Jw(l,u,h,y){if(y={lane:2,revertLane:P4(),action:y,hasEagerState:!1,eagerState:null,next:null},ry(l)){if(u)throw Error(r(479))}else u=vw(l,h,y,2),u!==null&&wi(u,l,2)}function ry(l){var u=l.alternate;return l===St||u!==null&&u===St}function W9(l,u){Dd=Q0=!0;var h=l.pending;h===null?u.next=u:(u.next=h.next,h.next=u),l.pending=u}function G9(l,u,h){if((h&4194048)!==0){var y=u.lanes;y&=l.pendingLanes,h|=y,u.lanes=h,el(l,h)}}var iy={readContext:Pr,use:J0,useCallback:zn,useContext:zn,useEffect:zn,useImperativeHandle:zn,useLayoutEffect:zn,useInsertionEffect:zn,useMemo:zn,useReducer:zn,useRef:zn,useState:zn,useDebugValue:zn,useDeferredValue:zn,useTransition:zn,useSyncExternalStore:zn,useId:zn,useHostTransitionStatus:zn,useFormState:zn,useActionState:zn,useOptimistic:zn,useMemoCache:zn,useCacheRefresh:zn},K9={readContext:Pr,use:J0,useCallback:function(l,u){return ti().memoizedState=[l,u===void 0?null:u],l},useContext:Pr,useEffect:D9,useImperativeHandle:function(l,u,h){h=h!=null?h.concat([l]):null,ny(4194308,4,R9.bind(null,u,l),h)},useLayoutEffect:function(l,u){return ny(4194308,4,l,u)},useInsertionEffect:function(l,u){ny(4,2,l,u)},useMemo:function(l,u){var h=ti();u=u===void 0?null:u;var y=l();if(nu){Ue(!0);try{l()}finally{Ue(!1)}}return h.memoizedState=[y,u],y},useReducer:function(l,u,h){var y=ti();if(h!==void 0){var T=h(u);if(nu){Ue(!0);try{h(u)}finally{Ue(!1)}}}else T=u;return y.memoizedState=y.baseState=T,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:T},y.queue=l,l=l.dispatch=QK.bind(null,St,l),[y.memoizedState,l]},useRef:function(l){var u=ti();return l={current:l},u.memoizedState=l},useState:function(l){l=Ww(l);var u=l.queue,h=Y9.bind(null,St,u);return u.dispatch=h,[l.memoizedState,h]},useDebugValue:Kw,useDeferredValue:function(l,u){var h=ti();return Xw(h,l,u)},useTransition:function(){var l=Ww(!1);return l=z9.bind(null,St,l.queue,!0,!1),ti().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,u,h){var y=St,T=ti();if(Yt){if(h===void 0)throw Error(r(407));h=h()}else{if(h=u(),fn===null)throw Error(r(349));(Ot&124)!==0||g9(y,u,h)}T.memoizedState=h;var N={value:h,getSnapshot:u};return T.queue=N,D9(v9.bind(null,y,N,l),[l]),y.flags|=2048,$d(9,ty(),y9.bind(null,y,N,h,u),null),h},useId:function(){var l=ti(),u=fn.identifierPrefix;if(Yt){var h=Xo,y=Ko;h=(y&~(1<<32-le(y)-1)).toString(32)+h,u=""+u+"R"+h,h=Z0++,0<h&&(u+="H"+h.toString(32)),u+=""}else h=qK++,u=""+u+"r"+h.toString(32)+"";return l.memoizedState=u},useHostTransitionStatus:Zw,useFormState:k9,useActionState:k9,useOptimistic:function(l){var u=ti();u.memoizedState=u.baseState=l;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=h,u=Jw.bind(null,St,!0,h),h.dispatch=u,[l,u]},useMemoCache:Vw,useCacheRefresh:function(){return ti().memoizedState=XK.bind(null,St)}},X9={readContext:Pr,use:J0,useCallback:L9,useContext:Pr,useEffect:O9,useImperativeHandle:M9,useInsertionEffect:$9,useLayoutEffect:I9,useMemo:F9,useReducer:ey,useRef:P9,useState:function(){return ey(Jo)},useDebugValue:Kw,useDeferredValue:function(l,u){var h=Qn();return B9(h,nn.memoizedState,l,u)},useTransition:function(){var l=ey(Jo)[0],u=Qn().memoizedState;return[typeof l=="boolean"?l:ph(l),u]},useSyncExternalStore:m9,useId:V9,useHostTransitionStatus:Zw,useFormState:E9,useActionState:E9,useOptimistic:function(l,u){var h=Qn();return w9(h,nn,l,u)},useMemoCache:Vw,useCacheRefresh:q9},ZK={readContext:Pr,use:J0,useCallback:L9,useContext:Pr,useEffect:O9,useImperativeHandle:M9,useInsertionEffect:$9,useLayoutEffect:I9,useMemo:F9,useReducer:Yw,useRef:P9,useState:function(){return Yw(Jo)},useDebugValue:Kw,useDeferredValue:function(l,u){var h=Qn();return nn===null?Xw(h,l,u):B9(h,nn.memoizedState,l,u)},useTransition:function(){var l=Yw(Jo)[0],u=Qn().memoizedState;return[typeof l=="boolean"?l:ph(l),u]},useSyncExternalStore:m9,useId:V9,useHostTransitionStatus:Zw,useFormState:_9,useActionState:_9,useOptimistic:function(l,u){var h=Qn();return nn!==null?w9(h,nn,l,u):(h.baseState=l,[l,h.queue.dispatch])},useMemoCache:Vw,useCacheRefresh:q9},Id=null,gh=0;function ay(l){var u=gh;return gh+=1,Id===null&&(Id=[]),s9(Id,l,u)}function yh(l,u){u=u.props.ref,l.ref=u!==void 0?u:null}function oy(l,u){throw u.$$typeof===m?Error(r(525)):(l=Object.prototype.toString.call(u),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l)))}function Q9(l){var u=l._init;return u(l._payload)}function Z9(l){function u(he,de){if(l){var ve=he.deletions;ve===null?(he.deletions=[de],he.flags|=16):ve.push(de)}}function h(he,de){if(!l)return null;for(;de!==null;)u(he,de),de=de.sibling;return null}function y(he){for(var de=new Map;he!==null;)he.key!==null?de.set(he.key,he):de.set(he.index,he),he=he.sibling;return de}function T(he,de){return he=Go(he,de),he.index=0,he.sibling=null,he}function N(he,de,ve){return he.index=ve,l?(ve=he.alternate,ve!==null?(ve=ve.index,ve<de?(he.flags|=67108866,de):ve):(he.flags|=67108866,de)):(he.flags|=1048576,de)}function U(he){return l&&he.alternate===null&&(he.flags|=67108866),he}function Y(he,de,ve,Le){return de===null||de.tag!==6?(de=xw(ve,he.mode,Le),de.return=he,de):(de=T(de,ve),de.return=he,de)}function oe(he,de,ve,Le){var nt=ve.type;return nt===b?Me(he,de,ve.props.children,Le,ve.key):de!==null&&(de.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===_&&Q9(nt)===de.type)?(de=T(de,ve.props),yh(de,ve),de.return=he,de):(de=U0(ve.type,ve.key,ve.props,null,he.mode,Le),yh(de,ve),de.return=he,de)}function xe(he,de,ve,Le){return de===null||de.tag!==4||de.stateNode.containerInfo!==ve.containerInfo||de.stateNode.implementation!==ve.implementation?(de=ww(ve,he.mode,Le),de.return=he,de):(de=T(de,ve.children||[]),de.return=he,de)}function Me(he,de,ve,Le,nt){return de===null||de.tag!==7?(de=Gc(ve,he.mode,Le,nt),de.return=he,de):(de=T(de,ve),de.return=he,de)}function Be(he,de,ve){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return de=xw(""+de,he.mode,ve),de.return=he,de;if(typeof de=="object"&&de!==null){switch(de.$$typeof){case g:return ve=U0(de.type,de.key,de.props,null,he.mode,ve),yh(ve,de),ve.return=he,ve;case v:return de=ww(de,he.mode,ve),de.return=he,de;case _:var Le=de._init;return de=Le(de._payload),Be(he,de,ve)}if(fe(de)||M(de))return de=Gc(de,he.mode,ve,null),de.return=he,de;if(typeof de.then=="function")return Be(he,ay(de),ve);if(de.$$typeof===E)return Be(he,Y0(he,de),ve);oy(he,de)}return null}function Ce(he,de,ve,Le){var nt=de!==null?de.key:null;if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return nt!==null?null:Y(he,de,""+ve,Le);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case g:return ve.key===nt?oe(he,de,ve,Le):null;case v:return ve.key===nt?xe(he,de,ve,Le):null;case _:return nt=ve._init,ve=nt(ve._payload),Ce(he,de,ve,Le)}if(fe(ve)||M(ve))return nt!==null?null:Me(he,de,ve,Le,null);if(typeof ve.then=="function")return Ce(he,de,ay(ve),Le);if(ve.$$typeof===E)return Ce(he,de,Y0(he,ve),Le);oy(he,ve)}return null}function je(he,de,ve,Le,nt){if(typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint")return he=he.get(ve)||null,Y(de,he,""+Le,nt);if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case g:return he=he.get(Le.key===null?ve:Le.key)||null,oe(de,he,Le,nt);case v:return he=he.get(Le.key===null?ve:Le.key)||null,xe(de,he,Le,nt);case _:var jt=Le._init;return Le=jt(Le._payload),je(he,de,ve,Le,nt)}if(fe(Le)||M(Le))return he=he.get(ve)||null,Me(de,he,Le,nt,null);if(typeof Le.then=="function")return je(he,de,ve,ay(Le),nt);if(Le.$$typeof===E)return je(he,de,ve,Y0(de,Le),nt);oy(de,Le)}return null}function pt(he,de,ve,Le){for(var nt=null,jt=null,lt=de,ft=de=0,gr=null;lt!==null&&ft<ve.length;ft++){lt.index>ft?(gr=lt,lt=null):gr=lt.sibling;var Bt=Ce(he,lt,ve[ft],Le);if(Bt===null){lt===null&&(lt=gr);break}l&&lt&&Bt.alternate===null&&u(he,lt),de=N(Bt,de,ft),jt===null?nt=Bt:jt.sibling=Bt,jt=Bt,lt=gr}if(ft===ve.length)return h(he,lt),Yt&&Xc(he,ft),nt;if(lt===null){for(;ft<ve.length;ft++)lt=Be(he,ve[ft],Le),lt!==null&&(de=N(lt,de,ft),jt===null?nt=lt:jt.sibling=lt,jt=lt);return Yt&&Xc(he,ft),nt}for(lt=y(lt);ft<ve.length;ft++)gr=je(lt,he,ft,ve[ft],Le),gr!==null&&(l&&gr.alternate!==null&&lt.delete(gr.key===null?ft:gr.key),de=N(gr,de,ft),jt===null?nt=gr:jt.sibling=gr,jt=gr);return l&&lt.forEach(function(Pl){return u(he,Pl)}),Yt&&Xc(he,ft),nt}function dt(he,de,ve,Le){if(ve==null)throw Error(r(151));for(var nt=null,jt=null,lt=de,ft=de=0,gr=null,Bt=ve.next();lt!==null&&!Bt.done;ft++,Bt=ve.next()){lt.index>ft?(gr=lt,lt=null):gr=lt.sibling;var Pl=Ce(he,lt,Bt.value,Le);if(Pl===null){lt===null&&(lt=gr);break}l&&lt&&Pl.alternate===null&&u(he,lt),de=N(Pl,de,ft),jt===null?nt=Pl:jt.sibling=Pl,jt=Pl,lt=gr}if(Bt.done)return h(he,lt),Yt&&Xc(he,ft),nt;if(lt===null){for(;!Bt.done;ft++,Bt=ve.next())Bt=Be(he,Bt.value,Le),Bt!==null&&(de=N(Bt,de,ft),jt===null?nt=Bt:jt.sibling=Bt,jt=Bt);return Yt&&Xc(he,ft),nt}for(lt=y(lt);!Bt.done;ft++,Bt=ve.next())Bt=je(lt,he,ft,Bt.value,Le),Bt!==null&&(l&&Bt.alternate!==null&&lt.delete(Bt.key===null?ft:Bt.key),de=N(Bt,de,ft),jt===null?nt=Bt:jt.sibling=Bt,jt=Bt);return l&&lt.forEach(function(JX){return u(he,JX)}),Yt&&Xc(he,ft),nt}function an(he,de,ve,Le){if(typeof ve=="object"&&ve!==null&&ve.type===b&&ve.key===null&&(ve=ve.props.children),typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case g:e:{for(var nt=ve.key;de!==null;){if(de.key===nt){if(nt=ve.type,nt===b){if(de.tag===7){h(he,de.sibling),Le=T(de,ve.props.children),Le.return=he,he=Le;break e}}else if(de.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===_&&Q9(nt)===de.type){h(he,de.sibling),Le=T(de,ve.props),yh(Le,ve),Le.return=he,he=Le;break e}h(he,de);break}else u(he,de);de=de.sibling}ve.type===b?(Le=Gc(ve.props.children,he.mode,Le,ve.key),Le.return=he,he=Le):(Le=U0(ve.type,ve.key,ve.props,null,he.mode,Le),yh(Le,ve),Le.return=he,he=Le)}return U(he);case v:e:{for(nt=ve.key;de!==null;){if(de.key===nt)if(de.tag===4&&de.stateNode.containerInfo===ve.containerInfo&&de.stateNode.implementation===ve.implementation){h(he,de.sibling),Le=T(de,ve.children||[]),Le.return=he,he=Le;break e}else{h(he,de);break}else u(he,de);de=de.sibling}Le=ww(ve,he.mode,Le),Le.return=he,he=Le}return U(he);case _:return nt=ve._init,ve=nt(ve._payload),an(he,de,ve,Le)}if(fe(ve))return pt(he,de,ve,Le);if(M(ve)){if(nt=M(ve),typeof nt!="function")throw Error(r(150));return ve=nt.call(ve),dt(he,de,ve,Le)}if(typeof ve.then=="function")return an(he,de,ay(ve),Le);if(ve.$$typeof===E)return an(he,de,Y0(he,ve),Le);oy(he,ve)}return typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint"?(ve=""+ve,de!==null&&de.tag===6?(h(he,de.sibling),Le=T(de,ve),Le.return=he,he=Le):(h(he,de),Le=xw(ve,he.mode,Le),Le.return=he,he=Le),U(he)):h(he,de)}return function(he,de,ve,Le){try{gh=0;var nt=an(he,de,ve,Le);return Id=null,nt}catch(lt){if(lt===sh||lt===G0)throw lt;var jt=gi(29,lt,null,he.mode);return jt.lanes=Le,jt.return=he,jt}finally{}}}var Rd=Z9(!0),J9=Z9(!1),Wi=Z(null),uo=null;function gl(l){var u=l.alternate;me(sr,sr.current&1),me(Wi,l),uo===null&&(u===null||Pd.current!==null||u.memoizedState!==null)&&(uo=l)}function eE(l){if(l.tag===22){if(me(sr,sr.current),me(Wi,l),uo===null){var u=l.alternate;u!==null&&u.memoizedState!==null&&(uo=l)}}else yl()}function yl(){me(sr,sr.current),me(Wi,Wi.current)}function es(l){re(Wi),uo===l&&(uo=null),re(sr)}var sr=Z(0);function sy(l){for(var u=l;u!==null;){if(u.tag===13){var h=u.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||H4(h)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}function e4(l,u,h,y){u=l.memoizedState,h=h(y,u),h=h==null?u:p({},u,h),l.memoizedState=h,l.lanes===0&&(l.updateQueue.baseState=h)}var t4={enqueueSetState:function(l,u,h){l=l._reactInternals;var y=xi(),T=pl(y);T.payload=u,h!=null&&(T.callback=h),u=hl(l,T,y),u!==null&&(wi(u,l,y),ch(u,l,y))},enqueueReplaceState:function(l,u,h){l=l._reactInternals;var y=xi(),T=pl(y);T.tag=1,T.payload=u,h!=null&&(T.callback=h),u=hl(l,T,y),u!==null&&(wi(u,l,y),ch(u,l,y))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var h=xi(),y=pl(h);y.tag=2,u!=null&&(y.callback=u),u=hl(l,y,h),u!==null&&(wi(u,l,h),ch(u,l,h))}};function tE(l,u,h,y,T,N,U){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(y,N,U):u.prototype&&u.prototype.isPureReactComponent?!Jp(h,y)||!Jp(T,N):!0}function nE(l,u,h,y){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(h,y),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(h,y),u.state!==l&&t4.enqueueReplaceState(u,u.state,null)}function ru(l,u){var h=u;if("ref"in u){h={};for(var y in u)y!=="ref"&&(h[y]=u[y])}if(l=l.defaultProps){h===u&&(h=p({},h));for(var T in l)h[T]===void 0&&(h[T]=l[T])}return h}var ly=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)};function rE(l){ly(l)}function iE(l){console.error(l)}function aE(l){ly(l)}function cy(l,u){try{var h=l.onUncaughtError;h(u.value,{componentStack:u.stack})}catch(y){setTimeout(function(){throw y})}}function oE(l,u,h){try{var y=l.onCaughtError;y(h.value,{componentStack:h.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function n4(l,u,h){return h=pl(h),h.tag=3,h.payload={element:null},h.callback=function(){cy(l,u)},h}function sE(l){return l=pl(l),l.tag=3,l}function lE(l,u,h,y){var T=h.type.getDerivedStateFromError;if(typeof T=="function"){var N=y.value;l.payload=function(){return T(N)},l.callback=function(){oE(u,h,y)}}var U=h.stateNode;U!==null&&typeof U.componentDidCatch=="function"&&(l.callback=function(){oE(u,h,y),typeof T!="function"&&(Cl===null?Cl=new Set([this]):Cl.add(this));var Y=y.stack;this.componentDidCatch(y.value,{componentStack:Y!==null?Y:""})})}function JK(l,u,h,y,T){if(h.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(u=h.alternate,u!==null&&ih(u,h,T,!0),h=Wi.current,h!==null){switch(h.tag){case 13:return uo===null?A4():h.alternate===null&&On===0&&(On=3),h.flags&=-257,h.flags|=65536,h.lanes=T,y===Pw?h.flags|=16384:(u=h.updateQueue,u===null?h.updateQueue=new Set([y]):u.add(y),E4(l,y,T)),!1;case 22:return h.flags|=65536,y===Pw?h.flags|=16384:(u=h.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([y])},h.updateQueue=u):(h=u.retryQueue,h===null?u.retryQueue=new Set([y]):h.add(y)),E4(l,y,T)),!1}throw Error(r(435,h.tag))}return E4(l,y,T),A4(),!1}if(Yt)return u=Wi.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=T,y!==jw&&(l=Error(r(422),{cause:y}),rh(Hi(l,h)))):(y!==jw&&(u=Error(r(423),{cause:y}),rh(Hi(u,h))),l=l.current.alternate,l.flags|=65536,T&=-T,l.lanes|=T,y=Hi(y,h),T=n4(l.stateNode,y,T),$w(l,T),On!==4&&(On=2)),!1;var N=Error(r(520),{cause:y});if(N=Hi(N,h),jh===null?jh=[N]:jh.push(N),On!==4&&(On=2),u===null)return!0;y=Hi(y,h),h=u;do{switch(h.tag){case 3:return h.flags|=65536,l=T&-T,h.lanes|=l,l=n4(h.stateNode,y,l),$w(h,l),!1;case 1:if(u=h.type,N=h.stateNode,(h.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Cl===null||!Cl.has(N))))return h.flags|=65536,T&=-T,h.lanes|=T,T=sE(T),lE(T,l,h,y),$w(h,T),!1}h=h.return}while(h!==null);return!1}var cE=Error(r(461)),hr=!1;function wr(l,u,h,y){u.child=l===null?J9(u,null,h,y):Rd(u,l.child,h,y)}function uE(l,u,h,y,T){h=h.render;var N=u.ref;if("ref"in y){var U={};for(var Y in y)Y!=="ref"&&(U[Y]=y[Y])}else U=y;return eu(u),y=Fw(l,u,h,U,N,T),Y=Bw(),l!==null&&!hr?(zw(l,u,T),ts(l,u,T)):(Yt&&Y&&Sw(u),u.flags|=1,wr(l,u,y,T),u.child)}function dE(l,u,h,y,T){if(l===null){var N=h.type;return typeof N=="function"&&!bw(N)&&N.defaultProps===void 0&&h.compare===null?(u.tag=15,u.type=N,fE(l,u,N,y,T)):(l=U0(h.type,null,y,u,u.mode,T),l.ref=u.ref,l.return=u,u.child=l)}if(N=l.child,!u4(l,T)){var U=N.memoizedProps;if(h=h.compare,h=h!==null?h:Jp,h(U,y)&&l.ref===u.ref)return ts(l,u,T)}return u.flags|=1,l=Go(N,y),l.ref=u.ref,l.return=u,u.child=l}function fE(l,u,h,y,T){if(l!==null){var N=l.memoizedProps;if(Jp(N,y)&&l.ref===u.ref)if(hr=!1,u.pendingProps=y=N,u4(l,T))(l.flags&131072)!==0&&(hr=!0);else return u.lanes=l.lanes,ts(l,u,T)}return r4(l,u,h,y,T)}function pE(l,u,h){var y=u.pendingProps,T=y.children,N=l!==null?l.memoizedState:null;if(y.mode==="hidden"){if((u.flags&128)!==0){if(y=N!==null?N.baseLanes|h:h,l!==null){for(T=u.child=l.child,N=0;T!==null;)N=N|T.lanes|T.childLanes,T=T.sibling;u.childLanes=N&~y}else u.childLanes=0,u.child=null;return hE(l,u,y,h)}if((h&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},l!==null&&W0(u,N!==null?N.cachePool:null),N!==null?f9(u,N):Rw(),eE(u);else return u.lanes=u.childLanes=536870912,hE(l,u,N!==null?N.baseLanes|h:h,h)}else N!==null?(W0(u,N.cachePool),f9(u,N),yl(),u.memoizedState=null):(l!==null&&W0(u,null),Rw(),yl());return wr(l,u,T,h),u.child}function hE(l,u,h,y){var T=_w();return T=T===null?null:{parent:or._currentValue,pool:T},u.memoizedState={baseLanes:h,cachePool:T},l!==null&&W0(u,null),Rw(),eE(u),l!==null&&ih(l,u,y,!0),null}function uy(l,u){var h=u.ref;if(h===null)l!==null&&l.ref!==null&&(u.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(l===null||l.ref!==h)&&(u.flags|=4194816)}}function r4(l,u,h,y,T){return eu(u),h=Fw(l,u,h,y,void 0,T),y=Bw(),l!==null&&!hr?(zw(l,u,T),ts(l,u,T)):(Yt&&y&&Sw(u),u.flags|=1,wr(l,u,h,T),u.child)}function mE(l,u,h,y,T,N){return eu(u),u.updateQueue=null,h=h9(u,y,h,T),p9(l),y=Bw(),l!==null&&!hr?(zw(l,u,N),ts(l,u,N)):(Yt&&y&&Sw(u),u.flags|=1,wr(l,u,h,N),u.child)}function gE(l,u,h,y,T){if(eu(u),u.stateNode===null){var N=Ad,U=h.contextType;typeof U=="object"&&U!==null&&(N=Pr(U)),N=new h(y,N),u.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=t4,u.stateNode=N,N._reactInternals=u,N=u.stateNode,N.props=y,N.state=u.memoizedState,N.refs={},Dw(u),U=h.contextType,N.context=typeof U=="object"&&U!==null?Pr(U):Ad,N.state=u.memoizedState,U=h.getDerivedStateFromProps,typeof U=="function"&&(e4(u,h,U,y),N.state=u.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(U=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),U!==N.state&&t4.enqueueReplaceState(N,N.state,null),dh(u,y,N,T),uh(),N.state=u.memoizedState),typeof N.componentDidMount=="function"&&(u.flags|=4194308),y=!0}else if(l===null){N=u.stateNode;var Y=u.memoizedProps,oe=ru(h,Y);N.props=oe;var xe=N.context,Me=h.contextType;U=Ad,typeof Me=="object"&&Me!==null&&(U=Pr(Me));var Be=h.getDerivedStateFromProps;Me=typeof Be=="function"||typeof N.getSnapshotBeforeUpdate=="function",Y=u.pendingProps!==Y,Me||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(Y||xe!==U)&&nE(u,N,y,U),fl=!1;var Ce=u.memoizedState;N.state=Ce,dh(u,y,N,T),uh(),xe=u.memoizedState,Y||Ce!==xe||fl?(typeof Be=="function"&&(e4(u,h,Be,y),xe=u.memoizedState),(oe=fl||tE(u,h,oe,y,Ce,xe,U))?(Me||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(u.flags|=4194308)):(typeof N.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=y,u.memoizedState=xe),N.props=y,N.state=xe,N.context=U,y=oe):(typeof N.componentDidMount=="function"&&(u.flags|=4194308),y=!1)}else{N=u.stateNode,Ow(l,u),U=u.memoizedProps,Me=ru(h,U),N.props=Me,Be=u.pendingProps,Ce=N.context,xe=h.contextType,oe=Ad,typeof xe=="object"&&xe!==null&&(oe=Pr(xe)),Y=h.getDerivedStateFromProps,(xe=typeof Y=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(U!==Be||Ce!==oe)&&nE(u,N,y,oe),fl=!1,Ce=u.memoizedState,N.state=Ce,dh(u,y,N,T),uh();var je=u.memoizedState;U!==Be||Ce!==je||fl||l!==null&&l.dependencies!==null&&q0(l.dependencies)?(typeof Y=="function"&&(e4(u,h,Y,y),je=u.memoizedState),(Me=fl||tE(u,h,Me,y,Ce,je,oe)||l!==null&&l.dependencies!==null&&q0(l.dependencies))?(xe||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(y,je,oe),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(y,je,oe)),typeof N.componentDidUpdate=="function"&&(u.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof N.componentDidUpdate!="function"||U===l.memoizedProps&&Ce===l.memoizedState||(u.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||U===l.memoizedProps&&Ce===l.memoizedState||(u.flags|=1024),u.memoizedProps=y,u.memoizedState=je),N.props=y,N.state=je,N.context=oe,y=Me):(typeof N.componentDidUpdate!="function"||U===l.memoizedProps&&Ce===l.memoizedState||(u.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||U===l.memoizedProps&&Ce===l.memoizedState||(u.flags|=1024),y=!1)}return N=y,uy(l,u),y=(u.flags&128)!==0,N||y?(N=u.stateNode,h=y&&typeof h.getDerivedStateFromError!="function"?null:N.render(),u.flags|=1,l!==null&&y?(u.child=Rd(u,l.child,null,T),u.child=Rd(u,null,h,T)):wr(l,u,h,T),u.memoizedState=N.state,l=u.child):l=ts(l,u,T),l}function yE(l,u,h,y){return nh(),u.flags|=256,wr(l,u,h,y),u.child}var i4={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function a4(l){return{baseLanes:l,cachePool:i9()}}function o4(l,u,h){return l=l!==null?l.childLanes&~h:0,u&&(l|=Gi),l}function vE(l,u,h){var y=u.pendingProps,T=!1,N=(u.flags&128)!==0,U;if((U=N)||(U=l!==null&&l.memoizedState===null?!1:(sr.current&2)!==0),U&&(T=!0,u.flags&=-129),U=(u.flags&32)!==0,u.flags&=-33,l===null){if(Yt){if(T?gl(u):yl(),Yt){var Y=Dn,oe;if(oe=Y){e:{for(oe=Y,Y=co;oe.nodeType!==8;){if(!Y){Y=null;break e}if(oe=Ca(oe.nextSibling),oe===null){Y=null;break e}}Y=oe}Y!==null?(u.memoizedState={dehydrated:Y,treeContext:Kc!==null?{id:Ko,overflow:Xo}:null,retryLane:536870912,hydrationErrors:null},oe=gi(18,null,null,0),oe.stateNode=Y,oe.return=u,u.child=oe,zr=u,Dn=null,oe=!0):oe=!1}oe||Zc(u)}if(Y=u.memoizedState,Y!==null&&(Y=Y.dehydrated,Y!==null))return H4(Y)?u.lanes=32:u.lanes=536870912,null;es(u)}return Y=y.children,y=y.fallback,T?(yl(),T=u.mode,Y=dy({mode:"hidden",children:Y},T),y=Gc(y,T,h,null),Y.return=u,y.return=u,Y.sibling=y,u.child=Y,T=u.child,T.memoizedState=a4(h),T.childLanes=o4(l,U,h),u.memoizedState=i4,y):(gl(u),s4(u,Y))}if(oe=l.memoizedState,oe!==null&&(Y=oe.dehydrated,Y!==null)){if(N)u.flags&256?(gl(u),u.flags&=-257,u=l4(l,u,h)):u.memoizedState!==null?(yl(),u.child=l.child,u.flags|=128,u=null):(yl(),T=y.fallback,Y=u.mode,y=dy({mode:"visible",children:y.children},Y),T=Gc(T,Y,h,null),T.flags|=2,y.return=u,T.return=u,y.sibling=T,u.child=y,Rd(u,l.child,null,h),y=u.child,y.memoizedState=a4(h),y.childLanes=o4(l,U,h),u.memoizedState=i4,u=T);else if(gl(u),H4(Y)){if(U=Y.nextSibling&&Y.nextSibling.dataset,U)var xe=U.dgst;U=xe,y=Error(r(419)),y.stack="",y.digest=U,rh({value:y,source:null,stack:null}),u=l4(l,u,h)}else if(hr||ih(l,u,h,!1),U=(h&l.childLanes)!==0,hr||U){if(U=fn,U!==null&&(y=h&-h,y=(y&42)!==0?1:Mp(y),y=(y&(U.suspendedLanes|h))!==0?0:y,y!==0&&y!==oe.retryLane))throw oe.retryLane=y,Td(l,y),wi(U,l,y),cE;Y.data==="$?"||A4(),u=l4(l,u,h)}else Y.data==="$?"?(u.flags|=192,u.child=l.child,u=null):(l=oe.treeContext,Dn=Ca(Y.nextSibling),zr=u,Yt=!0,Qc=null,co=!1,l!==null&&(qi[Yi++]=Ko,qi[Yi++]=Xo,qi[Yi++]=Kc,Ko=l.id,Xo=l.overflow,Kc=u),u=s4(u,y.children),u.flags|=4096);return u}return T?(yl(),T=y.fallback,Y=u.mode,oe=l.child,xe=oe.sibling,y=Go(oe,{mode:"hidden",children:y.children}),y.subtreeFlags=oe.subtreeFlags&65011712,xe!==null?T=Go(xe,T):(T=Gc(T,Y,h,null),T.flags|=2),T.return=u,y.return=u,y.sibling=T,u.child=y,y=T,T=u.child,Y=l.child.memoizedState,Y===null?Y=a4(h):(oe=Y.cachePool,oe!==null?(xe=or._currentValue,oe=oe.parent!==xe?{parent:xe,pool:xe}:oe):oe=i9(),Y={baseLanes:Y.baseLanes|h,cachePool:oe}),T.memoizedState=Y,T.childLanes=o4(l,U,h),u.memoizedState=i4,y):(gl(u),h=l.child,l=h.sibling,h=Go(h,{mode:"visible",children:y.children}),h.return=u,h.sibling=null,l!==null&&(U=u.deletions,U===null?(u.deletions=[l],u.flags|=16):U.push(l)),u.child=h,u.memoizedState=null,h)}function s4(l,u){return u=dy({mode:"visible",children:u},l.mode),u.return=l,l.child=u}function dy(l,u){return l=gi(22,l,null,u),l.lanes=0,l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},l}function l4(l,u,h){return Rd(u,l.child,null,h),l=s4(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function bE(l,u,h){l.lanes|=u;var y=l.alternate;y!==null&&(y.lanes|=u),Aw(l.return,u,h)}function c4(l,u,h,y,T){var N=l.memoizedState;N===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:y,tail:h,tailMode:T}:(N.isBackwards=u,N.rendering=null,N.renderingStartTime=0,N.last=y,N.tail=h,N.tailMode=T)}function xE(l,u,h){var y=u.pendingProps,T=y.revealOrder,N=y.tail;if(wr(l,u,y.children,h),y=sr.current,(y&2)!==0)y=y&1|2,u.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&bE(l,h,u);else if(l.tag===19)bE(l,h,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}y&=1}switch(me(sr,y),T){case"forwards":for(h=u.child,T=null;h!==null;)l=h.alternate,l!==null&&sy(l)===null&&(T=h),h=h.sibling;h=T,h===null?(T=u.child,u.child=null):(T=h.sibling,h.sibling=null),c4(u,!1,T,h,N);break;case"backwards":for(h=null,T=u.child,u.child=null;T!==null;){if(l=T.alternate,l!==null&&sy(l)===null){u.child=T;break}l=T.sibling,T.sibling=h,h=T,T=l}c4(u,!0,h,null,N);break;case"together":c4(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function ts(l,u,h){if(l!==null&&(u.dependencies=l.dependencies),Sl|=u.lanes,(h&u.childLanes)===0)if(l!==null){if(ih(l,u,h,!1),(h&u.childLanes)===0)return null}else return null;if(l!==null&&u.child!==l.child)throw Error(r(153));if(u.child!==null){for(l=u.child,h=Go(l,l.pendingProps),u.child=h,h.return=u;l.sibling!==null;)l=l.sibling,h=h.sibling=Go(l,l.pendingProps),h.return=u;h.sibling=null}return u.child}function u4(l,u){return(l.lanes&u)!==0?!0:(l=l.dependencies,!!(l!==null&&q0(l)))}function eX(l,u,h){switch(u.tag){case 3:ce(u,u.stateNode.containerInfo),dl(u,or,l.memoizedState.cache),nh();break;case 27:case 5:ne(u);break;case 4:ce(u,u.stateNode.containerInfo);break;case 10:dl(u,u.type,u.memoizedProps.value);break;case 13:var y=u.memoizedState;if(y!==null)return y.dehydrated!==null?(gl(u),u.flags|=128,null):(h&u.child.childLanes)!==0?vE(l,u,h):(gl(u),l=ts(l,u,h),l!==null?l.sibling:null);gl(u);break;case 19:var T=(l.flags&128)!==0;if(y=(h&u.childLanes)!==0,y||(ih(l,u,h,!1),y=(h&u.childLanes)!==0),T){if(y)return xE(l,u,h);u.flags|=128}if(T=u.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),me(sr,sr.current),y)break;return null;case 22:case 23:return u.lanes=0,pE(l,u,h);case 24:dl(u,or,l.memoizedState.cache)}return ts(l,u,h)}function wE(l,u,h){if(l!==null)if(l.memoizedProps!==u.pendingProps)hr=!0;else{if(!u4(l,h)&&(u.flags&128)===0)return hr=!1,eX(l,u,h);hr=(l.flags&131072)!==0}else hr=!1,Yt&&(u.flags&1048576)!==0&&Qk(u,V0,u.index);switch(u.lanes=0,u.tag){case 16:e:{l=u.pendingProps;var y=u.elementType,T=y._init;if(y=T(y._payload),u.type=y,typeof y=="function")bw(y)?(l=ru(y,l),u.tag=1,u=gE(null,u,y,l,h)):(u.tag=0,u=r4(null,u,y,l,h));else{if(y!=null){if(T=y.$$typeof,T===P){u.tag=11,u=uE(null,u,y,l,h);break e}else if(T===O){u.tag=14,u=dE(null,u,y,l,h);break e}}throw u=W(y)||y,Error(r(306,u,""))}}return u;case 0:return r4(l,u,u.type,u.pendingProps,h);case 1:return y=u.type,T=ru(y,u.pendingProps),gE(l,u,y,T,h);case 3:e:{if(ce(u,u.stateNode.containerInfo),l===null)throw Error(r(387));y=u.pendingProps;var N=u.memoizedState;T=N.element,Ow(l,u),dh(u,y,null,h);var U=u.memoizedState;if(y=U.cache,dl(u,or,y),y!==N.cache&&kw(u,[or],h,!0),uh(),y=U.element,N.isDehydrated)if(N={element:y,isDehydrated:!1,cache:U.cache},u.updateQueue.baseState=N,u.memoizedState=N,u.flags&256){u=yE(l,u,y,h);break e}else if(y!==T){T=Hi(Error(r(424)),u),rh(T),u=yE(l,u,y,h);break e}else{switch(l=u.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(Dn=Ca(l.firstChild),zr=u,Yt=!0,Qc=null,co=!0,h=J9(u,null,y,h),u.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(nh(),y===T){u=ts(l,u,h);break e}wr(l,u,y,h)}u=u.child}return u;case 26:return uy(l,u),l===null?(h=TN(u.type,null,u.pendingProps,null))?u.memoizedState=h:Yt||(h=u.type,l=u.pendingProps,y=Ty(X.current).createElement(h),y[Gn]=u,y[Nr]=l,Cr(y,h,l),Bn(y),u.stateNode=y):u.memoizedState=TN(u.type,l.memoizedProps,u.pendingProps,l.memoizedState),null;case 27:return ne(u),l===null&&Yt&&(y=u.stateNode=SN(u.type,u.pendingProps,X.current),zr=u,co=!0,T=Dn,Al(u.type)?(V4=T,Dn=Ca(y.firstChild)):Dn=T),wr(l,u,u.pendingProps.children,h),uy(l,u),l===null&&(u.flags|=4194304),u.child;case 5:return l===null&&Yt&&((T=y=Dn)&&(y=EX(y,u.type,u.pendingProps,co),y!==null?(u.stateNode=y,zr=u,Dn=Ca(y.firstChild),co=!1,T=!0):T=!1),T||Zc(u)),ne(u),T=u.type,N=u.pendingProps,U=l!==null?l.memoizedProps:null,y=N.children,B4(T,N)?y=null:U!==null&&B4(T,U)&&(u.flags|=32),u.memoizedState!==null&&(T=Fw(l,u,YK,null,null,h),Oh._currentValue=T),uy(l,u),wr(l,u,y,h),u.child;case 6:return l===null&&Yt&&((l=h=Dn)&&(h=NX(h,u.pendingProps,co),h!==null?(u.stateNode=h,zr=u,Dn=null,l=!0):l=!1),l||Zc(u)),null;case 13:return vE(l,u,h);case 4:return ce(u,u.stateNode.containerInfo),y=u.pendingProps,l===null?u.child=Rd(u,null,y,h):wr(l,u,y,h),u.child;case 11:return uE(l,u,u.type,u.pendingProps,h);case 7:return wr(l,u,u.pendingProps,h),u.child;case 8:return wr(l,u,u.pendingProps.children,h),u.child;case 12:return wr(l,u,u.pendingProps.children,h),u.child;case 10:return y=u.pendingProps,dl(u,u.type,y.value),wr(l,u,y.children,h),u.child;case 9:return T=u.type._context,y=u.pendingProps.children,eu(u),T=Pr(T),y=y(T),u.flags|=1,wr(l,u,y,h),u.child;case 14:return dE(l,u,u.type,u.pendingProps,h);case 15:return fE(l,u,u.type,u.pendingProps,h);case 19:return xE(l,u,h);case 31:return y=u.pendingProps,h=u.mode,y={mode:y.mode,children:y.children},l===null?(h=dy(y,h),h.ref=u.ref,u.child=h,h.return=u,u=h):(h=Go(l.child,y),h.ref=u.ref,u.child=h,h.return=u,u=h),u;case 22:return pE(l,u,h);case 24:return eu(u),y=Pr(or),l===null?(T=_w(),T===null&&(T=fn,N=Ew(),T.pooledCache=N,N.refCount++,N!==null&&(T.pooledCacheLanes|=h),T=N),u.memoizedState={parent:y,cache:T},Dw(u),dl(u,or,T)):((l.lanes&h)!==0&&(Ow(l,u),dh(u,null,null,h),uh()),T=l.memoizedState,N=u.memoizedState,T.parent!==y?(T={parent:y,cache:y},u.memoizedState=T,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=T),dl(u,or,y)):(y=N.cache,dl(u,or,y),y!==T.cache&&kw(u,[or],h,!0))),wr(l,u,u.pendingProps.children,h),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}function ns(l){l.flags|=4}function SE(l,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!_N(u)){if(u=Wi.current,u!==null&&((Ot&4194048)===Ot?uo!==null:(Ot&62914560)!==Ot&&(Ot&536870912)===0||u!==uo))throw lh=Pw,a9;l.flags|=8192}}function fy(l,u){u!==null&&(l.flags|=4),l.flags&16384&&(u=l.tag!==22?Ja():536870912,l.lanes|=u,Bd|=u)}function vh(l,u){if(!Yt)switch(l.tailMode){case"hidden":u=l.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?l.tail=null:h.sibling=null;break;case"collapsed":h=l.tail;for(var y=null;h!==null;)h.alternate!==null&&(y=h),h=h.sibling;y===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:y.sibling=null}}function En(l){var u=l.alternate!==null&&l.alternate.child===l.child,h=0,y=0;if(u)for(var T=l.child;T!==null;)h|=T.lanes|T.childLanes,y|=T.subtreeFlags&65011712,y|=T.flags&65011712,T.return=l,T=T.sibling;else for(T=l.child;T!==null;)h|=T.lanes|T.childLanes,y|=T.subtreeFlags,y|=T.flags,T.return=l,T=T.sibling;return l.subtreeFlags|=y,l.childLanes=h,u}function tX(l,u,h){var y=u.pendingProps;switch(Cw(u),u.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return En(u),null;case 1:return En(u),null;case 3:return h=u.stateNode,y=null,l!==null&&(y=l.memoizedState.cache),u.memoizedState.cache!==y&&(u.flags|=2048),Zo(or),ae(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(l===null||l.child===null)&&(th(u)?ns(u):l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,e9())),En(u),null;case 26:return h=u.memoizedState,l===null?(ns(u),h!==null?(En(u),SE(u,h)):(En(u),u.flags&=-16777217)):h?h!==l.memoizedState?(ns(u),En(u),SE(u,h)):(En(u),u.flags&=-16777217):(l.memoizedProps!==y&&ns(u),En(u),u.flags&=-16777217),null;case 27:G(u),h=X.current;var T=u.type;if(l!==null&&u.stateNode!=null)l.memoizedProps!==y&&ns(u);else{if(!y){if(u.stateNode===null)throw Error(r(166));return En(u),null}l=ge.current,th(u)?Zk(u):(l=SN(T,y,h),u.stateNode=l,ns(u))}return En(u),null;case 5:if(G(u),h=u.type,l!==null&&u.stateNode!=null)l.memoizedProps!==y&&ns(u);else{if(!y){if(u.stateNode===null)throw Error(r(166));return En(u),null}if(l=ge.current,th(u))Zk(u);else{switch(T=Ty(X.current),l){case 1:l=T.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:l=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":l=T.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":l=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":l=T.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l=typeof y.is=="string"?T.createElement("select",{is:y.is}):T.createElement("select"),y.multiple?l.multiple=!0:y.size&&(l.size=y.size);break;default:l=typeof y.is=="string"?T.createElement(h,{is:y.is}):T.createElement(h)}}l[Gn]=u,l[Nr]=y;e:for(T=u.child;T!==null;){if(T.tag===5||T.tag===6)l.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===u)break e;for(;T.sibling===null;){if(T.return===null||T.return===u)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}u.stateNode=l;e:switch(Cr(l,h,y),h){case"button":case"input":case"select":case"textarea":l=!!y.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ns(u)}}return En(u),u.flags&=-16777217,null;case 6:if(l&&u.stateNode!=null)l.memoizedProps!==y&&ns(u);else{if(typeof y!="string"&&u.stateNode===null)throw Error(r(166));if(l=X.current,th(u)){if(l=u.stateNode,h=u.memoizedProps,y=null,T=zr,T!==null)switch(T.tag){case 27:case 5:y=T.memoizedProps}l[Gn]=u,l=!!(l.nodeValue===h||y!==null&&y.suppressHydrationWarning===!0||mN(l.nodeValue,h)),l||Zc(u)}else l=Ty(l).createTextNode(y),l[Gn]=u,u.stateNode=l}return En(u),null;case 13:if(y=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(T=th(u),y!==null&&y.dehydrated!==null){if(l===null){if(!T)throw Error(r(318));if(T=u.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(r(317));T[Gn]=u}else nh(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;En(u),T=!1}else T=e9(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=T),T=!0;if(!T)return u.flags&256?(es(u),u):(es(u),null)}if(es(u),(u.flags&128)!==0)return u.lanes=h,u;if(h=y!==null,l=l!==null&&l.memoizedState!==null,h){y=u.child,T=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(T=y.alternate.memoizedState.cachePool.pool);var N=null;y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(N=y.memoizedState.cachePool.pool),N!==T&&(y.flags|=2048)}return h!==l&&h&&(u.child.flags|=8192),fy(u,u.updateQueue),En(u),null;case 4:return ae(),l===null&&I4(u.stateNode.containerInfo),En(u),null;case 10:return Zo(u.type),En(u),null;case 19:if(re(sr),T=u.memoizedState,T===null)return En(u),null;if(y=(u.flags&128)!==0,N=T.rendering,N===null)if(y)vh(T,!1);else{if(On!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(N=sy(l),N!==null){for(u.flags|=128,vh(T,!1),l=N.updateQueue,u.updateQueue=l,fy(u,l),u.subtreeFlags=0,l=h,h=u.child;h!==null;)Xk(h,l),h=h.sibling;return me(sr,sr.current&1|2),u.child}l=l.sibling}T.tail!==null&&ye()>my&&(u.flags|=128,y=!0,vh(T,!1),u.lanes=4194304)}else{if(!y)if(l=sy(N),l!==null){if(u.flags|=128,y=!0,l=l.updateQueue,u.updateQueue=l,fy(u,l),vh(T,!0),T.tail===null&&T.tailMode==="hidden"&&!N.alternate&&!Yt)return En(u),null}else 2*ye()-T.renderingStartTime>my&&h!==536870912&&(u.flags|=128,y=!0,vh(T,!1),u.lanes=4194304);T.isBackwards?(N.sibling=u.child,u.child=N):(l=T.last,l!==null?l.sibling=N:u.child=N,T.last=N)}return T.tail!==null?(u=T.tail,T.rendering=u,T.tail=u.sibling,T.renderingStartTime=ye(),u.sibling=null,l=sr.current,me(sr,y?l&1|2:l&1),u):(En(u),null);case 22:case 23:return es(u),Mw(),y=u.memoizedState!==null,l!==null?l.memoizedState!==null!==y&&(u.flags|=8192):y&&(u.flags|=8192),y?(h&536870912)!==0&&(u.flags&128)===0&&(En(u),u.subtreeFlags&6&&(u.flags|=8192)):En(u),h=u.updateQueue,h!==null&&fy(u,h.retryQueue),h=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==h&&(u.flags|=2048),l!==null&&re(tu),null;case 24:return h=null,l!==null&&(h=l.memoizedState.cache),u.memoizedState.cache!==h&&(u.flags|=2048),Zo(or),En(u),null;case 25:return null;case 30:return null}throw Error(r(156,u.tag))}function nX(l,u){switch(Cw(u),u.tag){case 1:return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return Zo(or),ae(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 26:case 27:case 5:return G(u),null;case 13:if(es(u),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(r(340));nh()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return re(sr),null;case 4:return ae(),null;case 10:return Zo(u.type),null;case 22:case 23:return es(u),Mw(),l!==null&&re(tu),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 24:return Zo(or),null;case 25:return null;default:return null}}function CE(l,u){switch(Cw(u),u.tag){case 3:Zo(or),ae();break;case 26:case 27:case 5:G(u);break;case 4:ae();break;case 13:es(u);break;case 19:re(sr);break;case 10:Zo(u.type);break;case 22:case 23:es(u),Mw(),l!==null&&re(tu);break;case 24:Zo(or)}}function bh(l,u){try{var h=u.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var T=y.next;h=T;do{if((h.tag&l)===l){y=void 0;var N=h.create,U=h.inst;y=N(),U.destroy=y}h=h.next}while(h!==T)}}catch(Y){cn(u,u.return,Y)}}function vl(l,u,h){try{var y=u.updateQueue,T=y!==null?y.lastEffect:null;if(T!==null){var N=T.next;y=N;do{if((y.tag&l)===l){var U=y.inst,Y=U.destroy;if(Y!==void 0){U.destroy=void 0,T=u;var oe=h,xe=Y;try{xe()}catch(Me){cn(T,oe,Me)}}}y=y.next}while(y!==N)}}catch(Me){cn(u,u.return,Me)}}function jE(l){var u=l.updateQueue;if(u!==null){var h=l.stateNode;try{d9(u,h)}catch(y){cn(l,l.return,y)}}}function TE(l,u,h){h.props=ru(l.type,l.memoizedProps),h.state=l.memoizedState;try{h.componentWillUnmount()}catch(y){cn(l,u,y)}}function xh(l,u){try{var h=l.ref;if(h!==null){switch(l.tag){case 26:case 27:case 5:var y=l.stateNode;break;case 30:y=l.stateNode;break;default:y=l.stateNode}typeof h=="function"?l.refCleanup=h(y):h.current=y}}catch(T){cn(l,u,T)}}function fo(l,u){var h=l.ref,y=l.refCleanup;if(h!==null)if(typeof y=="function")try{y()}catch(T){cn(l,u,T)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(T){cn(l,u,T)}else h.current=null}function AE(l){var u=l.type,h=l.memoizedProps,y=l.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":h.autoFocus&&y.focus();break e;case"img":h.src?y.src=h.src:h.srcSet&&(y.srcset=h.srcSet)}}catch(T){cn(l,l.return,T)}}function d4(l,u,h){try{var y=l.stateNode;CX(y,l.type,h,u),y[Nr]=u}catch(T){cn(l,l.return,T)}}function kE(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&Al(l.type)||l.tag===4}function f4(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||kE(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&Al(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function p4(l,u,h){var y=l.tag;if(y===5||y===6)l=l.stateNode,u?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(l,u):(u=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,u.appendChild(l),h=h._reactRootContainer,h!=null||u.onclick!==null||(u.onclick=jy));else if(y!==4&&(y===27&&Al(l.type)&&(h=l.stateNode,u=null),l=l.child,l!==null))for(p4(l,u,h),l=l.sibling;l!==null;)p4(l,u,h),l=l.sibling}function py(l,u,h){var y=l.tag;if(y===5||y===6)l=l.stateNode,u?h.insertBefore(l,u):h.appendChild(l);else if(y!==4&&(y===27&&Al(l.type)&&(h=l.stateNode),l=l.child,l!==null))for(py(l,u,h),l=l.sibling;l!==null;)py(l,u,h),l=l.sibling}function EE(l){var u=l.stateNode,h=l.memoizedProps;try{for(var y=l.type,T=u.attributes;T.length;)u.removeAttributeNode(T[0]);Cr(u,y,h),u[Gn]=l,u[Nr]=h}catch(N){cn(l,l.return,N)}}var rs=!1,Un=!1,h4=!1,NE=typeof WeakSet=="function"?WeakSet:Set,mr=null;function rX(l,u){if(l=l.containerInfo,L4=Py,l=Bk(l),fw(l)){if("selectionStart"in l)var h={start:l.selectionStart,end:l.selectionEnd};else e:{h=(h=l.ownerDocument)&&h.defaultView||window;var y=h.getSelection&&h.getSelection();if(y&&y.rangeCount!==0){h=y.anchorNode;var T=y.anchorOffset,N=y.focusNode;y=y.focusOffset;try{h.nodeType,N.nodeType}catch{h=null;break e}var U=0,Y=-1,oe=-1,xe=0,Me=0,Be=l,Ce=null;t:for(;;){for(var je;Be!==h||T!==0&&Be.nodeType!==3||(Y=U+T),Be!==N||y!==0&&Be.nodeType!==3||(oe=U+y),Be.nodeType===3&&(U+=Be.nodeValue.length),(je=Be.firstChild)!==null;)Ce=Be,Be=je;for(;;){if(Be===l)break t;if(Ce===h&&++xe===T&&(Y=U),Ce===N&&++Me===y&&(oe=U),(je=Be.nextSibling)!==null)break;Be=Ce,Ce=Be.parentNode}Be=je}h=Y===-1||oe===-1?null:{start:Y,end:oe}}else h=null}h=h||{start:0,end:0}}else h=null;for(F4={focusedElem:l,selectionRange:h},Py=!1,mr=u;mr!==null;)if(u=mr,l=u.child,(u.subtreeFlags&1024)!==0&&l!==null)l.return=u,mr=l;else for(;mr!==null;){switch(u=mr,N=u.alternate,l=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if((l&1024)!==0&&N!==null){l=void 0,h=u,T=N.memoizedProps,N=N.memoizedState,y=h.stateNode;try{var pt=ru(h.type,T,h.elementType===h.type);l=y.getSnapshotBeforeUpdate(pt,N),y.__reactInternalSnapshotBeforeUpdate=l}catch(dt){cn(h,h.return,dt)}}break;case 3:if((l&1024)!==0){if(l=u.stateNode.containerInfo,h=l.nodeType,h===9)U4(l);else if(h===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":U4(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(r(163))}if(l=u.sibling,l!==null){l.return=u.return,mr=l;break}mr=u.return}}function _E(l,u,h){var y=h.flags;switch(h.tag){case 0:case 11:case 15:bl(l,h),y&4&&bh(5,h);break;case 1:if(bl(l,h),y&4)if(l=h.stateNode,u===null)try{l.componentDidMount()}catch(U){cn(h,h.return,U)}else{var T=ru(h.type,u.memoizedProps);u=u.memoizedState;try{l.componentDidUpdate(T,u,l.__reactInternalSnapshotBeforeUpdate)}catch(U){cn(h,h.return,U)}}y&64&&jE(h),y&512&&xh(h,h.return);break;case 3:if(bl(l,h),y&64&&(l=h.updateQueue,l!==null)){if(u=null,h.child!==null)switch(h.child.tag){case 27:case 5:u=h.child.stateNode;break;case 1:u=h.child.stateNode}try{d9(l,u)}catch(U){cn(h,h.return,U)}}break;case 27:u===null&&y&4&&EE(h);case 26:case 5:bl(l,h),u===null&&y&4&&AE(h),y&512&&xh(h,h.return);break;case 12:bl(l,h);break;case 13:bl(l,h),y&4&&OE(l,h),y&64&&(l=h.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(h=fX.bind(null,h),_X(l,h))));break;case 22:if(y=h.memoizedState!==null||rs,!y){u=u!==null&&u.memoizedState!==null||Un,T=rs;var N=Un;rs=y,(Un=u)&&!N?xl(l,h,(h.subtreeFlags&8772)!==0):bl(l,h),rs=T,Un=N}break;case 30:break;default:bl(l,h)}}function PE(l){var u=l.alternate;u!==null&&(l.alternate=null,PE(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&dd(u)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var bn=null,ni=!1;function is(l,u,h){for(h=h.child;h!==null;)DE(l,u,h),h=h.sibling}function DE(l,u,h){if(we&&typeof we.onCommitFiberUnmount=="function")try{we.onCommitFiberUnmount(ie,h)}catch{}switch(h.tag){case 26:Un||fo(h,u),is(l,u,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Un||fo(h,u);var y=bn,T=ni;Al(h.type)&&(bn=h.stateNode,ni=!1),is(l,u,h),Nh(h.stateNode),bn=y,ni=T;break;case 5:Un||fo(h,u);case 6:if(y=bn,T=ni,bn=null,is(l,u,h),bn=y,ni=T,bn!==null)if(ni)try{(bn.nodeType===9?bn.body:bn.nodeName==="HTML"?bn.ownerDocument.body:bn).removeChild(h.stateNode)}catch(N){cn(h,u,N)}else try{bn.removeChild(h.stateNode)}catch(N){cn(h,u,N)}break;case 18:bn!==null&&(ni?(l=bn,xN(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,h.stateNode),Mh(l)):xN(bn,h.stateNode));break;case 4:y=bn,T=ni,bn=h.stateNode.containerInfo,ni=!0,is(l,u,h),bn=y,ni=T;break;case 0:case 11:case 14:case 15:Un||vl(2,h,u),Un||vl(4,h,u),is(l,u,h);break;case 1:Un||(fo(h,u),y=h.stateNode,typeof y.componentWillUnmount=="function"&&TE(h,u,y)),is(l,u,h);break;case 21:is(l,u,h);break;case 22:Un=(y=Un)||h.memoizedState!==null,is(l,u,h),Un=y;break;default:is(l,u,h)}}function OE(l,u){if(u.memoizedState===null&&(l=u.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{Mh(l)}catch(h){cn(u,u.return,h)}}function iX(l){switch(l.tag){case 13:case 19:var u=l.stateNode;return u===null&&(u=l.stateNode=new NE),u;case 22:return l=l.stateNode,u=l._retryCache,u===null&&(u=l._retryCache=new NE),u;default:throw Error(r(435,l.tag))}}function m4(l,u){var h=iX(l);u.forEach(function(y){var T=pX.bind(null,l,y);h.has(y)||(h.add(y),y.then(T,T))})}function yi(l,u){var h=u.deletions;if(h!==null)for(var y=0;y<h.length;y++){var T=h[y],N=l,U=u,Y=U;e:for(;Y!==null;){switch(Y.tag){case 27:if(Al(Y.type)){bn=Y.stateNode,ni=!1;break e}break;case 5:bn=Y.stateNode,ni=!1;break e;case 3:case 4:bn=Y.stateNode.containerInfo,ni=!0;break e}Y=Y.return}if(bn===null)throw Error(r(160));DE(N,U,T),bn=null,ni=!1,N=T.alternate,N!==null&&(N.return=null),T.return=null}if(u.subtreeFlags&13878)for(u=u.child;u!==null;)$E(u,l),u=u.sibling}var Sa=null;function $E(l,u){var h=l.alternate,y=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:yi(u,l),vi(l),y&4&&(vl(3,l,l.return),bh(3,l),vl(5,l,l.return));break;case 1:yi(u,l),vi(l),y&512&&(Un||h===null||fo(h,h.return)),y&64&&rs&&(l=l.updateQueue,l!==null&&(y=l.callbacks,y!==null&&(h=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=h===null?y:h.concat(y))));break;case 26:var T=Sa;if(yi(u,l),vi(l),y&512&&(Un||h===null||fo(h,h.return)),y&4){var N=h!==null?h.memoizedState:null;if(y=l.memoizedState,h===null)if(y===null)if(l.stateNode===null){e:{y=l.type,h=l.memoizedProps,T=T.ownerDocument||T;t:switch(y){case"title":N=T.getElementsByTagName("title")[0],(!N||N[tl]||N[Gn]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=T.createElement(y),T.head.insertBefore(N,T.querySelector("head > title"))),Cr(N,y,h),N[Gn]=l,Bn(N),y=N;break e;case"link":var U=EN("link","href",T).get(y+(h.href||""));if(U){for(var Y=0;Y<U.length;Y++)if(N=U[Y],N.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&N.getAttribute("rel")===(h.rel==null?null:h.rel)&&N.getAttribute("title")===(h.title==null?null:h.title)&&N.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){U.splice(Y,1);break t}}N=T.createElement(y),Cr(N,y,h),T.head.appendChild(N);break;case"meta":if(U=EN("meta","content",T).get(y+(h.content||""))){for(Y=0;Y<U.length;Y++)if(N=U[Y],N.getAttribute("content")===(h.content==null?null:""+h.content)&&N.getAttribute("name")===(h.name==null?null:h.name)&&N.getAttribute("property")===(h.property==null?null:h.property)&&N.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&N.getAttribute("charset")===(h.charSet==null?null:h.charSet)){U.splice(Y,1);break t}}N=T.createElement(y),Cr(N,y,h),T.head.appendChild(N);break;default:throw Error(r(468,y))}N[Gn]=l,Bn(N),y=N}l.stateNode=y}else NN(T,l.type,l.stateNode);else l.stateNode=kN(T,y,l.memoizedProps);else N!==y?(N===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):N.count--,y===null?NN(T,l.type,l.stateNode):kN(T,y,l.memoizedProps)):y===null&&l.stateNode!==null&&d4(l,l.memoizedProps,h.memoizedProps)}break;case 27:yi(u,l),vi(l),y&512&&(Un||h===null||fo(h,h.return)),h!==null&&y&4&&d4(l,l.memoizedProps,h.memoizedProps);break;case 5:if(yi(u,l),vi(l),y&512&&(Un||h===null||fo(h,h.return)),l.flags&32){T=l.stateNode;try{zi(T,"")}catch(je){cn(l,l.return,je)}}y&4&&l.stateNode!=null&&(T=l.memoizedProps,d4(l,T,h!==null?h.memoizedProps:T)),y&1024&&(h4=!0);break;case 6:if(yi(u,l),vi(l),y&4){if(l.stateNode===null)throw Error(r(162));y=l.memoizedProps,h=l.stateNode;try{h.nodeValue=y}catch(je){cn(l,l.return,je)}}break;case 3:if(Ey=null,T=Sa,Sa=Ay(u.containerInfo),yi(u,l),Sa=T,vi(l),y&4&&h!==null&&h.memoizedState.isDehydrated)try{Mh(u.containerInfo)}catch(je){cn(l,l.return,je)}h4&&(h4=!1,IE(l));break;case 4:y=Sa,Sa=Ay(l.stateNode.containerInfo),yi(u,l),vi(l),Sa=y;break;case 12:yi(u,l),vi(l);break;case 13:yi(u,l),vi(l),l.child.flags&8192&&l.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(w4=ye()),y&4&&(y=l.updateQueue,y!==null&&(l.updateQueue=null,m4(l,y)));break;case 22:T=l.memoizedState!==null;var oe=h!==null&&h.memoizedState!==null,xe=rs,Me=Un;if(rs=xe||T,Un=Me||oe,yi(u,l),Un=Me,rs=xe,vi(l),y&8192)e:for(u=l.stateNode,u._visibility=T?u._visibility&-2:u._visibility|1,T&&(h===null||oe||rs||Un||iu(l)),h=null,u=l;;){if(u.tag===5||u.tag===26){if(h===null){oe=h=u;try{if(N=oe.stateNode,T)U=N.style,typeof U.setProperty=="function"?U.setProperty("display","none","important"):U.display="none";else{Y=oe.stateNode;var Be=oe.memoizedProps.style,Ce=Be!=null&&Be.hasOwnProperty("display")?Be.display:null;Y.style.display=Ce==null||typeof Ce=="boolean"?"":(""+Ce).trim()}}catch(je){cn(oe,oe.return,je)}}}else if(u.tag===6){if(h===null){oe=u;try{oe.stateNode.nodeValue=T?"":oe.memoizedProps}catch(je){cn(oe,oe.return,je)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===l)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break e;for(;u.sibling===null;){if(u.return===null||u.return===l)break e;h===u&&(h=null),u=u.return}h===u&&(h=null),u.sibling.return=u.return,u=u.sibling}y&4&&(y=l.updateQueue,y!==null&&(h=y.retryQueue,h!==null&&(y.retryQueue=null,m4(l,h))));break;case 19:yi(u,l),vi(l),y&4&&(y=l.updateQueue,y!==null&&(l.updateQueue=null,m4(l,y)));break;case 30:break;case 21:break;default:yi(u,l),vi(l)}}function vi(l){var u=l.flags;if(u&2){try{for(var h,y=l.return;y!==null;){if(kE(y)){h=y;break}y=y.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var T=h.stateNode,N=f4(l);py(l,N,T);break;case 5:var U=h.stateNode;h.flags&32&&(zi(U,""),h.flags&=-33);var Y=f4(l);py(l,Y,U);break;case 3:case 4:var oe=h.stateNode.containerInfo,xe=f4(l);p4(l,xe,oe);break;default:throw Error(r(161))}}catch(Me){cn(l,l.return,Me)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function IE(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var u=l;IE(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),l=l.sibling}}function bl(l,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)_E(l,u.alternate,u),u=u.sibling}function iu(l){for(l=l.child;l!==null;){var u=l;switch(u.tag){case 0:case 11:case 14:case 15:vl(4,u,u.return),iu(u);break;case 1:fo(u,u.return);var h=u.stateNode;typeof h.componentWillUnmount=="function"&&TE(u,u.return,h),iu(u);break;case 27:Nh(u.stateNode);case 26:case 5:fo(u,u.return),iu(u);break;case 22:u.memoizedState===null&&iu(u);break;case 30:iu(u);break;default:iu(u)}l=l.sibling}}function xl(l,u,h){for(h=h&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var y=u.alternate,T=l,N=u,U=N.flags;switch(N.tag){case 0:case 11:case 15:xl(T,N,h),bh(4,N);break;case 1:if(xl(T,N,h),y=N,T=y.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(xe){cn(y,y.return,xe)}if(y=N,T=y.updateQueue,T!==null){var Y=y.stateNode;try{var oe=T.shared.hiddenCallbacks;if(oe!==null)for(T.shared.hiddenCallbacks=null,T=0;T<oe.length;T++)u9(oe[T],Y)}catch(xe){cn(y,y.return,xe)}}h&&U&64&&jE(N),xh(N,N.return);break;case 27:EE(N);case 26:case 5:xl(T,N,h),h&&y===null&&U&4&&AE(N),xh(N,N.return);break;case 12:xl(T,N,h);break;case 13:xl(T,N,h),h&&U&4&&OE(T,N);break;case 22:N.memoizedState===null&&xl(T,N,h),xh(N,N.return);break;case 30:break;default:xl(T,N,h)}u=u.sibling}}function g4(l,u){var h=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),l=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(l=u.memoizedState.cachePool.pool),l!==h&&(l!=null&&l.refCount++,h!=null&&ah(h))}function y4(l,u){l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&ah(l))}function po(l,u,h,y){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)RE(l,u,h,y),u=u.sibling}function RE(l,u,h,y){var T=u.flags;switch(u.tag){case 0:case 11:case 15:po(l,u,h,y),T&2048&&bh(9,u);break;case 1:po(l,u,h,y);break;case 3:po(l,u,h,y),T&2048&&(l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&ah(l)));break;case 12:if(T&2048){po(l,u,h,y),l=u.stateNode;try{var N=u.memoizedProps,U=N.id,Y=N.onPostCommit;typeof Y=="function"&&Y(U,u.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(oe){cn(u,u.return,oe)}}else po(l,u,h,y);break;case 13:po(l,u,h,y);break;case 23:break;case 22:N=u.stateNode,U=u.alternate,u.memoizedState!==null?N._visibility&2?po(l,u,h,y):wh(l,u):N._visibility&2?po(l,u,h,y):(N._visibility|=2,Md(l,u,h,y,(u.subtreeFlags&10256)!==0)),T&2048&&g4(U,u);break;case 24:po(l,u,h,y),T&2048&&y4(u.alternate,u);break;default:po(l,u,h,y)}}function Md(l,u,h,y,T){for(T=T&&(u.subtreeFlags&10256)!==0,u=u.child;u!==null;){var N=l,U=u,Y=h,oe=y,xe=U.flags;switch(U.tag){case 0:case 11:case 15:Md(N,U,Y,oe,T),bh(8,U);break;case 23:break;case 22:var Me=U.stateNode;U.memoizedState!==null?Me._visibility&2?Md(N,U,Y,oe,T):wh(N,U):(Me._visibility|=2,Md(N,U,Y,oe,T)),T&&xe&2048&&g4(U.alternate,U);break;case 24:Md(N,U,Y,oe,T),T&&xe&2048&&y4(U.alternate,U);break;default:Md(N,U,Y,oe,T)}u=u.sibling}}function wh(l,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var h=l,y=u,T=y.flags;switch(y.tag){case 22:wh(h,y),T&2048&&g4(y.alternate,y);break;case 24:wh(h,y),T&2048&&y4(y.alternate,y);break;default:wh(h,y)}u=u.sibling}}var Sh=8192;function Ld(l){if(l.subtreeFlags&Sh)for(l=l.child;l!==null;)ME(l),l=l.sibling}function ME(l){switch(l.tag){case 26:Ld(l),l.flags&Sh&&l.memoizedState!==null&&HX(Sa,l.memoizedState,l.memoizedProps);break;case 5:Ld(l);break;case 3:case 4:var u=Sa;Sa=Ay(l.stateNode.containerInfo),Ld(l),Sa=u;break;case 22:l.memoizedState===null&&(u=l.alternate,u!==null&&u.memoizedState!==null?(u=Sh,Sh=16777216,Ld(l),Sh=u):Ld(l));break;default:Ld(l)}}function LE(l){var u=l.alternate;if(u!==null&&(l=u.child,l!==null)){u.child=null;do u=l.sibling,l.sibling=null,l=u;while(l!==null)}}function Ch(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var y=u[h];mr=y,BE(y,l)}LE(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)FE(l),l=l.sibling}function FE(l){switch(l.tag){case 0:case 11:case 15:Ch(l),l.flags&2048&&vl(9,l,l.return);break;case 3:Ch(l);break;case 12:Ch(l);break;case 22:var u=l.stateNode;l.memoizedState!==null&&u._visibility&2&&(l.return===null||l.return.tag!==13)?(u._visibility&=-3,hy(l)):Ch(l);break;default:Ch(l)}}function hy(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var y=u[h];mr=y,BE(y,l)}LE(l)}for(l=l.child;l!==null;){switch(u=l,u.tag){case 0:case 11:case 15:vl(8,u,u.return),hy(u);break;case 22:h=u.stateNode,h._visibility&2&&(h._visibility&=-3,hy(u));break;default:hy(u)}l=l.sibling}}function BE(l,u){for(;mr!==null;){var h=mr;switch(h.tag){case 0:case 11:case 15:vl(8,h,u);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var y=h.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:ah(h.memoizedState.cache)}if(y=h.child,y!==null)y.return=h,mr=y;else e:for(h=l;mr!==null;){y=mr;var T=y.sibling,N=y.return;if(PE(y),y===h){mr=null;break e}if(T!==null){T.return=N,mr=T;break e}mr=N}}}var aX={getCacheForType:function(l){var u=Pr(or),h=u.data.get(l);return h===void 0&&(h=l(),u.data.set(l,h)),h}},oX=typeof WeakMap=="function"?WeakMap:Map,Xt=0,fn=null,Tt=null,Ot=0,Qt=0,bi=null,wl=!1,Fd=!1,v4=!1,as=0,On=0,Sl=0,au=0,b4=0,Gi=0,Bd=0,jh=null,ri=null,x4=!1,w4=0,my=1/0,gy=null,Cl=null,Sr=0,jl=null,zd=null,Ud=0,S4=0,C4=null,zE=null,Th=0,j4=null;function xi(){if((Xt&2)!==0&&Ot!==0)return Ot&-Ot;if(q.T!==null){var l=Nd;return l!==0?l:P4()}return zo()}function UE(){Gi===0&&(Gi=(Ot&536870912)===0||Yt?ma():536870912);var l=Wi.current;return l!==null&&(l.flags|=32),Gi}function wi(l,u,h){(l===fn&&(Qt===2||Qt===9)||l.cancelPendingCommit!==null)&&(Hd(l,0),Tl(l,Ot,Gi,!1)),Tn(l,h),((Xt&2)===0||l!==fn)&&(l===fn&&((Xt&2)===0&&(au|=h),On===4&&Tl(l,Ot,Gi,!1)),ho(l))}function HE(l,u,h){if((Xt&6)!==0)throw Error(r(327));var y=!h&&(u&124)===0&&(u&l.expiredLanes)===0||Ft(l,u),T=y?cX(l,u):k4(l,u,!0),N=y;do{if(T===0){Fd&&!y&&Tl(l,u,0,!1);break}else{if(h=l.current.alternate,N&&!sX(h)){T=k4(l,u,!1),N=!1;continue}if(T===2){if(N=u,l.errorRecoveryDisabledLanes&N)var U=0;else U=l.pendingLanes&-536870913,U=U!==0?U:U&536870912?536870912:0;if(U!==0){u=U;e:{var Y=l;T=jh;var oe=Y.current.memoizedState.isDehydrated;if(oe&&(Hd(Y,U).flags|=256),U=k4(Y,U,!1),U!==2){if(v4&&!oe){Y.errorRecoveryDisabledLanes|=N,au|=N,T=4;break e}N=ri,ri=T,N!==null&&(ri===null?ri=N:ri.push.apply(ri,N))}T=U}if(N=!1,T!==2)continue}}if(T===1){Hd(l,0),Tl(l,u,0,!0);break}e:{switch(y=l,N=T,N){case 0:case 1:throw Error(r(345));case 4:if((u&4194048)!==u)break;case 6:Tl(y,u,Gi,!wl);break e;case 2:ri=null;break;case 3:case 5:break;default:throw Error(r(329))}if((u&62914560)===u&&(T=w4+300-ye(),10<T)){if(Tl(y,u,Gi,!wl),Xe(y,0,!0)!==0)break e;y.timeoutHandle=vN(VE.bind(null,y,h,ri,gy,x4,u,Gi,au,Bd,wl,N,2,-0,0),T);break e}VE(y,h,ri,gy,x4,u,Gi,au,Bd,wl,N,0,-0,0)}}break}while(!0);ho(l)}function VE(l,u,h,y,T,N,U,Y,oe,xe,Me,Be,Ce,je){if(l.timeoutHandle=-1,Be=u.subtreeFlags,(Be&8192||(Be&16785408)===16785408)&&(Dh={stylesheets:null,count:0,unsuspend:UX},ME(u),Be=VX(),Be!==null)){l.cancelPendingCommit=Be(QE.bind(null,l,u,N,h,y,T,U,Y,oe,Me,1,Ce,je)),Tl(l,N,U,!xe);return}QE(l,u,N,h,y,T,U,Y,oe)}function sX(l){for(var u=l;;){var h=u.tag;if((h===0||h===11||h===15)&&u.flags&16384&&(h=u.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var y=0;y<h.length;y++){var T=h[y],N=T.getSnapshot;T=T.value;try{if(!mi(N(),T))return!1}catch{return!1}}if(h=u.child,u.subtreeFlags&16384&&h!==null)h.return=u,u=h;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Tl(l,u,h,y){u&=~b4,u&=~au,l.suspendedLanes|=u,l.pingedLanes&=~u,y&&(l.warmLanes|=u),y=l.expirationTimes;for(var T=u;0<T;){var N=31-le(T),U=1<<N;y[N]=-1,T&=~U}h!==0&&Js(l,h,u)}function yy(){return(Xt&6)===0?(Ah(0),!1):!0}function T4(){if(Tt!==null){if(Qt===0)var l=Tt.return;else l=Tt,Qo=Jc=null,Uw(l),Id=null,gh=0,l=Tt;for(;l!==null;)CE(l.alternate,l),l=l.return;Tt=null}}function Hd(l,u){var h=l.timeoutHandle;h!==-1&&(l.timeoutHandle=-1,TX(h)),h=l.cancelPendingCommit,h!==null&&(l.cancelPendingCommit=null,h()),T4(),fn=l,Tt=h=Go(l.current,null),Ot=u,Qt=0,bi=null,wl=!1,Fd=Ft(l,u),v4=!1,Bd=Gi=b4=au=Sl=On=0,ri=jh=null,x4=!1,(u&8)!==0&&(u|=u&32);var y=l.entangledLanes;if(y!==0)for(l=l.entanglements,y&=u;0<y;){var T=31-le(y),N=1<<T;u|=l[T],y&=~N}return as=u,F0(),h}function qE(l,u){St=null,q.H=iy,u===sh||u===G0?(u=l9(),Qt=3):u===a9?(u=l9(),Qt=4):Qt=u===cE?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,bi=u,Tt===null&&(On=1,cy(l,Hi(u,l.current)))}function YE(){var l=q.H;return q.H=iy,l===null?iy:l}function WE(){var l=q.A;return q.A=aX,l}function A4(){On=4,wl||(Ot&4194048)!==Ot&&Wi.current!==null||(Fd=!0),(Sl&134217727)===0&&(au&134217727)===0||fn===null||Tl(fn,Ot,Gi,!1)}function k4(l,u,h){var y=Xt;Xt|=2;var T=YE(),N=WE();(fn!==l||Ot!==u)&&(gy=null,Hd(l,u)),u=!1;var U=On;e:do try{if(Qt!==0&&Tt!==null){var Y=Tt,oe=bi;switch(Qt){case 8:T4(),U=6;break e;case 3:case 2:case 9:case 6:Wi.current===null&&(u=!0);var xe=Qt;if(Qt=0,bi=null,Vd(l,Y,oe,xe),h&&Fd){U=0;break e}break;default:xe=Qt,Qt=0,bi=null,Vd(l,Y,oe,xe)}}lX(),U=On;break}catch(Me){qE(l,Me)}while(!0);return u&&l.shellSuspendCounter++,Qo=Jc=null,Xt=y,q.H=T,q.A=N,Tt===null&&(fn=null,Ot=0,F0()),U}function lX(){for(;Tt!==null;)GE(Tt)}function cX(l,u){var h=Xt;Xt|=2;var y=YE(),T=WE();fn!==l||Ot!==u?(gy=null,my=ye()+500,Hd(l,u)):Fd=Ft(l,u);e:do try{if(Qt!==0&&Tt!==null){u=Tt;var N=bi;t:switch(Qt){case 1:Qt=0,bi=null,Vd(l,u,N,1);break;case 2:case 9:if(o9(N)){Qt=0,bi=null,KE(u);break}u=function(){Qt!==2&&Qt!==9||fn!==l||(Qt=7),ho(l)},N.then(u,u);break e;case 3:Qt=7;break e;case 4:Qt=5;break e;case 7:o9(N)?(Qt=0,bi=null,KE(u)):(Qt=0,bi=null,Vd(l,u,N,7));break;case 5:var U=null;switch(Tt.tag){case 26:U=Tt.memoizedState;case 5:case 27:var Y=Tt;if(!U||_N(U)){Qt=0,bi=null;var oe=Y.sibling;if(oe!==null)Tt=oe;else{var xe=Y.return;xe!==null?(Tt=xe,vy(xe)):Tt=null}break t}}Qt=0,bi=null,Vd(l,u,N,5);break;case 6:Qt=0,bi=null,Vd(l,u,N,6);break;case 8:T4(),On=6;break e;default:throw Error(r(462))}}uX();break}catch(Me){qE(l,Me)}while(!0);return Qo=Jc=null,q.H=y,q.A=T,Xt=h,Tt!==null?0:(fn=null,Ot=0,F0(),On)}function uX(){for(;Tt!==null&&!Ie();)GE(Tt)}function GE(l){var u=wE(l.alternate,l,as);l.memoizedProps=l.pendingProps,u===null?vy(l):Tt=u}function KE(l){var u=l,h=u.alternate;switch(u.tag){case 15:case 0:u=mE(h,u,u.pendingProps,u.type,void 0,Ot);break;case 11:u=mE(h,u,u.pendingProps,u.type.render,u.ref,Ot);break;case 5:Uw(u);default:CE(h,u),u=Tt=Xk(u,as),u=wE(h,u,as)}l.memoizedProps=l.pendingProps,u===null?vy(l):Tt=u}function Vd(l,u,h,y){Qo=Jc=null,Uw(u),Id=null,gh=0;var T=u.return;try{if(JK(l,T,u,h,Ot)){On=1,cy(l,Hi(h,l.current)),Tt=null;return}}catch(N){if(T!==null)throw Tt=T,N;On=1,cy(l,Hi(h,l.current)),Tt=null;return}u.flags&32768?(Yt||y===1?l=!0:Fd||(Ot&536870912)!==0?l=!1:(wl=l=!0,(y===2||y===9||y===3||y===6)&&(y=Wi.current,y!==null&&y.tag===13&&(y.flags|=16384))),XE(u,l)):vy(u)}function vy(l){var u=l;do{if((u.flags&32768)!==0){XE(u,wl);return}l=u.return;var h=tX(u.alternate,u,as);if(h!==null){Tt=h;return}if(u=u.sibling,u!==null){Tt=u;return}Tt=u=l}while(u!==null);On===0&&(On=5)}function XE(l,u){do{var h=nX(l.alternate,l);if(h!==null){h.flags&=32767,Tt=h;return}if(h=l.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!u&&(l=l.sibling,l!==null)){Tt=l;return}Tt=l=h}while(l!==null);On=6,Tt=null}function QE(l,u,h,y,T,N,U,Y,oe){l.cancelPendingCommit=null;do by();while(Sr!==0);if((Xt&6)!==0)throw Error(r(327));if(u!==null){if(u===l.current)throw Error(r(177));if(N=u.lanes|u.childLanes,N|=yw,S0(l,h,N,U,Y,oe),l===fn&&(Tt=fn=null,Ot=0),zd=u,jl=l,Ud=h,S4=N,C4=T,zE=y,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,hX(ut,function(){return nN(),null})):(l.callbackNode=null,l.callbackPriority=0),y=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||y){y=q.T,q.T=null,T=te.p,te.p=2,U=Xt,Xt|=4;try{rX(l,u,h)}finally{Xt=U,te.p=T,q.T=y}}Sr=1,ZE(),JE(),eN()}}function ZE(){if(Sr===1){Sr=0;var l=jl,u=zd,h=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||h){h=q.T,q.T=null;var y=te.p;te.p=2;var T=Xt;Xt|=4;try{$E(u,l);var N=F4,U=Bk(l.containerInfo),Y=N.focusedElem,oe=N.selectionRange;if(U!==Y&&Y&&Y.ownerDocument&&Fk(Y.ownerDocument.documentElement,Y)){if(oe!==null&&fw(Y)){var xe=oe.start,Me=oe.end;if(Me===void 0&&(Me=xe),"selectionStart"in Y)Y.selectionStart=xe,Y.selectionEnd=Math.min(Me,Y.value.length);else{var Be=Y.ownerDocument||document,Ce=Be&&Be.defaultView||window;if(Ce.getSelection){var je=Ce.getSelection(),pt=Y.textContent.length,dt=Math.min(oe.start,pt),an=oe.end===void 0?dt:Math.min(oe.end,pt);!je.extend&&dt>an&&(U=an,an=dt,dt=U);var he=Lk(Y,dt),de=Lk(Y,an);if(he&&de&&(je.rangeCount!==1||je.anchorNode!==he.node||je.anchorOffset!==he.offset||je.focusNode!==de.node||je.focusOffset!==de.offset)){var ve=Be.createRange();ve.setStart(he.node,he.offset),je.removeAllRanges(),dt>an?(je.addRange(ve),je.extend(de.node,de.offset)):(ve.setEnd(de.node,de.offset),je.addRange(ve))}}}}for(Be=[],je=Y;je=je.parentNode;)je.nodeType===1&&Be.push({element:je,left:je.scrollLeft,top:je.scrollTop});for(typeof Y.focus=="function"&&Y.focus(),Y=0;Y<Be.length;Y++){var Le=Be[Y];Le.element.scrollLeft=Le.left,Le.element.scrollTop=Le.top}}Py=!!L4,F4=L4=null}finally{Xt=T,te.p=y,q.T=h}}l.current=u,Sr=2}}function JE(){if(Sr===2){Sr=0;var l=jl,u=zd,h=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||h){h=q.T,q.T=null;var y=te.p;te.p=2;var T=Xt;Xt|=4;try{_E(l,u.alternate,u)}finally{Xt=T,te.p=y,q.T=h}}Sr=3}}function eN(){if(Sr===4||Sr===3){Sr=0,De();var l=jl,u=zd,h=Ud,y=zE;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?Sr=5:(Sr=0,zd=jl=null,tN(l,l.pendingLanes));var T=l.pendingLanes;if(T===0&&(Cl=null),Lp(h),u=u.stateNode,we&&typeof we.onCommitFiberRoot=="function")try{we.onCommitFiberRoot(ie,u,void 0,(u.current.flags&128)===128)}catch{}if(y!==null){u=q.T,T=te.p,te.p=2,q.T=null;try{for(var N=l.onRecoverableError,U=0;U<y.length;U++){var Y=y[U];N(Y.value,{componentStack:Y.stack})}}finally{q.T=u,te.p=T}}(Ud&3)!==0&&by(),ho(l),T=l.pendingLanes,(h&4194090)!==0&&(T&42)!==0?l===j4?Th++:(Th=0,j4=l):Th=0,Ah(0)}}function tN(l,u){(l.pooledCacheLanes&=u)===0&&(u=l.pooledCache,u!=null&&(l.pooledCache=null,ah(u)))}function by(l){return ZE(),JE(),eN(),nN()}function nN(){if(Sr!==5)return!1;var l=jl,u=S4;S4=0;var h=Lp(Ud),y=q.T,T=te.p;try{te.p=32>h?32:h,q.T=null,h=C4,C4=null;var N=jl,U=Ud;if(Sr=0,zd=jl=null,Ud=0,(Xt&6)!==0)throw Error(r(331));var Y=Xt;if(Xt|=4,FE(N.current),RE(N,N.current,U,h),Xt=Y,Ah(0,!1),we&&typeof we.onPostCommitFiberRoot=="function")try{we.onPostCommitFiberRoot(ie,N)}catch{}return!0}finally{te.p=T,q.T=y,tN(l,u)}}function rN(l,u,h){u=Hi(h,u),u=n4(l.stateNode,u,2),l=hl(l,u,2),l!==null&&(Tn(l,2),ho(l))}function cn(l,u,h){if(l.tag===3)rN(l,l,h);else for(;u!==null;){if(u.tag===3){rN(u,l,h);break}else if(u.tag===1){var y=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Cl===null||!Cl.has(y))){l=Hi(h,l),h=sE(2),y=hl(u,h,2),y!==null&&(lE(h,y,u,l),Tn(y,2),ho(y));break}}u=u.return}}function E4(l,u,h){var y=l.pingCache;if(y===null){y=l.pingCache=new oX;var T=new Set;y.set(u,T)}else T=y.get(u),T===void 0&&(T=new Set,y.set(u,T));T.has(h)||(v4=!0,T.add(h),l=dX.bind(null,l,u,h),u.then(l,l))}function dX(l,u,h){var y=l.pingCache;y!==null&&y.delete(u),l.pingedLanes|=l.suspendedLanes&h,l.warmLanes&=~h,fn===l&&(Ot&h)===h&&(On===4||On===3&&(Ot&62914560)===Ot&&300>ye()-w4?(Xt&2)===0&&Hd(l,0):b4|=h,Bd===Ot&&(Bd=0)),ho(l)}function iN(l,u){u===0&&(u=Ja()),l=Td(l,u),l!==null&&(Tn(l,u),ho(l))}function fX(l){var u=l.memoizedState,h=0;u!==null&&(h=u.retryLane),iN(l,h)}function pX(l,u){var h=0;switch(l.tag){case 13:var y=l.stateNode,T=l.memoizedState;T!==null&&(h=T.retryLane);break;case 19:y=l.stateNode;break;case 22:y=l.stateNode._retryCache;break;default:throw Error(r(314))}y!==null&&y.delete(u),iN(l,h)}function hX(l,u){return ue(l,u)}var xy=null,qd=null,N4=!1,wy=!1,_4=!1,ou=0;function ho(l){l!==qd&&l.next===null&&(qd===null?xy=qd=l:qd=qd.next=l),wy=!0,N4||(N4=!0,gX())}function Ah(l,u){if(!_4&&wy){_4=!0;do for(var h=!1,y=xy;y!==null;){if(l!==0){var T=y.pendingLanes;if(T===0)var N=0;else{var U=y.suspendedLanes,Y=y.pingedLanes;N=(1<<31-le(42|l)+1)-1,N&=T&~(U&~Y),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(h=!0,lN(y,N))}else N=Ot,N=Xe(y,y===fn?N:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(N&3)===0||Ft(y,N)||(h=!0,lN(y,N));y=y.next}while(h);_4=!1}}function mX(){aN()}function aN(){wy=N4=!1;var l=0;ou!==0&&(jX()&&(l=ou),ou=0);for(var u=ye(),h=null,y=xy;y!==null;){var T=y.next,N=oN(y,u);N===0?(y.next=null,h===null?xy=T:h.next=T,T===null&&(qd=h)):(h=y,(l!==0||(N&3)!==0)&&(wy=!0)),y=T}Ah(l)}function oN(l,u){for(var h=l.suspendedLanes,y=l.pingedLanes,T=l.expirationTimes,N=l.pendingLanes&-62914561;0<N;){var U=31-le(N),Y=1<<U,oe=T[U];oe===-1?((Y&h)===0||(Y&y)!==0)&&(T[U]=pi(Y,u)):oe<=u&&(l.expiredLanes|=Y),N&=~Y}if(u=fn,h=Ot,h=Xe(l,l===u?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),y=l.callbackNode,h===0||l===u&&(Qt===2||Qt===9)||l.cancelPendingCommit!==null)return y!==null&&y!==null&&Ae(y),l.callbackNode=null,l.callbackPriority=0;if((h&3)===0||Ft(l,h)){if(u=h&-h,u===l.callbackPriority)return u;switch(y!==null&&Ae(y),Lp(h)){case 2:case 8:h=it;break;case 32:h=ut;break;case 268435456:h=pe;break;default:h=ut}return y=sN.bind(null,l),h=ue(h,y),l.callbackPriority=u,l.callbackNode=h,u}return y!==null&&y!==null&&Ae(y),l.callbackPriority=2,l.callbackNode=null,2}function sN(l,u){if(Sr!==0&&Sr!==5)return l.callbackNode=null,l.callbackPriority=0,null;var h=l.callbackNode;if(by()&&l.callbackNode!==h)return null;var y=Ot;return y=Xe(l,l===fn?y:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),y===0?null:(HE(l,y,u),oN(l,ye()),l.callbackNode!=null&&l.callbackNode===h?sN.bind(null,l):null)}function lN(l,u){if(by())return null;HE(l,u,!0)}function gX(){AX(function(){(Xt&6)!==0?ue(Re,mX):aN()})}function P4(){return ou===0&&(ou=ma()),ou}function cN(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:va(""+l)}function uN(l,u){var h=u.ownerDocument.createElement("input");return h.name=u.name,h.value=u.value,l.id&&h.setAttribute("form",l.id),u.parentNode.insertBefore(h,u),l=new FormData(l),h.parentNode.removeChild(h),l}function yX(l,u,h,y,T){if(u==="submit"&&h&&h.stateNode===T){var N=cN((T[Nr]||null).action),U=y.submitter;U&&(u=(u=U[Nr]||null)?cN(u.formAction):U.getAttribute("formAction"),u!==null&&(N=u,U=null));var Y=new Lc("action","action",null,y,T);l.push({event:Y,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(ou!==0){var oe=U?uN(T,U):new FormData(T);Qw(h,{pending:!0,data:oe,method:T.method,action:N},null,oe)}}else typeof N=="function"&&(Y.preventDefault(),oe=U?uN(T,U):new FormData(T),Qw(h,{pending:!0,data:oe,method:T.method,action:N},N,oe))},currentTarget:T}]})}}for(var D4=0;D4<gw.length;D4++){var O4=gw[D4],vX=O4.toLowerCase(),bX=O4[0].toUpperCase()+O4.slice(1);wa(vX,"on"+bX)}wa(Hk,"onAnimationEnd"),wa(Vk,"onAnimationIteration"),wa(qk,"onAnimationStart"),wa("dblclick","onDoubleClick"),wa("focusin","onFocus"),wa("focusout","onBlur"),wa(RK,"onTransitionRun"),wa(MK,"onTransitionStart"),wa(LK,"onTransitionCancel"),wa(Yk,"onTransitionEnd"),io("onMouseEnter",["mouseout","mouseover"]),io("onMouseLeave",["mouseout","mouseover"]),io("onPointerEnter",["pointerout","pointerover"]),io("onPointerLeave",["pointerout","pointerover"]),ro("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ro("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ro("onBeforeInput",["compositionend","keypress","textInput","paste"]),ro("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ro("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ro("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xX=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kh));function dN(l,u){u=(u&4)!==0;for(var h=0;h<l.length;h++){var y=l[h],T=y.event;y=y.listeners;e:{var N=void 0;if(u)for(var U=y.length-1;0<=U;U--){var Y=y[U],oe=Y.instance,xe=Y.currentTarget;if(Y=Y.listener,oe!==N&&T.isPropagationStopped())break e;N=Y,T.currentTarget=xe;try{N(T)}catch(Me){ly(Me)}T.currentTarget=null,N=oe}else for(U=0;U<y.length;U++){if(Y=y[U],oe=Y.instance,xe=Y.currentTarget,Y=Y.listener,oe!==N&&T.isPropagationStopped())break e;N=Y,T.currentTarget=xe;try{N(T)}catch(Me){ly(Me)}T.currentTarget=null,N=oe}}}}function At(l,u){var h=u[Tc];h===void 0&&(h=u[Tc]=new Set);var y=l+"__bubble";h.has(y)||(fN(u,l,2,!1),h.add(y))}function $4(l,u,h){var y=0;u&&(y|=4),fN(h,l,y,u)}var Sy="_reactListening"+Math.random().toString(36).slice(2);function I4(l){if(!l[Sy]){l[Sy]=!0,C0.forEach(function(h){h!=="selectionchange"&&(xX.has(h)||$4(h,!1,l),$4(h,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[Sy]||(u[Sy]=!0,$4("selectionchange",!1,u))}}function fN(l,u,h,y){switch(RN(u)){case 2:var T=WX;break;case 8:T=GX;break;default:T=K4}h=T.bind(null,u,h,l),T=void 0,!Yo||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(T=!0),y?T!==void 0?l.addEventListener(u,h,{capture:!0,passive:T}):l.addEventListener(u,h,!0):T!==void 0?l.addEventListener(u,h,{passive:T}):l.addEventListener(u,h,!1)}function R4(l,u,h,y,T){var N=y;if((u&1)===0&&(u&2)===0&&y!==null)e:for(;;){if(y===null)return;var U=y.tag;if(U===3||U===4){var Y=y.stateNode.containerInfo;if(Y===T)break;if(U===4)for(U=y.return;U!==null;){var oe=U.tag;if((oe===3||oe===4)&&U.stateNode.containerInfo===T)return;U=U.return}for(;Y!==null;){if(U=to(Y),U===null)return;if(oe=U.tag,oe===5||oe===6||oe===26||oe===27){y=N=U;continue e}Y=Y.parentNode}}y=y.return}Ic(function(){var xe=N,Me=qp(h),Be=[];e:{var Ce=Wk.get(l);if(Ce!==void 0){var je=Lc,pt=l;switch(l){case"keypress":if(Rc(h)===0)break e;case"keydown":case"keyup":je=ei;break;case"focusin":pt="focus",je=bd;break;case"focusout":pt="blur",je=bd;break;case"beforeblur":case"afterblur":je=bd;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":je=Hc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":je=_0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":je=S;break;case Hk:case Vk:case qk:je=Wp;break;case Yk:je=B;break;case"scroll":case"scrollend":je=Bc;break;case"wheel":je=be;break;case"copy":case"cut":case"paste":je=D0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":je=Xp;break;case"toggle":case"beforetoggle":je=We}var dt=(u&4)!==0,an=!dt&&(l==="scroll"||l==="scrollend"),he=dt?Ce!==null?Ce+"Capture":null:Ce;dt=[];for(var de=xe,ve;de!==null;){var Le=de;if(ve=Le.stateNode,Le=Le.tag,Le!==5&&Le!==26&&Le!==27||ve===null||he===null||(Le=ll(de,he),Le!=null&&dt.push(Eh(de,Le,ve))),an)break;de=de.return}0<dt.length&&(Ce=new je(Ce,pt,null,h,Me),Be.push({event:Ce,listeners:dt}))}}if((u&7)===0){e:{if(Ce=l==="mouseover"||l==="pointerover",je=l==="mouseout"||l==="pointerout",Ce&&h!==Vp&&(pt=h.relatedTarget||h.fromElement)&&(to(pt)||pt[Uo]))break e;if((je||Ce)&&(Ce=Me.window===Me?Me:(Ce=Me.ownerDocument)?Ce.defaultView||Ce.parentWindow:window,je?(pt=h.relatedTarget||h.toElement,je=xe,pt=pt?to(pt):null,pt!==null&&(an=a(pt),dt=pt.tag,pt!==an||dt!==5&&dt!==27&&dt!==6)&&(pt=null)):(je=null,pt=xe),je!==pt)){if(dt=Hc,Le="onMouseLeave",he="onMouseEnter",de="mouse",(l==="pointerout"||l==="pointerover")&&(dt=Xp,Le="onPointerLeave",he="onPointerEnter",de="pointer"),an=je==null?Ce:nl(je),ve=pt==null?Ce:nl(pt),Ce=new dt(Le,de+"leave",je,h,Me),Ce.target=an,Ce.relatedTarget=ve,Le=null,to(Me)===xe&&(dt=new dt(he,de+"enter",pt,h,Me),dt.target=ve,dt.relatedTarget=an,Le=dt),an=Le,je&&pt)t:{for(dt=je,he=pt,de=0,ve=dt;ve;ve=Yd(ve))de++;for(ve=0,Le=he;Le;Le=Yd(Le))ve++;for(;0<de-ve;)dt=Yd(dt),de--;for(;0<ve-de;)he=Yd(he),ve--;for(;de--;){if(dt===he||he!==null&&dt===he.alternate)break t;dt=Yd(dt),he=Yd(he)}dt=null}else dt=null;je!==null&&pN(Be,Ce,je,dt,!1),pt!==null&&an!==null&&pN(Be,an,pt,dt,!0)}}e:{if(Ce=xe?nl(xe):window,je=Ce.nodeName&&Ce.nodeName.toLowerCase(),je==="select"||je==="input"&&Ce.type==="file")var nt=Dk;else if(_k(Ce))if(Ok)nt=OK;else{nt=PK;var jt=_K}else je=Ce.nodeName,!je||je.toLowerCase()!=="input"||Ce.type!=="checkbox"&&Ce.type!=="radio"?xe&&gd(xe.elementType)&&(nt=Dk):nt=DK;if(nt&&(nt=nt(l,xe))){Pk(Be,nt,h,Me);break e}jt&&jt(l,Ce,xe),l==="focusout"&&xe&&Ce.type==="number"&&xe.memoizedProps.value!=null&&zp(Ce,"number",Ce.value)}switch(jt=xe?nl(xe):window,l){case"focusin":(_k(jt)||jt.contentEditable==="true")&&(Sd=jt,pw=xe,eh=null);break;case"focusout":eh=pw=Sd=null;break;case"mousedown":hw=!0;break;case"contextmenu":case"mouseup":case"dragend":hw=!1,zk(Be,h,Me);break;case"selectionchange":if(IK)break;case"keydown":case"keyup":zk(Be,h,Me)}var lt;if(kn)e:{switch(l){case"compositionstart":var ft="onCompositionStart";break e;case"compositionend":ft="onCompositionEnd";break e;case"compositionupdate":ft="onCompositionUpdate";break e}ft=void 0}else lo?xa(l,h)&&(ft="onCompositionEnd"):l==="keydown"&&h.keyCode===229&&(ft="onCompositionStart");ft&&(hi&&h.locale!=="ko"&&(lo||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&lo&&(lt=N0()):(Ui=Me,hn="value"in Ui?Ui.value:Ui.textContent,lo=!0)),jt=Cy(xe,ft),0<jt.length&&(ft=new Kp(ft,l,null,h,Me),Be.push({event:ft,listeners:jt}),lt?ft.data=lt:(lt=qc(h),lt!==null&&(ft.data=lt)))),(lt=Kn?AK(l,h):kK(l,h))&&(ft=Cy(xe,"onBeforeInput"),0<ft.length&&(jt=new Kp("onBeforeInput","beforeinput",null,h,Me),Be.push({event:jt,listeners:ft}),jt.data=lt)),yX(Be,l,xe,h,Me)}dN(Be,u)})}function Eh(l,u,h){return{instance:l,listener:u,currentTarget:h}}function Cy(l,u){for(var h=u+"Capture",y=[];l!==null;){var T=l,N=T.stateNode;if(T=T.tag,T!==5&&T!==26&&T!==27||N===null||(T=ll(l,h),T!=null&&y.unshift(Eh(l,T,N)),T=ll(l,u),T!=null&&y.push(Eh(l,T,N))),l.tag===3)return y;l=l.return}return[]}function Yd(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function pN(l,u,h,y,T){for(var N=u._reactName,U=[];h!==null&&h!==y;){var Y=h,oe=Y.alternate,xe=Y.stateNode;if(Y=Y.tag,oe!==null&&oe===y)break;Y!==5&&Y!==26&&Y!==27||xe===null||(oe=xe,T?(xe=ll(h,N),xe!=null&&U.unshift(Eh(h,xe,oe))):T||(xe=ll(h,N),xe!=null&&U.push(Eh(h,xe,oe)))),h=h.return}U.length!==0&&l.push({event:u,listeners:U})}var wX=/\r\n?/g,SX=/\u0000|\uFFFD/g;function hN(l){return(typeof l=="string"?l:""+l).replace(wX,`
`).replace(SX,"")}function mN(l,u){return u=hN(u),hN(l)===u}function jy(){}function rn(l,u,h,y,T,N){switch(h){case"children":typeof y=="string"?u==="body"||u==="textarea"&&y===""||zi(l,y):(typeof y=="number"||typeof y=="bigint")&&u!=="body"&&zi(l,""+y);break;case"className":_c(l,"class",y);break;case"tabIndex":_c(l,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":_c(l,h,y);break;case"style":Hp(l,y,N);break;case"data":if(u!=="object"){_c(l,"data",y);break}case"src":case"href":if(y===""&&(u!=="a"||h!=="href")){l.removeAttribute(h);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){l.removeAttribute(h);break}y=va(""+y),l.setAttribute(h,y);break;case"action":case"formAction":if(typeof y=="function"){l.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(h==="formAction"?(u!=="input"&&rn(l,u,"name",T.name,T,null),rn(l,u,"formEncType",T.formEncType,T,null),rn(l,u,"formMethod",T.formMethod,T,null),rn(l,u,"formTarget",T.formTarget,T,null)):(rn(l,u,"encType",T.encType,T,null),rn(l,u,"method",T.method,T,null),rn(l,u,"target",T.target,T,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){l.removeAttribute(h);break}y=va(""+y),l.setAttribute(h,y);break;case"onClick":y!=null&&(l.onclick=jy);break;case"onScroll":y!=null&&At("scroll",l);break;case"onScrollEnd":y!=null&&At("scrollend",l);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(h=y.__html,h!=null){if(T.children!=null)throw Error(r(60));l.innerHTML=h}}break;case"multiple":l.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":l.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){l.removeAttribute("xlink:href");break}h=va(""+y),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?l.setAttribute(h,""+y):l.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?l.setAttribute(h,""):l.removeAttribute(h);break;case"capture":case"download":y===!0?l.setAttribute(h,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?l.setAttribute(h,y):l.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?l.setAttribute(h,y):l.removeAttribute(h);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?l.removeAttribute(h):l.setAttribute(h,y);break;case"popover":At("beforetoggle",l),At("toggle",l),Nc(l,"popover",y);break;case"xlinkActuate":Bi(l,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":Bi(l,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":Bi(l,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":Bi(l,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":Bi(l,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":Bi(l,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":Bi(l,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":Bi(l,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":Bi(l,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":Nc(l,"is",y);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=A0.get(h)||h,Nc(l,h,y))}}function M4(l,u,h,y,T,N){switch(h){case"style":Hp(l,y,N);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(h=y.__html,h!=null){if(T.children!=null)throw Error(r(60));l.innerHTML=h}}break;case"children":typeof y=="string"?zi(l,y):(typeof y=="number"||typeof y=="bigint")&&zi(l,""+y);break;case"onScroll":y!=null&&At("scroll",l);break;case"onScrollEnd":y!=null&&At("scrollend",l);break;case"onClick":y!=null&&(l.onclick=jy);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kc.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(T=h.endsWith("Capture"),u=h.slice(2,T?h.length-7:void 0),N=l[Nr]||null,N=N!=null?N[h]:null,typeof N=="function"&&l.removeEventListener(u,N,T),typeof y=="function")){typeof N!="function"&&N!==null&&(h in l?l[h]=null:l.hasAttribute(h)&&l.removeAttribute(h)),l.addEventListener(u,y,T);break e}h in l?l[h]=y:y===!0?l.setAttribute(h,""):Nc(l,h,y)}}}function Cr(l,u,h){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":At("error",l),At("load",l);var y=!1,T=!1,N;for(N in h)if(h.hasOwnProperty(N)){var U=h[N];if(U!=null)switch(N){case"src":y=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:rn(l,u,N,U,h,null)}}T&&rn(l,u,"srcSet",h.srcSet,h,null),y&&rn(l,u,"src",h.src,h,null);return;case"input":At("invalid",l);var Y=N=U=T=null,oe=null,xe=null;for(y in h)if(h.hasOwnProperty(y)){var Me=h[y];if(Me!=null)switch(y){case"name":T=Me;break;case"type":U=Me;break;case"checked":oe=Me;break;case"defaultChecked":xe=Me;break;case"value":N=Me;break;case"defaultValue":Y=Me;break;case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(r(137,u));break;default:rn(l,u,y,Me,h,null)}}Bp(l,N,Y,oe,xe,U,T,!1),al(l);return;case"select":At("invalid",l),y=U=N=null;for(T in h)if(h.hasOwnProperty(T)&&(Y=h[T],Y!=null))switch(T){case"value":N=Y;break;case"defaultValue":U=Y;break;case"multiple":y=Y;default:rn(l,u,T,Y,h,null)}u=N,h=U,l.multiple=!!y,u!=null?ol(l,!!y,u,!1):h!=null&&ol(l,!!y,h,!0);return;case"textarea":At("invalid",l),N=T=y=null;for(U in h)if(h.hasOwnProperty(U)&&(Y=h[U],Y!=null))switch(U){case"value":y=Y;break;case"defaultValue":T=Y;break;case"children":N=Y;break;case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(91));break;default:rn(l,u,U,Y,h,null)}T0(l,y,T,N),al(l);return;case"option":for(oe in h)if(h.hasOwnProperty(oe)&&(y=h[oe],y!=null))switch(oe){case"selected":l.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:rn(l,u,oe,y,h,null)}return;case"dialog":At("beforetoggle",l),At("toggle",l),At("cancel",l),At("close",l);break;case"iframe":case"object":At("load",l);break;case"video":case"audio":for(y=0;y<kh.length;y++)At(kh[y],l);break;case"image":At("error",l),At("load",l);break;case"details":At("toggle",l);break;case"embed":case"source":case"link":At("error",l),At("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(xe in h)if(h.hasOwnProperty(xe)&&(y=h[xe],y!=null))switch(xe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:rn(l,u,xe,y,h,null)}return;default:if(gd(u)){for(Me in h)h.hasOwnProperty(Me)&&(y=h[Me],y!==void 0&&M4(l,u,Me,y,h,void 0));return}}for(Y in h)h.hasOwnProperty(Y)&&(y=h[Y],y!=null&&rn(l,u,Y,y,h,null))}function CX(l,u,h,y){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,N=null,U=null,Y=null,oe=null,xe=null,Me=null;for(je in h){var Be=h[je];if(h.hasOwnProperty(je)&&Be!=null)switch(je){case"checked":break;case"value":break;case"defaultValue":oe=Be;default:y.hasOwnProperty(je)||rn(l,u,je,null,y,Be)}}for(var Ce in y){var je=y[Ce];if(Be=h[Ce],y.hasOwnProperty(Ce)&&(je!=null||Be!=null))switch(Ce){case"type":N=je;break;case"name":T=je;break;case"checked":xe=je;break;case"defaultChecked":Me=je;break;case"value":U=je;break;case"defaultValue":Y=je;break;case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(r(137,u));break;default:je!==Be&&rn(l,u,Ce,je,y,Be)}}Fp(l,U,Y,oe,xe,Me,N,T);return;case"select":je=U=Y=Ce=null;for(N in h)if(oe=h[N],h.hasOwnProperty(N)&&oe!=null)switch(N){case"value":break;case"multiple":je=oe;default:y.hasOwnProperty(N)||rn(l,u,N,null,y,oe)}for(T in y)if(N=y[T],oe=h[T],y.hasOwnProperty(T)&&(N!=null||oe!=null))switch(T){case"value":Ce=N;break;case"defaultValue":Y=N;break;case"multiple":U=N;default:N!==oe&&rn(l,u,T,N,y,oe)}u=Y,h=U,y=je,Ce!=null?ol(l,!!h,Ce,!1):!!y!=!!h&&(u!=null?ol(l,!!h,u,!0):ol(l,!!h,h?[]:"",!1));return;case"textarea":je=Ce=null;for(Y in h)if(T=h[Y],h.hasOwnProperty(Y)&&T!=null&&!y.hasOwnProperty(Y))switch(Y){case"value":break;case"children":break;default:rn(l,u,Y,null,y,T)}for(U in y)if(T=y[U],N=h[U],y.hasOwnProperty(U)&&(T!=null||N!=null))switch(U){case"value":Ce=T;break;case"defaultValue":je=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:T!==N&&rn(l,u,U,T,y,N)}j0(l,Ce,je);return;case"option":for(var pt in h)if(Ce=h[pt],h.hasOwnProperty(pt)&&Ce!=null&&!y.hasOwnProperty(pt))switch(pt){case"selected":l.selected=!1;break;default:rn(l,u,pt,null,y,Ce)}for(oe in y)if(Ce=y[oe],je=h[oe],y.hasOwnProperty(oe)&&Ce!==je&&(Ce!=null||je!=null))switch(oe){case"selected":l.selected=Ce&&typeof Ce!="function"&&typeof Ce!="symbol";break;default:rn(l,u,oe,Ce,y,je)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in h)Ce=h[dt],h.hasOwnProperty(dt)&&Ce!=null&&!y.hasOwnProperty(dt)&&rn(l,u,dt,null,y,Ce);for(xe in y)if(Ce=y[xe],je=h[xe],y.hasOwnProperty(xe)&&Ce!==je&&(Ce!=null||je!=null))switch(xe){case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(r(137,u));break;default:rn(l,u,xe,Ce,y,je)}return;default:if(gd(u)){for(var an in h)Ce=h[an],h.hasOwnProperty(an)&&Ce!==void 0&&!y.hasOwnProperty(an)&&M4(l,u,an,void 0,y,Ce);for(Me in y)Ce=y[Me],je=h[Me],!y.hasOwnProperty(Me)||Ce===je||Ce===void 0&&je===void 0||M4(l,u,Me,Ce,y,je);return}}for(var he in h)Ce=h[he],h.hasOwnProperty(he)&&Ce!=null&&!y.hasOwnProperty(he)&&rn(l,u,he,null,y,Ce);for(Be in y)Ce=y[Be],je=h[Be],!y.hasOwnProperty(Be)||Ce===je||Ce==null&&je==null||rn(l,u,Be,Ce,y,je)}var L4=null,F4=null;function Ty(l){return l.nodeType===9?l:l.ownerDocument}function gN(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yN(l,u){if(l===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&u==="foreignObject"?0:l}function B4(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var z4=null;function jX(){var l=window.event;return l&&l.type==="popstate"?l===z4?!1:(z4=l,!0):(z4=null,!1)}var vN=typeof setTimeout=="function"?setTimeout:void 0,TX=typeof clearTimeout=="function"?clearTimeout:void 0,bN=typeof Promise=="function"?Promise:void 0,AX=typeof queueMicrotask=="function"?queueMicrotask:typeof bN<"u"?function(l){return bN.resolve(null).then(l).catch(kX)}:vN;function kX(l){setTimeout(function(){throw l})}function Al(l){return l==="head"}function xN(l,u){var h=u,y=0,T=0;do{var N=h.nextSibling;if(l.removeChild(h),N&&N.nodeType===8)if(h=N.data,h==="/$"){if(0<y&&8>y){h=y;var U=l.ownerDocument;if(h&1&&Nh(U.documentElement),h&2&&Nh(U.body),h&4)for(h=U.head,Nh(h),U=h.firstChild;U;){var Y=U.nextSibling,oe=U.nodeName;U[tl]||oe==="SCRIPT"||oe==="STYLE"||oe==="LINK"&&U.rel.toLowerCase()==="stylesheet"||h.removeChild(U),U=Y}}if(T===0){l.removeChild(N),Mh(u);return}T--}else h==="$"||h==="$?"||h==="$!"?T++:y=h.charCodeAt(0)-48;else y=0;h=N}while(h);Mh(u)}function U4(l){var u=l.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var h=u;switch(u=u.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":U4(h),dd(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}l.removeChild(h)}}function EX(l,u,h,y){for(;l.nodeType===1;){var T=h;if(l.nodeName.toLowerCase()!==u.toLowerCase()){if(!y&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(y){if(!l[tl])switch(u){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(N=l.getAttribute("rel"),N==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(N!==T.rel||l.getAttribute("href")!==(T.href==null||T.href===""?null:T.href)||l.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||l.getAttribute("title")!==(T.title==null?null:T.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(N=l.getAttribute("src"),(N!==(T.src==null?null:T.src)||l.getAttribute("type")!==(T.type==null?null:T.type)||l.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&N&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(u==="input"&&l.type==="hidden"){var N=T.name==null?null:""+T.name;if(T.type==="hidden"&&l.getAttribute("name")===N)return l}else return l;if(l=Ca(l.nextSibling),l===null)break}return null}function NX(l,u,h){if(u==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!h||(l=Ca(l.nextSibling),l===null))return null;return l}function H4(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState==="complete"}function _X(l,u){var h=l.ownerDocument;if(l.data!=="$?"||h.readyState==="complete")u();else{var y=function(){u(),h.removeEventListener("DOMContentLoaded",y)};h.addEventListener("DOMContentLoaded",y),l._reactRetry=y}}function Ca(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?"||u==="F!"||u==="F")break;if(u==="/$")return null}}return l}var V4=null;function wN(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var h=l.data;if(h==="$"||h==="$!"||h==="$?"){if(u===0)return l;u--}else h==="/$"&&u++}l=l.previousSibling}return null}function SN(l,u,h){switch(u=Ty(h),l){case"html":if(l=u.documentElement,!l)throw Error(r(452));return l;case"head":if(l=u.head,!l)throw Error(r(453));return l;case"body":if(l=u.body,!l)throw Error(r(454));return l;default:throw Error(r(451))}}function Nh(l){for(var u=l.attributes;u.length;)l.removeAttributeNode(u[0]);dd(l)}var Ki=new Map,CN=new Set;function Ay(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var os=te.d;te.d={f:PX,r:DX,D:OX,C:$X,L:IX,m:RX,X:LX,S:MX,M:FX};function PX(){var l=os.f(),u=yy();return l||u}function DX(l){var u=no(l);u!==null&&u.tag===5&&u.type==="form"?H9(u):os.r(l)}var Wd=typeof document>"u"?null:document;function jN(l,u,h){var y=Wd;if(y&&typeof u=="string"&&u){var T=pr(u);T='link[rel="'+l+'"][href="'+T+'"]',typeof h=="string"&&(T+='[crossorigin="'+h+'"]'),CN.has(T)||(CN.add(T),l={rel:l,crossOrigin:h,href:u},y.querySelector(T)===null&&(u=y.createElement("link"),Cr(u,"link",l),Bn(u),y.head.appendChild(u)))}}function OX(l){os.D(l),jN("dns-prefetch",l,null)}function $X(l,u){os.C(l,u),jN("preconnect",l,u)}function IX(l,u,h){os.L(l,u,h);var y=Wd;if(y&&l&&u){var T='link[rel="preload"][as="'+pr(u)+'"]';u==="image"&&h&&h.imageSrcSet?(T+='[imagesrcset="'+pr(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(T+='[imagesizes="'+pr(h.imageSizes)+'"]')):T+='[href="'+pr(l)+'"]';var N=T;switch(u){case"style":N=Gd(l);break;case"script":N=Kd(l)}Ki.has(N)||(l=p({rel:"preload",href:u==="image"&&h&&h.imageSrcSet?void 0:l,as:u},h),Ki.set(N,l),y.querySelector(T)!==null||u==="style"&&y.querySelector(_h(N))||u==="script"&&y.querySelector(Ph(N))||(u=y.createElement("link"),Cr(u,"link",l),Bn(u),y.head.appendChild(u)))}}function RX(l,u){os.m(l,u);var h=Wd;if(h&&l){var y=u&&typeof u.as=="string"?u.as:"script",T='link[rel="modulepreload"][as="'+pr(y)+'"][href="'+pr(l)+'"]',N=T;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=Kd(l)}if(!Ki.has(N)&&(l=p({rel:"modulepreload",href:l},u),Ki.set(N,l),h.querySelector(T)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Ph(N)))return}y=h.createElement("link"),Cr(y,"link",l),Bn(y),h.head.appendChild(y)}}}function MX(l,u,h){os.S(l,u,h);var y=Wd;if(y&&l){var T=rl(y).hoistableStyles,N=Gd(l);u=u||"default";var U=T.get(N);if(!U){var Y={loading:0,preload:null};if(U=y.querySelector(_h(N)))Y.loading=5;else{l=p({rel:"stylesheet",href:l,"data-precedence":u},h),(h=Ki.get(N))&&q4(l,h);var oe=U=y.createElement("link");Bn(oe),Cr(oe,"link",l),oe._p=new Promise(function(xe,Me){oe.onload=xe,oe.onerror=Me}),oe.addEventListener("load",function(){Y.loading|=1}),oe.addEventListener("error",function(){Y.loading|=2}),Y.loading|=4,ky(U,u,y)}U={type:"stylesheet",instance:U,count:1,state:Y},T.set(N,U)}}}function LX(l,u){os.X(l,u);var h=Wd;if(h&&l){var y=rl(h).hoistableScripts,T=Kd(l),N=y.get(T);N||(N=h.querySelector(Ph(T)),N||(l=p({src:l,async:!0},u),(u=Ki.get(T))&&Y4(l,u),N=h.createElement("script"),Bn(N),Cr(N,"link",l),h.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},y.set(T,N))}}function FX(l,u){os.M(l,u);var h=Wd;if(h&&l){var y=rl(h).hoistableScripts,T=Kd(l),N=y.get(T);N||(N=h.querySelector(Ph(T)),N||(l=p({src:l,async:!0,type:"module"},u),(u=Ki.get(T))&&Y4(l,u),N=h.createElement("script"),Bn(N),Cr(N,"link",l),h.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},y.set(T,N))}}function TN(l,u,h,y){var T=(T=X.current)?Ay(T):null;if(!T)throw Error(r(446));switch(l){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(u=Gd(h.href),h=rl(T).hoistableStyles,y=h.get(u),y||(y={type:"style",instance:null,count:0,state:null},h.set(u,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){l=Gd(h.href);var N=rl(T).hoistableStyles,U=N.get(l);if(U||(T=T.ownerDocument||T,U={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(l,U),(N=T.querySelector(_h(l)))&&!N._p&&(U.instance=N,U.state.loading=5),Ki.has(l)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Ki.set(l,h),N||BX(T,l,h,U.state))),u&&y===null)throw Error(r(528,""));return U}if(u&&y!==null)throw Error(r(529,""));return null;case"script":return u=h.async,h=h.src,typeof h=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=Kd(h),h=rl(T).hoistableScripts,y=h.get(u),y||(y={type:"script",instance:null,count:0,state:null},h.set(u,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,l))}}function Gd(l){return'href="'+pr(l)+'"'}function _h(l){return'link[rel="stylesheet"]['+l+"]"}function AN(l){return p({},l,{"data-precedence":l.precedence,precedence:null})}function BX(l,u,h,y){l.querySelector('link[rel="preload"][as="style"]['+u+"]")?y.loading=1:(u=l.createElement("link"),y.preload=u,u.addEventListener("load",function(){return y.loading|=1}),u.addEventListener("error",function(){return y.loading|=2}),Cr(u,"link",h),Bn(u),l.head.appendChild(u))}function Kd(l){return'[src="'+pr(l)+'"]'}function Ph(l){return"script[async]"+l}function kN(l,u,h){if(u.count++,u.instance===null)switch(u.type){case"style":var y=l.querySelector('style[data-href~="'+pr(h.href)+'"]');if(y)return u.instance=y,Bn(y),y;var T=p({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return y=(l.ownerDocument||l).createElement("style"),Bn(y),Cr(y,"style",T),ky(y,h.precedence,l),u.instance=y;case"stylesheet":T=Gd(h.href);var N=l.querySelector(_h(T));if(N)return u.state.loading|=4,u.instance=N,Bn(N),N;y=AN(h),(T=Ki.get(T))&&q4(y,T),N=(l.ownerDocument||l).createElement("link"),Bn(N);var U=N;return U._p=new Promise(function(Y,oe){U.onload=Y,U.onerror=oe}),Cr(N,"link",y),u.state.loading|=4,ky(N,h.precedence,l),u.instance=N;case"script":return N=Kd(h.src),(T=l.querySelector(Ph(N)))?(u.instance=T,Bn(T),T):(y=h,(T=Ki.get(N))&&(y=p({},h),Y4(y,T)),l=l.ownerDocument||l,T=l.createElement("script"),Bn(T),Cr(T,"link",y),l.head.appendChild(T),u.instance=T);case"void":return null;default:throw Error(r(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(y=u.instance,u.state.loading|=4,ky(y,h.precedence,l));return u.instance}function ky(l,u,h){for(var y=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=y.length?y[y.length-1]:null,N=T,U=0;U<y.length;U++){var Y=y[U];if(Y.dataset.precedence===u)N=Y;else if(N!==T)break}N?N.parentNode.insertBefore(l,N.nextSibling):(u=h.nodeType===9?h.head:h,u.insertBefore(l,u.firstChild))}function q4(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.title==null&&(l.title=u.title)}function Y4(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.integrity==null&&(l.integrity=u.integrity)}var Ey=null;function EN(l,u,h){if(Ey===null){var y=new Map,T=Ey=new Map;T.set(h,y)}else T=Ey,y=T.get(h),y||(y=new Map,T.set(h,y));if(y.has(l))return y;for(y.set(l,null),h=h.getElementsByTagName(l),T=0;T<h.length;T++){var N=h[T];if(!(N[tl]||N[Gn]||l==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var U=N.getAttribute(u)||"";U=l+U;var Y=y.get(U);Y?Y.push(N):y.set(U,[N])}}return y}function NN(l,u,h){l=l.ownerDocument||l,l.head.insertBefore(h,u==="title"?l.querySelector("head > title"):null)}function zX(l,u,h){if(h===1||u.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return l=u.disabled,typeof u.precedence=="string"&&l==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function _N(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}var Dh=null;function UX(){}function HX(l,u,h){if(Dh===null)throw Error(r(475));var y=Dh;if(u.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var T=Gd(h.href),N=l.querySelector(_h(T));if(N){l=N._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(y.count++,y=Ny.bind(y),l.then(y,y)),u.state.loading|=4,u.instance=N,Bn(N);return}N=l.ownerDocument||l,h=AN(h),(T=Ki.get(T))&&q4(h,T),N=N.createElement("link"),Bn(N);var U=N;U._p=new Promise(function(Y,oe){U.onload=Y,U.onerror=oe}),Cr(N,"link",h),u.instance=N}y.stylesheets===null&&(y.stylesheets=new Map),y.stylesheets.set(u,l),(l=u.state.preload)&&(u.state.loading&3)===0&&(y.count++,u=Ny.bind(y),l.addEventListener("load",u),l.addEventListener("error",u))}}function VX(){if(Dh===null)throw Error(r(475));var l=Dh;return l.stylesheets&&l.count===0&&W4(l,l.stylesheets),0<l.count?function(u){var h=setTimeout(function(){if(l.stylesheets&&W4(l,l.stylesheets),l.unsuspend){var y=l.unsuspend;l.unsuspend=null,y()}},6e4);return l.unsuspend=u,function(){l.unsuspend=null,clearTimeout(h)}}:null}function Ny(){if(this.count--,this.count===0){if(this.stylesheets)W4(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var _y=null;function W4(l,u){l.stylesheets=null,l.unsuspend!==null&&(l.count++,_y=new Map,u.forEach(qX,l),_y=null,Ny.call(l))}function qX(l,u){if(!(u.state.loading&4)){var h=_y.get(l);if(h)var y=h.get(null);else{h=new Map,_y.set(l,h);for(var T=l.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<T.length;N++){var U=T[N];(U.nodeName==="LINK"||U.getAttribute("media")!=="not all")&&(h.set(U.dataset.precedence,U),y=U)}y&&h.set(null,y)}T=u.instance,U=T.getAttribute("data-precedence"),N=h.get(U)||y,N===y&&h.set(null,T),h.set(U,T),this.count++,y=Ny.bind(this),T.addEventListener("load",y),T.addEventListener("error",y),N?N.parentNode.insertBefore(T,N.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(T,l.firstChild)),u.state.loading|=4}}var Oh={$$typeof:E,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function YX(l,u,h,y,T,N,U,Y){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zs(0),this.hiddenUpdates=Zs(null),this.identifierPrefix=y,this.onUncaughtError=T,this.onCaughtError=N,this.onRecoverableError=U,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Y,this.incompleteTransitions=new Map}function PN(l,u,h,y,T,N,U,Y,oe,xe,Me,Be){return l=new YX(l,u,h,U,Y,oe,xe,Be),u=1,N===!0&&(u|=24),N=gi(3,null,null,u),l.current=N,N.stateNode=l,u=Ew(),u.refCount++,l.pooledCache=u,u.refCount++,N.memoizedState={element:y,isDehydrated:h,cache:u},Dw(N),l}function DN(l){return l?(l=Ad,l):Ad}function ON(l,u,h,y,T,N){T=DN(T),y.context===null?y.context=T:y.pendingContext=T,y=pl(u),y.payload={element:h},N=N===void 0?null:N,N!==null&&(y.callback=N),h=hl(l,y,u),h!==null&&(wi(h,l,u),ch(h,l,u))}function $N(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var h=l.retryLane;l.retryLane=h!==0&&h<u?h:u}}function G4(l,u){$N(l,u),(l=l.alternate)&&$N(l,u)}function IN(l){if(l.tag===13){var u=Td(l,67108864);u!==null&&wi(u,l,67108864),G4(l,67108864)}}var Py=!0;function WX(l,u,h,y){var T=q.T;q.T=null;var N=te.p;try{te.p=2,K4(l,u,h,y)}finally{te.p=N,q.T=T}}function GX(l,u,h,y){var T=q.T;q.T=null;var N=te.p;try{te.p=8,K4(l,u,h,y)}finally{te.p=N,q.T=T}}function K4(l,u,h,y){if(Py){var T=X4(y);if(T===null)R4(l,u,y,Dy,h),MN(l,y);else if(XX(T,l,u,h,y))y.stopPropagation();else if(MN(l,y),u&4&&-1<KX.indexOf(l)){for(;T!==null;){var N=no(T);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var U=Ke(N.pendingLanes);if(U!==0){var Y=N;for(Y.pendingLanes|=2,Y.entangledLanes|=2;U;){var oe=1<<31-le(U);Y.entanglements[1]|=oe,U&=~oe}ho(N),(Xt&6)===0&&(my=ye()+500,Ah(0))}}break;case 13:Y=Td(N,2),Y!==null&&wi(Y,N,2),yy(),G4(N,2)}if(N=X4(y),N===null&&R4(l,u,y,Dy,h),N===T)break;T=N}T!==null&&y.stopPropagation()}else R4(l,u,y,null,h)}}function X4(l){return l=qp(l),Q4(l)}var Dy=null;function Q4(l){if(Dy=null,l=to(l),l!==null){var u=a(l);if(u===null)l=null;else{var h=u.tag;if(h===13){if(l=s(u),l!==null)return l;l=null}else if(h===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null)}}return Dy=l,null}function RN(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Oe()){case Re:return 2;case it:return 8;case ut:case ze:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Z4=!1,kl=null,El=null,Nl=null,$h=new Map,Ih=new Map,_l=[],KX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function MN(l,u){switch(l){case"focusin":case"focusout":kl=null;break;case"dragenter":case"dragleave":El=null;break;case"mouseover":case"mouseout":Nl=null;break;case"pointerover":case"pointerout":$h.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ih.delete(u.pointerId)}}function Rh(l,u,h,y,T,N){return l===null||l.nativeEvent!==N?(l={blockedOn:u,domEventName:h,eventSystemFlags:y,nativeEvent:N,targetContainers:[T]},u!==null&&(u=no(u),u!==null&&IN(u)),l):(l.eventSystemFlags|=y,u=l.targetContainers,T!==null&&u.indexOf(T)===-1&&u.push(T),l)}function XX(l,u,h,y,T){switch(u){case"focusin":return kl=Rh(kl,l,u,h,y,T),!0;case"dragenter":return El=Rh(El,l,u,h,y,T),!0;case"mouseover":return Nl=Rh(Nl,l,u,h,y,T),!0;case"pointerover":var N=T.pointerId;return $h.set(N,Rh($h.get(N)||null,l,u,h,y,T)),!0;case"gotpointercapture":return N=T.pointerId,Ih.set(N,Rh(Ih.get(N)||null,l,u,h,y,T)),!0}return!1}function LN(l){var u=to(l.target);if(u!==null){var h=a(u);if(h!==null){if(u=h.tag,u===13){if(u=s(h),u!==null){l.blockedOn=u,aw(l.priority,function(){if(h.tag===13){var y=xi();y=Mp(y);var T=Td(h,y);T!==null&&wi(T,h,y),G4(h,y)}});return}}else if(u===3&&h.stateNode.current.memoizedState.isDehydrated){l.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Oy(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var h=X4(l.nativeEvent);if(h===null){h=l.nativeEvent;var y=new h.constructor(h.type,h);Vp=y,h.target.dispatchEvent(y),Vp=null}else return u=no(h),u!==null&&IN(u),l.blockedOn=h,!1;u.shift()}return!0}function FN(l,u,h){Oy(l)&&h.delete(u)}function QX(){Z4=!1,kl!==null&&Oy(kl)&&(kl=null),El!==null&&Oy(El)&&(El=null),Nl!==null&&Oy(Nl)&&(Nl=null),$h.forEach(FN),Ih.forEach(FN)}function $y(l,u){l.blockedOn===u&&(l.blockedOn=null,Z4||(Z4=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,QX)))}var Iy=null;function BN(l){Iy!==l&&(Iy=l,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Iy===l&&(Iy=null);for(var u=0;u<l.length;u+=3){var h=l[u],y=l[u+1],T=l[u+2];if(typeof y!="function"){if(Q4(y||h)===null)continue;break}var N=no(h);N!==null&&(l.splice(u,3),u-=3,Qw(N,{pending:!0,data:T,method:h.method,action:y},y,T))}}))}function Mh(l){function u(oe){return $y(oe,l)}kl!==null&&$y(kl,l),El!==null&&$y(El,l),Nl!==null&&$y(Nl,l),$h.forEach(u),Ih.forEach(u);for(var h=0;h<_l.length;h++){var y=_l[h];y.blockedOn===l&&(y.blockedOn=null)}for(;0<_l.length&&(h=_l[0],h.blockedOn===null);)LN(h),h.blockedOn===null&&_l.shift();if(h=(l.ownerDocument||l).$$reactFormReplay,h!=null)for(y=0;y<h.length;y+=3){var T=h[y],N=h[y+1],U=T[Nr]||null;if(typeof N=="function")U||BN(h);else if(U){var Y=null;if(N&&N.hasAttribute("formAction")){if(T=N,U=N[Nr]||null)Y=U.formAction;else if(Q4(T)!==null)continue}else Y=U.action;typeof Y=="function"?h[y+1]=Y:(h.splice(y,3),y-=3),BN(h)}}}function J4(l){this._internalRoot=l}Ry.prototype.render=J4.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(r(409));var h=u.current,y=xi();ON(h,y,l,u,null,null)},Ry.prototype.unmount=J4.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;ON(l.current,2,null,l,null,null),yy(),u[Uo]=null}};function Ry(l){this._internalRoot=l}Ry.prototype.unstable_scheduleHydration=function(l){if(l){var u=zo();l={blockedOn:null,target:l,priority:u};for(var h=0;h<_l.length&&u!==0&&u<_l[h].priority;h++);_l.splice(h,0,l),h===0&&LN(l)}};var zN=t.version;if(zN!=="19.1.1")throw Error(r(527,zN,"19.1.1"));te.findDOMNode=function(l){var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=d(u),l=l!==null?f(l):null,l=l===null?null:l.stateNode,l};var ZX={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var My=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!My.isDisabled&&My.supportsFiber)try{ie=My.inject(ZX),we=My}catch{}}return Fh.createRoot=function(l,u){if(!i(l))throw Error(r(299));var h=!1,y="",T=rE,N=iE,U=aE,Y=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(T=u.onUncaughtError),u.onCaughtError!==void 0&&(N=u.onCaughtError),u.onRecoverableError!==void 0&&(U=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(Y=u.unstable_transitionCallbacks)),u=PN(l,1,!1,null,null,h,y,T,N,U,Y,null),l[Uo]=u.current,I4(l),new J4(u)},Fh.hydrateRoot=function(l,u,h){if(!i(l))throw Error(r(299));var y=!1,T="",N=rE,U=iE,Y=aE,oe=null,xe=null;return h!=null&&(h.unstable_strictMode===!0&&(y=!0),h.identifierPrefix!==void 0&&(T=h.identifierPrefix),h.onUncaughtError!==void 0&&(N=h.onUncaughtError),h.onCaughtError!==void 0&&(U=h.onCaughtError),h.onRecoverableError!==void 0&&(Y=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(oe=h.unstable_transitionCallbacks),h.formState!==void 0&&(xe=h.formState)),u=PN(l,1,!0,u,h??null,y,T,N,U,Y,oe,xe),u.context=DN(null),h=u.current,y=xi(),y=Mp(y),T=pl(y),T.callback=null,hl(h,T,y),h=y,u.current.lanes=h,Tn(u,h),ho(u),l[Uo]=u.current,I4(l),new Ry(u)},Fh.version="19.1.1",Fh}var QN;function gL(){if(QN)return n3.exports;QN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),n3.exports=sQ(),n3.exports}var lQ=gL(),o3={exports:{}},s3={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZN;function cQ(){if(ZN)return s3;ZN=1;var e=cc();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,s=e.useMemo,c=e.useDebugValue;return s3.useSyncExternalStoreWithSelector=function(d,f,p,m,g){var v=i(null);if(v.current===null){var b={hasValue:!1,value:null};v.current=b}else b=v.current;v=s(function(){function j($){if(!A){if(A=!0,k=$,$=m($),g!==void 0&&b.hasValue){var F=b.value;if(g(F,$))return E=F}return E=$}if(F=E,n(k,$))return F;var O=m($);return g!==void 0&&g(F,O)?(k=$,F):(k=$,E=O)}var A=!1,k,E,P=p===void 0?null:p;return[function(){return j(f())},P===null?void 0:function(){return j(P())}]},[f,p,m,g]);var C=r(d,v[0],v[1]);return a(function(){b.hasValue=!0,b.value=C},[C]),c(C),C},s3}var JN;function uQ(){return JN||(JN=1,o3.exports=cQ()),o3.exports}var dQ=uQ();function fQ(e){e()}function pQ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){fQ(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var e_={notify(){},get:()=>[]};function hQ(e,t){let n,r=e_,i=0,a=!1;function s(C){p();const j=r.subscribe(C);let A=!1;return()=>{A||(A=!0,j(),m())}}function c(){r.notify()}function d(){b.onStateChange&&b.onStateChange()}function f(){return a}function p(){i++,n||(n=e.subscribe(d),r=pQ())}function m(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=e_)}function g(){a||(a=!0,p())}function v(){a&&(a=!1,m())}const b={addNestedSub:s,notifyNestedSubs:c,handleChangeWrapper:d,isSubscribed:f,trySubscribe:g,tryUnsubscribe:v,getListeners:()=>r};return b}var mQ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gQ=mQ(),yQ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",vQ=yQ(),bQ=()=>gQ||vQ?w.useLayoutEffect:w.useEffect,xQ=bQ(),wQ=Symbol.for("react-redux-context"),SQ=typeof globalThis<"u"?globalThis:{};function CQ(){if(!w.createContext)return{};const e=SQ[wQ]??=new Map;let t=e.get(w.createContext);return t||(t=w.createContext(null),e.set(w.createContext,t)),t}var Zl=CQ();function jQ(e){const{children:t,context:n,serverState:r,store:i}=e,a=w.useMemo(()=>{const d=hQ(i);return{store:i,subscription:d,getServerState:r?()=>r:void 0}},[i,r]),s=w.useMemo(()=>i.getState(),[i]);xQ(()=>{const{subscription:d}=a;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),s!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[a,s]);const c=n||Zl;return w.createElement(c.Provider,{value:a},t)}var yL=jQ;function k5(e=Zl){return function(){return w.useContext(e)}}var vL=k5();function bL(e=Zl){const t=e===Zl?vL:k5(e),n=()=>{const{store:r}=t();return r};return Object.assign(n,{withTypes:()=>n}),n}var TQ=bL();function AQ(e=Zl){const t=e===Zl?TQ:bL(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var wt=AQ(),kQ=(e,t)=>e===t;function EQ(e=Zl){const t=e===Zl?vL:k5(e),n=(r,i={})=>{const{equalityFn:a=kQ}=typeof i=="function"?{equalityFn:i}:i,s=t(),{store:c,subscription:d,getServerState:f}=s;w.useRef(!0);const p=w.useCallback({[r.name](g){return r(g)}}[r.name],[r]),m=dQ.useSyncExternalStoreWithSelector(d.addNestedSub,c.getState,f||c.getState,p,a);return w.useDebugValue(m),m};return Object.assign(n,{withTypes:()=>n}),n}var qe=EQ();function jr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var NQ=typeof Symbol=="function"&&Symbol.observable||"@@observable",t_=NQ,l3=()=>Math.random().toString(36).substring(7).split("").join("."),_Q={INIT:`@@redux/INIT${l3()}`,REPLACE:`@@redux/REPLACE${l3()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${l3()}`},pb=_Q;function E5(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function N5(e,t,n){if(typeof e!="function")throw new Error(jr(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(jr(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(jr(1));return n(N5)(e,t)}let r=e,i=t,a=new Map,s=a,c=0,d=!1;function f(){s===a&&(s=new Map,a.forEach((j,A)=>{s.set(A,j)}))}function p(){if(d)throw new Error(jr(3));return i}function m(j){if(typeof j!="function")throw new Error(jr(4));if(d)throw new Error(jr(5));let A=!0;f();const k=c++;return s.set(k,j),function(){if(A){if(d)throw new Error(jr(6));A=!1,f(),s.delete(k),a=null}}}function g(j){if(!E5(j))throw new Error(jr(7));if(typeof j.type>"u")throw new Error(jr(8));if(typeof j.type!="string")throw new Error(jr(17));if(d)throw new Error(jr(9));try{d=!0,i=r(i,j)}finally{d=!1}return(a=s).forEach(k=>{k()}),j}function v(j){if(typeof j!="function")throw new Error(jr(10));r=j,g({type:pb.REPLACE})}function b(){const j=m;return{subscribe(A){if(typeof A!="object"||A===null)throw new Error(jr(11));function k(){const P=A;P.next&&P.next(p())}return k(),{unsubscribe:j(k)}},[t_](){return this}}}return g({type:pb.INIT}),{dispatch:g,subscribe:m,getState:p,replaceReducer:v,[t_]:b}}function PQ(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:pb.INIT})>"u")throw new Error(jr(12));if(typeof n(void 0,{type:pb.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(jr(13))})}function _5(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let i;try{PQ(n)}catch(a){i=a}return function(s={},c){if(i)throw i;let d=!1;const f={};for(let p=0;p<r.length;p++){const m=r[p],g=n[m],v=s[m],b=g(v,c);if(typeof b>"u")throw c&&c.type,new Error(jr(14));f[m]=b,d=d||b!==v}return d=d||r.length!==Object.keys(s).length,d?f:s}}function hb(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function DQ(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(jr(15))};const s={getState:i.getState,dispatch:(d,...f)=>a(d,...f)},c=e.map(d=>d(s));return a=hb(...c)(i.dispatch),{...i,dispatch:a}}}function xL(e){return E5(e)&&"type"in e&&typeof e.type=="string"}var wL=Symbol.for("immer-nothing"),n_=Symbol.for("immer-draftable"),Ii=Symbol.for("immer-state");function Ia(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Bf=Object.getPrototypeOf;function Yu(e){return!!e&&!!e[Ii]}function _s(e){return e?SL(e)||Array.isArray(e)||!!e[n_]||!!e.constructor?.[n_]||Pg(e)||zx(e):!1}var OQ=Object.prototype.constructor.toString();function SL(e){if(!e||typeof e!="object")return!1;const t=Bf(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===OQ}function mb(e,t){Bx(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function Bx(e){const t=e[Ii];return t?t.type_:Array.isArray(e)?1:Pg(e)?2:zx(e)?3:0}function r8(e,t){return Bx(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function CL(e,t,n){const r=Bx(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function $Q(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Pg(e){return e instanceof Map}function zx(e){return e instanceof Set}function cu(e){return e.copy_||e.base_}function i8(e,t){if(Pg(e))return new Map(e);if(zx(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=SL(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Ii];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],c=r[s];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[s]={configurable:!0,writable:!0,enumerable:c.enumerable,value:e[s]})}return Object.create(Bf(e),r)}else{const r=Bf(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function P5(e,t=!1){return Ux(e)||Yu(e)||!_s(e)||(Bx(e)>1&&Object.defineProperties(e,{set:{value:Ly},add:{value:Ly},clear:{value:Ly},delete:{value:Ly}}),Object.freeze(e),t&&Object.values(e).forEach(n=>P5(n,!0))),e}function Ly(){Ia(2)}function Ux(e){return Object.isFrozen(e)}var IQ={};function Wu(e){const t=IQ[e];return t||Ia(0,e),t}var Hm;function jL(){return Hm}function RQ(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function r_(e,t){t&&(Wu("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function a8(e){o8(e),e.drafts_.forEach(MQ),e.drafts_=null}function o8(e){e===Hm&&(Hm=e.parent_)}function i_(e){return Hm=RQ(Hm,e)}function MQ(e){const t=e[Ii];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function a_(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Ii].modified_&&(a8(t),Ia(4)),_s(e)&&(e=gb(t,e),t.parent_||yb(t,e)),t.patches_&&Wu("Patches").generateReplacementPatches_(n[Ii].base_,e,t.patches_,t.inversePatches_)):e=gb(t,n,[]),a8(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==wL?e:void 0}function gb(e,t,n){if(Ux(t))return t;const r=t[Ii];if(!r)return mb(t,(i,a)=>o_(e,r,t,i,a,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return yb(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,s=!1;r.type_===3&&(a=new Set(i),i.clear(),s=!0),mb(a,(c,d)=>o_(e,r,i,c,d,n,s)),yb(e,i,!1),n&&e.patches_&&Wu("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function o_(e,t,n,r,i,a,s){if(Yu(i)){const c=a&&t&&t.type_!==3&&!r8(t.assigned_,r)?a.concat(r):void 0,d=gb(e,i,c);if(CL(n,r,d),Yu(d))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(_s(i)&&!Ux(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;gb(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Pg(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&yb(e,i)}}function yb(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&P5(t,n)}function LQ(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:jL(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=D5;n&&(i=[r],a=Vm);const{revoke:s,proxy:c}=Proxy.revocable(i,a);return r.draft_=c,r.revoke_=s,c}var D5={get(e,t){if(t===Ii)return e;const n=cu(e);if(!r8(n,t))return FQ(e,n,t);const r=n[t];return e.finalized_||!_s(r)?r:r===c3(e.base_,t)?(u3(e),e.copy_[t]=l8(r,e)):r},has(e,t){return t in cu(e)},ownKeys(e){return Reflect.ownKeys(cu(e))},set(e,t,n){const r=TL(cu(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=c3(cu(e),t),a=i?.[Ii];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if($Q(n,i)&&(n!==void 0||r8(e.base_,t)))return!0;u3(e),s8(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return c3(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,u3(e),s8(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=cu(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Ia(11)},getPrototypeOf(e){return Bf(e.base_)},setPrototypeOf(){Ia(12)}},Vm={};mb(D5,(e,t)=>{Vm[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Vm.deleteProperty=function(e,t){return Vm.set.call(this,e,t,void 0)};Vm.set=function(e,t,n){return D5.set.call(this,e[0],t,n,e[0])};function c3(e,t){const n=e[Ii];return(n?cu(n):e)[t]}function FQ(e,t,n){const r=TL(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function TL(e,t){if(!(t in e))return;let n=Bf(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Bf(n)}}function s8(e){e.modified_||(e.modified_=!0,e.parent_&&s8(e.parent_))}function u3(e){e.copy_||(e.copy_=i8(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var BQ=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const s=this;return function(d=a,...f){return s.produce(d,p=>n.call(this,p,...f))}}typeof n!="function"&&Ia(6),r!==void 0&&typeof r!="function"&&Ia(7);let i;if(_s(t)){const a=i_(this),s=l8(t,void 0);let c=!0;try{i=n(s),c=!1}finally{c?a8(a):o8(a)}return r_(a,r),a_(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===wL&&(i=void 0),this.autoFreeze_&&P5(i,!0),r){const a=[],s=[];Wu("Patches").generateReplacementPatches_(t,i,a,s),r(a,s)}return i}else Ia(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...c)=>this.produceWithPatches(s,d=>t(d,...c));let r,i;return[this.produce(t,n,(s,c)=>{r=s,i=c}),r,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){_s(e)||Ia(8),Yu(e)&&(e=Cs(e));const t=i_(this),n=l8(e,void 0);return n[Ii].isManual_=!0,o8(t),n}finishDraft(e,t){const n=e&&e[Ii];(!n||!n.isManual_)&&Ia(9);const{scope_:r}=n;return r_(r,t),a_(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Wu("Patches").applyPatches_;return Yu(e)?r(e,t):this.produce(e,i=>r(i,t))}};function l8(e,t){const n=Pg(e)?Wu("MapSet").proxyMap_(e,t):zx(e)?Wu("MapSet").proxySet_(e,t):LQ(e,t);return(t?t.scope_:jL()).drafts_.push(n),n}function Cs(e){return Yu(e)||Ia(10,e),AL(e)}function AL(e){if(!_s(e)||Ux(e))return e;const t=e[Ii];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=i8(e,t.scope_.immer_.useStrictShallowCopy_)}else n=i8(e,!0);return mb(n,(r,i)=>{CL(n,r,AL(i))}),t&&(t.finalized_=!1),n}var zQ=new BQ,kL=zQ.produce;function UQ(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function HQ(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function VQ(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var s_=e=>Array.isArray(e)?e:[e];function qQ(e){const t=Array.isArray(e[0])?e[0]:e;return VQ(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function YQ(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var WQ=class{constructor(e){this.value=e}deref(){return this.value}},GQ=typeof WeakRef<"u"?WeakRef:WQ,KQ=0,l_=1;function Fy(){return{s:KQ,v:void 0,o:null,p:null}}function EL(e,t={}){let n=Fy();const{resultEqualityCheck:r}=t;let i,a=0;function s(){let c=n;const{length:d}=arguments;for(let m=0,g=d;m<g;m++){const v=arguments[m];if(typeof v=="function"||typeof v=="object"&&v!==null){let b=c.o;b===null&&(c.o=b=new WeakMap);const C=b.get(v);C===void 0?(c=Fy(),b.set(v,c)):c=C}else{let b=c.p;b===null&&(c.p=b=new Map);const C=b.get(v);C===void 0?(c=Fy(),b.set(v,c)):c=C}}const f=c;let p;if(c.s===l_)p=c.v;else if(p=e.apply(null,arguments),a++,r){const m=i?.deref?.()??i;m!=null&&r(m,p)&&(p=m,a!==0&&a--),i=typeof p=="object"&&p!==null||typeof p=="function"?new GQ(p):p}return f.s=l_,f.v=p,p}return s.clearCache=()=>{n=Fy(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function XQ(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,s=0,c,d={},f=i.pop();typeof f=="object"&&(d=f,f=i.pop()),UQ(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const p={...n,...d},{memoize:m,memoizeOptions:g=[],argsMemoize:v=EL,argsMemoizeOptions:b=[]}=p,C=s_(g),j=s_(b),A=qQ(i),k=m(function(){return a++,f.apply(null,arguments)},...C),E=v(function(){s++;const $=YQ(A,arguments);return c=k.apply(null,$),c},...j);return Object.assign(E,{resultFunc:f,memoizedResultFunc:k,dependencies:A,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>c,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:m,argsMemoize:v})};return Object.assign(r,{withTypes:()=>r}),r}var Te=XQ(EL),QQ=Object.assign((e,t=Te)=>{HQ(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((s,c,d)=>(s[n[d]]=c,s),{}))},{withTypes:()=>QQ});function NL(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var ZQ=NL(),JQ=NL,eZ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?hb:hb.apply(null,arguments)},tZ=e=>e&&typeof e.match=="function";function Gr(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Di(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>xL(r)&&r.type===e,n}var _L=class am extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,am.prototype)}static get[Symbol.species](){return am}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new am(...t[0].concat(this)):new am(...t.concat(this))}};function c_(e){return _s(e)?kL(e,()=>{}):e}function By(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function nZ(e){return typeof e=="boolean"}var rZ=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new _L;return n&&(nZ(n)?s.push(ZQ):s.push(JQ(n.extraArgument))),s},iZ="RTK_autoBatch",u_=e=>t=>{setTimeout(t,e)},aZ=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,s=!1;const c=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:u_(10):e.type==="callback"?e.queueNotification:u_(e.timeout),f=()=>{s=!1,a&&(a=!1,c.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const m=()=>i&&p(),g=r.subscribe(m);return c.add(p),()=>{g(),c.delete(p)}},dispatch(p){try{return i=!p?.meta?.[iZ],a=!i,a&&(s||(s=!0,d(f))),r.dispatch(p)}finally{i=!0}}})},oZ=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new _L(e);return r&&i.push(aZ(typeof r=="object"?r:void 0)),i};function PL(e){const t=rZ(),{reducer:n=void 0,middleware:r,devTools:i=!0,duplicateMiddlewareCheck:a=!0,preloadedState:s=void 0,enhancers:c=void 0}=e||{};let d;if(typeof n=="function")d=n;else if(E5(n))d=_5(n);else throw new Error(Di(1));let f;typeof r=="function"?f=r(t):f=t();let p=hb;i&&(p=eZ({trace:!1,...typeof i=="object"&&i}));const m=DQ(...f),g=oZ(m);let v=typeof c=="function"?c(g):g();const b=p(...v);return N5(d,s,b)}function DL(e){const t={},n=[];let r;const i={addCase(a,s){const c=typeof a=="string"?a:a.type;if(!c)throw new Error(Di(28));if(c in t)throw new Error(Di(29));return t[c]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function sZ(e){return typeof e=="function"}function lZ(e,t){let[n,r,i]=DL(t),a;if(sZ(e))a=()=>c_(e());else{const c=c_(e);a=()=>c}function s(c=a(),d){let f=[n[d.type],...r.filter(({matcher:p})=>p(d)).map(({reducer:p})=>p)];return f.filter(p=>!!p).length===0&&(f=[i]),f.reduce((p,m)=>{if(m)if(Yu(p)){const v=m(p,d);return v===void 0?p:v}else{if(_s(p))return kL(p,g=>m(g,d));{const g=m(p,d);if(g===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return p},c)}return s.getInitialState=a,s}var cZ=(e,t)=>tZ(e)?e.match(t):e(t);function uZ(...e){return t=>e.some(n=>cZ(n,t))}var dZ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",OL=(e=21)=>{let t="",n=e;for(;n--;)t+=dZ[Math.random()*64|0];return t},fZ=["name","message","stack","code"],d3=class{constructor(e,t){this.payload=e,this.meta=t}_type},d_=class{constructor(e,t){this.payload=e,this.meta=t}_type},pZ=e=>{if(typeof e=="object"&&e!==null){const t={};for(const n of fZ)typeof e[n]=="string"&&(t[n]=e[n]);return t}return{message:String(e)}},f_="External signal was aborted",Fe=(()=>{function e(t,n,r){const i=Gr(t+"/fulfilled",(d,f,p,m)=>({payload:d,meta:{...m||{},arg:p,requestId:f,requestStatus:"fulfilled"}})),a=Gr(t+"/pending",(d,f,p)=>({payload:void 0,meta:{...p||{},arg:f,requestId:d,requestStatus:"pending"}})),s=Gr(t+"/rejected",(d,f,p,m,g)=>({payload:m,error:(r&&r.serializeError||pZ)(d||"Rejected"),meta:{...g||{},arg:p,requestId:f,rejectedWithValue:!!m,requestStatus:"rejected",aborted:d?.name==="AbortError",condition:d?.name==="ConditionError"}}));function c(d,{signal:f}={}){return(p,m,g)=>{const v=r?.idGenerator?r.idGenerator(d):OL(),b=new AbortController;let C,j;function A(E){j=E,b.abort()}f&&(f.aborted?A(f_):f.addEventListener("abort",()=>A(f_),{once:!0}));const k=(async function(){let E;try{let $=r?.condition?.(d,{getState:m,extra:g});if(mZ($)&&($=await $),$===!1||b.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const F=new Promise((O,_)=>{C=()=>{_({name:"AbortError",message:j||"Aborted"})},b.signal.addEventListener("abort",C)});p(a(v,d,r?.getPendingMeta?.({requestId:v,arg:d},{getState:m,extra:g}))),E=await Promise.race([F,Promise.resolve(n(d,{dispatch:p,getState:m,extra:g,requestId:v,signal:b.signal,abort:A,rejectWithValue:(O,_)=>new d3(O,_),fulfillWithValue:(O,_)=>new d_(O,_)})).then(O=>{if(O instanceof d3)throw O;return O instanceof d_?i(O.payload,v,d,O.meta):i(O,v,d)})])}catch($){E=$ instanceof d3?s(null,v,d,$.payload,$.meta):s($,v,d)}finally{C&&b.signal.removeEventListener("abort",C)}return r&&!r.dispatchConditionRejection&&s.match(E)&&E.meta.condition||p(E),E})();return Object.assign(k,{abort:A,requestId:v,arg:d,unwrap(){return k.then(hZ)}})}}return Object.assign(c,{pending:a,rejected:s,fulfilled:i,settled:uZ(s,i),typePrefix:t})}return e.withTypes=()=>e,e})();function hZ(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function mZ(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var gZ=Symbol.for("rtk-slice-createasyncthunk");function yZ(e,t){return`${e}/${t}`}function vZ({creators:e}={}){const t=e?.asyncThunk?.[gZ];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(Di(11));const s=(typeof r.reducers=="function"?r.reducers(xZ()):r.reducers)||{},c=Object.keys(s),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(E,P){const $=typeof E=="string"?E:E.type;if(!$)throw new Error(Di(12));if($ in d.sliceCaseReducersByType)throw new Error(Di(13));return d.sliceCaseReducersByType[$]=P,f},addMatcher(E,P){return d.sliceMatchers.push({matcher:E,reducer:P}),f},exposeAction(E,P){return d.actionCreators[E]=P,f},exposeCaseReducer(E,P){return d.sliceCaseReducersByName[E]=P,f}};c.forEach(E=>{const P=s[E],$={reducerName:E,type:yZ(i,E),createNotation:typeof r.reducers=="function"};SZ(P)?jZ($,P,f,t):wZ($,P,f)});function p(){const[E={},P=[],$=void 0]=typeof r.extraReducers=="function"?DL(r.extraReducers):[r.extraReducers],F={...E,...d.sliceCaseReducersByType};return lZ(r.initialState,O=>{for(let _ in F)O.addCase(_,F[_]);for(let _ of d.sliceMatchers)O.addMatcher(_.matcher,_.reducer);for(let _ of P)O.addMatcher(_.matcher,_.reducer);$&&O.addDefaultCase($)})}const m=E=>E,g=new Map,v=new WeakMap;let b;function C(E,P){return b||(b=p()),b(E,P)}function j(){return b||(b=p()),b.getInitialState()}function A(E,P=!1){function $(O){let _=O[E];return typeof _>"u"&&P&&(_=By(v,$,j)),_}function F(O=m){const _=By(g,P,()=>new WeakMap);return By(_,O,()=>{const D={};for(const[L,R]of Object.entries(r.selectors??{}))D[L]=bZ(R,O,()=>By(v,O,j),P);return D})}return{reducerPath:E,getSelectors:F,get selectors(){return F($)},selectSlice:$}}const k={name:i,reducer:C,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:j,...A(a),injectInto(E,{reducerPath:P,...$}={}){const F=P??a;return E.inject({reducerPath:F,reducer:C},$),{...k,...A(F,!0)}}};return k}}function bZ(e,t,n,r){function i(a,...s){let c=t(a);return typeof c>"u"&&r&&(c=n()),e(c,...s)}return i.unwrapped=e,i}var qt=vZ();function xZ(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function wZ({type:e,reducerName:t,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!CZ(r))throw new Error(Di(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?Gr(e,s):Gr(e))}function SZ(e){return e._reducerDefinitionType==="asyncThunk"}function CZ(e){return e._reducerDefinitionType==="reducerWithPrepare"}function jZ({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Di(18));const{payloadCreator:a,fulfilled:s,pending:c,rejected:d,settled:f,options:p}=n,m=i(e,a,p);r.exposeAction(t,m),s&&r.addCase(m.fulfilled,s),c&&r.addCase(m.pending,c),d&&r.addCase(m.rejected,d),f&&r.addMatcher(m.settled,f),r.exposeCaseReducer(t,{fulfilled:s||zy,pending:c||zy,rejected:d||zy,settled:f||zy})}function zy(){}var TZ="task",$L="listener",IL="completed",O5="cancelled",AZ=`task-${O5}`,kZ=`task-${IL}`,c8=`${$L}-${O5}`,EZ=`${$L}-${IL}`,Hx=class{constructor(e){this.code=e,this.message=`${TZ} ${O5} (reason: ${e})`}name="TaskAbortError";message},$5=(e,t)=>{if(typeof e!="function")throw new TypeError(Di(32))},vb=()=>{},RL=(e,t=vb)=>(e.catch(t),e),ML=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Du=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Ou=e=>{if(e.aborted){const{reason:t}=e;throw new Hx(t)}};function LL(e,t){let n=vb;return new Promise((r,i)=>{const a=()=>i(new Hx(e.reason));if(e.aborted){a();return}n=ML(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=vb})}var NZ=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Hx?"cancelled":"rejected",error:n}}finally{t?.()}},bb=e=>t=>RL(LL(e,t).then(n=>(Ou(e),n))),FL=e=>{const t=bb(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:yf}=Object,p_={},Vx="listenerMiddleware",_Z=(e,t)=>{const n=r=>ML(e,()=>Du(r,e.reason));return(r,i)=>{$5(r);const a=new AbortController;n(a);const s=NZ(async()=>{Ou(e),Ou(a.signal);const c=await r({pause:bb(a.signal),delay:FL(a.signal),signal:a.signal});return Ou(a.signal),c},()=>Du(a,kZ));return i?.autoJoin&&t.push(s.catch(vb)),{result:bb(e)(s),cancel(){Du(a,AZ)}}}},PZ=(e,t)=>{const n=async(r,i)=>{Ou(t);let a=()=>{};const c=[new Promise((d,f)=>{let p=e({predicate:r,effect:(m,g)=>{g.unsubscribe(),d([m,g.getState(),g.getOriginalState()])}});a=()=>{p(),f()}})];i!=null&&c.push(new Promise(d=>setTimeout(d,i,null)));try{const d=await LL(t,Promise.race(c));return Ou(t),d}finally{a()}};return(r,i)=>RL(n(r,i))},BL=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=Gr(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Di(21));return $5(a),{predicate:i,type:t,effect:a}},zL=yf(e=>{const{type:t,predicate:n,effect:r}=BL(e);return{id:OL(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Di(22))}}},{withTypes:()=>zL}),h_=(e,t)=>{const{type:n,effect:r,predicate:i}=BL(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},u8=e=>{e.pending.forEach(t=>{Du(t,c8)})},DZ=e=>()=>{e.forEach(u8),e.clear()},m_=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},UL=yf(Gr(`${Vx}/add`),{withTypes:()=>UL}),OZ=Gr(`${Vx}/removeAll`),HL=yf(Gr(`${Vx}/remove`),{withTypes:()=>HL}),$Z=(...e)=>{console.error(`${Vx}/error`,...e)},Dg=(e={})=>{const t=new Map,{extra:n,onError:r=$Z}=e;$5(r);const i=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),m=>{p.unsubscribe(),m?.cancelActive&&u8(p)}),a=p=>{const m=h_(t,p)??zL(p);return i(m)};yf(a,{withTypes:()=>a});const s=p=>{const m=h_(t,p);return m&&(m.unsubscribe(),p.cancelActive&&u8(m)),!!m};yf(s,{withTypes:()=>s});const c=async(p,m,g,v)=>{const b=new AbortController,C=PZ(a,b.signal),j=[];try{p.pending.add(b),await Promise.resolve(p.effect(m,yf({},g,{getOriginalState:v,condition:(A,k)=>C(A,k).then(Boolean),take:C,delay:FL(b.signal),pause:bb(b.signal),extra:n,signal:b.signal,fork:_Z(b.signal,j),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((A,k,E)=>{A!==b&&(Du(A,c8),E.delete(A))})},cancel:()=>{Du(b,c8),p.pending.delete(b)},throwIfCancelled:()=>{Ou(b.signal)}})))}catch(A){A instanceof Hx||m_(r,A,{raisedBy:"effect"})}finally{await Promise.all(j),Du(b,EZ),p.pending.delete(b)}},d=DZ(t);return{middleware:p=>m=>g=>{if(!xL(g))return m(g);if(UL.match(g))return a(g.payload);if(OZ.match(g)){d();return}if(HL.match(g))return s(g.payload);let v=p.getState();const b=()=>{if(v===p_)throw new Error(Di(23));return v};let C;try{if(C=m(g),t.size>0){const j=p.getState(),A=Array.from(t.values());for(const k of A){let E=!1;try{E=k.predicate(g,j,v)}catch(P){E=!1,m_(r,P,{raisedBy:"predicate"})}E&&c(k,g,p,b)}}}finally{v=p_}return C},startListening:a,stopListening:s,clearListeners:d}};function Di(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var I5="persist:",VL="persist/FLUSH",R5="persist/REHYDRATE",qL="persist/PAUSE",YL="persist/PERSIST",WL="persist/PURGE",GL="persist/REGISTER",IZ=-1;function T1(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?T1=function(n){return typeof n}:T1=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},T1(e)}function g_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function RZ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?g_(n,!0).forEach(function(r){MZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g_(n).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MZ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LZ(e,t,n,r){r.debug;var i=RZ({},n);return e&&T1(e)==="object"&&Object.keys(e).forEach(function(a){a!=="_persist"&&t[a]===n[a]&&(i[a]=e[a])}),i}function FZ(e){var t=e.blacklist||null,n=e.whitelist||null,r=e.transforms||[],i=e.throttle||0,a="".concat(e.keyPrefix!==void 0?e.keyPrefix:I5).concat(e.key),s=e.storage,c;e.serialize===!1?c=function($){return $}:typeof e.serialize=="function"?c=e.serialize:c=BZ;var d=e.writeFailHandler||null,f={},p={},m=[],g=null,v=null,b=function($){Object.keys($).forEach(function(F){A(F)&&f[F]!==$[F]&&m.indexOf(F)===-1&&m.push(F)}),Object.keys(f).forEach(function(F){$[F]===void 0&&A(F)&&m.indexOf(F)===-1&&f[F]!==void 0&&m.push(F)}),g===null&&(g=setInterval(C,i)),f=$};function C(){if(m.length===0){g&&clearInterval(g),g=null;return}var P=m.shift(),$=r.reduce(function(F,O){return O.in(F,P,f)},f[P]);if($!==void 0)try{p[P]=c($)}catch(F){console.error("redux-persist/createPersistoid: error serializing state",F)}else delete p[P];m.length===0&&j()}function j(){Object.keys(p).forEach(function(P){f[P]===void 0&&delete p[P]}),v=s.setItem(a,c(p)).catch(k)}function A(P){return!(n&&n.indexOf(P)===-1&&P!=="_persist"||t&&t.indexOf(P)!==-1)}function k(P){d&&d(P)}var E=function(){for(;m.length!==0;)C();return v||Promise.resolve()};return{update:b,flush:E}}function BZ(e){return JSON.stringify(e)}function zZ(e){var t=e.transforms||[],n="".concat(e.keyPrefix!==void 0?e.keyPrefix:I5).concat(e.key),r=e.storage;e.debug;var i;return e.deserialize===!1?i=function(s){return s}:typeof e.deserialize=="function"?i=e.deserialize:i=UZ,r.getItem(n).then(function(a){if(a)try{var s={},c=i(a);return Object.keys(c).forEach(function(d){s[d]=t.reduceRight(function(f,p){return p.out(f,d,c)},i(c[d]))}),s}catch(d){throw d}else return})}function UZ(e){return JSON.parse(e)}function HZ(e){var t=e.storage,n="".concat(e.keyPrefix!==void 0?e.keyPrefix:I5).concat(e.key);return t.removeItem(n,VZ)}function VZ(e){}function y_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ss(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y_(n,!0).forEach(function(r){qZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y_(n).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qZ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YZ(e,t){if(e==null)return{};var n=WZ(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function WZ(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var GZ=5e3;function KZ(e,t){var n=e.version!==void 0?e.version:IZ;e.debug;var r=e.stateReconciler===void 0?LZ:e.stateReconciler,i=e.getStoredState||zZ,a=e.timeout!==void 0?e.timeout:GZ,s=null,c=!1,d=!0,f=function(m){return m._persist.rehydrated&&s&&!d&&s.update(m),m};return function(p,m){var g=p||{},v=g._persist,b=YZ(g,["_persist"]),C=b;if(m.type===YL){var j=!1,A=function(_,D){j||(m.rehydrate(e.key,_,D),j=!0)};if(a&&setTimeout(function(){!j&&A(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(e.key,'"')))},a),d=!1,s||(s=FZ(e)),v)return ss({},t(C,m),{_persist:v});if(typeof m.rehydrate!="function"||typeof m.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return m.register(e.key),i(e).then(function(O){var _=e.migrate||function(D,L){return Promise.resolve(D)};_(O,n).then(function(D){A(D)},function(D){A(void 0,D)})},function(O){A(void 0,O)}),ss({},t(C,m),{_persist:{version:n,rehydrated:!1}})}else{if(m.type===WL)return c=!0,m.result(HZ(e)),ss({},t(C,m),{_persist:v});if(m.type===VL)return m.result(s&&s.flush()),ss({},t(C,m),{_persist:v});if(m.type===qL)d=!0;else if(m.type===R5){if(c)return ss({},C,{_persist:ss({},v,{rehydrated:!0})});if(m.key===e.key){var k=t(C,m),E=m.payload,P=r!==!1&&E!==void 0?r(E,p,k,e):k,$=ss({},P,{_persist:ss({},v,{rehydrated:!0})});return f($)}}}if(!v)return t(p,m);var F=t(C,m);return F===C?p:f(ss({},F,{_persist:v}))}}function v_(e){return ZZ(e)||QZ(e)||XZ()}function XZ(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function QZ(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function ZZ(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function b_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function d8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?b_(n,!0).forEach(function(r){JZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b_(n).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JZ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var KL={registry:[],bootstrapped:!1},eJ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:KL,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case GL:return d8({},t,{registry:[].concat(v_(t.registry),[n.key])});case R5:var r=t.registry.indexOf(n.key),i=v_(t.registry);return i.splice(r,1),d8({},t,{registry:i,bootstrapped:i.length===0});default:return t}};function tJ(e,t,n){var r=N5(eJ,KL,void 0),i=function(d){r.dispatch({type:GL,key:d})},a=function(d,f,p){var m={type:R5,payload:f,err:p,key:d};e.dispatch(m),r.dispatch(m)},s=d8({},r,{purge:function(){var d=[];return e.dispatch({type:WL,result:function(p){d.push(p)}}),Promise.all(d)},flush:function(){var d=[];return e.dispatch({type:VL,result:function(p){d.push(p)}}),Promise.all(d)},pause:function(){e.dispatch({type:qL})},persist:function(){e.dispatch({type:YL,register:i,rehydrate:a})}});return s.persist(),s}var Bh={},Uy={},Hy={},x_;function nJ(){if(x_)return Hy;x_=1,Hy.__esModule=!0,Hy.default=i;function e(a){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(c){return typeof c}:e=function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},e(a)}function t(){}var n={getItem:t,setItem:t,removeItem:t};function r(a){if((typeof self>"u"?"undefined":e(self))!=="object"||!(a in self))return!1;try{var s=self[a],c="redux-persist ".concat(a," test");s.setItem(c,"test"),s.getItem(c),s.removeItem(c)}catch{return!1}return!0}function i(a){var s="".concat(a,"Storage");return r(s)?self[s]:n}return Hy}var w_;function rJ(){if(w_)return Uy;w_=1,Uy.__esModule=!0,Uy.default=n;var e=t(nJ());function t(r){return r&&r.__esModule?r:{default:r}}function n(r){var i=(0,e.default)(r);return{getItem:function(s){return new Promise(function(c,d){c(i.getItem(s))})},setItem:function(s,c){return new Promise(function(d,f){d(i.setItem(s,c))})},removeItem:function(s){return new Promise(function(c,d){c(i.removeItem(s))})}}}return Uy}var S_;function iJ(){if(S_)return Bh;S_=1,Bh.__esModule=!0,Bh.default=void 0;var e=t(rJ());function t(r){return r&&r.__esModule?r:{default:r}}var n=(0,e.default)("local");return Bh.default=n,Bh}var aJ=iJ();const oJ=di(aJ);function XL(e,t){return function(){return e.apply(t,arguments)}}const{toString:sJ}=Object.prototype,{getPrototypeOf:M5}=Object,{iterator:qx,toStringTag:QL}=Symbol,Yx=(e=>t=>{const n=sJ.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Wa=e=>(e=e.toLowerCase(),t=>Yx(t)===e),Wx=e=>t=>typeof t===e,{isArray:dp}=Array,zf=Wx("undefined");function Og(e){return e!==null&&!zf(e)&&e.constructor!==null&&!zf(e.constructor)&&ci(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const ZL=Wa("ArrayBuffer");function lJ(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&ZL(e.buffer),t}const cJ=Wx("string"),ci=Wx("function"),JL=Wx("number"),$g=e=>e!==null&&typeof e=="object",uJ=e=>e===!0||e===!1,A1=e=>{if(Yx(e)!=="object")return!1;const t=M5(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(QL in e)&&!(qx in e)},dJ=e=>{if(!$g(e)||Og(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},fJ=Wa("Date"),pJ=Wa("File"),hJ=Wa("Blob"),mJ=Wa("FileList"),gJ=e=>$g(e)&&ci(e.pipe),yJ=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ci(e.append)&&((t=Yx(e))==="formdata"||t==="object"&&ci(e.toString)&&e.toString()==="[object FormData]"))},vJ=Wa("URLSearchParams"),[bJ,xJ,wJ,SJ]=["ReadableStream","Request","Response","Headers"].map(Wa),CJ=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ig(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),dp(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{if(Og(e))return;const a=n?Object.getOwnPropertyNames(e):Object.keys(e),s=a.length;let c;for(r=0;r<s;r++)c=a[r],t.call(null,e[c],c,e)}}function eF(e,t){if(Og(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const bu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,tF=e=>!zf(e)&&e!==bu;function f8(){const{caseless:e,skipUndefined:t}=tF(this)&&this||{},n={},r=(i,a)=>{const s=e&&eF(n,a)||a;A1(n[s])&&A1(i)?n[s]=f8(n[s],i):A1(i)?n[s]=f8({},i):dp(i)?n[s]=i.slice():(!t||!zf(i))&&(n[s]=i)};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&Ig(arguments[i],r);return n}const jJ=(e,t,n,{allOwnKeys:r}={})=>(Ig(t,(i,a)=>{n&&ci(i)?e[a]=XL(i,n):e[a]=i},{allOwnKeys:r}),e),TJ=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),AJ=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},kJ=(e,t,n,r)=>{let i,a,s;const c={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)s=i[a],(!r||r(s,e,t))&&!c[s]&&(t[s]=e[s],c[s]=!0);e=n!==!1&&M5(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},EJ=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},NJ=e=>{if(!e)return null;if(dp(e))return e;let t=e.length;if(!JL(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},_J=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&M5(Uint8Array)),PJ=(e,t)=>{const r=(e&&e[qx]).call(e);let i;for(;(i=r.next())&&!i.done;){const a=i.value;t.call(e,a[0],a[1])}},DJ=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},OJ=Wa("HTMLFormElement"),$J=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),C_=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),IJ=Wa("RegExp"),nF=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Ig(n,(i,a)=>{let s;(s=t(i,a,e))!==!1&&(r[a]=s||i)}),Object.defineProperties(e,r)},RJ=e=>{nF(e,(t,n)=>{if(ci(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(ci(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},MJ=(e,t)=>{const n={},r=i=>{i.forEach(a=>{n[a]=!0})};return dp(e)?r(e):r(String(e).split(t)),n},LJ=()=>{},FJ=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function BJ(e){return!!(e&&ci(e.append)&&e[QL]==="FormData"&&e[qx])}const zJ=e=>{const t=new Array(10),n=(r,i)=>{if($g(r)){if(t.indexOf(r)>=0)return;if(Og(r))return r;if(!("toJSON"in r)){t[i]=r;const a=dp(r)?[]:{};return Ig(r,(s,c)=>{const d=n(s,i+1);!zf(d)&&(a[c]=d)}),t[i]=void 0,a}}return r};return n(e,0)},UJ=Wa("AsyncFunction"),HJ=e=>e&&($g(e)||ci(e))&&ci(e.then)&&ci(e.catch),rF=((e,t)=>e?setImmediate:t?((n,r)=>(bu.addEventListener("message",({source:i,data:a})=>{i===bu&&a===n&&r.length&&r.shift()()},!1),i=>{r.push(i),bu.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ci(bu.postMessage)),VJ=typeof queueMicrotask<"u"?queueMicrotask.bind(bu):typeof process<"u"&&process.nextTick||rF,qJ=e=>e!=null&&ci(e[qx]),_e={isArray:dp,isArrayBuffer:ZL,isBuffer:Og,isFormData:yJ,isArrayBufferView:lJ,isString:cJ,isNumber:JL,isBoolean:uJ,isObject:$g,isPlainObject:A1,isEmptyObject:dJ,isReadableStream:bJ,isRequest:xJ,isResponse:wJ,isHeaders:SJ,isUndefined:zf,isDate:fJ,isFile:pJ,isBlob:hJ,isRegExp:IJ,isFunction:ci,isStream:gJ,isURLSearchParams:vJ,isTypedArray:_J,isFileList:mJ,forEach:Ig,merge:f8,extend:jJ,trim:CJ,stripBOM:TJ,inherits:AJ,toFlatObject:kJ,kindOf:Yx,kindOfTest:Wa,endsWith:EJ,toArray:NJ,forEachEntry:PJ,matchAll:DJ,isHTMLForm:OJ,hasOwnProperty:C_,hasOwnProp:C_,reduceDescriptors:nF,freezeMethods:RJ,toObjectSet:MJ,toCamelCase:$J,noop:LJ,toFiniteNumber:FJ,findKey:eF,global:bu,isContextDefined:tF,isSpecCompliantForm:BJ,toJSONObject:zJ,isAsyncFn:UJ,isThenable:HJ,setImmediate:rF,asap:VJ,isIterable:qJ};function yt(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}_e.inherits(yt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_e.toJSONObject(this.config),code:this.code,status:this.status}}});const iF=yt.prototype,aF={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{aF[e]={value:e}});Object.defineProperties(yt,aF);Object.defineProperty(iF,"isAxiosError",{value:!0});yt.from=(e,t,n,r,i,a)=>{const s=Object.create(iF);_e.toFlatObject(e,s,function(p){return p!==Error.prototype},f=>f!=="isAxiosError");const c=e&&e.message?e.message:"Error",d=t==null&&e?e.code:t;return yt.call(s,c,d,n,r,i),e&&s.cause==null&&Object.defineProperty(s,"cause",{value:e,configurable:!0}),s.name=e&&e.name||"Error",a&&Object.assign(s,a),s};const YJ=null;function p8(e){return _e.isPlainObject(e)||_e.isArray(e)}function oF(e){return _e.endsWith(e,"[]")?e.slice(0,-2):e}function j_(e,t,n){return e?e.concat(t).map(function(i,a){return i=oF(i),!n&&a?"["+i+"]":i}).join(n?".":""):t}function WJ(e){return _e.isArray(e)&&!e.some(p8)}const GJ=_e.toFlatObject(_e,{},null,function(t){return/^is[A-Z]/.test(t)});function Gx(e,t,n){if(!_e.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=_e.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,j){return!_e.isUndefined(j[C])});const r=n.metaTokens,i=n.visitor||p,a=n.dots,s=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&_e.isSpecCompliantForm(t);if(!_e.isFunction(i))throw new TypeError("visitor must be a function");function f(b){if(b===null)return"";if(_e.isDate(b))return b.toISOString();if(_e.isBoolean(b))return b.toString();if(!d&&_e.isBlob(b))throw new yt("Blob is not supported. Use a Buffer instead.");return _e.isArrayBuffer(b)||_e.isTypedArray(b)?d&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function p(b,C,j){let A=b;if(b&&!j&&typeof b=="object"){if(_e.endsWith(C,"{}"))C=r?C:C.slice(0,-2),b=JSON.stringify(b);else if(_e.isArray(b)&&WJ(b)||(_e.isFileList(b)||_e.endsWith(C,"[]"))&&(A=_e.toArray(b)))return C=oF(C),A.forEach(function(E,P){!(_e.isUndefined(E)||E===null)&&t.append(s===!0?j_([C],P,a):s===null?C:C+"[]",f(E))}),!1}return p8(b)?!0:(t.append(j_(j,C,a),f(b)),!1)}const m=[],g=Object.assign(GJ,{defaultVisitor:p,convertValue:f,isVisitable:p8});function v(b,C){if(!_e.isUndefined(b)){if(m.indexOf(b)!==-1)throw Error("Circular reference detected in "+C.join("."));m.push(b),_e.forEach(b,function(A,k){(!(_e.isUndefined(A)||A===null)&&i.call(t,A,_e.isString(k)?k.trim():k,C,g))===!0&&v(A,C?C.concat(k):[k])}),m.pop()}}if(!_e.isObject(e))throw new TypeError("data must be an object");return v(e),t}function T_(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function L5(e,t){this._pairs=[],e&&Gx(e,this,t)}const sF=L5.prototype;sF.append=function(t,n){this._pairs.push([t,n])};sF.toString=function(t){const n=t?function(r){return t.call(this,r,T_)}:T_;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function KJ(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function lF(e,t,n){if(!t)return e;const r=n&&n.encode||KJ;_e.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let a;if(i?a=i(t,n):a=_e.isURLSearchParams(t)?t.toString():new L5(t,n).toString(r),a){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class A_{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){_e.forEach(this.handlers,function(r){r!==null&&t(r)})}}const cF={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},XJ=typeof URLSearchParams<"u"?URLSearchParams:L5,QJ=typeof FormData<"u"?FormData:null,ZJ=typeof Blob<"u"?Blob:null,JJ={isBrowser:!0,classes:{URLSearchParams:XJ,FormData:QJ,Blob:ZJ},protocols:["http","https","file","blob","url","data"]},F5=typeof window<"u"&&typeof document<"u",h8=typeof navigator=="object"&&navigator||void 0,eee=F5&&(!h8||["ReactNative","NativeScript","NS"].indexOf(h8.product)<0),tee=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",nee=F5&&window.location.href||"http://localhost",ree=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:F5,hasStandardBrowserEnv:eee,hasStandardBrowserWebWorkerEnv:tee,navigator:h8,origin:nee},Symbol.toStringTag,{value:"Module"})),Rr={...ree,...JJ};function iee(e,t){return Gx(e,new Rr.classes.URLSearchParams,{visitor:function(n,r,i,a){return Rr.isNode&&_e.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function aee(e){return _e.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function oee(e){const t={},n=Object.keys(e);let r;const i=n.length;let a;for(r=0;r<i;r++)a=n[r],t[a]=e[a];return t}function uF(e){function t(n,r,i,a){let s=n[a++];if(s==="__proto__")return!0;const c=Number.isFinite(+s),d=a>=n.length;return s=!s&&_e.isArray(i)?i.length:s,d?(_e.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!c):((!i[s]||!_e.isObject(i[s]))&&(i[s]=[]),t(n,r,i[s],a)&&_e.isArray(i[s])&&(i[s]=oee(i[s])),!c)}if(_e.isFormData(e)&&_e.isFunction(e.entries)){const n={};return _e.forEachEntry(e,(r,i)=>{t(aee(r),i,n,0)}),n}return null}function see(e,t,n){if(_e.isString(e))try{return(t||JSON.parse)(e),_e.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Rg={transitional:cF,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,a=_e.isObject(t);if(a&&_e.isHTMLForm(t)&&(t=new FormData(t)),_e.isFormData(t))return i?JSON.stringify(uF(t)):t;if(_e.isArrayBuffer(t)||_e.isBuffer(t)||_e.isStream(t)||_e.isFile(t)||_e.isBlob(t)||_e.isReadableStream(t))return t;if(_e.isArrayBufferView(t))return t.buffer;if(_e.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return iee(t,this.formSerializer).toString();if((c=_e.isFileList(t))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Gx(c?{"files[]":t}:t,d&&new d,this.formSerializer)}}return a||i?(n.setContentType("application/json",!1),see(t)):t}],transformResponse:[function(t){const n=this.transitional||Rg.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(_e.isResponse(t)||_e.isReadableStream(t))return t;if(t&&_e.isString(t)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(c){if(s)throw c.name==="SyntaxError"?yt.from(c,yt.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Rr.classes.FormData,Blob:Rr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};_e.forEach(["delete","get","head","post","put","patch"],e=>{Rg.headers[e]={}});const lee=_e.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),cee=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||t[n]&&lee[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},k_=Symbol("internals");function zh(e){return e&&String(e).trim().toLowerCase()}function k1(e){return e===!1||e==null?e:_e.isArray(e)?e.map(k1):String(e)}function uee(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const dee=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function f3(e,t,n,r,i){if(_e.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!_e.isString(t)){if(_e.isString(r))return t.indexOf(r)!==-1;if(_e.isRegExp(r))return r.test(t)}}function fee(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function pee(e,t){const n=_e.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,a,s){return this[r].call(this,t,i,a,s)},configurable:!0})})}let ui=class{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function a(c,d,f){const p=zh(d);if(!p)throw new Error("header name must be a non-empty string");const m=_e.findKey(i,p);(!m||i[m]===void 0||f===!0||f===void 0&&i[m]!==!1)&&(i[m||d]=k1(c))}const s=(c,d)=>_e.forEach(c,(f,p)=>a(f,p,d));if(_e.isPlainObject(t)||t instanceof this.constructor)s(t,n);else if(_e.isString(t)&&(t=t.trim())&&!dee(t))s(cee(t),n);else if(_e.isObject(t)&&_e.isIterable(t)){let c={},d,f;for(const p of t){if(!_e.isArray(p))throw TypeError("Object iterator must return a key-value pair");c[f=p[0]]=(d=c[f])?_e.isArray(d)?[...d,p[1]]:[d,p[1]]:p[1]}s(c,n)}else t!=null&&a(n,t,r);return this}get(t,n){if(t=zh(t),t){const r=_e.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return uee(i);if(_e.isFunction(n))return n.call(this,i,r);if(_e.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=zh(t),t){const r=_e.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||f3(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function a(s){if(s=zh(s),s){const c=_e.findKey(r,s);c&&(!n||f3(r,r[c],c,n))&&(delete r[c],i=!0)}}return _e.isArray(t)?t.forEach(a):a(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const a=n[r];(!t||f3(this,this[a],a,t,!0))&&(delete this[a],i=!0)}return i}normalize(t){const n=this,r={};return _e.forEach(this,(i,a)=>{const s=_e.findKey(r,a);if(s){n[s]=k1(i),delete n[a];return}const c=t?fee(a):String(a).trim();c!==a&&delete n[a],n[c]=k1(i),r[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return _e.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&_e.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[k_]=this[k_]={accessors:{}}).accessors,i=this.prototype;function a(s){const c=zh(s);r[c]||(pee(i,s),r[c]=!0)}return _e.isArray(t)?t.forEach(a):a(t),this}};ui.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);_e.reduceDescriptors(ui.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});_e.freezeMethods(ui);function p3(e,t){const n=this||Rg,r=t||n,i=ui.from(r.headers);let a=r.data;return _e.forEach(e,function(c){a=c.call(n,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function dF(e){return!!(e&&e.__CANCEL__)}function fp(e,t,n){yt.call(this,e??"canceled",yt.ERR_CANCELED,t,n),this.name="CanceledError"}_e.inherits(fp,yt,{__CANCEL__:!0});function fF(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new yt("Request failed with status code "+n.status,[yt.ERR_BAD_REQUEST,yt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function hee(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function mee(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,a=0,s;return t=t!==void 0?t:1e3,function(d){const f=Date.now(),p=r[a];s||(s=f),n[i]=d,r[i]=f;let m=a,g=0;for(;m!==i;)g+=n[m++],m=m%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),f-s<t)return;const v=p&&f-p;return v?Math.round(g*1e3/v):void 0}}function gee(e,t){let n=0,r=1e3/t,i,a;const s=(f,p=Date.now())=>{n=p,i=null,a&&(clearTimeout(a),a=null),e(...f)};return[(...f)=>{const p=Date.now(),m=p-n;m>=r?s(f,p):(i=f,a||(a=setTimeout(()=>{a=null,s(i)},r-m)))},()=>i&&s(i)]}const xb=(e,t,n=3)=>{let r=0;const i=mee(50,250);return gee(a=>{const s=a.loaded,c=a.lengthComputable?a.total:void 0,d=s-r,f=i(d),p=s<=c;r=s;const m={loaded:s,total:c,progress:c?s/c:void 0,bytes:d,rate:f||void 0,estimated:f&&c&&p?(c-s)/f:void 0,event:a,lengthComputable:c!=null,[t?"download":"upload"]:!0};e(m)},n)},E_=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},N_=e=>(...t)=>_e.asap(()=>e(...t)),yee=Rr.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Rr.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Rr.origin),Rr.navigator&&/(msie|trident)/i.test(Rr.navigator.userAgent)):()=>!0,vee=Rr.hasStandardBrowserEnv?{write(e,t,n,r,i,a,s){if(typeof document>"u")return;const c=[`${e}=${encodeURIComponent(t)}`];_e.isNumber(n)&&c.push(`expires=${new Date(n).toUTCString()}`),_e.isString(r)&&c.push(`path=${r}`),_e.isString(i)&&c.push(`domain=${i}`),a===!0&&c.push("secure"),_e.isString(s)&&c.push(`SameSite=${s}`),document.cookie=c.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function bee(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function xee(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function pF(e,t,n){let r=!bee(t);return e&&(r||n==!1)?xee(e,t):t}const __=e=>e instanceof ui?{...e}:e;function Gu(e,t){t=t||{};const n={};function r(f,p,m,g){return _e.isPlainObject(f)&&_e.isPlainObject(p)?_e.merge.call({caseless:g},f,p):_e.isPlainObject(p)?_e.merge({},p):_e.isArray(p)?p.slice():p}function i(f,p,m,g){if(_e.isUndefined(p)){if(!_e.isUndefined(f))return r(void 0,f,m,g)}else return r(f,p,m,g)}function a(f,p){if(!_e.isUndefined(p))return r(void 0,p)}function s(f,p){if(_e.isUndefined(p)){if(!_e.isUndefined(f))return r(void 0,f)}else return r(void 0,p)}function c(f,p,m){if(m in t)return r(f,p);if(m in e)return r(void 0,f)}const d={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:c,headers:(f,p,m)=>i(__(f),__(p),m,!0)};return _e.forEach(Object.keys({...e,...t}),function(p){const m=d[p]||i,g=m(e[p],t[p],p);_e.isUndefined(g)&&m!==c||(n[p]=g)}),n}const hF=e=>{const t=Gu({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:s,auth:c}=t;if(t.headers=s=ui.from(s),t.url=lF(pF(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&s.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),_e.isFormData(n)){if(Rr.hasStandardBrowserEnv||Rr.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(_e.isFunction(n.getHeaders)){const d=n.getHeaders(),f=["content-type","content-length"];Object.entries(d).forEach(([p,m])=>{f.includes(p.toLowerCase())&&s.set(p,m)})}}if(Rr.hasStandardBrowserEnv&&(r&&_e.isFunction(r)&&(r=r(t)),r||r!==!1&&yee(t.url))){const d=i&&a&&vee.read(a);d&&s.set(i,d)}return t},wee=typeof XMLHttpRequest<"u",See=wee&&function(e){return new Promise(function(n,r){const i=hF(e);let a=i.data;const s=ui.from(i.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:f}=i,p,m,g,v,b;function C(){v&&v(),b&&b(),i.cancelToken&&i.cancelToken.unsubscribe(p),i.signal&&i.signal.removeEventListener("abort",p)}let j=new XMLHttpRequest;j.open(i.method.toUpperCase(),i.url,!0),j.timeout=i.timeout;function A(){if(!j)return;const E=ui.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),$={data:!c||c==="text"||c==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:E,config:e,request:j};fF(function(O){n(O),C()},function(O){r(O),C()},$),j=null}"onloadend"in j?j.onloadend=A:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(A)},j.onabort=function(){j&&(r(new yt("Request aborted",yt.ECONNABORTED,e,j)),j=null)},j.onerror=function(P){const $=P&&P.message?P.message:"Network Error",F=new yt($,yt.ERR_NETWORK,e,j);F.event=P||null,r(F),j=null},j.ontimeout=function(){let P=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const $=i.transitional||cF;i.timeoutErrorMessage&&(P=i.timeoutErrorMessage),r(new yt(P,$.clarifyTimeoutError?yt.ETIMEDOUT:yt.ECONNABORTED,e,j)),j=null},a===void 0&&s.setContentType(null),"setRequestHeader"in j&&_e.forEach(s.toJSON(),function(P,$){j.setRequestHeader($,P)}),_e.isUndefined(i.withCredentials)||(j.withCredentials=!!i.withCredentials),c&&c!=="json"&&(j.responseType=i.responseType),f&&([g,b]=xb(f,!0),j.addEventListener("progress",g)),d&&j.upload&&([m,v]=xb(d),j.upload.addEventListener("progress",m),j.upload.addEventListener("loadend",v)),(i.cancelToken||i.signal)&&(p=E=>{j&&(r(!E||E.type?new fp(null,e,j):E),j.abort(),j=null)},i.cancelToken&&i.cancelToken.subscribe(p),i.signal&&(i.signal.aborted?p():i.signal.addEventListener("abort",p)));const k=hee(i.url);if(k&&Rr.protocols.indexOf(k)===-1){r(new yt("Unsupported protocol "+k+":",yt.ERR_BAD_REQUEST,e));return}j.send(a||null)})},Cee=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,i;const a=function(f){if(!i){i=!0,c();const p=f instanceof Error?f:this.reason;r.abort(p instanceof yt?p:new fp(p instanceof Error?p.message:p))}};let s=t&&setTimeout(()=>{s=null,a(new yt(`timeout ${t} of ms exceeded`,yt.ETIMEDOUT))},t);const c=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(f=>{f.unsubscribe?f.unsubscribe(a):f.removeEventListener("abort",a)}),e=null)};e.forEach(f=>f.addEventListener("abort",a));const{signal:d}=r;return d.unsubscribe=()=>_e.asap(c),d}},jee=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,i;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},Tee=async function*(e,t){for await(const n of Aee(e))yield*jee(n,t)},Aee=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},P_=(e,t,n,r)=>{const i=Tee(e,t);let a=0,s,c=d=>{s||(s=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:f,value:p}=await i.next();if(f){c(),d.close();return}let m=p.byteLength;if(n){let g=a+=m;n(g)}d.enqueue(new Uint8Array(p))}catch(f){throw c(f),f}},cancel(d){return c(d),i.return()}},{highWaterMark:2})},D_=64*1024,{isFunction:Vy}=_e,kee=(({Request:e,Response:t})=>({Request:e,Response:t}))(_e.global),{ReadableStream:O_,TextEncoder:$_}=_e.global,I_=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Eee=e=>{e=_e.merge.call({skipUndefined:!0},kee,e);const{fetch:t,Request:n,Response:r}=e,i=t?Vy(t):typeof fetch=="function",a=Vy(n),s=Vy(r);if(!i)return!1;const c=i&&Vy(O_),d=i&&(typeof $_=="function"?(b=>C=>b.encode(C))(new $_):async b=>new Uint8Array(await new n(b).arrayBuffer())),f=a&&c&&I_(()=>{let b=!1;const C=new n(Rr.origin,{body:new O_,method:"POST",get duplex(){return b=!0,"half"}}).headers.has("Content-Type");return b&&!C}),p=s&&c&&I_(()=>_e.isReadableStream(new r("").body)),m={stream:p&&(b=>b.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(b=>{!m[b]&&(m[b]=(C,j)=>{let A=C&&C[b];if(A)return A.call(C);throw new yt(`Response type '${b}' is not supported`,yt.ERR_NOT_SUPPORT,j)})});const g=async b=>{if(b==null)return 0;if(_e.isBlob(b))return b.size;if(_e.isSpecCompliantForm(b))return(await new n(Rr.origin,{method:"POST",body:b}).arrayBuffer()).byteLength;if(_e.isArrayBufferView(b)||_e.isArrayBuffer(b))return b.byteLength;if(_e.isURLSearchParams(b)&&(b=b+""),_e.isString(b))return(await d(b)).byteLength},v=async(b,C)=>{const j=_e.toFiniteNumber(b.getContentLength());return j??g(C)};return async b=>{let{url:C,method:j,data:A,signal:k,cancelToken:E,timeout:P,onDownloadProgress:$,onUploadProgress:F,responseType:O,headers:_,withCredentials:D="same-origin",fetchOptions:L}=hF(b),R=t||fetch;O=O?(O+"").toLowerCase():"text";let M=Cee([k,E&&E.toAbortSignal()],P),H=null;const W=M&&M.unsubscribe&&(()=>{M.unsubscribe()});let fe;try{if(F&&f&&j!=="get"&&j!=="head"&&(fe=await v(_,A))!==0){let Z=new n(C,{method:"POST",body:A,duplex:"half"}),re;if(_e.isFormData(A)&&(re=Z.headers.get("content-type"))&&_.setContentType(re),Z.body){const[me,ge]=E_(fe,xb(N_(F)));A=P_(Z.body,D_,me,ge)}}_e.isString(D)||(D=D?"include":"omit");const q=a&&"credentials"in n.prototype,te={...L,signal:M,method:j.toUpperCase(),headers:_.normalize().toJSON(),body:A,duplex:"half",credentials:q?D:void 0};H=a&&new n(C,te);let K=await(a?R(H,L):R(C,te));const z=p&&(O==="stream"||O==="response");if(p&&($||z&&W)){const Z={};["status","statusText","headers"].forEach(Pe=>{Z[Pe]=K[Pe]});const re=_e.toFiniteNumber(K.headers.get("content-length")),[me,ge]=$&&E_(re,xb(N_($),!0))||[];K=new r(P_(K.body,D_,me,()=>{ge&&ge(),W&&W()}),Z)}O=O||"text";let V=await m[_e.findKey(m,O)||"text"](K,b);return!z&&W&&W(),await new Promise((Z,re)=>{fF(Z,re,{data:V,headers:ui.from(K.headers),status:K.status,statusText:K.statusText,config:b,request:H})})}catch(q){throw W&&W(),q&&q.name==="TypeError"&&/Load failed|fetch/i.test(q.message)?Object.assign(new yt("Network Error",yt.ERR_NETWORK,b,H),{cause:q.cause||q}):yt.from(q,q&&q.code,b,H)}}},Nee=new Map,mF=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:i}=t,a=[r,i,n];let s=a.length,c=s,d,f,p=Nee;for(;c--;)d=a[c],f=p.get(d),f===void 0&&p.set(d,f=c?new Map:Eee(t)),p=f;return f};mF();const B5={http:YJ,xhr:See,fetch:{get:mF}};_e.forEach(B5,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const R_=e=>`- ${e}`,_ee=e=>_e.isFunction(e)||e===null||e===!1;function Pee(e,t){e=_e.isArray(e)?e:[e];const{length:n}=e;let r,i;const a={};for(let s=0;s<n;s++){r=e[s];let c;if(i=r,!_ee(r)&&(i=B5[(c=String(r)).toLowerCase()],i===void 0))throw new yt(`Unknown adapter '${c}'`);if(i&&(_e.isFunction(i)||(i=i.get(t))))break;a[c||"#"+s]=i}if(!i){const s=Object.entries(a).map(([d,f])=>`adapter ${d} `+(f===!1?"is not supported by the environment":"is not available in the build"));let c=n?s.length>1?`since :
`+s.map(R_).join(`
`):" "+R_(s[0]):"as no adapter specified";throw new yt("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return i}const gF={getAdapter:Pee,adapters:B5};function h3(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new fp(null,e)}function M_(e){return h3(e),e.headers=ui.from(e.headers),e.data=p3.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),gF.getAdapter(e.adapter||Rg.adapter,e)(e).then(function(r){return h3(e),r.data=p3.call(e,e.transformResponse,r),r.headers=ui.from(r.headers),r},function(r){return dF(r)||(h3(e),r&&r.response&&(r.response.data=p3.call(e,e.transformResponse,r.response),r.response.headers=ui.from(r.response.headers))),Promise.reject(r)})}const yF="1.13.2",Kx={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Kx[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const L_={};Kx.transitional=function(t,n,r){function i(a,s){return"[Axios v"+yF+"] Transitional option '"+a+"'"+s+(r?". "+r:"")}return(a,s,c)=>{if(t===!1)throw new yt(i(s," has been removed"+(n?" in "+n:"")),yt.ERR_DEPRECATED);return n&&!L_[s]&&(L_[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(a,s,c):!0}};Kx.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function Dee(e,t,n){if(typeof e!="object")throw new yt("options must be an object",yt.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const a=r[i],s=t[a];if(s){const c=e[a],d=c===void 0||s(c,a,e);if(d!==!0)throw new yt("option "+a+" must be "+d,yt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new yt("Unknown option "+a,yt.ERR_BAD_OPTION)}}const E1={assertOptions:Dee,validators:Kx},mo=E1.validators;let $u=class{constructor(t){this.defaults=t||{},this.interceptors={request:new A_,response:new A_}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Gu(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:a}=n;r!==void 0&&E1.assertOptions(r,{silentJSONParsing:mo.transitional(mo.boolean),forcedJSONParsing:mo.transitional(mo.boolean),clarifyTimeoutError:mo.transitional(mo.boolean)},!1),i!=null&&(_e.isFunction(i)?n.paramsSerializer={serialize:i}:E1.assertOptions(i,{encode:mo.function,serialize:mo.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),E1.assertOptions(n,{baseUrl:mo.spelling("baseURL"),withXsrfToken:mo.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=a&&_e.merge(a.common,a[n.method]);a&&_e.forEach(["delete","get","head","post","put","patch","common"],b=>{delete a[b]}),n.headers=ui.concat(s,a);const c=[];let d=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(n)===!1||(d=d&&C.synchronous,c.unshift(C.fulfilled,C.rejected))});const f=[];this.interceptors.response.forEach(function(C){f.push(C.fulfilled,C.rejected)});let p,m=0,g;if(!d){const b=[M_.bind(this),void 0];for(b.unshift(...c),b.push(...f),g=b.length,p=Promise.resolve(n);m<g;)p=p.then(b[m++],b[m++]);return p}g=c.length;let v=n;for(;m<g;){const b=c[m++],C=c[m++];try{v=b(v)}catch(j){C.call(this,j);break}}try{p=M_.call(this,v)}catch(b){return Promise.reject(b)}for(m=0,g=f.length;m<g;)p=p.then(f[m++],f[m++]);return p}getUri(t){t=Gu(this.defaults,t);const n=pF(t.baseURL,t.url,t.allowAbsoluteUrls);return lF(n,t.params,t.paramsSerializer)}};_e.forEach(["delete","get","head","options"],function(t){$u.prototype[t]=function(n,r){return this.request(Gu(r||{},{method:t,url:n,data:(r||{}).data}))}});_e.forEach(["post","put","patch"],function(t){function n(r){return function(a,s,c){return this.request(Gu(c||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:s}))}}$u.prototype[t]=n(),$u.prototype[t+"Form"]=n(!0)});let Oee=class vF{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const s=new Promise(c=>{r.subscribe(c),a=c}).then(i);return s.cancel=function(){r.unsubscribe(a)},s},t(function(a,s,c){r.reason||(r.reason=new fp(a,s,c),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new vF(function(i){t=i}),cancel:t}}};function $ee(e){return function(n){return e.apply(null,n)}}function Iee(e){return _e.isObject(e)&&e.isAxiosError===!0}const m8={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(m8).forEach(([e,t])=>{m8[t]=e});function bF(e){const t=new $u(e),n=XL($u.prototype.request,t);return _e.extend(n,$u.prototype,t,{allOwnKeys:!0}),_e.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return bF(Gu(e,i))},n}const Ht=bF(Rg);Ht.Axios=$u;Ht.CanceledError=fp;Ht.CancelToken=Oee;Ht.isCancel=dF;Ht.VERSION=yF;Ht.toFormData=Gx;Ht.AxiosError=yt;Ht.Cancel=Ht.CanceledError;Ht.all=function(t){return Promise.all(t)};Ht.spread=$ee;Ht.isAxiosError=Iee;Ht.mergeConfig=Gu;Ht.AxiosHeaders=ui;Ht.formToJSON=e=>uF(_e.isHTMLForm(e)?new FormData(e):e);Ht.getAdapter=gF.getAdapter;Ht.HttpStatusCode=m8;Ht.default=Ht;const{Axios:U$e,AxiosError:H$e,CanceledError:V$e,isCancel:q$e,CancelToken:Y$e,VERSION:W$e,all:G$e,Cancel:K$e,isAxiosError:X$e,spread:Q$e,toFormData:Z$e,AxiosHeaders:J$e,HttpStatusCode:eIe,formToJSON:tIe,getAdapter:nIe,mergeConfig:rIe}=Ht,ot="https://api.mediscript.in",wb=e=>{if(!e)return"";let t=String(e).trim();return(t.startsWith('"')&&t.endsWith('"')||t.startsWith("'")&&t.endsWith("'"))&&(t=t.slice(1,-1).trim()),t.toLowerCase().startsWith("bearer ")&&(t=t.slice(7).trim()),t=t.replace(/[\r\n]/g,""),t},g8=e=>e?e.toLowerCase().startsWith("bearer ")?e:`Bearer ${e}`:"",$e=Ht.create({baseURL:ot,headers:{"Content-Type":"application/json"},withCredentials:!0,timeout:15e3});$e.interceptors.request.use(e=>{try{const t=e.headers&&(e.headers.Authorization||e.headers.authorization);if(t){if(typeof t=="string"&&t.trim()){const r=wb(t);e.headers.Authorization=g8(r||t)}}else{const r=localStorage.getItem("token"),i=wb(r);i&&(e.headers=e.headers||{},e.headers.Authorization=g8(i))}e.data instanceof FormData&&(e.headers["Content-Type"]="multipart/form-data");const n=!!(e.headers&&(e.headers.Authorization||e.headers.authorization));return console.log("Request ",(e.method||"GET").toUpperCase(),e.url,"| tokenAttached:",n),e}catch(t){return console.error("Request interceptor error:",t),e}},e=>(console.error("Request interceptor rejected:",e),Promise.reject(e)));$e.interceptors.response.use(e=>e,e=>{const t=e.response?.status,n=e.config||{};return t===401&&(n.skipAuthRedirect?(e.isAuthError=!0,console.warn("401 received for",n.url,"- skipAuthRedirect set; rejecting to caller.")):(console.warn("401 Unauthorized  clearing local session and redirecting to /signin"),localStorage.removeItem("token"),localStorage.removeItem("clinicId"),localStorage.removeItem("clinicName"),localStorage.removeItem("calendarId"),window.location.href="/signin",e.isAuthError=!0)),e.response?console.error(`HTTP ${e.response.status} on ${e.config?.url}`,e.response.data?.message||e.response.data||""):console.error("Network / unknown error:",e.message||e),Promise.reject(e)});const sn=e=>{const t=wb(e);t?$e.defaults.headers.common.Authorization=g8(t):delete $e.defaults.headers.common.Authorization},y8=()=>{delete $e.defaults.headers.common.Authorization},Ree=localStorage.getItem("token"),F_=wb(Ree);F_&&(sn(F_),console.log("Token loaded from localStorage (normalized)."));const fa="https://api.mediscript.in/api",Mee=localStorage.getItem("token")||null,xF=localStorage.getItem("clinicId")||null,Lee=localStorage.getItem("clinicName")||null,Fee=localStorage.getItem("calendarId")||xF||null,Bee=e=>e?typeof e=="string"?e:typeof e=="object"&&(e.id||e._id)||null:null,qy=(e,t)=>{const n=Bee(t);if(!n)return null;e.clinic.id=String(n),t&&typeof t=="object"?(e.clinic.name=t.name||e.clinic.name||null,e.clinic.calendarId=t.calendarId||e.clinic.calendarId||e.clinic.id):e.clinic.calendarId=e.clinic.calendarId||e.clinic.id;try{localStorage.setItem("clinicId",e.clinic.id),e.clinic.name&&localStorage.setItem("clinicName",e.clinic.name),e.clinic.calendarId&&localStorage.setItem("calendarId",e.clinic.calendarId)}catch(r){console.warn("Failed to persist clinic",r)}return e.clinic.id},N1=Fe("auth/googleLogin",async({token:e,role:t},{dispatch:n,rejectWithValue:r})=>{try{const i=await $e.post(`${fa}/auth/google-login`,{token:e,role:t},{withCredentials:!0}),{user:a}=i.data,s=i.data?.accessToken||i.data?.token||i.data?.data?.accessToken||i.data?.data?.token||null;if(a&&n(Sb(a)),s){n(Ri(s));try{sn(s)}catch(c){console.warn("Failed to set auth header:",c)}}return console.log("Google Login Response:",i.data),i.data}catch(i){return console.error("googleLogin error:",i?.response?.data||i),r(i.response?.data?.message||"Google login failed")}}),_1=Fe("auth/registerUser",async(e,{dispatch:t,rejectWithValue:n})=>{try{const r=new FormData;r.append("name",e.name?.trim()),r.append("email",e.email?.trim().toLowerCase()),r.append("phone",e.phone?.trim()),r.append("role",e.role),e.verificationId&&r.append("verificationId",e.verificationId),e.role==="doctor"&&(r.append("aadhaarNumber",e.aadhaarNumber),e.aadhaarFile&&r.append("aadhaar",e.aadhaarFile),r.append("doctorDegrees",JSON.stringify(e.degrees||[])),(e.degreeCertificates||[]).forEach((s,c)=>{s&&r.append(`degreeCertificate_${c}`,s)}),e.registrationProof&&r.append("registrationProof",e.registrationProof),e.provisionalCertificate&&r.append("provisionalCertificate",e.provisionalCertificate),e.internshipCertificate&&r.append("internshipCertificate",e.internshipCertificate),e.clinicCard&&r.append("clinicCard",e.clinicCard));const i=await $e.post("/api/auth/register",r,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}),a=i.data?.token||i.data?.accessToken||i.data?.data?.token||i.data?.data?.accessToken;return a&&(t(Ri(a)),sn(a)),i.data}catch(r){const i=r.response?.data?.message||r.response?.data?.error||r.message||"Registration failed. Please try again.";return console.error("registerUser error:",r.response?.data||r),n(i)}}),zee=Fe("auth/checkUserExists",async({email:e,phone:t},{rejectWithValue:n})=>{try{return(await $e.post(`${fa}/auth/check-user`,{email:e,phone:t})).data}catch(r){const i=r?.response?.data?.message||r?.message||"Unable to verify user";return n(i)}}),m3=Fe("auth/requestSignupOTP",async({contact:e,role:t},{getState:n,dispatch:r,rejectWithValue:i})=>{try{const{auth:{accessToken:a}}=n(),s=await $e.post(`${fa}/auth/otp/request`,{contact:e,role:t},{headers:{"Content-Type":"application/json",...a&&{Authorization:`Bearer ${a}`}},withCredentials:!0}),c=s.data?.token||s.data?.accessToken;return c&&(r(Ri(c)),sn(c)),s.data}catch(a){return i(a.response?.data?.message||"OTP request failed")}}),P1=Fe("auth/verifySignupOTP",async({otpData:e},{getState:t,dispatch:n,rejectWithValue:r})=>{try{const{auth:{accessToken:i}}=t(),a=await $e.post(`${fa}/auth/otp/verify`,e,{headers:{"Content-Type":"application/json",...i&&{Authorization:`Bearer ${i}`}},withCredentials:!0}),s=a.data?.token||a.data?.accessToken;return s&&(n(Ri(s)),sn(s)),a.data}catch(i){return r(i.response?.data?.message||"OTP verification failed")}}),dm=Fe("auth/resendSignupOTP",async({contact:e,role:t},{getState:n,rejectWithValue:r})=>{try{const{auth:{accessToken:i}}=n();return(await $e.post(`${fa}/auth/resend`,{contact:e,role:t},{headers:{"Content-Type":"application/json",...i&&{Authorization:`Bearer ${i}`}},withCredentials:!0})).data}catch(i){return r(i.response?.data?.message||"Resend OTP failed")}}),D1=Fe("auth/requestLoginOTP",async(e,{dispatch:t,rejectWithValue:n})=>{try{const r=await $e.post(`${fa}/auth/otp/request`,e,{headers:{"Content-Type":"application/json"},withCredentials:!0}),i=r.data?.token||r.data?.accessToken;return i&&(t(Ri(i)),sn(i)),r.data}catch(r){return n(r.response?.data?.message||"Login OTP request failed")}}),O1=Fe("auth/verifyLoginOTP",async({contact:e,code:t,role:n},{getState:r,dispatch:i,rejectWithValue:a})=>{try{const{auth:{accessToken:s}}=r(),d=(await $e.post(`${fa}/auth/otp/verify`,{contact:e,code:t,role:n},{headers:{"Content-Type":"application/json",...s&&{Authorization:`Bearer ${s}`}},withCredentials:!0})).data,f={accessToken:d.accessToken||d.token,user:d.user||d.doctor||d,message:d.message||"Login successful"};return f.accessToken&&(i(Ri(f.accessToken)),sn(f.accessToken)),f}catch(s){return console.error("verifyLoginOTP error:",s.response?.data),a(s.response?.data?.message||"Invalid or expired OTP")}}),ko=Fe("auth/fetchUserProfile",async(e,{getState:t,rejectWithValue:n})=>{try{const{auth:{accessToken:r}}=t();return(await $e.get(`${fa}/auth/profile`,{headers:{Authorization:`Bearer ${r}`},withCredentials:!0})).data}catch(r){return n(r.response?.data?.message||"Failed to fetch user profile")}}),fm=Fe("auth/activateSubscription",async({subscriptionId:e,paymentId:t},{getState:n,rejectWithValue:r})=>{try{const{auth:{accessToken:i}}=n();return(await $e.post(`${fa}/subscription/activate`,{subscriptionId:e,paymentId:t},{headers:{Authorization:`Bearer ${i}`},withCredentials:!0})).data}catch(i){return r(i.response?.data?.message||"Failed to activate subscription")}}),$1=Fe("auth/generateAadhaarOtp",async({aadhaarNumber:e},{rejectWithValue:t})=>{try{return(await $e.post(`${fa}/auth/aadhaar/generate-otp`,{aadhaarNumber:e},{headers:{"Content-Type":"application/json"},withCredentials:!0})).data}catch(n){return t(n?.response?.data?.message||n?.response?.data?.error||"Failed to generate Aadhaar OTP")}}),I1=Fe("auth/submitAadhaarOtp",async({txnId:e,otp:t},{rejectWithValue:n})=>{try{return(await $e.post(`${fa}/auth/aadhaar/submit-otp`,{txnId:e,otp:t},{headers:{"Content-Type":"application/json"},withCredentials:!0})).data}catch(r){return n(r?.response?.data?.message||r?.response?.data?.error||"Failed to verify Aadhaar OTP")}}),vf=Fe("auth/logout",async(e,{getState:t,dispatch:n,rejectWithValue:r})=>{try{const{auth:{accessToken:i}}=t(),a=await $e.post(`${fa}/auth/logout`,{},{headers:{Authorization:`Bearer ${i}`},withCredentials:!0});return y8(),localStorage.removeItem("rzp_device_id"),localStorage.removeItem("token"),localStorage.removeItem("clinicId"),localStorage.removeItem("clinicName"),localStorage.removeItem("calendarId"),localStorage.removeItem("rzp_device_id"),a.data}catch(i){return y8(),localStorage.removeItem("token"),localStorage.removeItem("clinicId"),localStorage.removeItem("clinicName"),localStorage.removeItem("calendarId"),r(i.response?.data?.message||"Logout failed")}}),wF=qt({name:"auth",initialState:{user:null,accessToken:Mee,refreshToken:null,subscriptionStatus:"inactive",loading:!1,error:null,signupOtpRequested:!1,signupOtpVerified:!1,loginOtpRequested:!1,loginOtpVerified:!1,aadhaarOtpRequested:!1,aadhaarOtpResponse:null,aadhaarOtpVerified:!1,aadhaarTxnId:null,clinic:{id:xF,name:Lee,calendarId:Fee}},reducers:{resetError:e=>{e.error=null},setToken:(e,t)=>{e.accessToken=t.payload,localStorage.setItem("token",t.payload)},setAccessToken:(e,t)=>{e.accessToken=t.payload},setUser:(e,t)=>{e.user=t.payload,e.subscriptionStatus=t.payload.subscription?.status||"inactive"},setSubscriptionStatus:(e,t)=>{e.subscriptionStatus=t.payload}},extraReducers:e=>{e.addCase(_1.pending,t=>{t.loading=!0,t.error=null}).addCase(_1.fulfilled,(t,n)=>{t.loading=!1,t.user=n.payload.user||n.payload;const r=[n.payload.token,n.payload.accessToken,n.payload.data?.token,n.payload.data?.accessToken].find(a=>a);if(r){t.accessToken=r,localStorage.setItem("token",r);try{sn(r)}catch{}}const i=n.payload?.clinic||n.payload?.user?.clinic||n.payload?.user?.clinicId;i&&qy(t,i)}).addCase(_1.rejected,(t,n)=>{t.loading=!1,t.error=n.payload}).addCase(m3.pending,t=>{t.loading=!0,t.error=null}).addCase(m3.fulfilled,(t,n)=>{t.loading=!1,t.signupOtpRequested=!0;const r=n.payload.token||n.payload.accessToken;if(r){t.accessToken=r,localStorage.setItem("token",r);try{sn(r)}catch{}}}).addCase(m3.rejected,(t,n)=>{t.loading=!1,t.error=n.payload}).addCase(P1.pending,t=>{t.loading=!0,t.error=null}).addCase(P1.fulfilled,(t,n)=>{t.loading=!1,t.signupOtpVerified=!0,t.user=n.payload.user||n.payload;const r=n.payload.token||n.payload.accessToken;if(r){t.accessToken=r,localStorage.setItem("token",r);try{sn(r)}catch{}}const i=n.payload?.clinic||n.payload?.user?.clinic||n.payload?.user?.clinicId;i&&qy(t,i)}).addCase(P1.rejected,(t,n)=>{t.loading=!1,t.error=n.payload}).addCase(dm.pending,t=>{t.loading=!0,t.error=null}).addCase(dm.fulfilled,(t,n)=>{t.loading=!1,t.resendMessage=n.payload.message,t.debugOtp=n.payload.otp}).addCase(dm.rejected,(t,n)=>{t.loading=!1,t.error=n.payload}).addCase(D1.pending,t=>{t.loading=!0,t.error=null}).addCase(D1.fulfilled,(t,n)=>{t.loading=!1,t.loginOtpRequested=!0;const r=n.payload.token||n.payload.accessToken;if(r){t.accessToken=r,localStorage.setItem("token",r);try{sn(r)}catch{}}}).addCase(D1.rejected,(t,n)=>{t.loading=!1,t.error=n.payload}).addCase(O1.pending,t=>{t.loading=!0,t.error=null}).addCase(O1.fulfilled,(t,n)=>{t.loading=!1,t.loginOtpVerified=!0,t.user=n.payload.user||n.payload,n.payload?.user?._id&&localStorage.setItem("doctorId",n.payload.user._id);const r=n.payload.user?.hasActiveSubscription||n.payload.hasActiveSubscription||n.payload.user?.subscription?.status==="active";t.subscriptionStatus=r?"active":"inactive",n.payload.accessToken&&(t.accessToken=n.payload.accessToken,localStorage.setItem("token",n.payload.accessToken),sn(n.payload.accessToken));const i=n.payload?.user?.clinic||n.payload?.clinic;i&&qy(t,i)}).addCase(O1.rejected,(t,n)=>{t.loading=!1,t.error=n.payload}).addCase(ko.pending,t=>{t.loading=!0,t.error=null}).addCase(ko.fulfilled,(t,n)=>{t.loading=!1,t.user=n.payload.user||n.payload,t.subscriptionStatus=n.payload.user?.subscription?.status||"inactive";const r=n.payload?.user?.clinic||n.payload?.clinic||n.payload?.user?.clinicId;qy(t,r)}).addCase(ko.rejected,(t,n)=>{t.loading=!1,t.error=n.payload}).addCase(fm.pending,t=>{t.loading=!0,t.error=null}).addCase(fm.fulfilled,(t,n)=>{t.loading=!1,t.subscriptionStatus=n.payload.status||"active",t.user=n.payload.user||t.user}).addCase(fm.rejected,(t,n)=>{t.loading=!1,t.error=n.payload}).addCase(N1.pending,t=>{t.loading=!0,t.error=null}).addCase(N1.fulfilled,(t,n)=>{t.loading=!1,t.user=n.payload.user,t.accessToken=n.payload.accessToken,localStorage.setItem("token",n.payload.accessToken),sn(n.payload.accessToken),n.payload?.user?._id&&localStorage.setItem("doctorId",n.payload.user._id)}).addCase(N1.rejected,(t,n)=>{t.loading=!1,t.error=n.payload}).addCase($1.pending,t=>{t.loading=!0,t.error=null,t.aadhaarOtpRequested=!1}).addCase($1.fulfilled,(t,n)=>{t.loading=!1,t.aadhaarOtpRequested=!0,t.aadhaarOtpResponse=n.payload}).addCase($1.rejected,(t,n)=>{t.loading=!1,t.aadhaarOtpRequested=!1,t.error=n.payload}).addCase(I1.pending,t=>{t.loading=!0,t.error=null}).addCase(I1.fulfilled,(t,n)=>{t.loading=!1,t.aadhaarOtpVerified=!0,t.aadhaarOtpResponse=n.payload}).addCase(I1.rejected,(t,n)=>{t.loading=!1,t.aadhaarOtpVerified=!1,t.error=n.payload}).addCase(vf.pending,t=>{t.loading=!0,t.error=null}).addCase(vf.fulfilled,t=>{B_(t)}).addCase(vf.rejected,t=>{B_(t)})}}),B_=e=>{e.loading=!1,e.user=null,e.accessToken=null,e.refreshToken=null,e.subscriptionStatus="inactive",e.signupOtpRequested=!1,e.signupOtpVerified=!1,e.loginOtpRequested=!1,e.loginOtpVerified=!1,e.clinic={id:null,name:null,calendarId:null},localStorage.removeItem("doctorId"),localStorage.removeItem("rzp_device_id"),["token","clinicId","clinicName","calendarId"].forEach(t=>{localStorage.removeItem(t)});try{y8()}catch{}},{resetError:SF,setToken:Ri,setAccessToken:iIe,setUser:Sb,setSubscriptionStatus:aIe}=wF.actions,Uee=wF.reducer,bf=Fe("clinic/fetchClinics",async(e,{getState:t,rejectWithValue:n})=>{try{const r=t().auth.token||localStorage.getItem("token");if(!r)return n("No authentication token found");const i=await $e.get(`${ot}/api/clinic`,{headers:{Authorization:`Bearer ${r}`},withCredentials:!0});return console.log(" Fetch Clinics Response:",i.data),i.data}catch(r){return console.error(" Fetch Clinics Error:",r),n(r.response?.data?.error||r.message||"Failed to fetch clinics")}}),pm=Fe("clinic/fetchClinicById",async(e,{getState:t,rejectWithValue:n})=>{try{const{auth:{accessToken:r}}=t(),i=await $e.get(`${ot}/api/clinic/${e}`,{headers:{Authorization:`Bearer ${r}`},withCredentials:!0});return console.log("Fetch clinic response:",i.data),console.log("consultingHours:",i.data.clinic?.consultingHours),i.data}catch(r){return console.error("Fetch clinic error:",r),n(r.response?.data?.message||"Failed to fetch clinic data")}}),xf=Fe("clinic/updateClinic",async({clinicId:e,clinicData:t},{rejectWithValue:n})=>{const r=t instanceof FormData?t:new FormData;if(r instanceof FormData){const i={};for(const[a,s]of r.entries())i[a]=s instanceof File?`[File: ${s.name}, Type: ${s.type}, Size: ${Math.round(s.size/1024)} KB]`:s;console.log("--- Redux Thunk: updateClinic Payload ---"),console.log("Clinic ID:",e),console.table(i),console.log("--- End of Redux Thunk Payload Log ---")}try{const i=localStorage.getItem("token")||localStorage.getItem("accessToken");i?sn(i):console.warn("updateClinic: no token found in localStorage ('token' or 'accessToken').");const a=await $e.put(`${ot}/api/clinic/${e}`,r,{headers:{"Content-Type":r instanceof FormData?"multipart/form-data":"application/json"},skipAuthRedirect:!0});return console.log("Update Clinic Response:",a.data),a.data}catch(i){console.error("updateClinic error:",i);const a=i.response?.data?.message||i.response?.data?.error||i.message;return n(a)}}),R1=Fe("clinic/addClinic",async(e,{getState:t,rejectWithValue:n})=>{try{const r=t().auth||{},i=r.accessToken||r.token||localStorage.getItem("token"),a=r.user||null,s=a?.id||a?._id||null;if(!i||!s)return n("User not authenticated");const c=await $e.post(`${ot}/api/clinic`,e,{headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},withCredentials:!0});return console.log(" Add Clinic Response:",c.data),c.data}catch(r){return console.error(" Add Clinic Error:",r),n(r.response?.data?.error||"Add clinic failed")}}),M1=Fe("clinics/deleteClinic",async(e,t)=>{try{const r=t.getState()?.auth?.accessToken;if(localStorage.getItem("token"),!r)return t.rejectWithValue({message:"No auth token"});const i=await fetch(`https://api.mediscript.in/api/clinic/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${r}`,Accept:"application/json"}}),a=await i.text();let s;try{s=a?JSON.parse(a):{}}catch{s={message:a}}return i.ok?{clinicId:e,meta:s}:t.rejectWithValue({status:i.status,message:s?.message||s||"Delete failed"})}catch(n){return t.rejectWithValue({message:n.message||"Network error"})}});Fe("clinic/updateDoctorProfile",async(e,{getState:t,rejectWithValue:n})=>{try{const r=t().auth?.token||localStorage.getItem("accessToken")||localStorage.getItem("token");if(!r)return n("No authentication token found");const i=await $e.put(`${ot}/api/doctor/profile`,e,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"multipart/form-data"},withCredentials:!0});return console.log(" updateDoctorProfile Response:",i.data),i.data}catch(r){return console.error(" updateDoctorProfile Error:",r),n(r.response?.data?.error||r.message||"Failed to update doctor profile")}});const lf=Fe("clinic/clearMessage",async()=>null),CF=qt({name:"clinic",initialState:{clinics:[],loading:!1,error:null,message:null,currentClinic:null},reducers:{clearMessage:e=>{e.message=null,e.error=null},setCurrentClinic:(e,t)=>{e.currentClinic=t.payload}},extraReducers:e=>{e.addCase(bf.pending,t=>{t.loading=!0,t.error=null}).addCase(bf.fulfilled,(t,n)=>{t.loading=!1;const r=Array.isArray(n.payload)?n.payload:n.payload.clinics||[];t.clinics=r.map(i=>({...i,id:i._id||i.id}))}).addCase(bf.rejected,(t,n)=>{t.loading=!1,t.error=n.payload||"Failed to fetch clinics"}).addCase(pm.pending,t=>{t.loading=!0,t.error=null,t.currentClinic=null}).addCase(pm.fulfilled,(t,n)=>{t.loading=!1,t.currentClinic=n.payload.clinic||n.payload}).addCase(pm.rejected,(t,n)=>{t.loading=!1,t.error=n.payload||"Failed to fetch clinic data",t.currentClinic=null}).addCase(xf.pending,t=>{t.loading=!0,t.error=null}).addCase(xf.fulfilled,(t,n)=>{t.loading=!1,t.currentClinic=n.payload.clinic||n.payload,t.message="Clinic updated successfully"}).addCase(xf.rejected,(t,n)=>{t.loading=!1,t.error=n.payload||"Failed to update clinic"}).addCase(R1.pending,t=>{t.loading=!0,t.error=null,t.message=null}).addCase(R1.fulfilled,(t,n)=>{t.loading=!1;const r=n.payload.clinic||n.payload;t.clinics.push({...r,id:r._id||r.id}),t.message="Clinic added successfully!"}).addCase(R1.rejected,(t,n)=>{t.loading=!1,t.error=n.payload||"Failed to add clinic"}).addCase(lf.fulfilled,t=>{t.message=null,t.error=null}).addCase(M1.pending,t=>{t.loading=!0,t.error=null}).addCase(M1.fulfilled,(t,n)=>{t.loading=!1;const r=n.payload.clinicId;t.clinics=t.clinics.filter(i=>i._id!==r&&i.id!==r),t.message="Clinic deleted successfully"}).addCase(M1.rejected,(t,n)=>{t.loading=!1,t.error=n.payload||"Failed to delete clinic"})}}),{setCurrentClinic:jF}=CF.actions,Hee=CF.reducer,L1=Fe("subscription/fetchPlans",async({token:e,role:t},{rejectWithValue:n})=>{try{if(!e)return n("Authentication token missing");if(!t)return n("User role not specified");const i=(await $e.get(`${ot}/api/subscription/plans`,{headers:{Authorization:`Bearer ${e}`},withCredentials:!0})).data?.plans;if(!Array.isArray(i))return n("Invalid response format for plans");const a=i.filter(s=>s.visibleTo?.includes(t));return console.log(` Loaded ${a.length} plans for role: ${t}`),a}catch(r){const i=r.response?.data?.message||r.message||"Failed to fetch subscription plans";return console.error(" Fetch Plans Error:",i),n(i)}}),F1=Fe("subscription/subscribeToPlan",async({planId:e,token:t},{rejectWithValue:n})=>{try{if(!t)return n("Authentication required");if(!e)return n("No plan selected");const r=await $e.post(`${ot}/api/subscription/buyplan`,{planId:e},{headers:{Authorization:`Bearer ${t}`},withCredentials:!0});return console.log(" Subscription created:",r.data),r.data}catch(r){const i=r.response?.data?.message||r.message||"Failed to subscribe to plan";return console.error(" Subscribe Plan Error:",i),n(i)}}),TF=qt({name:"subscription",initialState:{plans:[],userSubscription:null,status:"idle",error:null},reducers:{clearSubscriptionError:e=>{e.error=null},resetSubscriptionState:e=>{e.plans=[],e.userSubscription=null,e.status="idle",e.error=null}},extraReducers:e=>{e.addCase(L1.pending,t=>{t.status="loading",t.error=null}).addCase(L1.fulfilled,(t,n)=>{t.status="succeeded",t.plans=n.payload}).addCase(L1.rejected,(t,n)=>{t.status="failed",t.error=n.payload}).addCase(F1.pending,t=>{t.status="loading",t.error=null}).addCase(F1.fulfilled,(t,n)=>{t.status="succeeded",t.userSubscription=n.payload}).addCase(F1.rejected,(t,n)=>{t.status="failed",t.error=n.payload})}}),{clearSubscriptionError:Vee,resetSubscriptionState:oIe}=TF.actions,qee=TF.reducer,v8=ot+"/api/certificate",Ga=e=>{if(!e)return"";let t=String(e).trim();return(t.startsWith('"')&&t.endsWith('"')||t.startsWith("'")&&t.endsWith("'"))&&(t=t.slice(1,-1).trim()),t.toLowerCase().startsWith("bearer ")&&(t=t.slice(7).trim()),t.replace(/[\r\n]/g,"")},qm=Fe("reception/registerPatient",async(e,{getState:t,rejectWithValue:n})=>{try{const r=t(),i=r?.auth?.token||r?.auth?.user?.token||localStorage.getItem("token")||"",a=Ga(i);if(!a)return n("Authorization token missing. Please login.");sn(a);const s=e?.clinicId||r?.clinic?.currentClinic?.id||r?.clinic?.currentClinic?._id||r?.auth?.user?.clinicId||r?.auth?.clinic?.id||localStorage.getItem("clinicId")||localStorage.getItem("selectedClinicId"),c=typeof s=="string"?s.trim():s?String(s).trim():"";if(!c||c==="null"||c==="undefined")return n("Clinic ID is required to register a patient.");const d={clinicId:c,uhid:e.uhid||"",name:e.name||"",gender:e.gender||"",age:e.age!==void 0&&e.age!==null&&e.age!==""?Number(e.age):void 0,phone:e.phone||e.mobile||e.contact||"",address:e.address||"",fatherName:e.fatherName||"",dob:e.dob||""},f=`/api/reception/patient/register?clinicId=${encodeURIComponent(c)}`,p=await $e.post(f,d);return{ok:!0,patient:p.data?.patient||p.data}}catch(r){const i=r?.response?.data?.message||r?.response?.data?.error||r.message;return n(i||"Registration failed")}}),ys=Fe("reception/fetchPatients",async(e,{getState:t,rejectWithValue:n})=>{try{const r=t(),i=r?.auth?.token||localStorage.getItem("token"),a=Ga(i);if(!a)return n("Login required");sn(a);const s=r?.clinic?.currentClinic?.id||r?.clinic?.currentClinic?._id||localStorage.getItem("selectedClinicId")||localStorage.getItem("clinicId");if(!s)return n("No clinic selected");const c=`/api/reception/patient/all?clinicId=${encodeURIComponent(s)}`;return(await $e.get(c)).data?.patients||[]}catch(r){return n(r.response?.data?.message||r.message||"Failed to fetch")}}),Yee=Fe("reception/uploadReport",async({patientId:e,file:t,files:n},{getState:r,rejectWithValue:i})=>{try{const a=r(),s=a?.auth?.token||a?.auth?.user?.token||localStorage.getItem("token"),c=Ga(s);if(!c)return i("Authorization token missing. Please login.");if(!e)return i("patientId is required to upload a report.");sn(c);const d=new FormData;if(t)d.append("report",t);else if(Array.isArray(n))n.forEach(m=>d.append("report",m));else return i("No file(s) provided for upload.");const f=`/api/reception/patient/${encodeURIComponent(e)}/upload-report`,p=await $e.post(f,d,{headers:{"Content-Type":"multipart/form-data"}});return p.data?.patient??p.data}catch(a){const s=a?.response?.data?.message||a?.response?.data?.error||a.message;return i(s||"Upload failed")}}),Iu=Fe("reception/fetchDailyCalendar",async({date:e,clinicId:t}={},{getState:n,rejectWithValue:r})=>{try{const i=n(),a=i?.auth?.token||i?.auth?.user?.token||localStorage.getItem("token"),s=Ga(a),c=t||i?.auth?.clinic?.id||i?.clinic?.currentClinic?.id||i?.clinic?.currentClinic?._id||i?.auth?.user?.clinicId||localStorage.getItem("selectedClinicId");if(!c)return r("Clinic ID missing");const d=e||new Date().toISOString().slice(0,10);if(!s)return r("Missing auth token");if(!c)return r("Missing clinicId");sn(s);const f=`/api/reception/calendar/${encodeURIComponent(c)}/daily?date=${encodeURIComponent(d)}`,m=(await $e.get(f)).data;return Array.isArray(m.appointments)?m.appointments:Array.isArray(m)?m:[]}catch(i){return r(i.response?.data?.message||i.message||"Failed to fetch calendar")}}),B1=Fe("reception/fetchWeeklyCalendar",async({date:e,clinicId:t}={},{getState:n,rejectWithValue:r})=>{try{const i=n(),a=i?.auth?.token||i?.auth?.user?.token||localStorage.getItem("token"),s=Ga(a),c=t||i?.auth?.clinic?.id||i?.clinic?.currentClinic?.id||i?.clinic?.currentClinic?._id||i?.auth?.user?.clinicId||localStorage.getItem("selectedClinicId"),d=e||new Date().toISOString().slice(0,10);if(!s)return r("Missing auth token");if(!c)return r("Missing clinicId");sn(s);const f=`/api/reception/calendar/${encodeURIComponent(c)}/weekly?date=${encodeURIComponent(d)}`,m=(await $e.get(f)).data;return Array.isArray(m.appointments)?m.appointments:[]}catch(i){return r(i.message||"Failed to fetch weekly calendar")}}),hm=Fe("reception/searchPatientByUHID",async({uhid:e,clinicId:t},{getState:n,rejectWithValue:r})=>{try{const i=n(),a=i?.auth?.token||i?.auth?.user?.token||localStorage.getItem("token"),s=Ga(a);if(!s)return r("Authorization token missing. Please login.");const c=t||i?.auth?.clinic?.id||i?.auth?.user?.clinicId||localStorage.getItem("clinicId")||localStorage.getItem("selectedClinicId");if(!c)return r("Clinic ID is required to search patient.");if(!e||e.trim()==="")return r("UHID is required to search.");sn(s);const d=`/api/reception/patient/search?uhid=${encodeURIComponent(e.trim())}&clinicId=${encodeURIComponent(c)}`,p=(await $e.get(d)).data?.patients?.[0];return!p||!p._id?r("Patient not found with this UHID."):p}catch(i){const a=i?.response?.data?.message||i?.response?.data?.error||i.message;return r(a||"Search failed")}}),mm=Fe("reception/updatePatient",async({uhid:e,updateData:t,clinicId:n},{getState:r,rejectWithValue:i})=>{try{const a=r(),s=a?.auth?.token||a?.auth?.user?.token||localStorage.getItem("token"),c=Ga(s);if(!c)return i("Authorization token missing. Please login.");const d=n||a?.auth?.clinic?.id||a?.auth?.user?.clinicId||localStorage.getItem("selectedClinicId");if(!d)return i("Clinic ID is required.");if(!e||e.trim()==="")return i("UHID is required.");sn(c);const f=`/api/reception/patient/uhid/${encodeURIComponent(e.trim())}?clinicId=${encodeURIComponent(d)}`,p=await $e.put(f,t);return p.data?.patient||p.data}catch(a){const s=a?.response?.data?.message||a?.response?.data?.error||a.message;return i(s||"Failed to update patient")}}),z1=Fe("reception/generateCertificatePdf",async({certificateId:e,certificateType:t},{getState:n,rejectWithValue:r})=>{try{const i=n(),a=i?.auth?.token||i?.auth?.user?.token||localStorage.getItem("token");if(!a)return r("Authorization token missing. Please login.");if(!e||!t)return r("Certificate ID and Type are required.");let s;const c={fit_to_resume:"fit-to-resume",illness:"illness",leave:"leave",hospitalization:"hospital",insurance:"insurance",travel:"travel",preoperative_fitness:"pre",maternity:"maternity",surgical:"surgical",covid_fit:"recover",fitness:"print",vaccine:"vaccin",vaccination:"vaccin"};console.log("certificateType",t);const d=t.toLowerCase().replace(/[-\s]/g,"_"),f=c[d];return f?s=`${v8}/${encodeURIComponent(f)}/${encodeURIComponent(e)}`:(s=`${v8}/${encodeURIComponent(t)}/${encodeURIComponent(e)}`,console.log(`[Certificate Fallback] Using path: ${s}`)),{blob:(await $e.get(s,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"text/plain"},responseType:"blob"})).data,certificateId:e,certificateType:t}}catch(i){if(i.response?.data?.type==="application/json"){const s=new FileReader;return new Promise((c,d)=>{s.onload=()=>{try{const f=JSON.parse(s.result),p=f?.message||f?.error||"Error generating PDF.";d(r(p))}catch{d(r("Failed to parse server error."))}},s.readAsText(i.response.data)})}const a=i?.response?.data?.message||i?.response?.data?.error||i.message;return r(a||"Failed to generate certificate PDF")}}),U1=Fe("reception/fetchPatientCertificates",async({filter:e,startDate:t,endDate:n}={},{getState:r,rejectWithValue:i})=>{try{const a=r(),s=a?.auth?.token||a?.auth?.user?.token||localStorage.getItem("token"),c=a?.clinic?.currentClinic?.id||a?.clinic?.currentClinic?._id||localStorage.getItem("selectedClinicId")||localStorage.getItem("clinicId");if(!c)return i("Clinic ID is required to fetch certificates.");if(!s)return i("Authorization token missing");let d=`${v8}/certificates?clinicId=${encodeURIComponent(c)}`;return e?d+=`&filter=${encodeURIComponent(e)}`:t&&n&&(d+=`&startDate=${encodeURIComponent(t)}&endDate=${encodeURIComponent(n)}`),(await $e.get(d,{headers:{Authorization:`Bearer ${s}`}})).data?.certificates??[]}catch(a){const s=a?.response?.data?.message||a?.response?.data?.error||a.message;return i(s||"Failed to fetch certificates")}}),gm=Fe("reception/fetchSupportContacts",async(e,{getState:t,rejectWithValue:n})=>{try{const r=t(),i=r?.auth?.token||r?.auth?.user?.token||localStorage.getItem("token")||"",a=Ga(i);if(!a)return n("Authorization token missing. Please login again.");const s=r?.clinic?.currentClinic?.id||r?.clinic?.currentClinic?._id||r?.auth?.user?.clinicId||r?.auth?.clinic?.id||localStorage.getItem("clinicId");if(!s||s==="null"||s==="undefined")return n("Clinic ID is required to fetch support contacts.");sn(a);const c=`/api/clinic/support/${encodeURIComponent(s)}/contacts`,d=await $e.get(c);return d.data?.contacts||d.data||[]}catch(r){const i=r?.response?.data?.message||r?.response?.data?.error||r?.message||"Failed to fetch support contacts";return n(i)}}),H1=Fe("reception/fetchAppointmentQueue",async({clinicId:e}={},{getState:t,rejectWithValue:n})=>{try{const r=t(),i=r?.auth?.token||r?.auth?.user?.token||localStorage.getItem("token")||"",a=Ga(i);if(!a)return n("Authorization token missing. Please login.");const s=e||r?.clinic?.currentClinic?.id||r?.clinic?.currentClinic?._id||r?.auth?.user?.clinicId||r?.auth?.clinic?.id||localStorage.getItem("selectedClinicId")||localStorage.getItem("clinicId");if(!s)return n("Clinic ID is required to fetch queue.");sn(a);const c=`/api/reception/appointments/${encodeURIComponent(s)}/queue`,d=await $e.get(c);return{counts:d.data?.counts||{},queue:d.data?.queue||{waiting:[],inConsultation:[],completed:[],emergency:[]}}}catch(r){const i=r?.response?.data?.message||r?.response?.data?.error||r.message||"Failed to fetch appointment queue";return n(i)}}),V1=Fe("reception/fetchTodayDashboard",async({clinicId:e}={},{getState:t,rejectWithValue:n})=>{try{const r=t(),i=r?.auth?.token||r?.auth?.user?.token||localStorage.getItem("token")||"",a=Ga(i);if(!a)return n("Authorization token missing.");const s=e||r?.clinic?.currentClinic?.id||r?.clinic?.currentClinic?._id||r?.auth?.user?.clinicId||localStorage.getItem("selectedClinicId")||localStorage.getItem("clinicId");if(!s)return n("Clinic ID is required to fetch dashboard.");sn(a);const c=`/api/dashboard/today?clinicId=${encodeURIComponent(s)}`,d=await $e.get(c);return d.data?.data||d.data}catch(r){const i=r?.response?.data?.message||r?.response?.data?.error||r.message;return n(i)}}),q1=Fe("reception/fetchTodayAppointments",async({clinicId:e}={},{getState:t,rejectWithValue:n})=>{try{const r=t(),i=r?.auth?.token||r?.auth?.user?.token||localStorage.getItem("token")||"",a=Ga(i);if(!a)return n("Authorization token missing. Please login again.");const s=e||r?.clinic?.currentClinic?.id||r?.clinic?.currentClinic?._id||r?.auth?.user?.clinicId||r?.auth?.clinic?.id||localStorage.getItem("selectedClinicId")||localStorage.getItem("clinicId");if(!s)return n("Clinic ID is required.");sn(a);const c=`/api/reception/appointments/today?clinicId=${encodeURIComponent(s)}`,f=(await $e.get(c))?.data??{},p=Array.isArray(f.data)&&f.data.length>0?f.data:Array.isArray(f.appointments)&&f.appointments.length>0?f.appointments:Array.isArray(f)?f:[],m=typeof f.count=="number"?f.count:p.length;return{success:!!(f.success??!0),count:m,appointments:p,raw:f}}catch(r){const i=r?.response?.status,a=r?.response?.data;if(i===404||i===204)return{success:!1,count:0,appointments:[],raw:a??{error:"No appointments"}};const s=a?.message||a?.error||r.message||"Failed to fetch today's appointments";return n(s)}}),AF=qt({name:"reception",initialState:{patients:[],loading:!1,error:null,dailyCalendar:[],calendarLoading:!1,calendarError:null,weeklyCalendar:[],weeklyLoading:!1,weeklyError:null,searchedPatient:null,searchLoading:!1,searchError:null,certificates:[],certificatesLoading:!1,certificatesError:null,patientCertificates:[],patientCertificatesLoading:!1,patientCertificatesError:null,pdfGenerationLoading:!1,pdfGenerationError:null,supportContacts:[],supportContactsLoading:!1,supportContactsError:null,queue:[],queueLoading:!1,queueError:null,todayDashboard:null,todayDashboardLoading:!1,todayDashboardError:null,todayAppointments:[],todayAppointmentsCount:0,todayAppointmentsLoading:!1,todayAppointmentsError:null},reducers:{clearPatientError:e=>{e.error=null,e.searchError=null,e.certificatesError=null,e.patientCertificatesError=null,e.pdfGenerationError=null},setPatients:(e,t)=>{e.patients=t.payload||[]}},extraReducers:e=>{e.addCase(ys.pending,t=>{t.loading=!0,t.error=null}).addCase(ys.fulfilled,(t,n)=>{t.loading=!1,t.patients=Array.isArray(n.payload)?n.payload:[]}).addCase(ys.rejected,(t,n)=>{t.loading=!1,t.error=n.payload,t.patients=[]}).addCase(qm.fulfilled,(t,n)=>{t.loading=!1;const r=n.payload;if(r?._id){const i=t.patients.findIndex(a=>a._id===r._id);i>=0?t.patients[i]=r:t.patients.push(r)}}).addCase(qm.rejected,(t,n)=>{t.loading=!1,t.error=n.payload}).addCase(U1.pending,t=>{t.certificatesLoading=!0,t.certificatesError=null}).addCase(U1.fulfilled,(t,n)=>{t.certificatesLoading=!1,t.certificates=Array.isArray(n.payload)?n.payload:[]}).addCase(U1.rejected,(t,n)=>{t.certificatesLoading=!1,t.certificatesError=n.payload,t.certificates=[]}).addCase(z1.pending,t=>{t.pdfGenerationLoading=!0,t.pdfGenerationError=null}).addCase(z1.fulfilled,t=>{t.pdfGenerationLoading=!1}).addCase(z1.rejected,(t,n)=>{t.pdfGenerationLoading=!1,t.pdfGenerationError=n.payload}).addCase(Iu.pending,t=>{t.calendarLoading=!0,t.calendarError=null}).addCase(Iu.fulfilled,(t,n)=>{t.calendarLoading=!1,t.dailyCalendar=Array.isArray(n.payload)?n.payload:[]}).addCase(Iu.rejected,(t,n)=>{t.calendarLoading=!1,t.calendarError=n.payload}).addCase(B1.pending,t=>{t.weeklyLoading=!0,t.weeklyError=null}).addCase(B1.fulfilled,(t,n)=>{t.weeklyLoading=!1,t.weeklyCalendar=Array.isArray(n.payload)?n.payload:[]}).addCase(B1.rejected,(t,n)=>{t.weeklyLoading=!1,t.weeklyError=n.payload}).addCase(hm.pending,t=>{t.searchLoading=!0,t.searchError=null,t.searchedPatient=null}).addCase(hm.fulfilled,(t,n)=>{t.searchLoading=!1,t.searchedPatient=n.payload}).addCase(hm.rejected,(t,n)=>{t.searchLoading=!1,t.searchError=n.payload,t.searchedPatient=null}).addCase(mm.pending,t=>{t.loading=!0,t.error=null}).addCase(mm.fulfilled,(t,n)=>{t.loading=!1;const r=n.payload;if(r?._id){const i=t.patients.findIndex(a=>a._id===r._id);i>=0&&(t.patients[i]=r),t.searchedPatient?._id===r._id&&(t.searchedPatient=r)}}).addCase(mm.rejected,(t,n)=>{t.loading=!1,t.error=n.payload}).addCase(gm.pending,t=>{t.supportContactsLoading=!0,t.supportContactsError=null}).addCase(gm.fulfilled,(t,n)=>{t.supportContactsLoading=!1,t.supportContacts=Array.isArray(n.payload)?n.payload:[]}).addCase(gm.rejected,(t,n)=>{t.supportContactsLoading=!1,t.supportContactsError=n.payload,t.supportContacts=[]}).addCase(H1.pending,t=>{t.loading=!0,t.error=null}).addCase(H1.fulfilled,(t,n)=>{t.loading=!1,t.queueCounts=n.payload?.counts||{},t.queue=n.payload?.queue||{waiting:[],inConsultation:[],completed:[],emergency:[]}}).addCase(H1.rejected,(t,n)=>{t.loading=!1,t.error=n.payload||"Failed to load queue"}).addCase(V1.pending,t=>{t.todayDashboardLoading=!0,t.todayDashboardError=null}).addCase(V1.fulfilled,(t,n)=>{t.todayDashboardLoading=!1,t.todayDashboard=n.payload||null}).addCase(V1.rejected,(t,n)=>{t.todayDashboardLoading=!1,t.todayDashboardError=n.payload,t.todayDashboard=null}).addCase(q1.pending,t=>{t.todayAppointmentsLoading=!0,t.todayAppointmentsError=null}).addCase(q1.fulfilled,(t,n)=>{t.todayAppointmentsLoading=!1,t.todayAppointmentsError=null,t.todayAppointments=n.payload.appointments||[],t.todayAppointmentsCount=n.payload.count??n.payload.appointments?.length??0}).addCase(q1.rejected,(t,n)=>{t.todayAppointmentsLoading=!1,t.todayAppointments=[],t.todayAppointmentsCount=0;const r=n.payload||n.error?.message||"";r.toLowerCase().includes("not found")||r.toLowerCase().includes("appointment not found")||n.error?.response?.status===404?t.todayAppointmentsError=null:t.todayAppointmentsError=r||"Failed to load appointments"}).addCase("auth/logout/fulfilled",t=>{t.patients=[],t.dailyCalendar=[],t.weeklyCalendar=[],t.searchedPatient=null,t.certificates=[],t.patientCertificates=[],t.pdfGenerationError=null,t.queue=[],t.queueLoading=!1,t.queueError=null})}}),{clearPatientError:sIe,setPatients:lIe}=AF.actions,Wee=AF.reducer,Y1=Fe("staff/addStaff",async(e,{getState:t,rejectWithValue:n})=>{try{const r=t()?.auth?.token||localStorage.getItem("accessToken")||localStorage.getItem("token");return r?(await $e.post(`${ot}/api/staff`,e,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},withCredentials:!0})).data:n("No authentication token found")}catch(r){return console.error(" addStaffApi error:",r),n(r?.response?.data?.error||r?.response?.data?.message||r?.message||"Failed to add staff")}}),ds=Fe("staff/getSpecificClinicStaffApi",async(e,{getState:t,rejectWithValue:n})=>{try{const r=t()?.auth?.token||localStorage.getItem("accessToken")||localStorage.getItem("token");if(!r)return n("No authentication token found");const i=localStorage.getItem("selectedClinicId");if(!i)return n("No clinic ID found");const a=await $e.get(`${ot}/api/staff/${i}`,{headers:{Authorization:`Bearer ${r}`},withCredentials:!0});return console.log(" Specific Clinic Staff:",a.data),a.data}catch(r){return console.error(" getSpecificClinicStaffApi error:",r),n(r.response?.data||r.message||"Failed to fetch staff")}}),W1=Fe("staff/resetStaffPasswordApi",async({staffId:e,clinicId:t},{getState:n,rejectWithValue:r})=>{try{const i=n()?.auth?.token||localStorage.getItem("accessToken")||localStorage.getItem("token");if(!i)return r("No authentication token found");if(!e)return r("Staff ID is required");if(!t)return r("Clinic ID is required");const a=await $e.put(`${ot}/api/staff/reset/${e}?clinicId=${t}`,{},{headers:{Authorization:`Bearer ${i}`},withCredentials:!0});return console.log(" Password Reset Response:",a.data),a.data}catch(i){return console.error(" resetStaffPasswordApi error:",i),r(i.response?.data||i.message||"Failed to reset password")}}),G1=Fe("staff/updateStaffDetailsApi",async(e,{getState:t,rejectWithValue:n})=>{try{const r=t()?.auth?.token||localStorage.getItem("accessToken")||localStorage.getItem("token");if(!r)return n("No authentication token found");const{staffId:i,clinicId:a,name:s,phone:c,role:d,permissions:f}=e;if(!i)return n("Staff ID is required");if(!a)return n("Clinic ID is required");const p={};if(s!=null&&(p.name=s.trim()),c!=null&&(p.phone=c.trim()),d!=null&&(p.role=d.toLowerCase().trim()),f!==void 0&&(p.permissions={...p.permissions||{},...f.canViewPatients!==void 0&&{canViewPatients:!!f.canViewPatients},...f.canEditBills!==void 0&&{canEditBills:!!f.canEditBills},...f.canIssueCertificates!==void 0&&{canIssueCertificates:!!f.canIssueCertificates},...f.canPrintPrescription!==void 0&&{canPrintPrescription:!!f.canPrintPrescription}}),Object.keys(p).length===0)return n("No changes to update");const m=await $e.put(`${ot}/api/staff/update/${i}?clinicId=${a}`,p,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},withCredentials:!0});return console.log("Staff updated successfully:",m.data),m.data}catch(r){return console.error("updateStaffDetailsApi error:",r),n(r.response?.data?.message||r.response?.data||r.message||"Failed to update staff")}}),K1=Fe("staff/deleteStaffApi",async({staffId:e,clinicId:t},{getState:n,rejectWithValue:r})=>{try{const i=n()?.auth?.token||localStorage.getItem("accessToken")||localStorage.getItem("token");return i?e?t?(await $e.delete(`${ot}/api/staff/delete/${e}?clinicId=${t}`,{headers:{Authorization:`Bearer ${i}`},withCredentials:!0})).data:r("Clinic ID is required"):r("Staff ID is required"):r("No authentication token found")}catch(i){return console.error(" deleteStaffApi error:",i),r(i.response?.data?.message||i.response?.data||i.message||"Failed to delete staff")}}),X1=Fe("staff/suspendStaffApi",async(e,{getState:t,rejectWithValue:n})=>{try{const r=t()?.auth?.token||localStorage.getItem("accessToken")||localStorage.getItem("token");if(!r)return n("No authentication token found");const{staffId:i,clinicId:a}=e;return i?a?(await $e.put(`${ot}/api/staff/${i}/suspend?clinicId=${a}`,{},{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},withCredentials:!0})).data:n("Clinic ID is required"):n("Staff ID is required")}catch(r){return n(r.response?.data?.message||r.response?.data||r.message||"Failed to suspend staff")}}),Q1=Fe("staff/reactivateStaffApi",async(e,{getState:t,rejectWithValue:n})=>{try{const r=t()?.auth?.token||localStorage.getItem("accessToken")||localStorage.getItem("token");if(!r)return n("No authentication token found");const{staffId:i,clinicId:a}=e;return i?a?(await $e.put(`${ot}/api/staff/${i}/reactivate?clinicId=${a}`,{},{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},withCredentials:!0})).data:n("Clinic ID is required"):n("Staff ID is required")}catch(r){return n(r.response?.data?.message||r.response?.data||r.message||"Failed to reactivate staff")}}),kF=qt({name:"staff",initialState:{staffList:[],loading:!1,error:null,message:null},reducers:{clearStaffMessage:e=>{e.message=null,e.error=null},setStaffList:(e,t)=>{e.staffList=t.payload||[]}},extraReducers:e=>{e.addCase(ds.pending,t=>{t.loading=!0,t.error=null}).addCase(ds.fulfilled,(t,n)=>{t.loading=!1,t.staffList=n.payload?.staff||n.payload||[],t.error=null}).addCase(ds.rejected,(t,n)=>{t.loading=!1,t.error=n.payload||"Failed to fetch staff",t.staffList=[]}).addCase(Y1.pending,t=>{t.loading=!0}).addCase(Y1.fulfilled,(t,n)=>{t.loading=!1,t.message="Staff added successfully!",n.payload?.staff&&t.staffList.push(n.payload.staff)}).addCase(Y1.rejected,(t,n)=>{t.loading=!1,t.error=n.payload||"Failed to add staff"}).addCase(W1.pending,t=>{t.loading=!0}).addCase(W1.fulfilled,(t,n)=>{t.loading=!1,t.message=n.payload?.message||"Password reset successfully!"}).addCase(W1.rejected,(t,n)=>{t.loading=!1,t.error=n.payload||"Failed to reset password"}).addCase(G1.pending,t=>{t.loading=!0,t.error=null,t.message=null}).addCase(G1.fulfilled,(t,n)=>{t.loading=!1,t.message="Staff details updated successfully!";const r=n.payload?.staff||n.payload;if(r?._id){const i=t.staffList.findIndex(a=>a._id===r._id);i!==-1&&(t.staffList[i]=r)}}).addCase(G1.rejected,(t,n)=>{t.loading=!1,t.error=n.payload||"Failed to update staff details",t.message=null}).addCase(X1.pending,t=>{t.loading=!0}).addCase(X1.fulfilled,(t,n)=>{t.loading=!1,t.success=n.payload?.message||"Staff suspended"}).addCase(X1.rejected,(t,n)=>{t.loading=!1,t.error=n.payload}).addCase(Q1.pending,t=>{t.loading=!0}).addCase(Q1.fulfilled,(t,n)=>{t.loading=!1,t.success=n.payload?.message||"Staff reactivated"}).addCase(Q1.rejected,(t,n)=>{t.loading=!1,t.error=n.payload}).addCase(K1.pending,t=>{t.loading=!0,t.error=null,t.message=null}).addCase(K1.fulfilled,(t,n)=>{t.loading=!1;const r=n.payload||{},i=r.deletedId||r.id||r._id||n.meta?.arg?.staffId;if(i)t.staffList=t.staffList.filter(a=>a._id!==i),t.message="Staff deleted successfully!";else{const a=n.meta?.arg?.staffId;a?(t.staffList=t.staffList.filter(s=>s._id!==a),t.message="Staff deleted successfully!"):t.message=r?.message||"Staff delete succeeded"}}).addCase(K1.rejected,(t,n)=>{t.loading=!1,t.error=n.payload||"Failed to delete staff"})}}),{clearStaffMessage:Gee,setStaffList:Yy}=kF.actions,Kee=kF.reducer,Z1=Fe("license/addLicense",async({clinicId:e,licenseData:t},{getState:n,rejectWithValue:r})=>{try{const i=n().auth?.token||localStorage.getItem("accessToken")||localStorage.getItem("token");return i?(await $e.post(`${ot}/api/license/${e}/add`,t,{headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},withCredentials:!0})).data:r("No authentication token found")}catch(i){return r(i.response?.data?.message||i.response?.data?.error||i.message||"Failed to add license")}}),ym=Fe("license/getLicenses",async(e,{getState:t,rejectWithValue:n})=>{try{const r=t().auth?.token||localStorage.getItem("accessToken")||localStorage.getItem("token");return r?(await $e.get(`${ot}/api/license/${e}`,{headers:{Authorization:`Bearer ${r}`},withCredentials:!0})).data.licenses||[]:n("No authentication token found")}catch(r){return n(r.response?.data?.message||r.response?.data?.error||r.message||"Failed to fetch licenses")}}),J1=Fe("license/updateLicense",async({licenseId:e,updatedData:t},{getState:n,rejectWithValue:r})=>{try{const i=n().auth?.token||localStorage.getItem("accessToken")||localStorage.getItem("token");return i?(await $e.put(`${ot}/api/license/${e}/update`,t,{headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},withCredentials:!0})).data.license||{_id:e,...t}:r("No authentication token found")}catch(i){return r(i.response?.data?.message||i.response?.data?.error||i.message||"Failed to update license")}}),ev=Fe("license/deleteLicense",async(e,{getState:t,rejectWithValue:n})=>{try{const r=t().auth?.token||localStorage.getItem("accessToken")||localStorage.getItem("token");return r?(await $e.delete(`${ot}/api/license/${e}`,{headers:{Authorization:`Bearer ${r}`},withCredentials:!0}),e):n("No authentication token found")}catch(r){return n(r.response?.data?.message||r.response?.data?.error||r.message||"Failed to delete license")}}),EF=qt({name:"license",initialState:{licenses:[],loading:!1,error:null,message:null},reducers:{clearLicenseMessage:e=>{e.message=null,e.error=null}},extraReducers:e=>{e.addCase(Z1.pending,t=>{t.loading=!0,t.error=null,t.message=null}).addCase(Z1.fulfilled,(t,n)=>{t.loading=!1;const r=n.payload?.license||n.payload;r&&t.licenses.push(r),t.message=" License added successfully!"}).addCase(Z1.rejected,(t,n)=>{t.loading=!1,t.error=n.payload||"Failed to add license"}).addCase(ym.pending,t=>{t.loading=!0,t.error=null}).addCase(ym.fulfilled,(t,n)=>{t.loading=!1,t.licenses=n.payload}).addCase(ym.rejected,(t,n)=>{t.loading=!1,t.error=n.payload||"Failed to fetch licenses"}).addCase(J1.pending,t=>{t.loading=!0,t.error=null,t.message=null}).addCase(J1.fulfilled,(t,n)=>{t.loading=!1;const r=n.payload;t.licenses=t.licenses.map(i=>i._id===r._id?{...i,...r}:i),t.message=" License updated successfully!"}).addCase(J1.rejected,(t,n)=>{t.loading=!1,t.error=n.payload||"Failed to update license"}).addCase(ev.pending,t=>{t.loading=!0,t.error=null,t.message=null}).addCase(ev.fulfilled,(t,n)=>{t.loading=!1,t.licenses=t.licenses.filter(r=>r._id!==n.payload),t.message=" License deleted successfully!"}).addCase(ev.rejected,(t,n)=>{t.loading=!1,t.error=n.payload||"Failed to delete license"})}}),{clearLicenseMessage:cIe}=EF.actions,Xee=EF.reducer,pp=e=>e?.().auth?.token||localStorage.getItem("accessToken")||localStorage.getItem("token")||null,hp=(e,t={})=>{const n={...t};return e&&(n.Authorization=`Bearer ${e}`),n},Qee=e=>Array.isArray(e)?e.map(t=>({...t._id&&{_id:t._id},name:t.name||"",category:t.category||"Procedure",defaultAmount:t.defaultAmount!==void 0?Number(t.defaultAmount):t.amount!==void 0?Number(t.amount):0})):[],Zee=e=>({...e,defaultAmount:e?.defaultAmount!==void 0?Number(e.defaultAmount):e?.amount!==void 0?Number(e.amount):0}),NF=e=>{const t=e?.data?e.data:e||{};let n={consultationFee:null,followUpFee:null};typeof t?.consultationFees=="object"&&t.consultationFees?(n.consultationFee=t.consultationFees.consultationFee!==void 0?Number(t.consultationFees.consultationFee):null,n.followUpFee=t.consultationFees.followUpFee!==void 0?Number(t.consultationFees.followUpFee):null):t?.defaultConsultationFee!==void 0&&(n.consultationFee=Number(t.defaultConsultationFee));const r=Array.isArray(t?.services)?t.services.map(Zee):[],i=t?.tax?{enabled:!!t.tax.enabled,gstPercent:t.tax.gstPercent!==void 0&&t.tax.gstPercent!==null?Number(t.tax.gstPercent):null}:{enabled:!1,gstPercent:null},a=t?.paymentMethods?{cash:!!t.paymentMethods.cash,upi:!!t.paymentMethods.upi,card:!!t.paymentMethods.card,insurance:!!t.paymentMethods.insurance}:{cash:!1,upi:!1,card:!1,insurance:!1},s=t?.discountPercent!==void 0&&t?.discountPercent!==null?Number(t.discountPercent):null;return{...t,tax:i,paymentMethods:a,services:r,discountPercent:s,consultationFees:n}},tv=Fe("billing/saveBillingSettings",async({clinicId:e,billingData:t},{getState:n,rejectWithValue:r})=>{try{const i=pp(n);if(!i)return r("No authentication token found");if(!e)return r("Clinic ID is missing");const a={...t||{}};if(a?.services&&typeof a.services=="string")try{a.services=JSON.parse(a.services)}catch{a.services=[]}Array.isArray(a.services)||(a.services=[]),a.services=Qee(a.services),a.discountPercent!==void 0&&a.discountPercent!==null&&(a.discountPercent=Number(a.discountPercent)),a.tax&&a.tax.gstPercent!==void 0&&a.tax.gstPercent!==null&&(a.tax.gstPercent=Number(a.tax.gstPercent));const s=await $e.put(`${ot}/api/billing-settings/${e}`,a,{headers:hp(i,{"Content-Type":"application/json"}),withCredentials:!0});return NF(s.data)}catch(i){return r(i?.response?.data?.message||i?.response?.data?.error||i.response&&JSON.stringify(i.response.data)||i.message||"Failed to update billing settings")}}),wf=Fe("billing/getBillingSettings",async(e,{getState:t,rejectWithValue:n})=>{try{const r=pp(t);if(!r)return n("No authentication token found");if(!e)return n("Clinic ID is missing");const i=await $e.get(`${ot}/api/billing-settings/${e}`,{headers:hp(r),withCredentials:!0});return NF(i.data)}catch(r){return n(r?.response?.data?.message||r?.response?.data?.error||r.message||"Failed to fetch billing settings")}}),Sf=Fe("billing/getActivePatients",async(e,{getState:t,rejectWithValue:n})=>{try{const r=pp(t);if(!r)return n("No authentication token found");if(!e)return n("Clinic ID is missing");const a=(await $e.get(`${ot}/api/dashboard/active-patients`,{params:{clinicId:e},headers:hp(r),withCredentials:!0})).data;let s=[];if(Array.isArray(a))s=a;else if(a?.ok&&Array.isArray(a.data))s=a.data;else if(Array.isArray(a?.data))s=a.data;else if(Array.isArray(a?.patients))s=a.patients;else{const c=Object.values(a).find(d=>Array.isArray(d));Array.isArray(c)&&(s=c)}return s}catch(r){return n(r?.response?.data?.message||r?.response?.data?.error||r.message||"Failed to fetch active patients")}}),vm=Fe("billing/generateBill",async({clinicId:e,appointmentId:t,services:n=[],discount:r=0,paymentMethod:i="cash",status:a="paid",idempotencyKey:s=null},{getState:c,rejectWithValue:d})=>{try{const f=pp(c);if(!f)return d("No authentication token found");if(!e)return d("Clinic ID missing");if(!t)return d("Appointment ID missing");const p={appointmentId:t,services:(Array.isArray(n)?n:[]).map(v=>({...v._id&&{_id:v._id},name:v.name,...v.category&&{category:v.category},...v.defaultAmount!==void 0&&{defaultAmount:Number(v.defaultAmount)},quantity:v.quantity??1,...v.customAmount!==void 0&&{customAmount:Number(v.customAmount)}})),discount:Number(r)||0,paymentMethod:(i||"cash").toLowerCase(),status:(a||"paid").toLowerCase()},m={"Content-Type":"application/json"};return s&&(m["Idempotency-Key"]=s),(await $e.post(`${ot}/api/reception/billing/generate`,p,{params:{clinicId:e},headers:hp(f,m),withCredentials:!0})).data}catch(f){return d(f?.response?.data?.message||f?.response?.data?.error||f.message||"Failed to generate bill")}}),nv=Fe("billing/downloadBillPdf",async({billId:e,clinicId:t},{getState:n,rejectWithValue:r})=>{try{const i=pp(n);if(!i)return r("No authentication token found");const a=await $e.get(`${ot}/api/reception/billing/pdf/${e}`,{params:{clinicId:t},headers:hp(i,{Accept:"application/pdf"}),responseType:"blob",withCredentials:!0}),s=new Blob([a.data],{type:"application/pdf"}),c=window.URL.createObjectURL(s);try{window.open(c,"_blank")}catch{const f=document.createElement("a");f.href=c,f.download=`bill-${e}.pdf`,document.body.appendChild(f),f.click(),f.remove()}return setTimeout(()=>window.URL.revokeObjectURL(c),1e4),{success:!0}}catch(i){return r(i?.response?.data?.message||i.message||"Failed to open bill PDF")}}),bm=Fe("billing/getLedger",async({uhid:e,clinicId:t},{getState:n,rejectWithValue:r})=>{try{const i=pp(n);if(!i)return r("Authorization token missing. Please login again.");const a=t||n().clinic?.currentClinic?.id||n().clinic?.currentClinic?._id||n().auth?.user?.clinicId||localStorage.getItem("selectedClinicId")||localStorage.getItem("clinicId");return a?!e||typeof e=="string"&&e.trim()===""?r("UHID is required to search billing ledger."):(await $e.get(`${ot}/api/reception/billing/ledger`,{params:{uhid:typeof e=="string"?e.trim():e,clinicId:a},headers:hp(i),withCredentials:!0})).data:r("Clinic ID is required to fetch billing ledger.")}catch(i){return r(i?.response?.data?.message||i?.response?.data?.error||i.message||"Failed to fetch billing ledger")}}),_F=qt({name:"billing",initialState:{billingSettings:null,activePatients:[],loading:!1,error:null,message:null,activePatientsLoading:!1,activePatientsError:null,pdfLoading:!1,pdfError:null,ledger:null,ledgerLoading:!1,ledgerError:null},reducers:{clearBillingMessage:e=>{e.error=null,e.message=null,e.activePatientsError=null,e.pdfError=null},updateActivePatient:(e,t)=>{const{appointmentId:n,bill:r}=t.payload||{};if(!n)return;const i=e.activePatients.findIndex(a=>a.appointmentId===n||a._id===n);i>=0&&(e.activePatients[i]={...e.activePatients[i],billNumber:r?.billNumber||"-",totalAmount:r?.totalAmount||0,discount:r?.discount||0,paymentMethod:r?.paymentMethod||"-",status:r?.status||"paid",services:r?.services||[],billId:r?.billId||r?._id})},clearLedger(e){e.ledger=null,e.ledgerLoading=!1,e.ledgerError=null}},extraReducers:e=>{e.addCase(tv.pending,t=>{t.loading=!0,t.error=null,t.message=null}).addCase(tv.fulfilled,(t,n)=>{t.loading=!1,t.billingSettings=n.payload,t.message="Settings saved!"}).addCase(tv.rejected,(t,n)=>{t.loading=!1,t.error=n.payload}).addCase(wf.pending,t=>{t.loading=!0,t.error=null}).addCase(wf.fulfilled,(t,n)=>{t.loading=!1,t.billingSettings=n.payload}).addCase(wf.rejected,(t,n)=>{t.loading=!1,t.error=n.payload}).addCase(Sf.pending,t=>{t.activePatientsLoading=!0}).addCase(Sf.fulfilled,(t,n)=>{t.activePatientsLoading=!1,t.activePatients=Array.isArray(n.payload)?n.payload:[]}).addCase(Sf.rejected,(t,n)=>{t.activePatientsLoading=!1,t.activePatientsError=n.payload}).addCase(vm.pending,t=>{t.loading=!0}).addCase(vm.fulfilled,(t,n)=>{t.loading=!1,t.message="Bill generated!"}).addCase(vm.rejected,(t,n)=>{t.loading=!1,t.error=n.payload}).addCase(nv.pending,t=>{t.pdfLoading=!0,t.pdfError=null}).addCase(nv.fulfilled,t=>{t.pdfLoading=!1}).addCase(nv.rejected,(t,n)=>{t.pdfLoading=!1,t.pdfError=n.payload}).addCase(bm.pending,t=>{t.ledgerLoading=!0,t.ledgerError=null}).addCase(bm.fulfilled,(t,n)=>{t.ledgerLoading=!1,t.ledger=n.payload??null}).addCase(bm.rejected,(t,n)=>{t.ledgerLoading=!1,t.ledgerError=n.payload||n.error?.message||"Failed to load ledger"})}}),{clearBillingMessage:Jee,updateActivePatient:z_,clearLedger:uIe}=_F.actions,ete=_F.reducer,PF=ot,tte=()=>localStorage.getItem("token"),Cf=Fe("doctorDetail/fetchDoctorProfile",async(e,{rejectWithValue:t})=>{try{const n=tte();return n?(await Ht.get(`${PF}/api/doctor/profile`,{headers:{Authorization:`Bearer ${n}`}})).data.doctor:t("Authentication token is missing. Please log in.")}catch(n){return t(n.response?.data?.message||"Failed to fetch doctor profile.")}}),rv=Fe("doctorDetail/updateDoctorProfile",async(e,{rejectWithValue:t})=>{try{const n=localStorage.getItem("token");return(await Ht.put(`${PF}/api/doctor/profile`,e,{headers:{Authorization:`Bearer ${n}`,"Content-Type":"multipart/form-data"}})).data.doctor}catch(n){return t(n.response?.data?.error||"Failed to update doctor profile")}}),DF=qt({name:"doctorDetail",initialState:{doctorProfile:null,profileLoading:!1,profileError:null,loading:!1,error:null,message:null},reducers:{clearMessage:e=>{e.message=null,e.error=null}},extraReducers:e=>{e.addCase(Cf.pending,t=>{t.profileLoading=!0,t.profileError=null}).addCase(Cf.fulfilled,(t,n)=>{t.profileLoading=!1,t.doctorProfile=n.payload}).addCase(Cf.rejected,(t,n)=>{t.profileLoading=!1,t.profileError=n.payload,t.doctorProfile=null}).addCase(rv.pending,t=>{t.loading=!0,t.error=null}).addCase(rv.fulfilled,(t,n)=>{t.loading=!1,t.message="Profile updated successfully!",t.doctorProfile=n.payload}).addCase(rv.rejected,(t,n)=>{t.loading=!1,t.error=n.payload})}}),{clearMessage:dIe}=DF.actions,nte=DF.reducer,iv=Fe("prescription/saveSettings",async({clinicId:e,settings:t},{getState:n,rejectWithValue:r})=>{try{const i=n().auth?.token||localStorage.getItem("accessToken")||localStorage.getItem("token");if(!i)return r("Authentication token not found");const a=n().auth?.user?.id,s=new FormData;s.append("clinicId",e),a&&s.append("doctorId",a),t.header?.clinicName&&s.append("clinicName",t.header.clinicName),t.header?.doctorName&&s.append("doctorName",t.header.doctorName),t.header?.degree&&s.append("degree",t.header.degree),t.header?.specialization&&s.append("specialization",t.header.specialization),t.header?.regNumber&&s.append("regNumber",t.header.regNumber),t.header?.address&&s.append("address",t.header.address),t.header?.contact&&s.append("contact",t.header.contact),t.footer?.disclaimer&&s.append("disclaimer",t.footer.disclaimer),t.footer?.timings&&s.append("timings",t.footer.timings),t.footer?.qrPayment&&s.append("qrPayment",t.footer.qrPayment),t.footer?.qrFeedback&&s.append("qrFeedback",t.footer.qrFeedback),t.footer?.digitalSignature&&s.append("digitalSignature",t.footer.digitalSignature),t.layout?.fontSize&&s.append("fontSize",t.layout.fontSize),t.layout?.language&&s.append("language",t.layout.language),t.layout?.spacing!==void 0&&t.layout?.spacing!==null&&s.append("spacing",String(t.layout.spacing)),t.layout?.margin!==void 0&&t.layout?.margin!==null&&s.append("margin",String(t.layout.margin)),t.options?.showGenericName!==void 0&&s.append("showGenericName",String(t.options.showGenericName)),t.options?.showBrandName!==void 0&&s.append("showBrandName",String(t.options.showBrandName)),t.options?.autoLifestyleAdvice!==void 0&&s.append("autoLifestyleAdvice",String(t.options.autoLifestyleAdvice));const c=await $e.put(`${ot}/api/prescription-setting/${e}`,s,{headers:{Authorization:`Bearer ${i}`},withCredentials:!0});return c.data.settings||c.data}catch(i){return r(i.response?.data?.error||i.response?.data?.message||i.message||"Failed to update prescription settings")}}),av=Fe("prescription/fetchSettings",async(e,{getState:t,rejectWithValue:n})=>{try{if(!e||e.trim()==="")return n("Clinic ID is missing or empty!");const r=t().auth?.token||localStorage.getItem("accessToken")||localStorage.getItem("token");if(!r)return n("Login required. Token not found.");const i=await $e.get(`${ot}/api/prescription-setting/${e}`,{headers:{Authorization:`Bearer ${r}`},withCredentials:!0}),a=i.data?.settings||i.data;return!a||typeof a!="object"?n("Invalid response: No settings data received"):a}catch(r){const i=r.response?.data?.error||r.response?.data?.message||r.message||"Network error";return console.error("Prescription Settings Fetch Failed:",{clinicId:e,error:i,status:r.response?.status}),n(i)}}),OF=qt({name:"prescription",initialState:{settings:null,loading:!1,error:null,message:null},reducers:{clearPrescriptionMessage:e=>{e.message=null,e.error=null},setLocalSettings:(e,t)=>{e.settings=t.payload}},extraReducers:e=>{e.addCase(iv.pending,t=>{t.loading=!0,t.error=null,t.message=null}).addCase(iv.fulfilled,(t,n)=>{t.loading=!1,t.settings=n.payload,t.message="Settings saved successfully!"}).addCase(iv.rejected,(t,n)=>{t.loading=!1,t.error=n.payload}).addCase(av.pending,t=>{t.loading=!0,t.error=null}).addCase(av.fulfilled,(t,n)=>{t.loading=!1,t.settings=n.payload}).addCase(av.rejected,(t,n)=>{t.loading=!1,t.error=n.payload})}}),{clearPrescriptionMessage:rte,setLocalSettings:fIe}=OF.actions,ite=OF.reducer,ov=Fe("expense/addClinicExpense",async({clinicId:e,doctorId:t,expenseData:n},{getState:r,rejectWithValue:i})=>{try{const a=r().auth?.token||localStorage.getItem("accessToken")||localStorage.getItem("token");if(!a)return i("No authentication token found");const s={clinicId:e,doctorId:t,type:n.type,description:n.description,amount:n.amount,date:n.date,...n.customType&&{customType:n.customType}};return(await $e.post(`${ot}/api/reception/billing/expense?clinicId=${e}`,s,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},withCredentials:!0})).data.expense}catch(a){return i(a.response?.data?.message||"Failed to add clinic expense")}}),sv=Fe("expense/fetchClinicExpenses",async(e,{getState:t,rejectWithValue:n})=>{try{const r=t().auth?.token||localStorage.getItem("accessToken")||localStorage.getItem("token");if(!r)return n("No authentication token found");const i=await $e.get(`${ot}/api/reception/billing/expenses`,{params:{clinicId:e},headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},withCredentials:!0});return console.log(" Fetch Clinic Expenses:",i.data),i.data?.expenses||[]}catch(r){return console.error(" Fetch Clinic Expenses Error:",r),n(r.response?.data?.message||r.message||"Failed to fetch clinic expenses")}}),lv=Fe("expense/updateClinicExpense",async({clinicId:e,expenseId:t,updatedData:n},{getState:r,rejectWithValue:i})=>{try{const a=r().auth?.token||localStorage.getItem("accessToken")||localStorage.getItem("token");return a?n.type==="Other"&&!n.customType?i("Custom category required"):(await $e.put(`${ot}/api/reception/billing/expense/${t}`,n,{params:{clinicId:e},headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},withCredentials:!0})).data.expense:i("No authentication token found")}catch(a){return i(a.response?.data?.message||"Failed to update clinic expense")}}),cv=Fe("expense/deleteClinicExpense",async({clinicId:e,expenseId:t},{getState:n,rejectWithValue:r})=>{try{const i=n().auth?.token||localStorage.getItem("accessToken")||localStorage.getItem("token");if(!i)return r("No authentication token found");const a=await $e.delete(`${ot}/api/reception/billing/expense/${t}?clinicId=${e}`,{headers:{Authorization:`Bearer ${i}`},withCredentials:!0});return console.log(" Delete Clinic Expense Response:",a.data),t}catch(i){return console.error(" Delete Clinic Expense Error:",i),r(i.response?.data?.message||"Failed to delete clinic expense")}}),$F=qt({name:"expense",initialState:{loading:!1,error:null,message:null,expenses:[]},reducers:{clearExpenseMessage:e=>{e.message=null,e.error=null}},extraReducers:e=>{e.addCase(ov.pending,t=>{t.loading=!0,t.error=null}).addCase(ov.fulfilled,(t,n)=>{t.loading=!1,t.message="Expense added successfully!",t.expenses.push(n.payload)}).addCase(ov.rejected,(t,n)=>{t.loading=!1,t.error=n.payload}).addCase(sv.pending,t=>{t.loading=!0,t.error=null}).addCase(sv.fulfilled,(t,n)=>{t.loading=!1,t.expenses=n.payload}).addCase(sv.rejected,(t,n)=>{t.loading=!1,t.error=n.payload}).addCase(lv.pending,t=>{t.loading=!0}).addCase(lv.fulfilled,(t,n)=>{t.loading=!1,t.message="Expense updated successfully!";const r=t.expenses.findIndex(i=>i._id===n.payload._id);r!==-1&&(t.expenses[r]=n.payload)}).addCase(lv.rejected,(t,n)=>{t.loading=!1,t.error=n.payload}).addCase(cv.pending,t=>{t.loading=!0}).addCase(cv.fulfilled,(t,n)=>{t.loading=!1,t.message="Expense deleted successfully!",t.expenses=t.expenses.filter(r=>r._id!==n.payload)}).addCase(cv.rejected,(t,n)=>{t.loading=!1,t.error=n.payload})}}),{clearExpenseMessage:pIe}=$F.actions,ate=$F.reducer,uv=Fe("support/addClinicContact",async({clinicId:e,doctorId:t,category:n,customCategory:r,role:i,name:a,phone:s},{getState:c,rejectWithValue:d})=>{try{const f=c().auth?.token||localStorage.getItem("accessToken")||localStorage.getItem("token");if(!f)return d("Authentication token missing");const p=await $e.post(`${ot}/api/clinic/support/${e}/contact`,{doctorId:t,category:n,customCategory:r,role:i,name:a,phone:s},{headers:{Authorization:`Bearer ${f}`},withCredentials:!0});return console.log(" Add Clinic Contact Response:",p.data),p.data}catch(f){return console.error(" Add Clinic Contact Error:",f),d(f.response?.data?.error||"Failed to add contact")}}),xm=Fe("support/fetchClinicContacts",async(e,{getState:t,rejectWithValue:n})=>{try{const r=t().auth?.token||localStorage.getItem("accessToken")||localStorage.getItem("token"),i=await $e.get(`${ot}/api/clinic/support/${e}/contacts`,{headers:{Authorization:`Bearer ${r}`},withCredentials:!0});return console.log(" Fetch Clinic Contacts Response:",i.data),Array.isArray(i.data.contacts)?i.data.contacts:i.data.contact?[i.data.contact]:[]}catch(r){return console.error(" Fetch Clinic Contacts Error:",r),n(r.response?.data?.error||"Failed to fetch contacts")}}),b8=Fe("support/updateClinicContact",async({clinicId:e,contactId:t,updatedData:n},{getState:r,rejectWithValue:i})=>{try{const a=r().auth?.token||localStorage.getItem("accessToken")||localStorage.getItem("token"),{category:s,customCategory:c,role:d,name:f,phone:p}=n;if(s==="Other"&&!c)return i("Custom category is required when category is Other");const m=await $e.put(`${ot}/api/clinic/support/${e}/${t}`,{category:s,customCategory:c,role:d,name:f,phone:p},{headers:{Authorization:`Bearer ${a}`},withCredentials:!0});return console.log(" Update Clinic Contact Response:",m.data),m.data.updatedContact}catch(a){return console.error(" Update Clinic Contact Error:",a),i(a.response?.data?.error||"Failed to update contact")}}),x8=Fe("support/deleteClinicContact",async({clinicId:e,contactId:t},{getState:n,rejectWithValue:r})=>{try{const i=n().auth?.token||localStorage.getItem("accessToken")||localStorage.getItem("token"),a=await $e.delete(`${ot}/api/clinic/support/${e}/${t}`,{headers:{Authorization:`Bearer ${i}`},withCredentials:!0});return console.log(" Delete Clinic Contact Response:",a.data),t}catch(i){return console.error(" Delete Clinic Contact Error:",i),r(i.response?.data?.error||"Failed to delete contact")}}),IF=qt({name:"support",initialState:{loading:!1,message:null,error:null,contacts:[]},reducers:{clearSupportMessage:e=>{e.message=null,e.error=null}},extraReducers:e=>{e.addCase(uv.pending,t=>{t.loading=!0}).addCase(uv.fulfilled,(t,n)=>{t.loading=!1,t.contacts.push(n.payload.contact),t.message="Contact added successfully!"}).addCase(uv.rejected,(t,n)=>{t.loading=!1,t.error=n.payload}).addCase(xm.pending,t=>{t.loading=!0}).addCase(xm.fulfilled,(t,n)=>{t.loading=!1,t.contacts=n.payload}).addCase(xm.rejected,(t,n)=>{t.loading=!1,t.error=n.payload}).addCase(b8.fulfilled,(t,n)=>{t.loading=!1;const r=t.contacts.findIndex(i=>i._id===n.payload);r!==-1&&(t.contacts[r]=n.payload),t.message="Contact updated successfully!"}).addCase(b8.rejected,(t,n)=>{t.loading=!1,t.error=n.payload}).addCase(x8.fulfilled,(t,n)=>{t.loading=!1,t.contacts=t.contacts.filter(r=>r._id!==n.payload),t.message="Contact deleted successfully!"}).addCase(x8.rejected,(t,n)=>{t.loading=!1,t.error=n.payload})}}),{clearSupportMessage:hIe}=IF.actions,ote=IF.reducer,dv=Fe("analytics/fetchAnalyticsData",async({clinicId:e,timeFrame:t},{getState:n,rejectWithValue:r})=>{try{const{auth:{accessToken:i}}=n(),s=`${ot}/api/clinic/analytics/${t}?clinicId=${e}`,c=await $e.get(s,{headers:{Authorization:`Bearer ${i}`},withCredentials:!0});return{timeFrame:t,data:c.data}}catch(i){return r(i.response?.data?.message||"Failed to load analytics")}}),fv=Fe("analytics/fetchClinicAnalytics",async({clinicId:e,mode:t="monthly",limit:n=7},{getState:r,rejectWithValue:i})=>{try{const a=r().auth?.accessToken||localStorage.getItem("accessToken")||localStorage.getItem("token");return a?(await $e.get(`${ot}/api/clinic/analytics/clinic?clinicId=${e}&mode=${t}&limit=${n}`,{headers:{Authorization:`Bearer ${a}`},withCredentials:!0})).data:i("No authentication token found")}catch(a){return i(a.response?.data?.message||"Failed to load clinic analytics")}}),pv=Fe("analytics/fetchPrescriptionAnalytics",async({clinicId:e,mode:t="monthly",limit:n=7},{getState:r,rejectWithValue:i})=>{try{const a=r().auth?.accessToken||localStorage.getItem("accessToken")||localStorage.getItem("token");return a?(await $e.get(`${ot}/api/clinic/analytics/prescription?clinicId=${e}&mode=${t}&limit=${n}`,{headers:{Authorization:`Bearer ${a}`},withCredentials:!0})).data.analytics:i("No authentication token found")}catch(a){return i(a.response?.data?.message||"Failed to load prescription analytics")}}),hv=Fe("analytics/fetchFinanceAnalytics",async({clinicId:e,mode:t="monthly",limit:n=7},{getState:r,rejectWithValue:i})=>{try{const a=r().auth?.accessToken||localStorage.getItem("accessToken")||localStorage.getItem("token");return a?(await $e.get(`${ot}/api/clinic/analytics/finance?clinicId=${e}&mode=${t}&limit=${n}`,{headers:{Authorization:`Bearer ${a}`},withCredentials:!0})).data.analytics:i("No authentication token found")}catch(a){return i(a.response?.data?.message||"Failed to load finance analytics")}}),mv=Fe("analytics/fetchCertificateAnalytics",async({clinicId:e,mode:t="monthly",limit:n=7},{getState:r,rejectWithValue:i})=>{try{const a=r().auth?.accessToken||localStorage.getItem("accessToken")||localStorage.getItem("token");return a?(await $e.get(`${ot}/api/clinic/analytics/certificate?clinicId=${e}&mode=${t}&limit=${n}`,{headers:{Authorization:`Bearer ${a}`},withCredentials:!0})).data:i("No authentication token found")}catch(a){return i(a.response?.data?.message||"Failed to load certificate analytics")}}),gv=Fe("analytics/fetchFeedbackAnalytics",async({clinicId:e,mode:t="daily",limit:n=7},{getState:r,rejectWithValue:i})=>{try{const a=r().auth?.accessToken||localStorage.getItem("accessToken")||localStorage.getItem("token");return a?(await $e.get(`${ot}/api/clinic/analytics/feedback?clinicId=${e}&mode=${t}&limit=${n}`,{headers:{Authorization:`Bearer ${a}`},withCredentials:!0})).data.feedbackAnalytics:i("No authentication token found")}catch(a){return i(a.response?.data?.message||"Failed to load feedback analytics")}}),yv=Fe("analytics/fetchGrowthAnalytics",async({clinicId:e,mode:t="quarterly"},{getState:n,rejectWithValue:r})=>{try{const i=n().auth?.accessToken||localStorage.getItem("accessToken")||localStorage.getItem("token");return i?(await $e.get(`${ot}/api/clinic/analytics/growth?clinicId=${e}&mode=${t}`,{headers:{Authorization:`Bearer ${i}`},withCredentials:!0})).data.analytics:r("No authentication token found")}catch(i){return r(i.response?.data?.message||"Failed to load growth analytics")}}),RF=qt({name:"analytics",initialState:{timeFrame:"daily",metrics:{daily:{},weekly:{},monthly:{}},advancedMetrics:{daily:{},weekly:{},monthly:{}},clinicAnalytics:null,prescriptionAnalytics:null,financeAnalytics:null,certificateAnalytics:null,feedbackAnalytics:null,growthAnalytics:null,loading:{clinic:!1,prescription:!1,finance:!1,feedback:!1,growth:!1},error:null},reducers:{setTimeFrame:(e,t)=>{e.timeFrame=t.payload}},extraReducers:e=>{e.addCase(dv.pending,t=>{t.loading=!0}).addCase(dv.fulfilled,(t,n)=>{t.loading=!1;const{timeFrame:r,data:i}=n.payload;t.metrics[r]=i}).addCase(dv.rejected,(t,n)=>{t.loading=!1,t.error=n.payload}).addCase(fv.pending,t=>{t.loading=!0}).addCase(fv.fulfilled,(t,n)=>{t.loading=!1,t.clinicAnalytics=n.payload}).addCase(fv.rejected,(t,n)=>{t.loading=!1,t.error=n.payload}).addCase(pv.pending,t=>{t.loading=!0}).addCase(pv.fulfilled,(t,n)=>{t.loading=!1,t.prescriptionAnalytics=n.payload}).addCase(pv.rejected,(t,n)=>{t.loading=!1,t.error=n.payload}).addCase(hv.pending,t=>{t.loading=!0}).addCase(hv.fulfilled,(t,n)=>{t.loading=!1,t.financeAnalytics=n.payload}).addCase(hv.rejected,(t,n)=>{t.loading=!1,t.error=n.payload}).addCase(mv.pending,t=>{t.loading=!0}).addCase(mv.fulfilled,(t,n)=>{t.loading=!1,t.certificateAnalytics=n.payload}).addCase(mv.rejected,(t,n)=>{t.loading=!1,t.error=n.payload}).addCase(gv.pending,t=>{t.loading=!0}).addCase(gv.fulfilled,(t,n)=>{t.loading=!1,t.feedbackAnalytics=n.payload}).addCase(gv.rejected,(t,n)=>{t.loading=!1,t.error=n.payload}).addCase(yv.pending,t=>{t.loading=!0}).addCase(yv.fulfilled,(t,n)=>{t.loading=!1,t.growthAnalytics=n.payload}).addCase(yv.rejected,(t,n)=>{t.loading=!1,t.error=n.payload})}}),{setTimeFrame:ste}=RF.actions,lte=RF.reducer;function MF(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=MF(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ct(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=MF(e))&&(r&&(r+=" "),r+=t);return r}function cte(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}cte(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Mg=e=>typeof e=="number"&&!isNaN(e),Ku=e=>typeof e=="string",Ps=e=>typeof e=="function",ute=e=>Ku(e)||Mg(e),w8=e=>Ku(e)||Ps(e)?e:null,dte=(e,t)=>e===!1||Mg(e)&&e>0?e:t,S8=e=>w.isValidElement(e)||Ku(e)||Ps(e)||Mg(e);function fte(e,t,n=300){let{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}function pte({enter:e,exit:t,appendPosition:n=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:a,position:s,preventExitTransition:c,done:d,nodeRef:f,isIn:p,playToast:m}){let g=n?`${e}--${s}`:e,v=n?`${t}--${s}`:t,b=w.useRef(0);return w.useLayoutEffect(()=>{let C=f.current,j=g.split(" "),A=k=>{k.target===f.current&&(m(),C.removeEventListener("animationend",A),C.removeEventListener("animationcancel",A),b.current===0&&k.type!=="animationcancel"&&C.classList.remove(...j))};C.classList.add(...j),C.addEventListener("animationend",A),C.addEventListener("animationcancel",A)},[]),w.useEffect(()=>{let C=f.current,j=()=>{C.removeEventListener("animationend",j),r?fte(C,d,i):d()};p||(c?j():(b.current=1,C.className+=` ${v}`,C.addEventListener("animationend",j)))},[p]),se.createElement(se.Fragment,null,a)}}function U_(e,t){return{content:LF(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function LF(e,t,n=!1){return w.isValidElement(e)&&!Ku(e.type)?w.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):Ps(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function hte({closeToast:e,theme:t,ariaLabel:n="close"}){return se.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:r=>{r.stopPropagation(),e(!0)},"aria-label":n},se.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},se.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function mte({delay:e,isRunning:t,closeToast:n,type:r="default",hide:i,className:a,controlledProgress:s,progress:c,rtl:d,isIn:f,theme:p}){let m=i||s&&c===0,g={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};s&&(g.transform=`scaleX(${c})`);let v=ct("Toastify__progress-bar",s?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${p}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":d}),b=Ps(a)?a({rtl:d,type:r,defaultClassName:v}):ct(v,a),C={[s&&c>=1?"onTransitionEnd":"onAnimationEnd"]:s&&c<1?null:()=>{f&&n()}};return se.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":m},se.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${p} Toastify__progress-bar--${r}`}),se.createElement("div",{role:"progressbar","aria-hidden":m?"true":"false","aria-label":"notification timer",className:b,style:g,...C}))}var gte=1,FF=()=>`${gte++}`;function yte(e,t,n){let r=1,i=0,a=[],s=[],c=t,d=new Map,f=new Set,p=k=>(f.add(k),()=>f.delete(k)),m=()=>{s=Array.from(d.values()),f.forEach(k=>k())},g=({containerId:k,toastId:E,updateId:P})=>{let $=k?k!==e:e!==1,F=d.has(E)&&P==null;return $||F},v=(k,E)=>{d.forEach(P=>{var $;(E==null||E===P.props.toastId)&&(($=P.toggle)==null||$.call(P,k))})},b=k=>{var E,P;(P=(E=k.props)==null?void 0:E.onClose)==null||P.call(E,k.removalReason),k.isActive=!1},C=k=>{if(k==null)d.forEach(b);else{let E=d.get(k);E&&b(E)}m()},j=()=>{i-=a.length,a=[]},A=k=>{var E,P;let{toastId:$,updateId:F}=k.props,O=F==null;k.staleId&&d.delete(k.staleId),k.isActive=!0,d.set($,k),m(),n(U_(k,O?"added":"updated")),O&&((P=(E=k.props).onOpen)==null||P.call(E))};return{id:e,props:c,observe:p,toggle:v,removeToast:C,toasts:d,clearQueue:j,buildToast:(k,E)=>{if(g(E))return;let{toastId:P,updateId:$,data:F,staleId:O,delay:_}=E,D=$==null;D&&i++;let L={...c,style:c.toastStyle,key:r++,...Object.fromEntries(Object.entries(E).filter(([M,H])=>H!=null)),toastId:P,updateId:$,data:F,isIn:!1,className:w8(E.className||c.toastClassName),progressClassName:w8(E.progressClassName||c.progressClassName),autoClose:E.isLoading?!1:dte(E.autoClose,c.autoClose),closeToast(M){d.get(P).removalReason=M,C(P)},deleteToast(){let M=d.get(P);if(M!=null){if(n(U_(M,"removed")),d.delete(P),i--,i<0&&(i=0),a.length>0){A(a.shift());return}m()}}};L.closeButton=c.closeButton,E.closeButton===!1||S8(E.closeButton)?L.closeButton=E.closeButton:E.closeButton===!0&&(L.closeButton=S8(c.closeButton)?c.closeButton:!0);let R={content:k,props:L,staleId:O};c.limit&&c.limit>0&&i>c.limit&&D?a.push(R):Mg(_)?setTimeout(()=>{A(R)},_):A(R)},setProps(k){c=k},setToggle:(k,E)=>{let P=d.get(k);P&&(P.toggle=E)},isToastActive:k=>{var E;return(E=d.get(k))==null?void 0:E.isActive},getSnapshot:()=>s}}var Vr=new Map,Ym=[],C8=new Set,vte=e=>C8.forEach(t=>t(e)),BF=()=>Vr.size>0;function bte(){Ym.forEach(e=>UF(e.content,e.options)),Ym=[]}var xte=(e,{containerId:t})=>{var n;return(n=Vr.get(t||1))==null?void 0:n.toasts.get(e)};function zF(e,t){var n;if(t)return!!((n=Vr.get(t))!=null&&n.isToastActive(e));let r=!1;return Vr.forEach(i=>{i.isToastActive(e)&&(r=!0)}),r}function wte(e){if(!BF()){Ym=Ym.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||ute(e))Vr.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=Vr.get(e.containerId);t?t.removeToast(e.id):Vr.forEach(n=>{n.removeToast(e.id)})}}var Ste=(e={})=>{Vr.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function UF(e,t){S8(e)&&(BF()||Ym.push({content:e,options:t}),Vr.forEach(n=>{n.buildToast(e,t)}))}function Cte(e){var t;(t=Vr.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function HF(e,t){Vr.forEach(n=>{(t==null||!(t!=null&&t.containerId)||t?.containerId===n.id)&&n.toggle(e,t?.id)})}function jte(e){let t=e.containerId||1;return{subscribe(n){let r=yte(t,e,vte);Vr.set(t,r);let i=r.observe(n);return bte(),()=>{i(),Vr.delete(t)}},setProps(n){var r;(r=Vr.get(t))==null||r.setProps(n)},getSnapshot(){var n;return(n=Vr.get(t))==null?void 0:n.getSnapshot()}}}function Tte(e){return C8.add(e),()=>{C8.delete(e)}}function Ate(e){return e&&(Ku(e.toastId)||Mg(e.toastId))?e.toastId:FF()}function Lg(e,t){return UF(e,t),t.toastId}function Xx(e,t){return{...t,type:t&&t.type||e,toastId:Ate(t)}}function Qx(e){return(t,n)=>Lg(t,Xx(e,n))}function Ee(e,t){return Lg(e,Xx("default",t))}Ee.loading=(e,t)=>Lg(e,Xx("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function kte(e,{pending:t,error:n,success:r},i){let a;t&&(a=Ku(t)?Ee.loading(t,i):Ee.loading(t.render,{...i,...t}));let s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(f,p,m)=>{if(p==null){Ee.dismiss(a);return}let g={type:f,...s,...i,data:m},v=Ku(p)?{render:p}:p;return a?Ee.update(a,{...g,...v}):Ee(v.render,{...g,...v}),m},d=Ps(e)?e():e;return d.then(f=>c("success",r,f)).catch(f=>c("error",n,f)),d}Ee.promise=kte;Ee.success=Qx("success");Ee.info=Qx("info");Ee.error=Qx("error");Ee.warning=Qx("warning");Ee.warn=Ee.warning;Ee.dark=(e,t)=>Lg(e,Xx("default",{theme:"dark",...t}));function Ete(e){wte(e)}Ee.dismiss=Ete;Ee.clearWaitingQueue=Ste;Ee.isActive=zF;Ee.update=(e,t={})=>{let n=xte(e,t);if(n){let{props:r,content:i}=n,a={delay:100,...r,...t,toastId:t.toastId||e,updateId:FF()};a.toastId!==e&&(a.staleId=e);let s=a.render||i;delete a.render,Lg(s,a)}};Ee.done=e=>{Ee.update(e,{progress:1})};Ee.onChange=Tte;Ee.play=e=>HF(!0,e);Ee.pause=e=>HF(!1,e);function Nte(e){var t;let{subscribe:n,getSnapshot:r,setProps:i}=w.useRef(jte(e)).current;i(e);let a=(t=w.useSyncExternalStore(n,r,r))==null?void 0:t.slice();function s(c){if(!a)return[];let d=new Map;return e.newestOnTop&&a.reverse(),a.forEach(f=>{let{position:p}=f.props;d.has(p)||d.set(p,[]),d.get(p).push(f)}),Array.from(d,f=>c(f[0],f[1]))}return{getToastToRender:s,isToastActive:zF,count:a?.length}}function _te(e){let[t,n]=w.useState(!1),[r,i]=w.useState(!1),a=w.useRef(null),s=w.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:c,pauseOnHover:d,closeToast:f,onClick:p,closeOnClick:m}=e;Cte({id:e.toastId,containerId:e.containerId,fn:n}),w.useEffect(()=>{if(e.pauseOnFocusLoss)return g(),()=>{v()}},[e.pauseOnFocusLoss]);function g(){document.hasFocus()||A(),window.addEventListener("focus",j),window.addEventListener("blur",A)}function v(){window.removeEventListener("focus",j),window.removeEventListener("blur",A)}function b(O){if(e.draggable===!0||e.draggable===O.pointerType){k();let _=a.current;s.canCloseOnClick=!0,s.canDrag=!0,_.style.transition="none",e.draggableDirection==="x"?(s.start=O.clientX,s.removalDistance=_.offsetWidth*(e.draggablePercent/100)):(s.start=O.clientY,s.removalDistance=_.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function C(O){let{top:_,bottom:D,left:L,right:R}=a.current.getBoundingClientRect();O.nativeEvent.type!=="touchend"&&e.pauseOnHover&&O.clientX>=L&&O.clientX<=R&&O.clientY>=_&&O.clientY<=D?A():j()}function j(){n(!0)}function A(){n(!1)}function k(){s.didMove=!1,document.addEventListener("pointermove",P),document.addEventListener("pointerup",$)}function E(){document.removeEventListener("pointermove",P),document.removeEventListener("pointerup",$)}function P(O){let _=a.current;if(s.canDrag&&_){s.didMove=!0,t&&A(),e.draggableDirection==="x"?s.delta=O.clientX-s.start:s.delta=O.clientY-s.start,s.start!==O.clientX&&(s.canCloseOnClick=!1);let D=e.draggableDirection==="x"?`${s.delta}px, var(--y)`:`0, calc(${s.delta}px + var(--y))`;_.style.transform=`translate3d(${D},0)`,_.style.opacity=`${1-Math.abs(s.delta/s.removalDistance)}`}}function $(){E();let O=a.current;if(s.canDrag&&s.didMove&&O){if(s.canDrag=!1,Math.abs(s.delta)>s.removalDistance){i(!0),e.closeToast(!0),e.collapseAll();return}O.style.transition="transform 0.2s, opacity 0.2s",O.style.removeProperty("transform"),O.style.removeProperty("opacity")}}let F={onPointerDown:b,onPointerUp:C};return c&&d&&(F.onMouseEnter=A,e.stacked||(F.onMouseLeave=j)),m&&(F.onClick=O=>{p&&p(O),s.canCloseOnClick&&f(!0)}),{playToast:j,pauseToast:A,isRunning:t,preventExitTransition:r,toastRef:a,eventHandlers:F}}var Pte=typeof window<"u"?w.useLayoutEffect:w.useEffect,Zx=({theme:e,type:t,isLoading:n,...r})=>se.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...r});function Dte(e){return se.createElement(Zx,{...e},se.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function Ote(e){return se.createElement(Zx,{...e},se.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function $te(e){return se.createElement(Zx,{...e},se.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function Ite(e){return se.createElement(Zx,{...e},se.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function Rte(){return se.createElement("div",{className:"Toastify__spinner"})}var j8={info:Ote,warning:Dte,success:$te,error:Ite,spinner:Rte},Mte=e=>e in j8;function Lte({theme:e,type:t,isLoading:n,icon:r}){let i=null,a={theme:e,type:t};return r===!1||(Ps(r)?i=r({...a,isLoading:n}):w.isValidElement(r)?i=w.cloneElement(r,a):n?i=j8.spinner():Mte(t)&&(i=j8[t](a))),i}var Fte=e=>{let{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:a}=_te(e),{closeButton:s,children:c,autoClose:d,onClick:f,type:p,hideProgressBar:m,closeToast:g,transition:v,position:b,className:C,style:j,progressClassName:A,updateId:k,role:E,progress:P,rtl:$,toastId:F,deleteToast:O,isIn:_,isLoading:D,closeOnClick:L,theme:R,ariaLabel:M}=e,H=ct("Toastify__toast",`Toastify__toast-theme--${R}`,`Toastify__toast--${p}`,{"Toastify__toast--rtl":$},{"Toastify__toast--close-on-click":L}),W=Ps(C)?C({rtl:$,position:b,type:p,defaultClassName:H}):ct(H,C),fe=Lte(e),q=!!P||!d,te={closeToast:g,type:p,theme:R},K=null;return s===!1||(Ps(s)?K=s(te):w.isValidElement(s)?K=w.cloneElement(s,te):K=hte(te)),se.createElement(v,{isIn:_,done:O,position:b,preventExitTransition:n,nodeRef:r,playToast:a},se.createElement("div",{id:F,tabIndex:0,onClick:f,"data-in":_,className:W,...i,style:j,ref:r,..._&&{role:E,"aria-label":M}},fe!=null&&se.createElement("div",{className:ct("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!D})},fe),LF(c,e,!t),K,!e.customProgressBar&&se.createElement(mte,{...k&&!q?{key:`p-${k}`}:{},rtl:$,theme:R,delay:d,isRunning:t,isIn:_,closeToast:g,hide:m,type:p,className:A,controlledProgress:q,progress:P||0})))},Bte=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),zte=pte(Bte("bounce",!0)),Ute={position:"top-right",transition:zte,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function Hte(e){let t={...Ute,...e},n=e.stacked,[r,i]=w.useState(!0),a=w.useRef(null),{getToastToRender:s,isToastActive:c,count:d}=Nte(t),{className:f,style:p,rtl:m,containerId:g,hotKeys:v}=t;function b(j){let A=ct("Toastify__toast-container",`Toastify__toast-container--${j}`,{"Toastify__toast-container--rtl":m});return Ps(f)?f({position:j,rtl:m,defaultClassName:A}):ct(A,w8(f))}function C(){n&&(i(!0),Ee.play())}return Pte(()=>{var j;if(n){let A=a.current.querySelectorAll('[data-in="true"]'),k=12,E=(j=t.position)==null?void 0:j.includes("top"),P=0,$=0;Array.from(A).reverse().forEach((F,O)=>{let _=F;_.classList.add("Toastify__toast--stacked"),O>0&&(_.dataset.collapsed=`${r}`),_.dataset.pos||(_.dataset.pos=E?"top":"bot");let D=P*(r?.2:1)+(r?0:k*O);_.style.setProperty("--y",`${E?D:D*-1}px`),_.style.setProperty("--g",`${k}`),_.style.setProperty("--s",`${1-(r?$:0)}`),P+=_.offsetHeight,$+=.025})}},[r,d,n]),w.useEffect(()=>{function j(A){var k;let E=a.current;v(A)&&((k=E.querySelector('[tabIndex="0"]'))==null||k.focus(),i(!1),Ee.pause()),A.key==="Escape"&&(document.activeElement===E||E!=null&&E.contains(document.activeElement))&&(i(!0),Ee.play())}return document.addEventListener("keydown",j),()=>{document.removeEventListener("keydown",j)}},[v]),se.createElement("section",{ref:a,className:"Toastify",id:g,onMouseEnter:()=>{n&&(i(!1),Ee.pause())},onMouseLeave:C,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},s((j,A)=>{let k=A.length?{...p}:{...p,pointerEvents:"none"};return se.createElement("div",{tabIndex:-1,className:b(j),"data-stacked":n,style:k,key:`c-${j}`},A.map(({content:E,props:P})=>se.createElement(Fte,{...P,stacked:n,collapseAll:C,isIn:c(P.toastId,P.containerId),key:`t-${P.key}`},E)))}))}const uc=ot,dc=()=>{const e=localStorage.getItem("selectedClinicId"),t=localStorage.getItem("token");return{clinicId:e,token:t}},vv=Fe("patientBilling/fetchPatientByUhid",async({uhid:e},{rejectWithValue:t})=>{const{clinicId:n,token:r}=dc();if(!n||!r)return t("Authentication data (clinic ID or token) is missing. Please log in.");try{const i=`${uc}/api/reception/patient/search?clinicId=${n}&uhid=${e}`;return(await Ht.get(i,{headers:{Authorization:`Bearer ${r}`}})).data}catch(i){return t(i.response?.data?.message||i.message||"Failed to search patient")}}),bv=Fe("patientBilling/fetchSettings",async(e,{rejectWithValue:t})=>{const{token:n,clinicId:r}=dc();if(!n)return t("Authentication token is missing. Please log in.");try{const i=`${uc}/api/billing-settings/${r}`;return(await Ht.get(i,{headers:{Authorization:`Bearer ${n}`}})).data}catch(i){return t({status:i.response?.status||500,message:i.response?.data?.message||i.response?.data?.error||"Failed to fetch billing settings."})}}),xv=Fe("patientBilling/generateBill",async({billData:e},{rejectWithValue:t})=>{const{clinicId:n,token:r}=dc();if(!n||!r)return t("Authentication data (clinic ID or token) is missing. Cannot generate bill.");try{const i=`${uc}/api/reception/billing/generate?clinicId=${n}`;return(await Ht.post(i,e,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}})).data}catch(i){return t(i.response?.data?.message||i.message||"Bill generation failed")}}),wv=Fe("patientBilling/fetchClinicReceipts",async(e,{rejectWithValue:t})=>{const{token:n,clinicId:r}=dc();if(!n||!r)return t("Authentication is required to fetch receipts.");try{const i=`${uc}/api/reception/billing/clinic/${r}`,a=await Ht.get(i,{headers:{Authorization:`Bearer ${n}`}});return console.log("test1",a.data),a.data}catch(i){const a=i.response?.data?.message||i.message||"Failed to fetch receipts.";return console.error(`Receipts Fetch - Failure Error: ${a} `,i.response?.data||i.message),t(a)}}),g3=Fe("patientBilling/fetchPatientsForLedger",async(e,{rejectWithValue:t})=>{const{token:n,clinicId:r}=dc();if(!n||!r)return t("Authentication is required to fetch patient list.");try{const i=`${uc}/api/reception/patients/clinic/${r}`;return(await Ht.get(i,{headers:{Authorization:`Bearer ${n}`}})).data}catch(i){const a=i.response?.data?.message||i.message||"Failed to fetch patient list for ledger.";return console.error(`Patients Ledger Fetch - Failure Error: ${a} `,i.response?.data||i.message),t(a)}}),Sv=Fe("patientBilling/printReceiptPdf",async({billId:e},{rejectWithValue:t})=>{const{token:n,clinicId:r}=dc();if(!n||!r)return t("Authentication is required to print the receipt.");try{const i=`${uc}/api/reception/billing/pdf/${e}?clinicId=${r}`,a=await Ht.get(i,{headers:{Authorization:`Bearer ${n}`},responseType:"blob"}),s=new Blob([a.data],{type:"application/pdf"}),c=URL.createObjectURL(s);return window.open(c,"_blank"),!0}catch(i){const a=i.response?.data?.message||i.message||"Failed to print receipt. Please check if the bill ID is correct.";return console.error(`Print Receipt PDF - Failure Error: ${a} `,i.response?.data||i.message),t(a)}}),Cv=Fe("patientBilling/fetchBillingLedger",async({range:e,startDate:t=null,endDate:n=null,uhid:r=null},{rejectWithValue:i})=>{const{token:a,clinicId:s}=dc();if(!a||!s)return i("Authentication is required to fetch the ledger.");if(e==="UHID"&&!r)return[];try{let c=`${uc}/api/reception/billing/ledger?clinicId=${s}&range=${e}`;return r&&(c+=`&uhid=${r}`),e==="calendar"&&t&&n&&(c+=`&startDate=${t}&endDate=${n}`),(await Ht.get(c,{headers:{Authorization:`Bearer ${a}`}})).data?.ledger||[]}catch(c){const d=c.response?.data?.message||c.message||"Failed to fetch billing ledger.";return console.error(`Billing Ledger Fetch - Failure Error: ${d} `,c.response?.data||c),i(d)}}),wm=Fe("patientBilling/fetchFinanceSummary",async({year:e,month:t,date:n},{rejectWithValue:r})=>{const{token:i,clinicId:a}=dc();if(!i||!a)return r("Authentication is required to fetch finance summary.");try{const s=`${uc}/api/reception/billing/finance-summary/${a}?year=${e}&month=${t}&date=${n}`;return(await Ht.get(s,{headers:{Authorization:`Bearer ${i}`}})).data.financeSummary}catch(s){const c=s.response?.data?.message||s.message||"Failed to fetch finance summary.";return console.error(`Finance Summary Fetch Error: ${c}`),r(c)}}),Vte={patient:null,patientStatus:"idle",patientError:null,settings:null,settingsStatus:"idle",settingsError:null,billResponse:null,billStatus:"idle",billError:null,receipts:[],receiptsStatus:"idle",receiptsError:null,allPatients:[],allPatientsStatus:"idle",allPatientsError:null,printStatus:"idle",printError:null,ledgerData:[],ledgerStatus:"idle",ledgerError:null,financeSummary:{dailyCollection:0,monthlyIncome:0,totalExpenses:0},summaryStatus:"idle",summaryError:null},VF=qt({name:"patientBilling",initialState:Vte,reducers:{resetBillState:e=>{e.billResponse=null,e.billStatus="idle",e.billError=null},resetPatientState:e=>{e.patient=null,e.patientStatus="idle",e.patientError=null},resetReceiptsState:e=>{e.receipts=[],e.receiptsStatus="idle",e.receiptsError=null},resetAllPatientsState:e=>{e.allPatients=[],e.allPatientsStatus="idle",e.allPatientsError=null},resetPrintState:e=>{e.printStatus="idle",e.printError=null},resetLedgerState:e=>{e.ledgerData=[],e.ledgerStatus="idle",e.ledgerError=null},resetSummaryState:e=>{e.financeSummary={dailyCollection:0,monthlyIncome:0,totalExpenses:0},e.summaryStatus="idle",e.summaryError=null}},extraReducers:e=>{e.addCase(vv.pending,t=>{t.patientStatus="loading",t.patientError=null}).addCase(vv.fulfilled,(t,n)=>{t.patientStatus="succeeded",t.patient=n.payload.patients?.[0]||null}).addCase(vv.rejected,(t,n)=>{t.patientStatus="failed",t.patientError=n.payload,t.patient=null}).addCase(bv.pending,t=>{t.settingsStatus="loading",t.settingsError=null}).addCase(bv.fulfilled,(t,n)=>{t.settingsStatus="succeeded",t.settings=n.payload}).addCase(bv.rejected,(t,n)=>{t.settingsStatus="failed",t.settingsError=n.payload,n.payload?.status===404?Ee.error("Billing settings not found. Please go to clinic billing settings and create one."):console.log("error",error)}).addCase(xv.pending,t=>{t.billStatus="loading",t.billError=null,t.billResponse=null}).addCase(xv.fulfilled,(t,n)=>{t.billStatus="succeeded",t.billResponse=n.payload}).addCase(xv.rejected,(t,n)=>{t.billStatus="failed",t.billError=n.payload}).addCase(wv.pending,t=>{t.receiptsStatus="loading",t.receiptsError=null}).addCase(wv.fulfilled,(t,n)=>{t.receiptsStatus="succeeded",t.receipts=n.payload}).addCase(wv.rejected,(t,n)=>{t.receiptsStatus="failed",t.receiptsError=n.payload,t.receipts=[]}).addCase(g3.pending,t=>{t.allPatientsStatus="loading",t.allPatientsError=null}).addCase(g3.fulfilled,(t,n)=>{t.allPatientsStatus="succeeded",t.allPatients=n.payload}).addCase(g3.rejected,(t,n)=>{t.allPatientsStatus="failed",t.allPatientsError=n.payload,t.allPatients=[]}).addCase(Sv.pending,t=>{t.printStatus="loading",t.printError=null}).addCase(Sv.fulfilled,t=>{t.printStatus="succeeded"}).addCase(Sv.rejected,(t,n)=>{t.printStatus="failed",t.printError=n.payload}).addCase(Cv.pending,t=>{t.ledgerStatus="loading",t.ledgerError=null}).addCase(Cv.fulfilled,(t,n)=>{t.ledgerStatus="succeeded",t.ledgerData=n.payload}).addCase(Cv.rejected,(t,n)=>{t.ledgerStatus="failed",t.ledgerError=n.payload,t.ledgerData=[]}).addCase(wm.pending,t=>{t.summaryStatus="loading",t.summaryError=null}).addCase(wm.fulfilled,(t,n)=>{t.summaryStatus="succeeded",t.financeSummary=n.payload}).addCase(wm.rejected,(t,n)=>{t.summaryStatus="failed",t.summaryError=n.payload})}}),{resetBillState:H_,resetPatientState:V_,resetReceiptsState:mIe,resetAllPatientsState:gIe,resetPrintState:yIe,resetLedgerState:vIe}=VF.actions,qte=VF.reducer,jv=Fe("backup/createClinicBackup",async(e,{getState:t,rejectWithValue:n})=>{try{const r=t().auth?.token||localStorage.getItem("accessToken")||localStorage.getItem("token");return r?(await $e.post(`${ot}/api/clinic/${e}/backupp`,{includePdf:!0},{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},withCredentials:!0})).data.backup:n("No authentication token found")}catch(r){return n(r.response?.data?.message||"Backup creation failed")}}),Sm=Fe("backup/getClinicBackup",async(e,{getState:t,rejectWithValue:n})=>{try{const r=t().auth?.token||localStorage.getItem("accessToken")||localStorage.getItem("token");return r?(await $e.get(`${ot}/api/clinic/${e}/backupsp`,{headers:{Authorization:`Bearer ${r}`},withCredentials:!0})).data.backups:n("No authentication token found")}catch(r){return n(r.response?.data?.message||"Backup fetch failed")}}),jf=Fe("doctor/getDoctorProfile",async(e,{getState:t,rejectWithValue:n})=>{try{const r=t()?.auth?.token||localStorage.getItem("accessToken")||localStorage.getItem("token");return r?(await $e.get(`${ot}/api/doctor/profile`,{headers:{Authorization:`Bearer ${r}`},withCredentials:!0})).data.doctor:n("No authentication token found")}catch(r){return n(r.response?.data?.message||"Failed to fetch doctor profile")}}),Cm=Fe("doctor/updateDoctorProfile",async(e,{getState:t,rejectWithValue:n})=>{try{const r=t()?.auth?.token||localStorage.getItem("accessToken")||localStorage.getItem("token");return r?(await $e.put(`${ot}/api/doctor/profile`,e,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},withCredentials:!0})).data.doctor:n("No authentication token found")}catch(r){return n(r.response?.data?.message||"Failed to update doctor profile")}}),y3=Fe("backup/downloadClinicBackup",async({clinicId:e,backupId:t},{getState:n,rejectWithValue:r})=>{try{const i=n()?.auth?.token||localStorage.getItem("accessToken")||localStorage.getItem("token");if(!i)return r("No authentication token found");if(!e||!t)return r("Clinic ID or Backup ID missing");const a=await $e.get(`${ot}/api/clinic/${e}/backup/${t}/download`,{headers:{Authorization:`Bearer ${i}`},responseType:"blob",withCredentials:!0}),s=new Blob([a.data],{type:a.headers["content-type"]}),c=window.URL.createObjectURL(s),d=a.headers["content-disposition"]?a.headers["content-disposition"].split("filename=")[1].replace(/"/g,""):`backup_${t}.zip`,f=document.createElement("a");return f.href=c,f.download=d,document.body.appendChild(f),f.click(),document.body.removeChild(f),window.URL.revokeObjectURL(c),{success:!0,filename:d}}catch(i){return r(i.response?.data?.message||"Failed to download backup")}}),Tv=Fe("backup/downloadBackupFile",async({clinicId:e,fileName:t},{getState:n,rejectWithValue:r})=>{try{const i=n().auth?.token||localStorage.getItem("accessToken")||localStorage.getItem("token");return i?!t||t==="undefined"?r("Backup filename missing. Cannot download."):{fileBlob:(await $e.get(`${ot}/api/clinic/${e}/backup/${t}/downloadp`,{headers:{Authorization:`Bearer ${i}`},responseType:"blob",withCredentials:!0})).data,fileName:t}:r("No authentication token found")}catch(i){return r(i.response?.data?.message||"Backup download failed")}}),Av=Fe("backup/fetchClinicFeedback",async(e,{getState:t,rejectWithValue:n})=>{try{const r=t().auth?.token||localStorage.getItem("accessToken")||localStorage.getItem("token");if(!r)return n("No authentication token found");if(!e)return n("Clinic ID is missing");const i=`${ot}/api/feedback/${e}/feedback/all`;return(await $e.get(i,{headers:{Authorization:`Bearer ${r}`}})).data.feedback||[]}catch(r){return n(r.response?.data?.message||"Failed to fetch clinic feedback")}}),kv=Fe("backup/fetchFeedbackStats",async(e,{getState:t,rejectWithValue:n})=>{try{const r=t().auth?.token||localStorage.getItem("accessToken")||localStorage.getItem("token");if(!r)return n("No authentication token found");if(!e)return n("Clinic ID is missing");const i=`${ot}/api/feedback/${e}/feedback/stats`;return(await $e.get(i,{headers:{Authorization:`Bearer ${r}`}})).data.stats}catch(r){return n(r.response?.data?.message||"Failed to fetch feedback statistics")}}),Ev=Fe("backup/fetchOrCreateFeedbackQR",async(e,{getState:t,rejectWithValue:n})=>{try{const r=t().auth?.token||localStorage.getItem("accessToken")||localStorage.getItem("token");if(!r)return n("No authentication token found");if(!e)return n("Clinic ID is missing");const i=`${ot}/api/feedback/${e}/my-feedback-qr?ts=${Date.now()}`,s=(await $e.get(i,{headers:{Authorization:`Bearer ${r}`}})).data?.feedbackQR;return s||n("No QR generated by server")}catch(r){return n(r?.response?.data?.message||r?.message||"Failed to fetch or generate QR")}}),jm=Fe("backup/submitFeedback",async({clinicId:e,rating:t,comment:n,patientName:r},{getState:i,rejectWithValue:a})=>{try{let s=e;if(s||(s=i()?.backup?.clinicId),s||(s=localStorage.getItem("selectedClinicId")),!s)return a("Clinic ID is missing");const c={rating:Number(t),comment:n.trim(),patientName:r.trim()},d=`${ot}/api/feedback/${s}/feedback`;return(await $e.post(d,c)).data}catch(s){return a(s.response?.data?.message||"Failed to submit feedback")}}),qF=qt({name:"backup",initialState:{backupData:null,doctorProfile:null,backupList:[],downloadedFile:null,loading:!1,error:null,message:null,downloading:!1,downloadError:null,feedbackList:[],feedbackStats:null,feedbackLoading:!1,feedbackError:null,submitFeedbackStatus:null,submitFeedbackError:null,submitFeedbackLoading:!1,feedbackQRUrl:null,qrLoading:!1,qrError:null},reducers:{clearDoctorMessage:e=>{e.error=null,e.message=null}},extraReducers:e=>{e.addCase(jv.pending,t=>{t.loading=!0,t.error=null}).addCase(jv.fulfilled,(t,n)=>{t.loading=!1,t.backupData=n.payload,t.message="Backup created successfully",n.payload&&(t.backupList=[n.payload,...t.backupList])}).addCase(jv.rejected,(t,n)=>{t.loading=!1,t.error=n.payload}).addCase(Sm.pending,t=>{t.loading=!0,t.error=null}).addCase(Sm.fulfilled,(t,n)=>{t.loading=!1,t.backupList=n.payload||[]}).addCase(Sm.rejected,(t,n)=>{t.loading=!1,t.error=n.payload}).addCase(jf.pending,t=>{t.loading=!0,t.error=null}).addCase(jf.fulfilled,(t,n)=>{t.loading=!1,t.doctorProfile=n.payload}).addCase(jf.rejected,(t,n)=>{t.loading=!1,t.error=n.payload}).addCase(Cm.pending,t=>{t.loading=!0}).addCase(Cm.fulfilled,(t,n)=>{t.loading=!1,t.doctorProfile=n.payload,t.message="Profile updated successfully"}).addCase(Cm.rejected,(t,n)=>{t.loading=!1,t.error=n.payload}).addCase(y3.pending,t=>{t.downloading=!0,t.downloadError=null}).addCase(y3.fulfilled,(t,n)=>{t.downloading=!1,t.message=`Download successful: ${n.payload.filename}`}).addCase(y3.rejected,(t,n)=>{t.downloading=!1,t.downloadError=n.payload}).addCase(Tv.pending,t=>{t.loading=!0}).addCase(Tv.fulfilled,(t,n)=>{t.loading=!1,t.downloadedFile=n.payload,t.message="Backup downloaded successfully"}).addCase(Tv.rejected,(t,n)=>{t.loading=!1,t.error=n.payload}).addCase(Av.pending,t=>{t.feedbackLoading=!0,t.feedbackError=null}).addCase(Av.fulfilled,(t,n)=>{t.feedbackLoading=!1,t.feedbackList=n.payload||[]}).addCase(Av.rejected,(t,n)=>{t.feedbackLoading=!1,t.feedbackError=n.payload}).addCase(kv.pending,t=>{t.feedbackLoading=!0,t.feedbackError=null}).addCase(kv.fulfilled,(t,n)=>{t.feedbackLoading=!1,t.feedbackStats=n.payload}).addCase(kv.rejected,(t,n)=>{t.feedbackLoading=!1,t.feedbackError=n.payload}).addCase(jm.pending,t=>{t.submitFeedbackLoading=!0,t.submitFeedbackError=null,t.submitFeedbackStatus=null}).addCase(jm.fulfilled,(t,n)=>{t.submitFeedbackLoading=!1,t.submitFeedbackError=!1,t.submitFeedbackStatus=n.payload||"Feedback submitted successfully"}).addCase(jm.rejected,(t,n)=>{t.submitFeedbackLoading=!1,t.submitFeedbackError=n.payload,t.submitFeedbackStatus=null}).addCase(Ev.pending,t=>{t.qrLoading=!0,t.qrError=null}).addCase(Ev.fulfilled,(t,n)=>{t.qrLoading=!1,t.feedbackQRUrl=n.payload}).addCase(Ev.rejected,(t,n)=>{t.qrLoading=!1,t.qrError=n.payload,t.feedbackQRUrl=null})}}),{clearDoctorMessage:bIe}=qF.actions,Yte=qF.reducer,Tf=Fe("notifications/fetchNotifications",async({clinicId:e},{getState:t,rejectWithValue:n})=>{try{const r=t().auth?.token||localStorage.getItem("accessToken")||localStorage.getItem("token");return r?e?(await $e.get(`${ot}/api/admin/notifications?clinicId=${e}`,{headers:{Authorization:`Bearer ${r}`}})).data.notifications||[]:n("Clinic ID missing"):n("Token missing")}catch(r){return n(r.response?.data?.message||"Failed to fetch notifications")}}),YF=Fe("notifications/markRead",async({notificationId:e},{getState:t,rejectWithValue:n})=>{try{const r=t().auth?.token||localStorage.getItem("accessToken")||localStorage.getItem("token");return r?e?(await $e.put(`${ot}/api/admin/notifications/${e}/read`,{},{headers:{Authorization:`Bearer ${r}`}}),e):n("Notification ID missing"):n("Token missing")}catch(r){return n(r.response?.data?.message||"Failed to mark notification as read")}}),Tm=Fe("notifications/fetchReadNotifications",async(e,{getState:t,rejectWithValue:n})=>{try{const r=t().auth?.token||localStorage.getItem("accessToken")||localStorage.getItem("token");return r?(await $e.get(`${ot}/api/admin/notifications/read`,{headers:{Authorization:`Bearer ${r}`}})).data?.notifications||[]:n("Token missing")}catch(r){return n(r.response?.data?.message||"Failed to fetch read notifications")}}),WF=Fe("notifications/deleteNotification",async({notificationId:e},{getState:t,rejectWithValue:n})=>{try{const r=t(),i=r.auth?.token||localStorage.getItem("accessToken")||localStorage.getItem("token"),a=r.clinic?.currentClinic?._id;return i?e?a?(await $e.delete(`${ot}/api/admin/notifications/${e}/receiver`,{headers:{Authorization:`Bearer ${i}`},data:{receiverId:a}}),e):n("Receiver ID missing"):n("Notification ID missing"):n("Token missing")}catch(r){return n(r.response?.data?.message||"Failed to delete notification")}}),Nv=Fe("patients/searchPatients",async({clinicId:e,name:t="",uhid:n=""},{getState:r,rejectWithValue:i})=>{try{const a=r().auth?.token||localStorage.getItem("accessToken")||localStorage.getItem("token");if(!a)return i("Token missing");if(!e)return i("Clinic ID missing");const s=new URLSearchParams;t&&s.append("name",t),n&&s.append("uhid",n),s.append("clinicId",e);const c=await $e.get(`${ot}/api/reception/patient/search?${s.toString()}`,{headers:{Authorization:`Bearer ${a}`}});return c.data?.patients??c.data??[]}catch(a){return i(a.response?.data?.message||"Failed to search patients")}}),Wte=qt({name:"notifications",initialState:{notifications:[],loading:!1,error:null,searchResults:[],searchLoading:!1,searchError:null,readNotifications:[],readLoading:!1,readError:null},reducers:{},extraReducers:e=>{e.addCase(Tf.pending,t=>{t.loading=!0}).addCase(Tf.fulfilled,(t,n)=>{t.loading=!1,t.notifications=n.payload,t.error=null}).addCase(Tf.rejected,(t,n)=>{t.loading=!1,t.error=n.payload}).addCase(YF.fulfilled,(t,n)=>{const r=n.payload;t.notifications=t.notifications.map(i=>i._id===r?{...i,read:!0}:i)}).addCase(Tm.pending,t=>{t.readLoading=!0,t.readError=null}).addCase(Tm.fulfilled,(t,n)=>{t.readLoading=!1,t.readNotifications=n.payload,t.readError=null}).addCase(Tm.rejected,(t,n)=>{t.readLoading=!1,t.readError=n.payload}).addCase(WF.fulfilled,(t,n)=>{t.notifications=t.notifications.filter(r=>r._id!==n.payload)}).addCase(Nv.pending,t=>{t.searchLoading=!0,t.searchError=null}).addCase(Nv.fulfilled,(t,n)=>{t.searchLoading=!1,t.searchResults=n.payload,t.searchError=null}).addCase(Nv.rejected,(t,n)=>{t.searchLoading=!1,t.searchError=n.payload})}}),Gte=Wte.reducer,z5="https://api.mediscript.in/api",Kte=(e=[])=>e.map(t=>{const n=t.templates?.[0]||{},r=n.clinicalHistory||{},i=n.treatmentPlan||{};return{_id:t._id,templateName:t.templateName||"Untitled Template",disease:t.disease||"",system:t.system||"",category:t.system||"General",usage:"Admin",diagnosis:r.diagnosis||{},chiefComplaint:r.chiefComplaint||"",investigations:r.investigations||"",advice:i.lifestyleAdvice?.text||"",adviceImages:i.lifestyleAdvice?.images||[],advicePdfs:i.lifestyleAdvice?.pdfs||[],drugs:i.prescription?.map(a=>({serial:a.serial,brand:a.brandName,generic:a.genericName,form:a.route,dosage:`${a.dose} ${a.timings} ${a.duration}`.trim(),notes:a.notes||""}))||[],procedures:i.procedures||"",referrals:i.referrals||"",isPersonal:!1}}),GF=(e=[])=>e.map(t=>{const n=t.templates?.[0]||{},r=n.clinicalHistory||{},i=n.treatmentPlan||{};return{_id:t._id,templateName:t.templateName||"Untitled Template",system:t.system||"",disease:t.disease||"",category:t.system||"General",usage:"Used",source:t.source||"",status:t.status||"",isSelected:t.isSelected||!1,tags:t.tags||[],createdAt:t.createdAt?new Date(t.createdAt).toLocaleDateString("en-IN"):"",chiefComplaint:r.chiefComplaint||"",investigations:r.investigations||"",diagnosis:{provisional:r.diagnosis?.provisional||"",final:r.diagnosis?.final||""},prescription:Array.isArray(i.medicines)?i.medicines.map((a,s)=>({serial:a.serial||s+1,brandName:a.brandName||"",genericName:a.genericName||"",route:a.route||"",dose:a.dose||"",duration:a.duration||"",timings:a.timings||"",notes:a.notes||""})):[],lifestyleText:i.lifestyleAdvice?.text||"",procedures:i.procedures||"",referrals:i.referrals||""}}),Xte=e=>{const t=e.customizedTemplate?.[0]||{},n=t.clinicalHistory||{},r=t.treatmentPlan||{};return{_id:e._id,templateName:"Customized Template",system:"",disease:"",category:"General",usage:"Used",chiefComplaint:n.chiefComplaint||"",investigations:n.investigations||"",diagnosis:t.diagnosis||{},drugs:r.medicines?.map((i,a)=>({serial:a+1,brand:i.brandName||"",generic:i.genericName||"",form:i.route||"",dosage:`${i.dose||""} ${i.timings||""} ${i.duration||""}`.trim(),notes:i.notes||""}))||[],advice:r.lifestyleAdvice?.text||"",adviceImages:r.lifestyleAdvice?.images||[],advicePdfs:r.lifestyleAdvice?.pdfs||[],procedures:r.procedures||"",referrals:r.referrals||""}},Qte=e=>{const t=e.customizedTemplate?.[0]||{},n=t.clinicalHistory||{},r=t.treatmentPlan||{};return{_id:e._id,templateName:"Customized Template",system:"",disease:"",category:"General",usage:"Used",chiefComplaint:n.chiefComplaint||"",investigations:n.investigations||"",diagnosis:n.diagnosis||{},drugs:r.medicines?.map((i,a)=>({serial:a+1,brand:i.brandName||"",generic:i.genericName||"",form:i.route||"",dosage:`${i.dose||""} ${i.timings||""} ${i.duration||""}`.trim(),notes:i.notes||""}))||[],advice:r.lifestyleAdvice?.text||"",adviceImages:r.lifestyleAdvice?.images||[],advicePdfs:r.lifestyleAdvice?.pdfs||[],procedures:r.procedures||"",referrals:r.referrals||""}},Am=Fe("adminTemplates/fetchAdminTemplates",async(e,{getState:t,rejectWithValue:n})=>{try{const{auth:{accessToken:r}}=t();if(!r)return n("Authentication token missing");const i=await $e.get(`${z5}/admin/templates?status=approved`,{headers:{Authorization:`Bearer ${r}`},withCredentials:!0});if(!i.data?.success)throw new Error("Failed to fetch admin templates");return Kte(i.data.data)}catch(r){return console.error("fetchAdminTemplates error:",r),n(r.response?.data?.message||r.message||"Unable to load admin templates")}}),Zte=Fe("adminTemplates/useAdminTemplate",async({clinicId:e,templateId:t},{getState:n,rejectWithValue:r})=>{try{const{auth:{accessToken:i}}=n();return(await $e.post("/api/doctor/prescriptions/select",{clinicId:e,templateId:t},{headers:{Authorization:`Bearer ${i}`}})).data.data}catch(i){return r(i.response?.data?.message||i.message)}}),Af=Fe("adminTemplates/fetchUsedTemplates",async(e,{getState:t,rejectWithValue:n})=>{try{const{auth:{accessToken:r}}=t(),i=await $e.get(`${z5}/doctor/prescriptions/clinic/${e}`,{headers:{Authorization:`Bearer ${r}`}});return GF(i.data.data)}catch(r){return n(r.response?.data?.message||r.message)}}),v3=Fe("adminTemplates/fetchUsedTemplatesByClinicId",async({clinicId:e,templateId:t},{getState:n,rejectWithValue:r})=>{try{const{auth:{accessToken:i}}=n();console.log("API CALL",e,t);const a=await $e.get(`${z5}/doctor/prescriptions/clinic/${e}/${t}`,{headers:{Authorization:`Bearer ${i}`}});return console.log("API RESPONSE",a.data.data),a.data.data}catch(i){return console.error("API ERROR",i),r(i.message)}}),_v=Fe("adminTemplates/updateDoctorTemplate",async({templateId:e,clinicId:t,payload:n},{getState:r,rejectWithValue:i})=>{try{const{auth:{accessToken:a}}=r();if(!a)return i("Authentication token missing");const s=await $e.put(`/api/doctor/prescriptions/customize/${e}?clinicId=${t}`,n,{headers:{Authorization:`Bearer ${a}`}});if(!s.data?.success)throw new Error("Failed to update template");return s.data.data}catch(a){return i(a.response?.data?.message||a.message||"Update failed")}}),Pv=Fe("adminTemplates/createDoctorCustomTemplate",async({clinicId:e,payload:t},{getState:n,rejectWithValue:r})=>{try{const{auth:{accessToken:i}}=n();if(!i)return r("Authentication token missing");const a=await $e.post(`/api/doctor/prescriptions/templates/custom?clinicId=${e}`,t,{headers:{Authorization:`Bearer ${i}`}});if(!a.data?.success)throw new Error("Failed to create custom template");return a.data.data}catch(i){return r(i.response?.data?.message||i.message||"Create failed")}}),Dv=Fe("adminTemplates/deleteDoctorTemplate",async({templateId:e,clinicId:t},{getState:n,rejectWithValue:r})=>{try{const{auth:{accessToken:i}}=n();if(!i)return r("Authentication token missing");if(!(await $e.delete(`/api/doctor/prescriptions/templates/${e}?clinicId=${t}`,{headers:{Authorization:`Bearer ${i}`}})).data?.success)throw new Error("Failed to delete template");return e}catch(i){return r(i.response?.data?.message||i.message||"Delete failed")}}),Ov=Fe("adminTemplates/markTemplateFavourite",async({templateId:e,clinicId:t},{getState:n,rejectWithValue:r})=>{try{const{auth:{accessToken:i}}=n();if(!i)return r("Authentication token missing");const a=await $e.post(`/api/doctor/prescriptions/templates/${e}/favourite?clinicId=${t}`,{},{headers:{Authorization:`Bearer ${i}`}});if(!a.data?.success)throw new Error("Failed to mark favourite");return{templateId:e,favouriteData:a.data.data}}catch(i){return r(i.response?.data?.message||i.message||"Favourite failed")}}),$v=Fe("adminTemplates/fetchFavouriteTemplates",async(e,{getState:t,rejectWithValue:n})=>{try{const{auth:{accessToken:r}}=t();if(!r)return n("Authentication token missing");const i=await $e.get(`/api/doctor/prescriptions/templates/favourites?clinicId=${e}`,{headers:{Authorization:`Bearer ${r}`}});if(!i.data?.success)throw new Error("Failed to fetch favourite templates");return GF(i.data.data)}catch(r){return n(r.response?.data?.message||r.message||"Fetch favourites failed")}}),Iv=Fe("adminTemplates/unmarkTemplateFavourite",async({templateId:e,clinicId:t},{getState:n,rejectWithValue:r})=>{try{const{auth:{accessToken:i}}=n();if(!i)return r("Authentication token missing");if(!(await $e.delete(`/api/doctor/prescriptions/templates/${e}/favourite?clinicId=${t}`,{headers:{Authorization:`Bearer ${i}`}})).data?.success)throw new Error("Failed to unfavourite template");return e}catch(i){return r(i.response?.data?.message||i.message||"Unfavourite failed")}}),KF=qt({name:"adminTemplates",initialState:{templates:[],usedTemplates:[],favouriteTemplates:[],loading:!1,error:null},reducers:{clearAdminTemplates:e=>{e.templates=[],e.error=null}},extraReducers:e=>{e.addCase(Am.pending,t=>{t.loading=!0,t.error=null}).addCase(Am.fulfilled,(t,n)=>{t.loading=!1,t.templates=n.payload}).addCase(Am.rejected,(t,n)=>{t.loading=!1,t.error=n.payload}).addCase(Af.pending,t=>{t.loading=!0}).addCase(Af.fulfilled,(t,n)=>{t.loading=!1,t.usedTemplates=n.payload}).addCase(Af.rejected,(t,n)=>{t.loading=!1,t.error=n.payload}).addCase(v3.pending,t=>{t.loading=!0}).addCase(v3.fulfilled,(t,n)=>{t.loading=!1,t.usedTemplates=n.payload}).addCase(v3.rejected,(t,n)=>{t.loading=!1,t.error=n.payload}).addCase(_v.pending,t=>{t.loading=!0,t.error=null}).addCase(_v.fulfilled,(t,n)=>{t.loading=!1;const r=Xte(n.payload),i=t.usedTemplates.findIndex(a=>a._id===r._id);i!==-1?t.usedTemplates[i]=r:t.usedTemplates.unshift(r)}).addCase(_v.rejected,(t,n)=>{t.loading=!1,t.error=n.payload}).addCase(Pv.pending,t=>{t.loading=!0,t.error=null}).addCase(Pv.fulfilled,(t,n)=>{t.loading=!1;const r=Qte(n.payload);t.usedTemplates.unshift(r)}).addCase(Pv.rejected,(t,n)=>{t.loading=!1,t.error=n.payload}).addCase(Dv.pending,t=>{t.loading=!0,t.error=null}).addCase(Dv.fulfilled,(t,n)=>{t.loading=!1,t.usedTemplates=t.usedTemplates.filter(r=>r._id!==n.payload)}).addCase(Dv.rejected,(t,n)=>{t.loading=!1,t.error=n.payload}).addCase(Ov.pending,t=>{t.loading=!0,t.error=null}).addCase(Ov.fulfilled,(t,n)=>{t.loading=!1;const{templateId:r}=n.payload;if(t.usedTemplates=t.usedTemplates.map(a=>a._id===r?{...a,isFavourite:!0}:a),t.templates=t.templates.map(a=>a._id===r?{...a,isFavourite:!0}:a),!t.favouriteTemplates.some(a=>a._id===r)){const a=t.usedTemplates.find(s=>s._id===r)||t.templates.find(s=>s._id===r);a&&t.favouriteTemplates.unshift({...a,isFavourite:!0})}}).addCase(Ov.rejected,(t,n)=>{t.loading=!1,t.error=n.payload}).addCase($v.pending,t=>{t.loading=!0,t.error=null}).addCase($v.fulfilled,(t,n)=>{t.loading=!1,t.favouriteTemplates=n.payload.map(r=>({...r,isFavourite:!0}))}).addCase($v.rejected,(t,n)=>{t.loading=!1,t.error=n.payload}).addCase(Iv.pending,t=>{t.loading=!0,t.error=null}).addCase(Iv.fulfilled,(t,n)=>{t.loading=!1;const r=n.payload;t.usedTemplates=t.usedTemplates.map(i=>i._id===r?{...i,isFavourite:!1}:i),t.templates=t.templates.map(i=>i._id===r?{...i,isFavourite:!1}:i),t.favouriteTemplates=t.favouriteTemplates.filter(i=>i._id!==r)}).addCase(Iv.rejected,(t,n)=>{t.loading=!1,t.error=n.payload})}}),{clearAdminTemplates:xIe}=KF.actions,Jte=KF.reducer,Rv=Fe("patients/fetchAll",async(e,{getState:t,rejectWithValue:n})=>{try{const i=t().auth?.clinic?.id||localStorage.getItem("selectedClinicId");if(console.log("Fetching patients for clinicId:",i),!i)return n("Clinic ID missing");const a=await $e.get("/api/reception/patient/all",{params:{clinicId:i},skipAuthRedirect:!0});return a.data?.patients||a.data||[]}catch(r){return n(r.response?.data?.message||r.message||"Failed to fetch patients")}}),XF=qt({name:"patients",initialState:{list:[],loading:!1,error:null},reducers:{clearPatients:e=>{e.list=[],e.error=null}},extraReducers:e=>{e.addCase(Rv.pending,t=>{t.loading=!0,t.error=null}),e.addCase(Rv.fulfilled,(t,n)=>{console.log("REDUCER HIT:",n.payload),t.loading=!1,t.list=n.payload}).addCase(Rv.rejected,(t,n)=>{t.loading=!1,t.error=n.payload})}}),{clearPatients:wIe}=XF.actions,ene=XF.reducer,U5=(e=[])=>e.map(t=>{const n=t.templates?.[0]||{},r=n.clinicalHistory||{},i=n.treatmentPlan||{};return console.log("item",t),{_id:t._id,templateName:t.templateName||"Untitled Template",disease:t.disease||"",system:t.system||"",category:t.system||"General",usage:"Admin",tags:t.tags,diagnosis:r.diagnosis||{},chiefComplaint:r.chiefComplaint||"",investigations:r.investigations||"",advice:i.lifestyleAdvice?.text||"",adviceImages:i.lifestyleAdvice?.images||[],advicePdfs:i.lifestyleAdvice?.pdfs||[],lifestyleText:i.lifestyleAdvice?.text||"",prescription:i.medicines?.map((a,s)=>({serial:a.serial||s+1,brand:a.brandName||"",generic:a.genericName||"",form:a.route||"",dosage:a.dose||"",duration:a.duration||"",timings:a.timings||"",notes:a.notes||""}))||[],procedures:i.procedures||"",referrals:i.referrals||"",isPersonal:!1}}),km=Fe("adminSuggestedTemplates/fetch",async(e,{getState:t,rejectWithValue:n})=>{try{const{auth:{accessToken:r}}=t();if(!r)return n("Auth token missing");const i=await $e.get(`/api/doctor/prescriptions/suggestedTemplates?status=${e}`,{headers:{Authorization:`Bearer ${r}`}});if(!i.data?.success)throw new Error("Fetch failed");return U5(i.data.data)}catch(r){return n(r.response?.data?.message||r.message)}}),QF=Fe("adminSuggestedTemplates/update",async({templateId:e,clinicId:t,payload:n},{getState:r,rejectWithValue:i})=>{try{const{auth:{accessToken:a}}=r();if(!a)return i("Auth token missing");const s=await $e.put(`/api/doctor/prescriptions/suggestedTemplates/${e}?clinicId=${t}`,n,{headers:{Authorization:`Bearer ${a}`}});if(!s.data?.success)throw new Error("Update failed");return U5([s.data.data])[0]}catch(a){return i(a.response?.data?.message||a.message)}}),ZF=Fe("adminSuggestedTemplates/create",async({clinicId:e,payload:t},{getState:n,rejectWithValue:r})=>{try{const{auth:{accessToken:i}}=n();if(!i)return r("Auth token missing");const a=await $e.post(`/api/doctor/prescriptions/request?clinicId=${e}`,t,{headers:{Authorization:`Bearer ${i}`}});if(!a.data?.success)throw new Error("Create failed");return U5([a.data.data])[0]}catch(i){return r(i.response?.data?.message||i.message)}}),JF=Fe("adminSuggestedTemplates/delete",async({templateId:e,clinicId:t},{getState:n,rejectWithValue:r})=>{try{const{auth:{accessToken:i}}=n();if(!i)return r("Auth token missing");if(!(await $e.delete(`/api/doctor/prescriptions/suggestedTemplates/${e}?clinicId=${t}`,{headers:{Authorization:`Bearer ${i}`}})).data?.success)throw new Error("Delete failed");return e}catch(i){return r(i.response?.data?.message||i.message)}}),eB=qt({name:"adminSuggestedTemplates",initialState:{templates:[],loading:!1,error:null},reducers:{clearSuggestedAdminTemplates:e=>{e.templates=[],e.error=null}},extraReducers:e=>{e.addCase(km.pending,t=>{t.loading=!0}).addCase(km.fulfilled,(t,n)=>{t.loading=!1,t.templates=n.payload}).addCase(km.rejected,(t,n)=>{t.loading=!1,t.error=n.payload}).addCase(QF.fulfilled,(t,n)=>{t.loading=!1,t.templates=t.templates.map(r=>r._id===n.payload._id?n.payload:r)}).addCase(ZF.fulfilled,(t,n)=>{t.templates.unshift(n.payload)}).addCase(JF.fulfilled,(t,n)=>{t.templates=t.templates.filter(r=>r._id!==n.payload)})}}),{clearSuggestedAdminTemplates:SIe}=eB.actions,tne=eB.reducer,nne={key:"root",storage:oJ,whitelist:["auth","clinic"]},rne=_5({auth:Uee,doctorDetail:nte,notifications:Gte,clinic:Hee,subscription:qee,reception:Wee,staff:Kee,license:Xee,prescription:ite,billing:ete,expense:ate,support:ote,analytics:lte,patientBilling:qte,backup:Yte,adminTemplates:Jte,adminSuggestedTemplates:tne,patient:ene}),ine=KZ(nne,rne),Jx=PL({reducer:ine,middleware:e=>e({serializableCheck:{ignoredActions:["persist/PERSIST","persist/REHYDRATE","clinic/addClinic/pending","clinic/addClinic/fulfilled"],ignoredPaths:["clinic.payload","clinic.currentClinic.logo"]}})});tJ(Jx);console.log("Redux Store + Persist Initialized");Jx.dispatch;Jx.getState;/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var q_="popstate";function ane(e={}){function t(r,i){let{pathname:a,search:s,hash:c}=r.location;return T8("",{pathname:a,search:s,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Wm(i)}return sne(t,n,null,e)}function Cn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ca(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function one(){return Math.random().toString(36).substring(2,10)}function Y_(e,t){return{usr:e.state,key:e.key,idx:t}}function T8(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?mp(t):t,state:n,key:t&&t.key||r||one()}}function Wm({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function mp(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function sne(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,c="POP",d=null,f=p();f==null&&(f=0,s.replaceState({...s.state,idx:f},""));function p(){return(s.state||{idx:null}).idx}function m(){c="POP";let j=p(),A=j==null?null:j-f;f=j,d&&d({action:c,location:C.location,delta:A})}function g(j,A){c="PUSH";let k=T8(C.location,j,A);f=p()+1;let E=Y_(k,f),P=C.createHref(k);try{s.pushState(E,"",P)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;i.location.assign(P)}a&&d&&d({action:c,location:C.location,delta:1})}function v(j,A){c="REPLACE";let k=T8(C.location,j,A);f=p();let E=Y_(k,f),P=C.createHref(k);s.replaceState(E,"",P),a&&d&&d({action:c,location:C.location,delta:0})}function b(j){return lne(j)}let C={get action(){return c},get location(){return e(i,s)},listen(j){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(q_,m),d=j,()=>{i.removeEventListener(q_,m),d=null}},createHref(j){return t(i,j)},createURL:b,encodeLocation(j){let A=b(j);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:g,replace:v,go(j){return s.go(j)}};return C}function lne(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Cn(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Wm(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function tB(e,t,n="/"){return cne(e,t,n,!1)}function cne(e,t,n,r){let i=typeof t=="string"?mp(t):t,a=Ds(i.pathname||"/",n);if(a==null)return null;let s=nB(e);une(s);let c=null;for(let d=0;c==null&&d<s.length;++d){let f=wne(a);c=bne(s[d],f,r)}return c}function nB(e,t=[],n=[],r="",i=!1){let a=(s,c,d=i,f)=>{let p={relativePath:f===void 0?s.path||"":f,caseSensitive:s.caseSensitive===!0,childrenIndex:c,route:s};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&d)return;Cn(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let m=js([r,p.relativePath]),g=n.concat(p);s.children&&s.children.length>0&&(Cn(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),nB(s.children,t,g,m,d)),!(s.path==null&&!s.index)&&t.push({path:m,score:yne(m,s.index),routesMeta:g})};return e.forEach((s,c)=>{if(s.path===""||!s.path?.includes("?"))a(s,c);else for(let d of rB(s.path))a(s,c,!0,d)}),t}function rB(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=rB(r.join("/")),c=[];return c.push(...s.map(d=>d===""?a:[a,d].join("/"))),i&&c.push(...s),c.map(d=>e.startsWith("/")&&d===""?"/":d)}function une(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:vne(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var dne=/^:[\w-]+$/,fne=3,pne=2,hne=1,mne=10,gne=-2,W_=e=>e==="*";function yne(e,t){let n=e.split("/"),r=n.length;return n.some(W_)&&(r+=gne),t&&(r+=pne),n.filter(i=>!W_(i)).reduce((i,a)=>i+(dne.test(a)?fne:a===""?hne:mne),r)}function vne(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function bne(e,t,n=!1){let{routesMeta:r}=e,i={},a="/",s=[];for(let c=0;c<r.length;++c){let d=r[c],f=c===r.length-1,p=a==="/"?t:t.slice(a.length)||"/",m=Cb({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),g=d.route;if(!m&&f&&n&&!r[r.length-1].route.index&&(m=Cb({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!m)return null;Object.assign(i,m.params),s.push({params:i,pathname:js([a,m.pathname]),pathnameBase:Ane(js([a,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(a=js([a,m.pathnameBase]))}return s}function Cb(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=xne(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((f,{paramName:p,isOptional:m},g)=>{if(p==="*"){let b=c[g]||"";s=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const v=c[g];return m&&!v?f[p]=void 0:f[p]=(v||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:s,pattern:e}}function xne(e,t=!1,n=!0){ca(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function wne(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ca(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ds(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var Sne=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cne=e=>Sne.test(e);function jne(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?mp(e):e,a;if(n)if(Cne(n))a=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),ca(!1,`Pathnames cannot have embedded double slashes - normalizing ${s} -> ${n}`)}n.startsWith("/")?a=G_(n.substring(1),"/"):a=G_(n,t)}else a=t;return{pathname:a,search:kne(r),hash:Ene(i)}}function G_(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function b3(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Tne(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function H5(e){let t=Tne(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function V5(e,t,n,r=!1){let i;typeof e=="string"?i=mp(e):(i={...e},Cn(!i.pathname||!i.pathname.includes("?"),b3("?","pathname","search",i)),Cn(!i.pathname||!i.pathname.includes("#"),b3("#","pathname","hash",i)),Cn(!i.search||!i.search.includes("#"),b3("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,c;if(s==null)c=n;else{let m=t.length-1;if(!r&&s.startsWith("..")){let g=s.split("/");for(;g[0]==="..";)g.shift(),m-=1;i.pathname=g.join("/")}c=m>=0?t[m]:"/"}let d=jne(i,c),f=s&&s!=="/"&&s.endsWith("/"),p=(a||s===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}var js=e=>e.join("/").replace(/\/\/+/g,"/"),Ane=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),kne=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Ene=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Nne(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var iB=["POST","PUT","PATCH","DELETE"];new Set(iB);var _ne=["GET",...iB];new Set(_ne);var gp=w.createContext(null);gp.displayName="DataRouter";var e2=w.createContext(null);e2.displayName="DataRouterState";w.createContext(!1);var aB=w.createContext({isTransitioning:!1});aB.displayName="ViewTransition";var Pne=w.createContext(new Map);Pne.displayName="Fetchers";var Dne=w.createContext(null);Dne.displayName="Await";var Ka=w.createContext(null);Ka.displayName="Navigation";var Fg=w.createContext(null);Fg.displayName="Location";var pa=w.createContext({outlet:null,matches:[],isDataRoute:!1});pa.displayName="Route";var q5=w.createContext(null);q5.displayName="RouteError";function One(e,{relative:t}={}){Cn(yp(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=w.useContext(Ka),{hash:i,pathname:a,search:s}=Bg(e,{relative:t}),c=a;return n!=="/"&&(c=a==="/"?n:js([n,a])),r.createHref({pathname:c,search:s,hash:i})}function yp(){return w.useContext(Fg)!=null}function Jr(){return Cn(yp(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Fg).location}var oB="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sB(e){w.useContext(Ka).static||w.useLayoutEffect(e)}function Fn(){let{isDataRoute:e}=w.useContext(pa);return e?Gne():$ne()}function $ne(){Cn(yp(),"useNavigate() may be used only in the context of a <Router> component.");let e=w.useContext(gp),{basename:t,navigator:n}=w.useContext(Ka),{matches:r}=w.useContext(pa),{pathname:i}=Jr(),a=JSON.stringify(H5(r)),s=w.useRef(!1);return sB(()=>{s.current=!0}),w.useCallback((d,f={})=>{if(ca(s.current,oB),!s.current)return;if(typeof d=="number"){n.go(d);return}let p=V5(d,JSON.parse(a),i,f.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:js([t,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[t,n,a,i,e])}var Ine=w.createContext(null);function Rne(e){let t=w.useContext(pa).outlet;return w.useMemo(()=>t&&w.createElement(Ine.Provider,{value:e},t),[t,e])}function fc(){let{matches:e}=w.useContext(pa),t=e[e.length-1];return t?t.params:{}}function Bg(e,{relative:t}={}){let{matches:n}=w.useContext(pa),{pathname:r}=Jr(),i=JSON.stringify(H5(n));return w.useMemo(()=>V5(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function Mne(e,t){return lB(e,t)}function lB(e,t,n,r,i){Cn(yp(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=w.useContext(Ka),{matches:s}=w.useContext(pa),c=s[s.length-1],d=c?c.params:{},f=c?c.pathname:"/",p=c?c.pathnameBase:"/",m=c&&c.route;{let k=m&&m.path||"";cB(f,!m||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let g=Jr(),v;if(t){let k=typeof t=="string"?mp(t):t;Cn(p==="/"||k.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${k.pathname}" was given in the \`location\` prop.`),v=k}else v=g;let b=v.pathname||"/",C=b;if(p!=="/"){let k=p.replace(/^\//,"").split("/");C="/"+b.replace(/^\//,"").split("/").slice(k.length).join("/")}let j=tB(e,{pathname:C});ca(m||j!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),ca(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=Une(j&&j.map(k=>Object.assign({},k,{params:Object.assign({},d,k.params),pathname:js([p,a.encodeLocation?a.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?p:js([p,a.encodeLocation?a.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),s,n,r,i);return t&&A?w.createElement(Fg.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},A):A}function Lne(){let e=Wne(),t=Nne(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:a},"ErrorBoundary")," or"," ",w.createElement("code",{style:a},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:i},n):null,s)}var Fne=w.createElement(Lne,null),Bne=class extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?w.createElement(pa.Provider,{value:this.props.routeContext},w.createElement(q5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function zne({routeContext:e,match:t,children:n}){let r=w.useContext(gp);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(pa.Provider,{value:e},n)}function Une(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,s=n?.errors;if(s!=null){let p=a.findIndex(m=>m.route.id&&s?.[m.route.id]!==void 0);Cn(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let c=!1,d=-1;if(n)for(let p=0;p<a.length;p++){let m=a[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=p),m.route.id){let{loaderData:g,errors:v}=n,b=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||b){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}let f=n&&r?(p,m)=>{r(p,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:m})}:void 0;return a.reduceRight((p,m,g)=>{let v,b=!1,C=null,j=null;n&&(v=s&&m.route.id?s[m.route.id]:void 0,C=m.route.errorElement||Fne,c&&(d<0&&g===0?(cB("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,j=null):d===g&&(b=!0,j=m.route.hydrateFallbackElement||null)));let A=t.concat(a.slice(0,g+1)),k=()=>{let E;return v?E=C:b?E=j:m.route.Component?E=w.createElement(m.route.Component,null):m.route.element?E=m.route.element:E=p,w.createElement(zne,{match:m,routeContext:{outlet:p,matches:A,isDataRoute:n!=null},children:E})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?w.createElement(Bne,{location:n.location,revalidation:n.revalidation,component:C,error:v,children:k(),routeContext:{outlet:null,matches:A,isDataRoute:!0},onError:f}):k()},null)}function Y5(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Hne(e){let t=w.useContext(gp);return Cn(t,Y5(e)),t}function Vne(e){let t=w.useContext(e2);return Cn(t,Y5(e)),t}function qne(e){let t=w.useContext(pa);return Cn(t,Y5(e)),t}function W5(e){let t=qne(e),n=t.matches[t.matches.length-1];return Cn(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function Yne(){return W5("useRouteId")}function Wne(){let e=w.useContext(q5),t=Vne("useRouteError"),n=W5("useRouteError");return e!==void 0?e:t.errors?.[n]}function Gne(){let{router:e}=Hne("useNavigate"),t=W5("useNavigate"),n=w.useRef(!1);return sB(()=>{n.current=!0}),w.useCallback(async(i,a={})=>{ca(n.current,oB),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var K_={};function cB(e,t,n){!t&&!K_[e]&&(K_[e]=!0,ca(!1,n))}w.memo(Kne);function Kne({routes:e,future:t,state:n,unstable_onError:r}){return lB(e,void 0,n,r,t)}function jb({to:e,replace:t,state:n,relative:r}){Cn(yp(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=w.useContext(Ka);ca(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=w.useContext(pa),{pathname:s}=Jr(),c=Fn(),d=V5(e,H5(a),s,r==="path"),f=JSON.stringify(d);return w.useEffect(()=>{c(JSON.parse(f),{replace:t,state:n,relative:r})},[c,f,r,t,n]),null}function uB(e){return Rne(e.context)}function zt(e){Cn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Xne({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){Cn(!yp(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),c=w.useMemo(()=>({basename:s,navigator:i,static:a,future:{}}),[s,i,a]);typeof n=="string"&&(n=mp(n));let{pathname:d="/",search:f="",hash:p="",state:m=null,key:g="default"}=n,v=w.useMemo(()=>{let b=Ds(d,s);return b==null?null:{location:{pathname:b,search:f,hash:p,state:m,key:g},navigationType:r}},[s,d,f,p,m,g,r]);return ca(v!=null,`<Router basename="${s}"> is not able to match the URL "${d}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:w.createElement(Ka.Provider,{value:c},w.createElement(Fg.Provider,{children:t,value:v}))}function Qne({children:e,location:t}){return Mne(A8(e),t)}function A8(e,t=[]){let n=[];return w.Children.forEach(e,(r,i)=>{if(!w.isValidElement(r))return;let a=[...t,i];if(r.type===w.Fragment){n.push.apply(n,A8(r.props.children,a));return}Cn(r.type===zt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Cn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=A8(r.props.children,a)),n.push(s)}),n}var Mv="get",Lv="application/x-www-form-urlencoded";function t2(e){return e!=null&&typeof e.tagName=="string"}function Zne(e){return t2(e)&&e.tagName.toLowerCase()==="button"}function Jne(e){return t2(e)&&e.tagName.toLowerCase()==="form"}function ere(e){return t2(e)&&e.tagName.toLowerCase()==="input"}function tre(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function nre(e,t){return e.button===0&&(!t||t==="_self")&&!tre(e)}var Wy=null;function rre(){if(Wy===null)try{new FormData(document.createElement("form"),0),Wy=!1}catch{Wy=!0}return Wy}var ire=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function x3(e){return e!=null&&!ire.has(e)?(ca(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Lv}"`),null):e}function are(e,t){let n,r,i,a,s;if(Jne(e)){let c=e.getAttribute("action");r=c?Ds(c,t):null,n=e.getAttribute("method")||Mv,i=x3(e.getAttribute("enctype"))||Lv,a=new FormData(e)}else if(Zne(e)||ere(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||c.getAttribute("action");if(r=d?Ds(d,t):null,n=e.getAttribute("formmethod")||c.getAttribute("method")||Mv,i=x3(e.getAttribute("formenctype"))||x3(c.getAttribute("enctype"))||Lv,a=new FormData(c,e),!rre()){let{name:f,type:p,value:m}=e;if(p==="image"){let g=f?`${f}.`:"";a.append(`${g}x`,"0"),a.append(`${g}y`,"0")}else f&&a.append(f,m)}}else{if(t2(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Mv,r=null,i=Lv,s=e}return a&&i==="text/plain"&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function G5(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ore(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Ds(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function sre(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function lre(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function cre(e,t,n){let r=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let s=await sre(a,n);return s.links?s.links():[]}return[]}));return pre(r.flat(1).filter(lre).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function X_(e,t,n,r,i,a){let s=(d,f)=>n[f]?d.route.id!==n[f].route.id:!0,c=(d,f)=>n[f].pathname!==d.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==d.params["*"];return a==="assets"?t.filter((d,f)=>s(d,f)||c(d,f)):a==="data"?t.filter((d,f)=>{let p=r.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(s(d,f)||c(d,f))return!0;if(d.route.shouldRevalidate){let m=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function ure(e,t,{includeHydrateFallback:n}={}){return dre(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function dre(e){return[...new Set(e)]}function fre(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function pre(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let a=JSON.stringify(fre(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function dB(){let e=w.useContext(gp);return G5(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function hre(){let e=w.useContext(e2);return G5(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var K5=w.createContext(void 0);K5.displayName="FrameworkContext";function fB(){let e=w.useContext(K5);return G5(e,"You must render this element inside a <HydratedRouter> element"),e}function mre(e,t){let n=w.useContext(K5),[r,i]=w.useState(!1),[a,s]=w.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:f,onMouseLeave:p,onTouchStart:m}=t,g=w.useRef(null);w.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let C=A=>{A.forEach(k=>{s(k.isIntersecting)})},j=new IntersectionObserver(C,{threshold:.5});return g.current&&j.observe(g.current),()=>{j.disconnect()}}},[e]),w.useEffect(()=>{if(r){let C=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(C)}}},[r]);let v=()=>{i(!0)},b=()=>{i(!1),s(!1)};return n?e!=="intent"?[a,g,{}]:[a,g,{onFocus:Uh(c,v),onBlur:Uh(d,b),onMouseEnter:Uh(f,v),onMouseLeave:Uh(p,b),onTouchStart:Uh(m,v)}]:[!1,g,{}]}function Uh(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function gre({page:e,...t}){let{router:n}=dB(),r=w.useMemo(()=>tB(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?w.createElement(vre,{page:e,matches:r,...t}):null}function yre(e){let{manifest:t,routeModules:n}=fB(),[r,i]=w.useState([]);return w.useEffect(()=>{let a=!1;return cre(e,t,n).then(s=>{a||i(s)}),()=>{a=!0}},[e,t,n]),r}function vre({page:e,matches:t,...n}){let r=Jr(),{manifest:i,routeModules:a}=fB(),{basename:s}=dB(),{loaderData:c,matches:d}=hre(),f=w.useMemo(()=>X_(e,t,d,i,r,"data"),[e,t,d,i,r]),p=w.useMemo(()=>X_(e,t,d,i,r,"assets"),[e,t,d,i,r]),m=w.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let b=new Set,C=!1;if(t.forEach(A=>{let k=i.routes[A.route.id];!k||!k.hasLoader||(!f.some(E=>E.route.id===A.route.id)&&A.route.id in c&&a[A.route.id]?.shouldRevalidate||k.hasClientLoader?C=!0:b.add(A.route.id))}),b.size===0)return[];let j=ore(e,s,"data");return C&&b.size>0&&j.searchParams.set("_routes",t.filter(A=>b.has(A.route.id)).map(A=>A.route.id).join(",")),[j.pathname+j.search]},[s,c,r,i,f,t,e,a]),g=w.useMemo(()=>ure(p,i),[p,i]),v=yre(p);return w.createElement(w.Fragment,null,m.map(b=>w.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),g.map(b=>w.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),v.map(({key:b,link:C})=>w.createElement("link",{key:b,nonce:n.nonce,...C})))}function bre(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var pB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{pB&&(window.__reactRouterVersion="7.9.6")}catch{}function xre({basename:e,children:t,window:n}){let r=w.useRef();r.current==null&&(r.current=ane({window:n,v5Compat:!0}));let i=r.current,[a,s]=w.useState({action:i.action,location:i.location}),c=w.useCallback(d=>{w.startTransition(()=>s(d))},[s]);return w.useLayoutEffect(()=>i.listen(c),[i,c]),w.createElement(Xne,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:i})}var hB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tb=w.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:s,state:c,target:d,to:f,preventScrollReset:p,viewTransition:m,...g},v){let{basename:b}=w.useContext(Ka),C=typeof f=="string"&&hB.test(f),j,A=!1;if(typeof f=="string"&&C&&(j=f,pB))try{let D=new URL(window.location.href),L=f.startsWith("//")?new URL(D.protocol+f):new URL(f),R=Ds(L.pathname,b);L.origin===D.origin&&R!=null?f=R+L.search+L.hash:A=!0}catch{ca(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=One(f,{relative:i}),[E,P,$]=mre(r,g),F=jre(f,{replace:s,state:c,target:d,preventScrollReset:p,relative:i,viewTransition:m});function O(D){t&&t(D),D.defaultPrevented||F(D)}let _=w.createElement("a",{...g,...$,href:j||k,onClick:A||a?t:O,ref:bre(v,P),target:d,"data-discover":!C&&n==="render"?"true":void 0});return E&&!C?w.createElement(w.Fragment,null,_,w.createElement(gre,{page:k})):_});Tb.displayName="Link";var wre=w.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:s,viewTransition:c,children:d,...f},p){let m=Bg(s,{relative:f.relative}),g=Jr(),v=w.useContext(e2),{navigator:b,basename:C}=w.useContext(Ka),j=v!=null&&Nre(m)&&c===!0,A=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,k=g.pathname,E=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(k=k.toLowerCase(),E=E?E.toLowerCase():null,A=A.toLowerCase()),E&&C&&(E=Ds(E,C)||E);const P=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let $=k===A||!i&&k.startsWith(A)&&k.charAt(P)==="/",F=E!=null&&(E===A||!i&&E.startsWith(A)&&E.charAt(A.length)==="/"),O={isActive:$,isPending:F,isTransitioning:j},_=$?t:void 0,D;typeof r=="function"?D=r(O):D=[r,$?"active":null,F?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(O):a;return w.createElement(Tb,{...f,"aria-current":_,className:D,ref:p,style:L,to:s,viewTransition:c},typeof d=="function"?d(O):d)});wre.displayName="NavLink";var Sre=w.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:s=Mv,action:c,onSubmit:d,relative:f,preventScrollReset:p,viewTransition:m,...g},v)=>{let b=kre(),C=Ere(c,{relative:f}),j=s.toLowerCase()==="get"?"get":"post",A=typeof c=="string"&&hB.test(c),k=E=>{if(d&&d(E),E.defaultPrevented)return;E.preventDefault();let P=E.nativeEvent.submitter,$=P?.getAttribute("formmethod")||s;b(P||E.currentTarget,{fetcherKey:t,method:$,navigate:n,replace:i,state:a,relative:f,preventScrollReset:p,viewTransition:m})};return w.createElement("form",{ref:v,method:j,action:C,onSubmit:r?d:k,...g,"data-discover":!A&&e==="render"?"true":void 0})});Sre.displayName="Form";function Cre(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mB(e){let t=w.useContext(gp);return Cn(t,Cre(e)),t}function jre(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:s}={}){let c=Fn(),d=Jr(),f=Bg(e,{relative:a});return w.useCallback(p=>{if(nre(p,t)){p.preventDefault();let m=n!==void 0?n:Wm(d)===Wm(f);c(e,{replace:m,state:r,preventScrollReset:i,relative:a,viewTransition:s})}},[d,c,f,n,r,t,e,i,a,s])}var Tre=0,Are=()=>`__${String(++Tre)}__`;function kre(){let{router:e}=mB("useSubmit"),{basename:t}=w.useContext(Ka),n=Yne();return w.useCallback(async(r,i={})=>{let{action:a,method:s,encType:c,formData:d,body:f}=are(r,t);if(i.navigate===!1){let p=i.fetcherKey||Are();await e.fetch(p,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||s,formEncType:i.encType||c,flushSync:i.flushSync})}else await e.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||s,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function Ere(e,{relative:t}={}){let{basename:n}=w.useContext(Ka),r=w.useContext(pa);Cn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Bg(e||".",{relative:t})},s=Jr();if(e==null){a.search=s.search;let c=new URLSearchParams(a.search),d=c.getAll("index");if(d.some(p=>p==="")){c.delete("index"),d.filter(m=>m).forEach(m=>c.append("index",m));let p=c.toString();a.search=p?`?${p}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:js([n,a.pathname])),Wm(a)}function Nre(e,{relative:t}={}){let n=w.useContext(aB);Cn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=mB("useViewTransitionState"),i=Bg(e,{relative:t});if(!n.isTransitioning)return!1;let a=Ds(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Ds(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Cb(i.pathname,s)!=null||Cb(i.pathname,a)!=null}var n2=mL();const _re=di(n2),Pre=()=>{};var Q_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gB=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Dre=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[n++];t[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=e[n++],s=e[n++],c=e[n++],d=((i&7)<<18|(a&63)<<12|(s&63)<<6|c&63)-65536;t[r++]=String.fromCharCode(55296+(d>>10)),t[r++]=String.fromCharCode(56320+(d&1023))}else{const a=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return t.join("")},yB={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const a=e[i],s=i+1<e.length,c=s?e[i+1]:0,d=i+2<e.length,f=d?e[i+2]:0,p=a>>2,m=(a&3)<<4|c>>4;let g=(c&15)<<2|f>>6,v=f&63;d||(v=64,s||(g=64)),r.push(n[p],n[m],n[g],n[v])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(gB(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Dre(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const a=n[e.charAt(i++)],c=i<e.length?n[e.charAt(i)]:0;++i;const f=i<e.length?n[e.charAt(i)]:64;++i;const m=i<e.length?n[e.charAt(i)]:64;if(++i,a==null||c==null||f==null||m==null)throw new Ore;const g=a<<2|c>>4;if(r.push(g),f!==64){const v=c<<4&240|f>>2;if(r.push(v),m!==64){const b=f<<6&192|m;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Ore extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $re=function(e){const t=gB(e);return yB.encodeByteArray(t,!0)},Ab=function(e){return $re(e).replace(/\./g,"")},vB=function(e){try{return yB.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ire(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rre=()=>Ire().__FIREBASE_DEFAULTS__,Mre=()=>{if(typeof process>"u"||typeof Q_>"u")return;const e=Q_.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Lre=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&vB(e[1]);return t&&JSON.parse(t)},X5=()=>{try{return Pre()||Rre()||Mre()||Lre()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},bB=e=>X5()?.emulatorHosts?.[e],Fre=e=>{const t=bB(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},xB=()=>X5()?.config,wB=e=>X5()?.[`_${e}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bre{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function SB(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zre(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...e};return[Ab(JSON.stringify(n)),Ab(JSON.stringify(s)),""].join(".")}const Em={};function Ure(){const e={prod:[],emulator:[]};for(const t of Object.keys(Em))Em[t]?e.emulator.push(t):e.prod.push(t);return e}function Hre(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let Z_=!1;function CB(e,t){if(typeof window>"u"||typeof document>"u"||!zg(window.location.host)||Em[e]===t||Em[e]||Z_)return;Em[e]=t;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",a=Ure().prod.length>0;function s(){const g=document.getElementById(r);g&&g.remove()}function c(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function d(g,v){g.setAttribute("width","24"),g.setAttribute("id",v),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function f(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{Z_=!0,s()},g}function p(g,v){g.setAttribute("id",v),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function m(){const g=Hre(r),v=n("text"),b=document.getElementById(v)||document.createElement("span"),C=n("learnmore"),j=document.getElementById(C)||document.createElement("a"),A=n("preprendIcon"),k=document.getElementById(A)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const E=g.element;c(E),p(j,C);const P=f();d(k,A),E.append(k,b,j,P),document.body.appendChild(E)}a?(b.innerText="Preview backend disconnected.",k.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(k.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Vre(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qr())}function qre(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jB(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Yre(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Wre(){const e=Qr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function TB(){try{return typeof indexedDB=="object"}catch{return!1}}function AB(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{t(i.error?.message||"")}}catch(n){t(n)}})}function Gre(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kre="FirebaseError";class Xa extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=Kre,Object.setPrototypeOf(this,Xa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,id.prototype.create)}}class id{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,a=this.errors[t],s=a?Xre(a,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new Xa(i,c,r)}}function Xre(e,t){return e.replace(Qre,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const Qre=/\{\$([^}]+)}/g;function Zre(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Jl(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const a=e[i],s=t[i];if(J_(a)&&J_(s)){if(!Jl(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function J_(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Jre(e,t){const n=new eie(e,t);return n.subscribe.bind(n)}class eie{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");tie(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=w3),i.error===void 0&&(i.error=w3),i.complete===void 0&&(i.complete=w3);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tie(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function w3(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nie=1e3,rie=2,iie=14400*1e3,aie=.5;function eP(e,t=nie,n=rie){const r=t*Math.pow(n,e),i=Math.round(aie*r*(Math.random()-.5)*2);return Math.min(iie,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qs(e){return e&&e._delegate?e._delegate:e}class qa{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oie{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Bre;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(lie(t))try{this.getOrInitializeService({instanceIdentifier:uu})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(t=uu){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=uu){return this.instances.has(t)}getOptions(t=uu){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&s.resolve(i)}return i}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(t),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&t(a,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:sie(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=uu){return this.component?this.component.multipleInstances?t:uu:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sie(e){return e===uu?void 0:e}function lie(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cie{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new oie(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Gt||(Gt={}));const uie={debug:Gt.DEBUG,verbose:Gt.VERBOSE,info:Gt.INFO,warn:Gt.WARN,error:Gt.ERROR,silent:Gt.SILENT},die=Gt.INFO,fie={[Gt.DEBUG]:"log",[Gt.VERBOSE]:"log",[Gt.INFO]:"info",[Gt.WARN]:"warn",[Gt.ERROR]:"error"},pie=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=fie[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class r2{constructor(t){this.name=t,this._logLevel=die,this._logHandler=pie,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Gt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?uie[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Gt.DEBUG,...t),this._logHandler(this,Gt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Gt.VERBOSE,...t),this._logHandler(this,Gt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Gt.INFO,...t),this._logHandler(this,Gt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Gt.WARN,...t),this._logHandler(this,Gt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Gt.ERROR,...t),this._logHandler(this,Gt.ERROR,...t)}}const hie=(e,t)=>t.some(n=>e instanceof n);let tP,nP;function mie(){return tP||(tP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gie(){return nP||(nP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kB=new WeakMap,k8=new WeakMap,EB=new WeakMap,S3=new WeakMap,Q5=new WeakMap;function yie(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",a),e.removeEventListener("error",s)},a=()=>{n(ql(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",a),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&kB.set(n,e)}).catch(()=>{}),Q5.set(t,e),t}function vie(e){if(k8.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",s),e.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",a),e.addEventListener("error",s),e.addEventListener("abort",s)});k8.set(e,t)}let E8={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return k8.get(e);if(t==="objectStoreNames")return e.objectStoreNames||EB.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ql(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function bie(e){E8=e(E8)}function xie(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(C3(this),t,...n);return EB.set(r,t.sort?t.sort():[t]),ql(r)}:gie().includes(e)?function(...t){return e.apply(C3(this),t),ql(kB.get(this))}:function(...t){return ql(e.apply(C3(this),t))}}function wie(e){return typeof e=="function"?xie(e):(e instanceof IDBTransaction&&vie(e),hie(e,mie())?new Proxy(e,E8):e)}function ql(e){if(e instanceof IDBRequest)return yie(e);if(S3.has(e))return S3.get(e);const t=wie(e);return t!==e&&(S3.set(e,t),Q5.set(t,e)),t}const C3=e=>Q5.get(e);function NB(e,t,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(e,t),c=ql(s);return r&&s.addEventListener("upgradeneeded",d=>{r(ql(s.result),d.oldVersion,d.newVersion,ql(s.transaction),d)}),n&&s.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{a&&d.addEventListener("close",()=>a()),i&&d.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const Sie=["get","getKey","getAll","getAllKeys","count"],Cie=["put","add","delete","clear"],j3=new Map;function rP(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(j3.get(t))return j3.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Cie.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Sie.includes(n)))return;const a=async function(s,...c){const d=this.transaction(s,i?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),i&&d.done]))[0]};return j3.set(t,a),a}bie(e=>({...e,get:(t,n,r)=>rP(t,n)||e.get(t,n,r),has:(t,n)=>!!rP(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jie{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Tie(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Tie(e){return e.getComponent()?.type==="VERSION"}const N8="@firebase/app",iP="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=new r2("@firebase/app"),Aie="@firebase/app-compat",kie="@firebase/analytics-compat",Eie="@firebase/analytics",Nie="@firebase/app-check-compat",_ie="@firebase/app-check",Pie="@firebase/auth",Die="@firebase/auth-compat",Oie="@firebase/database",$ie="@firebase/data-connect",Iie="@firebase/database-compat",Rie="@firebase/functions",Mie="@firebase/functions-compat",Lie="@firebase/installations",Fie="@firebase/installations-compat",Bie="@firebase/messaging",zie="@firebase/messaging-compat",Uie="@firebase/performance",Hie="@firebase/performance-compat",Vie="@firebase/remote-config",qie="@firebase/remote-config-compat",Yie="@firebase/storage",Wie="@firebase/storage-compat",Gie="@firebase/firestore",Kie="@firebase/ai",Xie="@firebase/firestore-compat",Qie="firebase",Zie="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _8="[DEFAULT]",Jie={[N8]:"fire-core",[Aie]:"fire-core-compat",[Eie]:"fire-analytics",[kie]:"fire-analytics-compat",[_ie]:"fire-app-check",[Nie]:"fire-app-check-compat",[Pie]:"fire-auth",[Die]:"fire-auth-compat",[Oie]:"fire-rtdb",[$ie]:"fire-data-connect",[Iie]:"fire-rtdb-compat",[Rie]:"fire-fn",[Mie]:"fire-fn-compat",[Lie]:"fire-iid",[Fie]:"fire-iid-compat",[Bie]:"fire-fcm",[zie]:"fire-fcm-compat",[Uie]:"fire-perf",[Hie]:"fire-perf-compat",[Vie]:"fire-rc",[qie]:"fire-rc-compat",[Yie]:"fire-gcs",[Wie]:"fire-gcs-compat",[Gie]:"fire-fst",[Xie]:"fire-fst-compat",[Kie]:"fire-vertex","fire-js":"fire-js",[Qie]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb=new Map,eae=new Map,P8=new Map;function aP(e,t){try{e.container.addComponent(t)}catch(n){Os.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Oo(e){const t=e.name;if(P8.has(t))return Os.debug(`There were multiple attempts to register component ${t}.`),!1;P8.set(t,e);for(const n of kb.values())aP(n,e);for(const n of eae.values())aP(n,e);return!0}function ad(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ra(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tae={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yl=new id("app","Firebase",tae);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nae{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Yl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp=Zie;function _B(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r={name:_8,automaticDataCollectionEnabled:!0,...t},i=r.name;if(typeof i!="string"||!i)throw Yl.create("bad-app-name",{appName:String(i)});if(n||(n=xB()),!n)throw Yl.create("no-options");const a=kb.get(i);if(a){if(Jl(n,a.options)&&Jl(r,a.config))return a;throw Yl.create("duplicate-app",{appName:i})}const s=new cie(i);for(const d of P8.values())s.addComponent(d);const c=new nae(n,r,s);return kb.set(i,c),c}function Z5(e=_8){const t=kb.get(e);if(!t&&e===_8&&xB())return _B();if(!t)throw Yl.create("no-app",{appName:e});return t}function sa(e,t,n){let r=Jie[e]??e;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const s=[`Unable to register library "${r}" with version "${t}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Os.warn(s.join(" "));return}Oo(new qa(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rae="firebase-heartbeat-database",iae=1,Gm="firebase-heartbeat-store";let T3=null;function PB(){return T3||(T3=NB(rae,iae,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Gm)}catch(n){console.warn(n)}}}}).catch(e=>{throw Yl.create("idb-open",{originalErrorMessage:e.message})})),T3}async function aae(e){try{const n=(await PB()).transaction(Gm),r=await n.objectStore(Gm).get(DB(e));return await n.done,r}catch(t){if(t instanceof Xa)Os.warn(t.message);else{const n=Yl.create("idb-get",{originalErrorMessage:t?.message});Os.warn(n.message)}}}async function oP(e,t){try{const r=(await PB()).transaction(Gm,"readwrite");await r.objectStore(Gm).put(t,DB(e)),await r.done}catch(n){if(n instanceof Xa)Os.warn(n.message);else{const r=Yl.create("idb-set",{originalErrorMessage:n?.message});Os.warn(r.message)}}}function DB(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oae=1024,sae=30;class lae{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new uae(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=sP();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>sae){const i=dae(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Os.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=sP(),{heartbeatsToSend:n,unsentEntries:r}=cae(this._heartbeatsCache.heartbeats),i=Ab(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return Os.warn(t),""}}}function sP(){return new Date().toISOString().substring(0,10)}function cae(e,t=oae){const n=[];let r=e.slice();for(const i of e){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),lP(n)>t){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),lP(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class uae{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TB()?AB().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await aae(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return oP(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return oP(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function lP(e){return Ab(JSON.stringify({version:2,heartbeats:e})).length}function dae(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fae(e){Oo(new qa("platform-logger",t=>new jie(t),"PRIVATE")),Oo(new qa("heartbeat",t=>new lae(t),"PRIVATE")),sa(N8,iP,e),sa(N8,iP,"esm2020"),sa("fire-js","")}fae("");function OB(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pae=OB,$B=new id("auth","Firebase",OB());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=new r2("@firebase/auth");function hae(e,...t){Eb.logLevel<=Gt.WARN&&Eb.warn(`Auth (${vp}): ${e}`,...t)}function Fv(e,...t){Eb.logLevel<=Gt.ERROR&&Eb.error(`Auth (${vp}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $o(e,...t){throw ej(e,...t)}function Ua(e,...t){return ej(e,...t)}function J5(e,t,n){const r={...pae(),[t]:n};return new id("auth","Firebase",r).create(t,{appName:e.name})}function Ru(e){return J5(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mae(e,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&$o(e,"argument-error"),J5(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ej(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return $B.create(e,...t)}function mt(e,t,...n){if(!e)throw ej(t,...n)}function vs(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Fv(t),new Error(t)}function $s(e,t){e||vs(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D8(){return typeof self<"u"&&self.location?.href||""}function gae(){return cP()==="http:"||cP()==="https:"}function cP(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yae(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gae()||jB()||"connection"in navigator)?navigator.onLine:!0}function vae(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(t,n){this.shortDelay=t,this.longDelay=n,$s(n>t,"Short delay should be less than long delay!"),this.isMobile=Vre()||Yre()}get(){return yae()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tj(e,t){$s(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IB{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bae={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xae=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],wae=new Hg(3e4,6e4);function nj(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function bp(e,t,n,r,i={}){return RB(e,i,async()=>{let a={},s={};r&&(t==="GET"?s=r:a={body:JSON.stringify(r)});const c=Ug({key:e.config.apiKey,...s}).slice(1),d=await e._getAdditionalHeaders();d["Content-Type"]="application/json",e.languageCode&&(d["X-Firebase-Locale"]=e.languageCode);const f={method:t,headers:d,...a};return qre()||(f.referrerPolicy="no-referrer"),e.emulatorConfig&&zg(e.emulatorConfig.host)&&(f.credentials="include"),IB.fetch()(await MB(e,e.config.apiHost,n,c),f)})}async function RB(e,t,n){e._canInitEmulator=!1;const r={...bae,...t};try{const i=new Cae(e),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw Gy(e,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const c=a.ok?s.errorMessage:s.error.message,[d,f]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gy(e,"credential-already-in-use",s);if(d==="EMAIL_EXISTS")throw Gy(e,"email-already-in-use",s);if(d==="USER_DISABLED")throw Gy(e,"user-disabled",s);const p=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw J5(e,p,f);$o(e,p)}}catch(i){if(i instanceof Xa)throw i;$o(e,"network-request-failed",{message:String(i)})}}async function Sae(e,t,n,r,i={}){const a=await bp(e,t,n,r,i);return"mfaPendingCredential"in a&&$o(e,"multi-factor-auth-required",{_serverResponse:a}),a}async function MB(e,t,n,r){const i=`${t}${n}?${r}`,a=e,s=a.config.emulator?tj(e.config,i):`${e.config.apiScheme}://${i}`;return xae.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}class Cae{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ua(this.auth,"network-request-failed")),wae.get())})}}function Gy(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ua(e,t,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jae(e,t){return bp(e,"POST","/v1/accounts:delete",t)}async function Nb(e,t){return bp(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Tae(e,t=!1){const n=qs(e),r=await n.getIdToken(t),i=rj(r);mt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a?.sign_in_provider;return{claims:i,token:r,authTime:Nm(A3(i.auth_time)),issuedAtTime:Nm(A3(i.iat)),expirationTime:Nm(A3(i.exp)),signInProvider:s||null,signInSecondFactor:a?.sign_in_second_factor||null}}function A3(e){return Number(e)*1e3}function rj(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return Fv("JWT malformed, contained fewer than 3 sections"),null;try{const i=vB(n);return i?JSON.parse(i):(Fv("Failed to decode base64 JWT payload"),null)}catch(i){return Fv("Caught error parsing JWT payload as JSON",i?.toString()),null}}function uP(e){const t=rj(e);return mt(t,"internal-error"),mt(typeof t.exp<"u","internal-error"),mt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Km(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Xa&&Aae(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function Aae({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kae{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O8{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nm(this.lastLoginAt),this.creationTime=Nm(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _b(e){const t=e.auth,n=await e.getIdToken(),r=await Km(e,Nb(t,{idToken:n}));mt(r?.users.length,t,"internal-error");const i=r.users[0];e._notifyReloadListener(i);const a=i.providerUserInfo?.length?LB(i.providerUserInfo):[],s=Nae(e.providerData,a),c=e.isAnonymous,d=!(e.email&&i.passwordHash)&&!s?.length,f=c?d:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new O8(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(e,p)}async function Eae(e){const t=qs(e);await _b(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Nae(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function LB(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _ae(e,t){const n=await RB(e,{},async()=>{const r=Ug({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:a}=e.config,s=await MB(e,i,"/v1/token",`key=${a}`),c=await e._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:r};return e.emulatorConfig&&zg(e.emulatorConfig.host)&&(d.credentials="include"),IB.fetch()(s,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Pae(e,t){return bp(e,"POST","/v2/accounts:revokeToken",nj(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){mt(t.idToken,"internal-error"),mt(typeof t.idToken<"u","internal-error"),mt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):uP(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){mt(t.length!==0,"internal-error");const n=uP(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(mt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await _ae(t,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,s=new kf;return r&&(mt(typeof r=="string","internal-error",{appName:t}),s.refreshToken=r),i&&(mt(typeof i=="string","internal-error",{appName:t}),s.accessToken=i),a&&(mt(typeof a=="number","internal-error",{appName:t}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new kf,this.toJSON())}_performRefresh(){return vs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(e,t){mt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class La{constructor({uid:t,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new kae(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new O8(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const n=await Km(this,this.stsTokenManager.getToken(this.auth,t));return mt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return Tae(this,t)}reload(){return Eae(this)}_assign(t){this!==t&&(mt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new La({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){mt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await _b(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ra(this.auth.app))return Promise.reject(Ru(this.auth));const t=await this.getIdToken();return await Km(this,jae(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,s=n.photoURL??void 0,c=n.tenantId??void 0,d=n._redirectEventId??void 0,f=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:m,emailVerified:g,isAnonymous:v,providerData:b,stsTokenManager:C}=n;mt(m&&C,t,"internal-error");const j=kf.fromJSON(this.name,C);mt(typeof m=="string",t,"internal-error"),Dl(r,t.name),Dl(i,t.name),mt(typeof g=="boolean",t,"internal-error"),mt(typeof v=="boolean",t,"internal-error"),Dl(a,t.name),Dl(s,t.name),Dl(c,t.name),Dl(d,t.name),Dl(f,t.name),Dl(p,t.name);const A=new La({uid:m,auth:t,email:i,emailVerified:g,displayName:r,isAnonymous:v,photoURL:s,phoneNumber:a,tenantId:c,stsTokenManager:j,createdAt:f,lastLoginAt:p});return b&&Array.isArray(b)&&(A.providerData=b.map(k=>({...k}))),d&&(A._redirectEventId=d),A}static async _fromIdTokenResponse(t,n,r=!1){const i=new kf;i.updateFromServerResponse(n);const a=new La({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await _b(a),a}static async _fromGetAccountInfoResponse(t,n,r){const i=n.users[0];mt(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?LB(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!a?.length,c=new kf;c.updateFromIdToken(r);const d=new La({uid:i.localId,auth:t,stsTokenManager:c,isAnonymous:s}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new O8(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP=new Map;function bs(e){$s(e instanceof Function,"Expected a class definition");let t=dP.get(e);return t?($s(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,dP.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FB{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}FB.type="NONE";const fP=FB;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(e,t,n){return`firebase:${e}:${t}:${n}`}class Ef{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Bv(this.userKey,i.apiKey,a),this.fullPersistenceKey=Bv("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Nb(this.auth,{idToken:t}).catch(()=>{});return n?La._fromGetAccountInfoResponse(this.auth,n,t):null}return La._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Ef(bs(fP),t,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=i[0]||bs(fP);const s=Bv(r,t.config.apiKey,t.name);let c=null;for(const f of n)try{const p=await f._get(s);if(p){let m;if(typeof p=="string"){const g=await Nb(t,{idToken:p}).catch(()=>{});if(!g)break;m=await La._fromGetAccountInfoResponse(t,g,p)}else m=La._fromJSON(t,p);f!==a&&(c=m),a=f;break}}catch{}const d=i.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new Ef(a,t,r):(a=d[0],c&&await a._set(s,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==a)try{await f._remove(s)}catch{}})),new Ef(a,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(HB(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(BB(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(qB(t))return"Blackberry";if(YB(t))return"Webos";if(zB(t))return"Safari";if((t.includes("chrome/")||UB(t))&&!t.includes("edge/"))return"Chrome";if(VB(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if(r?.length===2)return r[1]}return"Other"}function BB(e=Qr()){return/firefox\//i.test(e)}function zB(e=Qr()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function UB(e=Qr()){return/crios\//i.test(e)}function HB(e=Qr()){return/iemobile/i.test(e)}function VB(e=Qr()){return/android/i.test(e)}function qB(e=Qr()){return/blackberry/i.test(e)}function YB(e=Qr()){return/webos/i.test(e)}function ij(e=Qr()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Dae(e=Qr()){return ij(e)&&!!window.navigator?.standalone}function Oae(){return Wre()&&document.documentMode===10}function WB(e=Qr()){return ij(e)||VB(e)||YB(e)||qB(e)||/windows phone/i.test(e)||HB(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GB(e,t=[]){let n;switch(e){case"Browser":n=pP(Qr());break;case"Worker":n=`${pP(Qr())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${vp}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ae{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=a=>new Promise((s,c)=>{try{const d=t(a);s(d)}catch(d){c(d)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iae(e,t={}){return bp(e,"GET","/v2/passwordPolicy",nj(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rae=6;class Mae{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Rae,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lae{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hP(this),this.idTokenSubscription=new hP(this),this.beforeStateQueue=new $ae(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$B,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=bs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ef.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Nb(this,{idToken:t}),r=await La._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Ra(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(s,s))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,s=r?._redirectEventId,c=await this.tryRedirectSignIn(t);(!a||a===s)&&c?.user&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return mt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await _b(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=vae()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ra(this.app))return Promise.reject(Ru(this));const n=t?qs(t):null;return n&&mt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&mt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ra(this.app)?Promise.reject(Ru(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ra(this.app)?Promise.reject(Ru(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(bs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Iae(this),n=new Mae(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new id("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Pae(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&bs(t)||this._popupRedirectResolver;mt(n,this,"argument-error"),this.redirectPersistenceManager=await Ef.create(this,[bs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let s=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(mt(c,this,"internal-error"),c.then(()=>{s||a(this.currentUser)}),typeof n=="function"){const d=t.addObserver(n,r,i);return()=>{s=!0,d()}}else{const d=t.addObserver(n);return()=>{s=!0,d()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return mt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=GB(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Ra(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&hae(`Error while retrieving App Check token: ${t.error}`),t?.token}}function i2(e){return qs(e)}class hP{constructor(t){this.auth=t,this.observer=null,this.addObserver=Jre(n=>this.observer=n)}get next(){return mt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aj={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Fae(e){aj=e}function Bae(e){return aj.loadJS(e)}function zae(){return aj.gapiScript}function Uae(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hae(e,t){const n=ad(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Jl(a,t??{}))return i;$o(i,"already-initialized")}return n.initialize({options:t})}function Vae(e,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(bs);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}function qae(e,t,n){const r=i2(e);mt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!1,a=KB(t),{host:s,port:c}=Yae(t),d=c===null?"":`:${c}`,f={url:`${a}//${s}${d}/`},p=Object.freeze({host:s,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){mt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),mt(Jl(f,r.config.emulator)&&Jl(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,zg(s)?(SB(`${a}//${s}${d}`),CB("Auth",!0)):Wae()}function KB(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Yae(e){const t=KB(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:mP(r.substr(a.length+1))}}else{const[a,s]=r.split(":");return{host:a,port:mP(s)}}}function mP(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function Wae(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return vs("not implemented")}_getIdTokenResponse(t){return vs("not implemented")}_linkToIdToken(t,n){return vs("not implemented")}_getReauthenticationResolver(t){return vs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nf(e,t){return Sae(e,"POST","/v1/accounts:signInWithIdp",nj(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gae="http://localhost";class Xu extends XB{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Xu(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):$o("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const s=new Xu(r,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(t){const n=this.buildRequest();return Nf(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Nf(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Nf(t,n)}buildRequest(){const t={requestUri:Gae,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Ug(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg extends oj{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl extends Vg{constructor(){super("facebook.com")}static credential(t){return Xu._fromParams({providerId:Fl.PROVIDER_ID,signInMethod:Fl.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fl.credentialFromTaggedObject(t)}static credentialFromError(t){return Fl.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fl.credential(t.oauthAccessToken)}catch{return null}}}Fl.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends Vg{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Xu._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return ps.credentialFromTaggedObject(t)}static credentialFromError(t){return ps.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return ps.credential(n,r)}catch{return null}}}ps.GOOGLE_SIGN_IN_METHOD="google.com";ps.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl extends Vg{constructor(){super("github.com")}static credential(t){return Xu._fromParams({providerId:Bl.PROVIDER_ID,signInMethod:Bl.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Bl.credentialFromTaggedObject(t)}static credentialFromError(t){return Bl.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Bl.credential(t.oauthAccessToken)}catch{return null}}}Bl.GITHUB_SIGN_IN_METHOD="github.com";Bl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl extends Vg{constructor(){super("twitter.com")}static credential(t,n){return Xu._fromParams({providerId:zl.PROVIDER_ID,signInMethod:zl.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return zl.credentialFromTaggedObject(t)}static credentialFromError(t){return zl.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return zl.credential(n,r)}catch{return null}}}zl.TWITTER_SIGN_IN_METHOD="twitter.com";zl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const a=await La._fromIdTokenResponse(t,r,i),s=gP(r);return new Uf({user:a,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=gP(r);return new Uf({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function gP(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb extends Xa{constructor(t,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Pb.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new Pb(t,n,r,i)}}function QB(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Pb._fromErrorAndOperation(e,a,t,r):a})}async function Kae(e,t,n=!1){const r=await Km(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Uf._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xae(e,t,n=!1){const{auth:r}=e;if(Ra(r.app))return Promise.reject(Ru(r));const i="reauthenticate";try{const a=await Km(e,QB(r,i,t,e),n);mt(a.idToken,r,"internal-error");const s=rj(a.idToken);mt(s,r,"internal-error");const{sub:c}=s;return mt(e.uid===c,r,"user-mismatch"),Uf._forOperation(e,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&$o(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qae(e,t,n=!1){if(Ra(e.app))return Promise.reject(Ru(e));const r="signIn",i=await QB(e,r,t),a=await Uf._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}function Zae(e,t,n,r){return qs(e).onIdTokenChanged(t,n,r)}function Jae(e,t,n){return qs(e).beforeAuthStateChanged(t,n)}const Db="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Db,"1"),this.storage.removeItem(Db),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eoe=1e3,toe=10;class JB extends ZB{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=WB(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((s,c,d)=>{this.notifyListeners(s,d)});return}const r=t.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);Oae()&&a!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,toe):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},eoe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}JB.type="LOCAL";const noe=JB;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ez extends ZB{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}ez.type="SESSION";const tz=ez;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function roe(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new a2(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:a}=n.data,s=this.handlersMap[i];if(!s?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(s).map(async f=>f(n.origin,a)),d=await roe(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}a2.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sj(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ioe{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((c,d)=>{const f=sj("",20);i.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(m){const g=m;if(g.data.eventId===f)switch(g.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(g.data.response);break;default:clearTimeout(p),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:f,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(){return window}function aoe(e){Eo().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nz(){return typeof Eo().WorkerGlobalScope<"u"&&typeof Eo().importScripts=="function"}async function ooe(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function soe(){return navigator?.serviceWorker?.controller||null}function loe(){return nz()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rz="firebaseLocalStorageDb",coe=1,Ob="firebaseLocalStorage",iz="fbase_key";class qg{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function o2(e,t){return e.transaction([Ob],t?"readwrite":"readonly").objectStore(Ob)}function uoe(){const e=indexedDB.deleteDatabase(rz);return new qg(e).toPromise()}function $8(){const e=indexedDB.open(rz,coe);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(Ob,{keyPath:iz})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(Ob)?t(r):(r.close(),await uoe(),t(await $8()))})})}async function yP(e,t,n){const r=o2(e,!0).put({[iz]:t,value:n});return new qg(r).toPromise()}async function doe(e,t){const n=o2(e,!1).get(t),r=await new qg(n).toPromise();return r===void 0?null:r.value}function vP(e,t){const n=o2(e,!0).delete(t);return new qg(n).toPromise()}const foe=800,poe=3;class az{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $8(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>poe)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nz()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=a2._getInstance(loe()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await ooe(),!this.activeServiceWorker)return;this.sender=new ioe(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||soe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await $8();return await yP(t,Db,"1"),await vP(t,Db),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>yP(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>doe(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>vP(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const a=o2(i,!1).getAll();return new qg(a).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:a}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),foe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}az.type="LOCAL";const hoe=az;new Hg(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oz(e,t){return t?bs(t):(mt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj extends XB{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Nf(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Nf(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Nf(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function moe(e){return Qae(e.auth,new lj(e),e.bypassAuthState)}function goe(e){const{auth:t,user:n}=e;return mt(n,t,"internal-error"),Xae(n,new lj(e),e.bypassAuthState)}async function yoe(e){const{auth:t,user:n}=e;return mt(n,t,"internal-error"),Kae(n,new lj(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sz{constructor(t,n,r,i,a=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:s,type:c}=t;if(s){this.reject(s);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(f){this.reject(f)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return moe;case"linkViaPopup":case"linkViaRedirect":return yoe;case"reauthViaPopup":case"reauthViaRedirect":return goe;default:$o(this.auth,"internal-error")}}resolve(t){$s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){$s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const voe=new Hg(2e3,1e4);async function boe(e,t,n){if(Ra(e.app))return Promise.reject(Ua(e,"operation-not-supported-in-this-environment"));const r=i2(e);mae(e,t,oj);const i=oz(r,n);return new xu(r,"signInViaPopup",t,i).executeNotNull()}class xu extends sz{constructor(t,n,r,i,a){super(t,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,xu.currentPopupAction&&xu.currentPopupAction.cancel(),xu.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return mt(t,this.auth,"internal-error"),t}async onExecution(){$s(this.filter.length===1,"Popup operations only handle one event");const t=sj();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ua(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ua(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xu.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ua(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,voe.get())};t()}}xu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xoe="pendingRedirect",zv=new Map;class woe extends sz{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=zv.get(this.auth._key());if(!t){try{const r=await Soe(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}zv.set(this.auth._key(),t)}return this.bypassAuthState||zv.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Soe(e,t){const n=Toe(t),r=joe(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Coe(e,t){zv.set(e._key(),t)}function joe(e){return bs(e._redirectPersistence)}function Toe(e){return Bv(xoe,e.config.apiKey,e.name)}async function Aoe(e,t,n=!1){if(Ra(e.app))return Promise.reject(Ru(e));const r=i2(e),i=oz(r,t),s=await new woe(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const koe=600*1e3;class Eoe{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Noe(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!lz(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Ua(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=koe&&this.cachedEventUids.clear(),this.cachedEventUids.has(bP(t))}saveEventToCache(t){this.cachedEventUids.add(bP(t)),this.lastProcessedEventTime=Date.now()}}function bP(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function lz({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function Noe(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lz(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _oe(e,t={}){return bp(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Poe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Doe=/^https?/;async function Ooe(e){if(e.config.emulator)return;const{authorizedDomains:t}=await _oe(e);for(const n of t)try{if($oe(n))return}catch{}$o(e,"unauthorized-domain")}function $oe(e){const t=D8(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return s.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!Doe.test(n))return!1;if(Poe.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ioe=new Hg(3e4,6e4);function xP(){const e=Eo().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function Roe(e){return new Promise((t,n)=>{function r(){xP(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{xP(),n(Ua(e,"network-request-failed"))},timeout:Ioe.get()})}if(Eo().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Eo().gapi?.load)r();else{const i=Uae("iframefcb");return Eo()[i]=()=>{gapi.load?r():n(Ua(e,"network-request-failed"))},Bae(`${zae()}?onload=${i}`).catch(a=>n(a))}}).catch(t=>{throw Uv=null,t})}let Uv=null;function Moe(e){return Uv=Uv||Roe(e),Uv}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Loe=new Hg(5e3,15e3),Foe="__/auth/iframe",Boe="emulator/auth/iframe",zoe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Uoe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Hoe(e){const t=e.config;mt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?tj(t,Boe):`https://${e.config.authDomain}/${Foe}`,r={apiKey:t.apiKey,appName:e.name,v:vp},i=Uoe.get(e.config.apiHost);i&&(r.eid=i);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Ug(r).slice(1)}`}async function Voe(e){const t=await Moe(e),n=Eo().gapi;return mt(n,e,"internal-error"),t.open({where:document.body,url:Hoe(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zoe,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const s=Ua(e,"network-request-failed"),c=Eo().setTimeout(()=>{a(s)},Loe.get());function d(){Eo().clearTimeout(c),i(r)}r.ping(d).then(d,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qoe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Yoe=500,Woe=600,Goe="_blank",Koe="http://localhost";class wP{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Xoe(e,t,n,r=Yoe,i=Woe){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d={...qoe,width:r.toString(),height:i.toString(),top:a,left:s},f=Qr().toLowerCase();n&&(c=UB(f)?Goe:n),BB(f)&&(t=t||Koe,d.scrollbars="yes");const p=Object.entries(d).reduce((g,[v,b])=>`${g}${v}=${b},`,"");if(Dae(f)&&c!=="_self")return Qoe(t||"",c),new wP(null);const m=window.open(t||"",c,p);mt(m,e,"popup-blocked");try{m.focus()}catch{}return new wP(m)}function Qoe(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zoe="__/auth/handler",Joe="emulator/auth/handler",ese=encodeURIComponent("fac");async function SP(e,t,n,r,i,a){mt(e.config.authDomain,e,"auth-domain-config-required"),mt(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:vp,eventId:i};if(t instanceof oj){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",Zre(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[p,m]of Object.entries({}))s[p]=m}if(t instanceof Vg){const p=t.getScopes().filter(m=>m!=="");p.length>0&&(s.scopes=p.join(","))}e.tenantId&&(s.tid=e.tenantId);const c=s;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const d=await e._getAppCheckToken(),f=d?`#${ese}=${encodeURIComponent(d)}`:"";return`${tse(e)}?${Ug(c).slice(1)}${f}`}function tse({config:e}){return e.emulator?tj(e,Joe):`https://${e.authDomain}/${Zoe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3="webStorageSupport";class nse{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tz,this._completeRedirectFn=Aoe,this._overrideRedirectResult=Coe}async _openPopup(t,n,r,i){$s(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const a=await SP(t,n,r,D8(),i);return Xoe(t,a,sj())}async _openRedirect(t,n,r,i){await this._originValidation(t);const a=await SP(t,n,r,D8(),i);return aoe(a),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):($s(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await Voe(t),r=new Eoe(t);return n.register("authEvent",i=>(mt(i?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(k3,{type:k3},i=>{const a=i?.[0]?.[k3];a!==void 0&&n(!!a),$o(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Ooe(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return WB()||zB()||ij()}}const rse=nse;var CP="@firebase/auth",jP="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ise{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){mt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ase(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ose(e){Oo(new qa("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),a=t.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=r.options;mt(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:s,authDomain:c,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GB(e)},f=new Lae(r,i,a,d);return Vae(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Oo(new qa("auth-internal",t=>{const n=i2(t.getProvider("auth").getImmediate());return(r=>new ise(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),sa(CP,jP,ase(e)),sa(CP,jP,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sse=300,lse=wB("authIdTokenMaxAge")||sse;let TP=null;const cse=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>lse)return;const i=n?.token;TP!==i&&(TP=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function use(e=Z5()){const t=ad(e,"auth");if(t.isInitialized())return t.getImmediate();const n=Hae(e,{popupRedirectResolver:rse,persistence:[hoe,noe,tz]}),r=wB("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const s=cse(a.toString());Jae(n,s,()=>s(n.currentUser)),Zae(n,c=>s(c))}}const i=bB("auth");return i&&qae(n,`http://${i}`),n}function dse(){return document.getElementsByTagName("head")?.[0]??document}Fae({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const a=Ua("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",dse().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ose("Browser");var fse="firebase",pse="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sa(fse,pse,"app");var AP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cj;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,_){function D(){}D.prototype=_.prototype,O.F=_.prototype,O.prototype=new D,O.prototype.constructor=O,O.D=function(L,R,M){for(var H=Array(arguments.length-2),W=2;W<arguments.length;W++)H[W-2]=arguments[W];return _.prototype[R].apply(L,H)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(O,_,D){D||(D=0);const L=Array(16);if(typeof _=="string")for(var R=0;R<16;++R)L[R]=_.charCodeAt(D++)|_.charCodeAt(D++)<<8|_.charCodeAt(D++)<<16|_.charCodeAt(D++)<<24;else for(R=0;R<16;++R)L[R]=_[D++]|_[D++]<<8|_[D++]<<16|_[D++]<<24;_=O.g[0],D=O.g[1],R=O.g[2];let M=O.g[3],H;H=_+(M^D&(R^M))+L[0]+3614090360&4294967295,_=D+(H<<7&4294967295|H>>>25),H=M+(R^_&(D^R))+L[1]+3905402710&4294967295,M=_+(H<<12&4294967295|H>>>20),H=R+(D^M&(_^D))+L[2]+606105819&4294967295,R=M+(H<<17&4294967295|H>>>15),H=D+(_^R&(M^_))+L[3]+3250441966&4294967295,D=R+(H<<22&4294967295|H>>>10),H=_+(M^D&(R^M))+L[4]+4118548399&4294967295,_=D+(H<<7&4294967295|H>>>25),H=M+(R^_&(D^R))+L[5]+1200080426&4294967295,M=_+(H<<12&4294967295|H>>>20),H=R+(D^M&(_^D))+L[6]+2821735955&4294967295,R=M+(H<<17&4294967295|H>>>15),H=D+(_^R&(M^_))+L[7]+4249261313&4294967295,D=R+(H<<22&4294967295|H>>>10),H=_+(M^D&(R^M))+L[8]+1770035416&4294967295,_=D+(H<<7&4294967295|H>>>25),H=M+(R^_&(D^R))+L[9]+2336552879&4294967295,M=_+(H<<12&4294967295|H>>>20),H=R+(D^M&(_^D))+L[10]+4294925233&4294967295,R=M+(H<<17&4294967295|H>>>15),H=D+(_^R&(M^_))+L[11]+2304563134&4294967295,D=R+(H<<22&4294967295|H>>>10),H=_+(M^D&(R^M))+L[12]+1804603682&4294967295,_=D+(H<<7&4294967295|H>>>25),H=M+(R^_&(D^R))+L[13]+4254626195&4294967295,M=_+(H<<12&4294967295|H>>>20),H=R+(D^M&(_^D))+L[14]+2792965006&4294967295,R=M+(H<<17&4294967295|H>>>15),H=D+(_^R&(M^_))+L[15]+1236535329&4294967295,D=R+(H<<22&4294967295|H>>>10),H=_+(R^M&(D^R))+L[1]+4129170786&4294967295,_=D+(H<<5&4294967295|H>>>27),H=M+(D^R&(_^D))+L[6]+3225465664&4294967295,M=_+(H<<9&4294967295|H>>>23),H=R+(_^D&(M^_))+L[11]+643717713&4294967295,R=M+(H<<14&4294967295|H>>>18),H=D+(M^_&(R^M))+L[0]+3921069994&4294967295,D=R+(H<<20&4294967295|H>>>12),H=_+(R^M&(D^R))+L[5]+3593408605&4294967295,_=D+(H<<5&4294967295|H>>>27),H=M+(D^R&(_^D))+L[10]+38016083&4294967295,M=_+(H<<9&4294967295|H>>>23),H=R+(_^D&(M^_))+L[15]+3634488961&4294967295,R=M+(H<<14&4294967295|H>>>18),H=D+(M^_&(R^M))+L[4]+3889429448&4294967295,D=R+(H<<20&4294967295|H>>>12),H=_+(R^M&(D^R))+L[9]+568446438&4294967295,_=D+(H<<5&4294967295|H>>>27),H=M+(D^R&(_^D))+L[14]+3275163606&4294967295,M=_+(H<<9&4294967295|H>>>23),H=R+(_^D&(M^_))+L[3]+4107603335&4294967295,R=M+(H<<14&4294967295|H>>>18),H=D+(M^_&(R^M))+L[8]+1163531501&4294967295,D=R+(H<<20&4294967295|H>>>12),H=_+(R^M&(D^R))+L[13]+2850285829&4294967295,_=D+(H<<5&4294967295|H>>>27),H=M+(D^R&(_^D))+L[2]+4243563512&4294967295,M=_+(H<<9&4294967295|H>>>23),H=R+(_^D&(M^_))+L[7]+1735328473&4294967295,R=M+(H<<14&4294967295|H>>>18),H=D+(M^_&(R^M))+L[12]+2368359562&4294967295,D=R+(H<<20&4294967295|H>>>12),H=_+(D^R^M)+L[5]+4294588738&4294967295,_=D+(H<<4&4294967295|H>>>28),H=M+(_^D^R)+L[8]+2272392833&4294967295,M=_+(H<<11&4294967295|H>>>21),H=R+(M^_^D)+L[11]+1839030562&4294967295,R=M+(H<<16&4294967295|H>>>16),H=D+(R^M^_)+L[14]+4259657740&4294967295,D=R+(H<<23&4294967295|H>>>9),H=_+(D^R^M)+L[1]+2763975236&4294967295,_=D+(H<<4&4294967295|H>>>28),H=M+(_^D^R)+L[4]+1272893353&4294967295,M=_+(H<<11&4294967295|H>>>21),H=R+(M^_^D)+L[7]+4139469664&4294967295,R=M+(H<<16&4294967295|H>>>16),H=D+(R^M^_)+L[10]+3200236656&4294967295,D=R+(H<<23&4294967295|H>>>9),H=_+(D^R^M)+L[13]+681279174&4294967295,_=D+(H<<4&4294967295|H>>>28),H=M+(_^D^R)+L[0]+3936430074&4294967295,M=_+(H<<11&4294967295|H>>>21),H=R+(M^_^D)+L[3]+3572445317&4294967295,R=M+(H<<16&4294967295|H>>>16),H=D+(R^M^_)+L[6]+76029189&4294967295,D=R+(H<<23&4294967295|H>>>9),H=_+(D^R^M)+L[9]+3654602809&4294967295,_=D+(H<<4&4294967295|H>>>28),H=M+(_^D^R)+L[12]+3873151461&4294967295,M=_+(H<<11&4294967295|H>>>21),H=R+(M^_^D)+L[15]+530742520&4294967295,R=M+(H<<16&4294967295|H>>>16),H=D+(R^M^_)+L[2]+3299628645&4294967295,D=R+(H<<23&4294967295|H>>>9),H=_+(R^(D|~M))+L[0]+4096336452&4294967295,_=D+(H<<6&4294967295|H>>>26),H=M+(D^(_|~R))+L[7]+1126891415&4294967295,M=_+(H<<10&4294967295|H>>>22),H=R+(_^(M|~D))+L[14]+2878612391&4294967295,R=M+(H<<15&4294967295|H>>>17),H=D+(M^(R|~_))+L[5]+4237533241&4294967295,D=R+(H<<21&4294967295|H>>>11),H=_+(R^(D|~M))+L[12]+1700485571&4294967295,_=D+(H<<6&4294967295|H>>>26),H=M+(D^(_|~R))+L[3]+2399980690&4294967295,M=_+(H<<10&4294967295|H>>>22),H=R+(_^(M|~D))+L[10]+4293915773&4294967295,R=M+(H<<15&4294967295|H>>>17),H=D+(M^(R|~_))+L[1]+2240044497&4294967295,D=R+(H<<21&4294967295|H>>>11),H=_+(R^(D|~M))+L[8]+1873313359&4294967295,_=D+(H<<6&4294967295|H>>>26),H=M+(D^(_|~R))+L[15]+4264355552&4294967295,M=_+(H<<10&4294967295|H>>>22),H=R+(_^(M|~D))+L[6]+2734768916&4294967295,R=M+(H<<15&4294967295|H>>>17),H=D+(M^(R|~_))+L[13]+1309151649&4294967295,D=R+(H<<21&4294967295|H>>>11),H=_+(R^(D|~M))+L[4]+4149444226&4294967295,_=D+(H<<6&4294967295|H>>>26),H=M+(D^(_|~R))+L[11]+3174756917&4294967295,M=_+(H<<10&4294967295|H>>>22),H=R+(_^(M|~D))+L[2]+718787259&4294967295,R=M+(H<<15&4294967295|H>>>17),H=D+(M^(R|~_))+L[9]+3951481745&4294967295,O.g[0]=O.g[0]+_&4294967295,O.g[1]=O.g[1]+(R+(H<<21&4294967295|H>>>11))&4294967295,O.g[2]=O.g[2]+R&4294967295,O.g[3]=O.g[3]+M&4294967295}r.prototype.v=function(O,_){_===void 0&&(_=O.length);const D=_-this.blockSize,L=this.C;let R=this.h,M=0;for(;M<_;){if(R==0)for(;M<=D;)i(this,O,M),M+=this.blockSize;if(typeof O=="string"){for(;M<_;)if(L[R++]=O.charCodeAt(M++),R==this.blockSize){i(this,L),R=0;break}}else for(;M<_;)if(L[R++]=O[M++],R==this.blockSize){i(this,L),R=0;break}}this.h=R,this.o+=_},r.prototype.A=function(){var O=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);O[0]=128;for(var _=1;_<O.length-8;++_)O[_]=0;_=this.o*8;for(var D=O.length-8;D<O.length;++D)O[D]=_&255,_/=256;for(this.v(O),O=Array(16),_=0,D=0;D<4;++D)for(let L=0;L<32;L+=8)O[_++]=this.g[D]>>>L&255;return O};function a(O,_){var D=c;return Object.prototype.hasOwnProperty.call(D,O)?D[O]:D[O]=_(O)}function s(O,_){this.h=_;const D=[];let L=!0;for(let R=O.length-1;R>=0;R--){const M=O[R]|0;L&&M==_||(D[R]=M,L=!1)}this.g=D}var c={};function d(O){return-128<=O&&O<128?a(O,function(_){return new s([_|0],_<0?-1:0)}):new s([O|0],O<0?-1:0)}function f(O){if(isNaN(O)||!isFinite(O))return m;if(O<0)return j(f(-O));const _=[];let D=1;for(let L=0;O>=D;L++)_[L]=O/D|0,D*=4294967296;return new s(_,0)}function p(O,_){if(O.length==0)throw Error("number format error: empty string");if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(O.charAt(0)=="-")return j(p(O.substring(1),_));if(O.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=f(Math.pow(_,8));let L=m;for(let M=0;M<O.length;M+=8){var R=Math.min(8,O.length-M);const H=parseInt(O.substring(M,M+R),_);R<8?(R=f(Math.pow(_,R)),L=L.j(R).add(f(H))):(L=L.j(D),L=L.add(f(H)))}return L}var m=d(0),g=d(1),v=d(16777216);e=s.prototype,e.m=function(){if(C(this))return-j(this).m();let O=0,_=1;for(let D=0;D<this.g.length;D++){const L=this.i(D);O+=(L>=0?L:4294967296+L)*_,_*=4294967296}return O},e.toString=function(O){if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(b(this))return"0";if(C(this))return"-"+j(this).toString(O);const _=f(Math.pow(O,6));var D=this;let L="";for(;;){const R=P(D,_).g;D=A(D,R.j(_));let M=((D.g.length>0?D.g[0]:D.h)>>>0).toString(O);if(D=R,b(D))return M+L;for(;M.length<6;)M="0"+M;L=M+L}},e.i=function(O){return O<0?0:O<this.g.length?this.g[O]:this.h};function b(O){if(O.h!=0)return!1;for(let _=0;_<O.g.length;_++)if(O.g[_]!=0)return!1;return!0}function C(O){return O.h==-1}e.l=function(O){return O=A(this,O),C(O)?-1:b(O)?0:1};function j(O){const _=O.g.length,D=[];for(let L=0;L<_;L++)D[L]=~O.g[L];return new s(D,~O.h).add(g)}e.abs=function(){return C(this)?j(this):this},e.add=function(O){const _=Math.max(this.g.length,O.g.length),D=[];let L=0;for(let R=0;R<=_;R++){let M=L+(this.i(R)&65535)+(O.i(R)&65535),H=(M>>>16)+(this.i(R)>>>16)+(O.i(R)>>>16);L=H>>>16,M&=65535,H&=65535,D[R]=H<<16|M}return new s(D,D[D.length-1]&-2147483648?-1:0)};function A(O,_){return O.add(j(_))}e.j=function(O){if(b(this)||b(O))return m;if(C(this))return C(O)?j(this).j(j(O)):j(j(this).j(O));if(C(O))return j(this.j(j(O)));if(this.l(v)<0&&O.l(v)<0)return f(this.m()*O.m());const _=this.g.length+O.g.length,D=[];for(var L=0;L<2*_;L++)D[L]=0;for(L=0;L<this.g.length;L++)for(let R=0;R<O.g.length;R++){const M=this.i(L)>>>16,H=this.i(L)&65535,W=O.i(R)>>>16,fe=O.i(R)&65535;D[2*L+2*R]+=H*fe,k(D,2*L+2*R),D[2*L+2*R+1]+=M*fe,k(D,2*L+2*R+1),D[2*L+2*R+1]+=H*W,k(D,2*L+2*R+1),D[2*L+2*R+2]+=M*W,k(D,2*L+2*R+2)}for(O=0;O<_;O++)D[O]=D[2*O+1]<<16|D[2*O];for(O=_;O<2*_;O++)D[O]=0;return new s(D,0)};function k(O,_){for(;(O[_]&65535)!=O[_];)O[_+1]+=O[_]>>>16,O[_]&=65535,_++}function E(O,_){this.g=O,this.h=_}function P(O,_){if(b(_))throw Error("division by zero");if(b(O))return new E(m,m);if(C(O))return _=P(j(O),_),new E(j(_.g),j(_.h));if(C(_))return _=P(O,j(_)),new E(j(_.g),_.h);if(O.g.length>30){if(C(O)||C(_))throw Error("slowDivide_ only works with positive integers.");for(var D=g,L=_;L.l(O)<=0;)D=$(D),L=$(L);var R=F(D,1),M=F(L,1);for(L=F(L,2),D=F(D,2);!b(L);){var H=M.add(L);H.l(O)<=0&&(R=R.add(D),M=H),L=F(L,1),D=F(D,1)}return _=A(O,R.j(_)),new E(R,_)}for(R=m;O.l(_)>=0;){for(D=Math.max(1,Math.floor(O.m()/_.m())),L=Math.ceil(Math.log(D)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),M=f(D),H=M.j(_);C(H)||H.l(O)>0;)D-=L,M=f(D),H=M.j(_);b(M)&&(M=g),R=R.add(M),O=A(O,H)}return new E(R,O)}e.B=function(O){return P(this,O).h},e.and=function(O){const _=Math.max(this.g.length,O.g.length),D=[];for(let L=0;L<_;L++)D[L]=this.i(L)&O.i(L);return new s(D,this.h&O.h)},e.or=function(O){const _=Math.max(this.g.length,O.g.length),D=[];for(let L=0;L<_;L++)D[L]=this.i(L)|O.i(L);return new s(D,this.h|O.h)},e.xor=function(O){const _=Math.max(this.g.length,O.g.length),D=[];for(let L=0;L<_;L++)D[L]=this.i(L)^O.i(L);return new s(D,this.h^O.h)};function $(O){const _=O.g.length+1,D=[];for(let L=0;L<_;L++)D[L]=O.i(L)<<1|O.i(L-1)>>>31;return new s(D,O.h)}function F(O,_){const D=_>>5;_%=32;const L=O.g.length-D,R=[];for(let M=0;M<L;M++)R[M]=_>0?O.i(M+D)>>>_|O.i(M+D+1)<<32-_:O.i(M+D);return new s(R,O.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=f,s.fromString=p,cj=s}).apply(typeof AP<"u"?AP:typeof self<"u"?self:typeof window<"u"?window:{});var Ky=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var e,t=Object.defineProperty;function n(S){S=[typeof globalThis=="object"&&globalThis,S,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ky=="object"&&Ky];for(var I=0;I<S.length;++I){var B=S[I];if(B&&B.Math==Math)return B}throw Error("Cannot find global object")}var r=n(this);function i(S,I){if(I)e:{var B=r;S=S.split(".");for(var Q=0;Q<S.length-1;Q++){var be=S[Q];if(!(be in B))break e;B=B[be]}S=S[S.length-1],Q=B[S],I=I(Q),I!=Q&&I!=null&&t(B,S,{configurable:!0,writable:!0,value:I})}}i("Symbol.dispose",function(S){return S||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(S){return S||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(S){return S||function(I){var B=[],Q;for(Q in I)Object.prototype.hasOwnProperty.call(I,Q)&&B.push([Q,I[Q]]);return B}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function c(S){var I=typeof S;return I=="object"&&S!=null||I=="function"}function d(S,I,B){return S.call.apply(S.bind,arguments)}function f(S,I,B){return f=d,f.apply(null,arguments)}function p(S,I){var B=Array.prototype.slice.call(arguments,1);return function(){var Q=B.slice();return Q.push.apply(Q,arguments),S.apply(this,Q)}}function m(S,I){function B(){}B.prototype=I.prototype,S.Z=I.prototype,S.prototype=new B,S.prototype.constructor=S,S.Ob=function(Q,be,Ne){for(var We=Array(arguments.length-2),gt=2;gt<arguments.length;gt++)We[gt-2]=arguments[gt];return I.prototype[be].apply(Q,We)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?S=>S&&AsyncContext.Snapshot.wrap(S):S=>S;function v(S){const I=S.length;if(I>0){const B=Array(I);for(let Q=0;Q<I;Q++)B[Q]=S[Q];return B}return[]}function b(S,I){for(let Q=1;Q<arguments.length;Q++){const be=arguments[Q];var B=typeof be;if(B=B!="object"?B:be?Array.isArray(be)?"array":B:"null",B=="array"||B=="object"&&typeof be.length=="number"){B=S.length||0;const Ne=be.length||0;S.length=B+Ne;for(let We=0;We<Ne;We++)S[B+We]=be[We]}else S.push(be)}}class C{constructor(I,B){this.i=I,this.j=B,this.h=0,this.g=null}get(){let I;return this.h>0?(this.h--,I=this.g,this.g=I.next,I.next=null):I=this.i(),I}}function j(S){s.setTimeout(()=>{throw S},0)}function A(){var S=O;let I=null;return S.g&&(I=S.g,S.g=S.g.next,S.g||(S.h=null),I.next=null),I}class k{constructor(){this.h=this.g=null}add(I,B){const Q=E.get();Q.set(I,B),this.h?this.h.next=Q:this.g=Q,this.h=Q}}var E=new C(()=>new P,S=>S.reset());class P{constructor(){this.next=this.g=this.h=null}set(I,B){this.h=I,this.g=B,this.next=null}reset(){this.next=this.g=this.h=null}}let $,F=!1,O=new k,_=()=>{const S=Promise.resolve(void 0);$=()=>{S.then(D)}};function D(){for(var S;S=A();){try{S.h.call(S.g)}catch(B){j(B)}var I=E;I.j(S),I.h<100&&(I.h++,S.next=I.g,I.g=S)}F=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(S,I){this.type=S,this.g=this.target=I,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var S=!1,I=Object.defineProperty({},"passive",{get:function(){S=!0}});try{const B=()=>{};s.addEventListener("test",B,I),s.removeEventListener("test",B,I)}catch{}return S})();function H(S){return/^[\s\xa0]*$/.test(S)}function W(S,I){R.call(this,S?S.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,S&&this.init(S,I)}m(W,R),W.prototype.init=function(S,I){const B=this.type=S.type,Q=S.changedTouches&&S.changedTouches.length?S.changedTouches[0]:null;this.target=S.target||S.srcElement,this.g=I,I=S.relatedTarget,I||(B=="mouseover"?I=S.fromElement:B=="mouseout"&&(I=S.toElement)),this.relatedTarget=I,Q?(this.clientX=Q.clientX!==void 0?Q.clientX:Q.pageX,this.clientY=Q.clientY!==void 0?Q.clientY:Q.pageY,this.screenX=Q.screenX||0,this.screenY=Q.screenY||0):(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0),this.button=S.button,this.key=S.key||"",this.ctrlKey=S.ctrlKey,this.altKey=S.altKey,this.shiftKey=S.shiftKey,this.metaKey=S.metaKey,this.pointerId=S.pointerId||0,this.pointerType=S.pointerType,this.state=S.state,this.i=S,S.defaultPrevented&&W.Z.h.call(this)},W.prototype.h=function(){W.Z.h.call(this);const S=this.i;S.preventDefault?S.preventDefault():S.returnValue=!1};var fe="closure_listenable_"+(Math.random()*1e6|0),q=0;function te(S,I,B,Q,be){this.listener=S,this.proxy=null,this.src=I,this.type=B,this.capture=!!Q,this.ha=be,this.key=++q,this.da=this.fa=!1}function K(S){S.da=!0,S.listener=null,S.proxy=null,S.src=null,S.ha=null}function z(S,I,B){for(const Q in S)I.call(B,S[Q],Q,S)}function V(S,I){for(const B in S)I.call(void 0,S[B],B,S)}function Z(S){const I={};for(const B in S)I[B]=S[B];return I}const re="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function me(S,I){let B,Q;for(let be=1;be<arguments.length;be++){Q=arguments[be];for(B in Q)S[B]=Q[B];for(let Ne=0;Ne<re.length;Ne++)B=re[Ne],Object.prototype.hasOwnProperty.call(Q,B)&&(S[B]=Q[B])}}function ge(S){this.src=S,this.g={},this.h=0}ge.prototype.add=function(S,I,B,Q,be){const Ne=S.toString();S=this.g[Ne],S||(S=this.g[Ne]=[],this.h++);const We=X(S,I,Q,be);return We>-1?(I=S[We],B||(I.fa=!1)):(I=new te(I,this.src,Ne,!!Q,be),I.fa=B,S.push(I)),I};function Pe(S,I){const B=I.type;if(B in S.g){var Q=S.g[B],be=Array.prototype.indexOf.call(Q,I,void 0),Ne;(Ne=be>=0)&&Array.prototype.splice.call(Q,be,1),Ne&&(K(I),S.g[B].length==0&&(delete S.g[B],S.h--))}}function X(S,I,B,Q){for(let be=0;be<S.length;++be){const Ne=S[be];if(!Ne.da&&Ne.listener==I&&Ne.capture==!!B&&Ne.ha==Q)return be}return-1}var J="closure_lm_"+(Math.random()*1e6|0),ce={};function ae(S,I,B,Q,be){if(Array.isArray(I)){for(let Ne=0;Ne<I.length;Ne++)ae(S,I[Ne],B,Q,be);return null}return B=Oe(B),S&&S[fe]?S.J(I,B,c(Q)?!!Q.capture:!1,be):ne(S,I,B,!1,Q,be)}function ne(S,I,B,Q,be,Ne){if(!I)throw Error("Invalid event type");const We=c(be)?!!be.capture:!!be;let gt=De(S);if(gt||(S[J]=gt=new ge(S)),B=gt.add(I,B,Q,We,Ne),B.proxy)return B;if(Q=G(),B.proxy=Q,Q.src=S,Q.listener=B,S.addEventListener)M||(be=We),be===void 0&&(be=!1),S.addEventListener(I.toString(),Q,be);else if(S.attachEvent)S.attachEvent(Ae(I.toString()),Q);else if(S.addListener&&S.removeListener)S.addListener(Q);else throw Error("addEventListener and attachEvent are unavailable.");return B}function G(){function S(B){return I.call(S.src,S.listener,B)}const I=Ie;return S}function ee(S,I,B,Q,be){if(Array.isArray(I))for(var Ne=0;Ne<I.length;Ne++)ee(S,I[Ne],B,Q,be);else Q=c(Q)?!!Q.capture:!!Q,B=Oe(B),S&&S[fe]?(S=S.i,Ne=String(I).toString(),Ne in S.g&&(I=S.g[Ne],B=X(I,B,Q,be),B>-1&&(K(I[B]),Array.prototype.splice.call(I,B,1),I.length==0&&(delete S.g[Ne],S.h--)))):S&&(S=De(S))&&(I=S.g[I.toString()],S=-1,I&&(S=X(I,B,Q,be)),(B=S>-1?I[S]:null)&&ue(B))}function ue(S){if(typeof S!="number"&&S&&!S.da){var I=S.src;if(I&&I[fe])Pe(I.i,S);else{var B=S.type,Q=S.proxy;I.removeEventListener?I.removeEventListener(B,Q,S.capture):I.detachEvent?I.detachEvent(Ae(B),Q):I.addListener&&I.removeListener&&I.removeListener(Q),(B=De(I))?(Pe(B,S),B.h==0&&(B.src=null,I[J]=null)):K(S)}}}function Ae(S){return S in ce?ce[S]:ce[S]="on"+S}function Ie(S,I){if(S.da)S=!0;else{I=new W(I,this);const B=S.listener,Q=S.ha||S.src;S.fa&&ue(S),S=B.call(Q,I)}return S}function De(S){return S=S[J],S instanceof ge?S:null}var ye="__closure_events_fn_"+(Math.random()*1e9>>>0);function Oe(S){return typeof S=="function"?S:(S[ye]||(S[ye]=function(I){return S.handleEvent(I)}),S[ye])}function Re(){L.call(this),this.i=new ge(this),this.M=this,this.G=null}m(Re,L),Re.prototype[fe]=!0,Re.prototype.removeEventListener=function(S,I,B,Q){ee(this,S,I,B,Q)};function it(S,I){var B,Q=S.G;if(Q)for(B=[];Q;Q=Q.G)B.push(Q);if(S=S.M,Q=I.type||I,typeof I=="string")I=new R(I,S);else if(I instanceof R)I.target=I.target||S;else{var be=I;I=new R(Q,S),me(I,be)}be=!0;let Ne,We;if(B)for(We=B.length-1;We>=0;We--)Ne=I.g=B[We],be=ut(Ne,Q,!0,I)&&be;if(Ne=I.g=S,be=ut(Ne,Q,!0,I)&&be,be=ut(Ne,Q,!1,I)&&be,B)for(We=0;We<B.length;We++)Ne=I.g=B[We],be=ut(Ne,Q,!1,I)&&be}Re.prototype.N=function(){if(Re.Z.N.call(this),this.i){var S=this.i;for(const I in S.g){const B=S.g[I];for(let Q=0;Q<B.length;Q++)K(B[Q]);delete S.g[I],S.h--}}this.G=null},Re.prototype.J=function(S,I,B,Q){return this.i.add(String(S),I,!1,B,Q)},Re.prototype.K=function(S,I,B,Q){return this.i.add(String(S),I,!0,B,Q)};function ut(S,I,B,Q){if(I=S.i.g[String(I)],!I)return!0;I=I.concat();let be=!0;for(let Ne=0;Ne<I.length;++Ne){const We=I[Ne];if(We&&!We.da&&We.capture==B){const gt=We.listener,kn=We.ha||We.src;We.fa&&Pe(S.i,We),be=gt.call(kn,Q)!==!1&&be}}return be&&!Q.defaultPrevented}function ze(S,I){if(typeof S!="function")if(S&&typeof S.handleEvent=="function")S=f(S.handleEvent,S);else throw Error("Invalid listener argument");return Number(I)>2147483647?-1:s.setTimeout(S,I||0)}function pe(S){S.g=ze(()=>{S.g=null,S.i&&(S.i=!1,pe(S))},S.l);const I=S.h;S.h=null,S.m.apply(null,I)}class ke extends L{constructor(I,B){super(),this.m=I,this.l=B,this.h=null,this.i=!1,this.g=null}j(I){this.h=arguments,this.g?this.i=!0:pe(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function st(S){L.call(this),this.h=S,this.g={}}m(st,L);var ie=[];function we(S){z(S.g,function(I,B){this.g.hasOwnProperty(B)&&ue(I)},S),S.g={}}st.prototype.N=function(){st.Z.N.call(this),we(this)},st.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ue=s.JSON.stringify,le=s.JSON.parse,et=class{stringify(S){return s.JSON.stringify(S,void 0)}parse(S){return s.JSON.parse(S,void 0)}};function ln(){}function en(){}var Se={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function tt(){R.call(this,"d")}m(tt,R);function Ke(){R.call(this,"c")}m(Ke,R);var Xe={},Ft=null;function pi(){return Ft=Ft||new Re}Xe.Ia="serverreachability";function ma(S){R.call(this,Xe.Ia,S)}m(ma,R);function Ja(S){const I=pi();it(I,new ma(I))}Xe.STAT_EVENT="statevent";function Zs(S,I){R.call(this,Xe.STAT_EVENT,S),this.stat=I}m(Zs,R);function Tn(S){const I=pi();it(I,new Zs(I,S))}Xe.Ja="timingevent";function S0(S,I){R.call(this,Xe.Ja,S),this.size=I}m(S0,R);function Js(S,I){if(typeof S!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){S()},I)}function el(){this.g=!0}el.prototype.ua=function(){this.g=!1};function Mp(S,I,B,Q,be,Ne){S.info(function(){if(S.g)if(Ne){var We="",gt=Ne.split("&");for(let Lt=0;Lt<gt.length;Lt++){var kn=gt[Lt].split("=");if(kn.length>1){const Kn=kn[0];kn=kn[1];const hi=Kn.split("_");We=hi.length>=2&&hi[1]=="type"?We+(Kn+"="+kn+"&"):We+(Kn+"=redacted&")}}}else We=null;else We=Ne;return"XMLHTTP REQ ("+Q+") [attempt "+be+"]: "+I+`
`+B+`
`+We})}function Lp(S,I,B,Q,be,Ne,We){S.info(function(){return"XMLHTTP RESP ("+Q+") [ attempt "+be+"]: "+I+`
`+B+`
`+Ne+" "+We})}function zo(S,I,B,Q){S.info(function(){return"XMLHTTP TEXT ("+I+"): "+eo(S,B)+(Q?" "+Q:"")})}function aw(S,I){S.info(function(){return"TIMEOUT: "+I})}el.prototype.info=function(){};function eo(S,I){if(!S.g)return I;if(!I)return null;try{const Ne=JSON.parse(I);if(Ne){for(S=0;S<Ne.length;S++)if(Array.isArray(Ne[S])){var B=Ne[S];if(!(B.length<2)){var Q=B[1];if(Array.isArray(Q)&&!(Q.length<1)){var be=Q[0];if(be!="noop"&&be!="stop"&&be!="close")for(let We=1;We<Q.length;We++)Q[We]=""}}}}return Ue(Ne)}catch{return I}}var Gn={NO_ERROR:0,TIMEOUT:8},Nr={},Uo;function Tc(){}m(Tc,ln),Tc.prototype.g=function(){return new XMLHttpRequest},Uo=new Tc;function Ac(S){return encodeURIComponent(String(S))}function ow(S){var I=1;S=S.split(":");const B=[];for(;I>0&&S.length;)B.push(S.shift()),I--;return S.length&&B.push(S.join(":")),B}function ga(S,I,B,Q){this.j=S,this.i=I,this.l=B,this.S=Q||1,this.V=new st(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new tl}function tl(){this.i=null,this.g="",this.h=!1}var dd={},to={};function no(S,I,B){S.M=1,S.A=Vo(An(I)),S.u=B,S.R=!0,nl(S,null)}function nl(S,I){S.F=Date.now(),kc(S),S.B=An(S.A);var B=S.B,Q=S.S;Array.isArray(Q)||(Q=[String(Q)]),A0(B.i,"t",Q),S.C=0,B=S.j.L,S.h=new tl,S.g=wd(S.j,B?I:null,!S.u),S.P>0&&(S.O=new ke(f(S.Y,S,S.g),S.P)),I=S.V,B=S.g,Q=S.ba;var be="readystatechange";Array.isArray(be)||(be&&(ie[0]=be.toString()),be=ie);for(let Ne=0;Ne<be.length;Ne++){const We=ae(B,be[Ne],Q||I.handleEvent,!1,I.h||I);if(!We)break;I.g[We.key]=We}I=S.J?Z(S.J):{},S.u?(S.v||(S.v="POST"),I["Content-Type"]="application/x-www-form-urlencoded",S.g.ea(S.B,S.v,S.u,I)):(S.v="GET",S.g.ea(S.B,S.v,null,I)),Ja(),Mp(S.i,S.v,S.B,S.l,S.S,S.u)}ga.prototype.ba=function(S){S=S.target;const I=this.O;I&&_r(S)==3?I.j():this.Y(S)},ga.prototype.Y=function(S){try{if(S==this.g)e:{const gt=_r(this.g),kn=this.g.ya(),Lt=this.g.ca();if(!(gt<3)&&(gt!=3||this.g&&(this.h.h||this.g.la()||Lc(this.g)))){this.K||gt!=4||kn==7||(kn==8||Lt<=0?Ja(3):Ja(2)),io(this);var I=this.g.ca();this.X=I;var B=rl(this);if(this.o=I==200,Lp(this.i,this.v,this.B,this.l,this.S,gt,I),this.o){if(this.U&&!this.L){t:{if(this.g){var Q,be=this.g;if((Q=be.g?be.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(Q)){var Ne=Q;break t}}Ne=null}if(S=Ne)zo(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,fd(this,S);else{this.o=!1,this.m=3,Tn(12),ao(this),Ec(this);break e}}if(this.R){S=!0;let Kn;for(;!this.K&&this.C<B.length;)if(Kn=C0(this,B),Kn==to){gt==4&&(this.m=4,Tn(14),S=!1),zo(this.i,this.l,null,"[Incomplete Response]");break}else if(Kn==dd){this.m=4,Tn(15),zo(this.i,this.l,B,"[Invalid Chunk]"),S=!1;break}else zo(this.i,this.l,Kn,null),fd(this,Kn);if(Bn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gt!=4||B.length!=0||this.h.h||(this.m=1,Tn(16),S=!1),this.o=this.o&&S,!S)zo(this.i,this.l,B,"[Invalid Chunked Response]"),ao(this),Ec(this);else if(B.length>0&&!this.W){this.W=!0;var We=this.j;We.g==this&&We.aa&&!We.P&&(We.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),Gp(We),We.P=!0,Tn(11))}}else zo(this.i,this.l,B,null),fd(this,B);gt==4&&ao(this),this.o&&!this.K&&(gt==4?Kp(this.j,this):(this.o=!1,kc(this)))}else Fc(this.g),I==400&&B.indexOf("Unknown SID")>0?(this.m=3,Tn(12)):(this.m=0,Tn(13)),ao(this),Ec(this)}}}catch{}finally{}};function rl(S){if(!Bn(S))return S.g.la();const I=Lc(S.g);if(I==="")return"";let B="";const Q=I.length,be=_r(S.g)==4;if(!S.h.i){if(typeof TextDecoder>"u")return ao(S),Ec(S),"";S.h.i=new s.TextDecoder}for(let Ne=0;Ne<Q;Ne++)S.h.h=!0,B+=S.h.i.decode(I[Ne],{stream:!(be&&Ne==Q-1)});return I.length=0,S.h.g+=B,S.C=0,S.h.g}function Bn(S){return S.g?S.v=="GET"&&S.M!=2&&S.j.Aa:!1}function C0(S,I){var B=S.C,Q=I.indexOf(`
`,B);return Q==-1?to:(B=Number(I.substring(B,Q)),isNaN(B)?dd:(Q+=1,Q+B>I.length?to:(I=I.slice(Q,Q+B),S.C=Q+B,I)))}ga.prototype.cancel=function(){this.K=!0,ao(this)};function kc(S){S.T=Date.now()+S.H,ro(S,S.H)}function ro(S,I){if(S.D!=null)throw Error("WatchDog timer not null");S.D=Js(f(S.aa,S),I)}function io(S){S.D&&(s.clearTimeout(S.D),S.D=null)}ga.prototype.aa=function(){this.D=null;const S=Date.now();S-this.T>=0?(aw(this.i,this.B),this.M!=2&&(Ja(),Tn(17)),ao(this),this.m=2,Ec(this)):ro(this,this.T-S)};function Ec(S){S.j.I==0||S.K||Kp(S.j,S)}function ao(S){io(S);var I=S.O;I&&typeof I.dispose=="function"&&I.dispose(),S.O=null,we(S.V),S.g&&(I=S.g,S.g=null,I.abort(),I.dispose())}function fd(S,I){try{var B=S.j;if(B.I!=0&&(B.g==S||Pc(B.h,S))){if(!S.L&&Pc(B.h,S)&&B.I==3){try{var Q=B.Ba.g.parse(I)}catch{Q=null}if(Array.isArray(Q)&&Q.length==3){var be=Q;if(be[0]==0){e:if(!B.v){if(B.g)if(B.g.F+3e3<S.F)xd(B),oo(B);else break e;Wp(B),Tn(18)}}else B.xa=be[1],0<B.xa-B.K&&be[2]<37500&&B.F&&B.A==0&&!B.C&&(B.C=Js(f(B.Va,B),6e3));Bi(B.h)<=1&&B.ta&&(B.ta=void 0)}else Wo(B,11)}else if((S.L||B.g==S)&&xd(B),!H(I))for(be=B.Ba.g.parse(I),I=0;I<be.length;I++){let Lt=be[I];const Kn=Lt[0];if(!(Kn<=B.K))if(B.K=Kn,Lt=Lt[1],B.I==2)if(Lt[0]=="c"){B.M=Lt[1],B.ba=Lt[2];const hi=Lt[3];hi!=null&&(B.ka=hi,B.j.info("VER="+B.ka));const so=Lt[4];so!=null&&(B.za=so,B.j.info("SVER="+B.za));const ba=Lt[5];ba!=null&&typeof ba=="number"&&ba>0&&(Q=1.5*ba,B.O=Q,B.j.info("backChannelRequestTimeoutMs_="+Q)),Q=B;const xa=S.g;if(xa){const qc=xa.g?xa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qc){var Ne=Q.h;Ne.g||qc.indexOf("spdy")==-1&&qc.indexOf("quic")==-1&&qc.indexOf("h2")==-1||(Ne.j=Ne.l,Ne.g=new Set,Ne.h&&(pd(Ne,Ne.h),Ne.h=null))}if(Q.G){const lo=xa.g?xa.g.getResponseHeader("X-HTTP-Session-Id"):null;lo&&(Q.wa=lo,tn(Q.J,Q.G,lo))}}B.I=3,B.l&&B.l.ra(),B.aa&&(B.T=Date.now()-S.F,B.j.info("Handshake RTT: "+B.T+"ms")),Q=B;var We=S;if(Q.na=I0(Q,Q.L?Q.ba:null,Q.W),We.L){Ho(Q.h,We);var gt=We,kn=Q.O;kn&&(gt.H=kn),gt.D&&(io(gt),kc(gt)),Q.g=We}else P0(Q);B.i.length>0&&Hc(B)}else Lt[0]!="stop"&&Lt[0]!="close"||Wo(B,7);else B.I==3&&(Lt[0]=="stop"||Lt[0]=="close"?Lt[0]=="stop"?Wo(B,7):zc(B):Lt[0]!="noop"&&B.l&&B.l.qa(Lt),B.A=0)}}Ja(4)}catch{}}var sw=class{constructor(S,I){this.g=S,this.map=I}};function Nc(S){this.l=S||10,s.PerformanceNavigationTiming?(S=s.performance.getEntriesByType("navigation"),S=S.length>0&&(S[0].nextHopProtocol=="hq"||S[0].nextHopProtocol=="h2")):S=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=S?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function _c(S){return S.h?!0:S.g?S.g.size>=S.j:!1}function Bi(S){return S.h?1:S.g?S.g.size:0}function Pc(S,I){return S.h?S.h==I:S.g?S.g.has(I):!1}function pd(S,I){S.g?S.g.add(I):S.h=I}function Ho(S,I){S.h&&S.h==I?S.h=null:S.g&&S.g.has(I)&&S.g.delete(I)}Nc.prototype.cancel=function(){if(this.i=hd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const S of this.g.values())S.cancel();this.g.clear()}};function hd(S){if(S.h!=null)return S.i.concat(S.h.G);if(S.g!=null&&S.g.size!==0){let I=S.i;for(const B of S.g.values())I=I.concat(B.G);return I}return v(S.i)}var md=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lw(S,I){if(S){S=S.split("&");for(let B=0;B<S.length;B++){const Q=S[B].indexOf("=");let be,Ne=null;Q>=0?(be=S[B].substring(0,Q),Ne=S[B].substring(Q+1)):be=S[B],I(be,Ne?decodeURIComponent(Ne.replace(/\+/g," ")):"")}}}function ya(S){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let I;S instanceof ya?(this.l=S.l,il(this,S.j),this.o=S.o,this.g=S.g,Dc(this,S.u),this.h=S.h,al(this,k0(S.i)),this.m=S.m):S&&(I=String(S).match(md))?(this.l=!1,il(this,I[1]||"",!0),this.o=Oc(I[2]||""),this.g=Oc(I[3]||"",!0),Dc(this,I[4]),this.h=Oc(I[5]||"",!0),al(this,I[6]||"",!0),this.m=Oc(I[7]||"")):(this.l=!1,this.i=new zi(null,this.l))}ya.prototype.toString=function(){const S=[];var I=this.j;I&&S.push(pr(I,Bp,!0),":");var B=this.g;return(B||I=="file")&&(S.push("//"),(I=this.o)&&S.push(pr(I,Bp,!0),"@"),S.push(Ac(B).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),B=this.u,B!=null&&S.push(":",String(B))),(B=this.h)&&(this.g&&B.charAt(0)!="/"&&S.push("/"),S.push(pr(B,B.charAt(0)=="/"?ol:zp,!0))),(B=this.i.toString())&&S.push("?",B),(B=this.m)&&S.push("#",pr(B,T0)),S.join("")},ya.prototype.resolve=function(S){const I=An(this);let B=!!S.j;B?il(I,S.j):B=!!S.o,B?I.o=S.o:B=!!S.g,B?I.g=S.g:B=S.u!=null;var Q=S.h;if(B)Dc(I,S.u);else if(B=!!S.h){if(Q.charAt(0)!="/")if(this.g&&!this.h)Q="/"+Q;else{var be=I.h.lastIndexOf("/");be!=-1&&(Q=I.h.slice(0,be+1)+Q)}if(be=Q,be==".."||be==".")Q="";else if(be.indexOf("./")!=-1||be.indexOf("/.")!=-1){Q=be.lastIndexOf("/",0)==0,be=be.split("/");const Ne=[];for(let We=0;We<be.length;){const gt=be[We++];gt=="."?Q&&We==be.length&&Ne.push(""):gt==".."?((Ne.length>1||Ne.length==1&&Ne[0]!="")&&Ne.pop(),Q&&We==be.length&&Ne.push("")):(Ne.push(gt),Q=!0)}Q=Ne.join("/")}else Q=be}return B?I.h=Q:B=S.i.toString()!=="",B?al(I,k0(S.i)):B=!!S.m,B&&(I.m=S.m),I};function An(S){return new ya(S)}function il(S,I,B){S.j=B?Oc(I,!0):I,S.j&&(S.j=S.j.replace(/:$/,""))}function Dc(S,I){if(I){if(I=Number(I),isNaN(I)||I<0)throw Error("Bad port number "+I);S.u=I}else S.u=null}function al(S,I,B){I instanceof zi?(S.i=I,Vp(S.i,S.l)):(B||(I=pr(I,j0)),S.i=new zi(I,S.l))}function tn(S,I,B){S.i.set(I,B)}function Vo(S){return tn(S,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),S}function Oc(S,I){return S?I?decodeURI(S.replace(/%25/g,"%2525")):decodeURIComponent(S):""}function pr(S,I,B){return typeof S=="string"?(S=encodeURI(S).replace(I,Fp),B&&(S=S.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S):null}function Fp(S){return S=S.charCodeAt(0),"%"+(S>>4&15).toString(16)+(S&15).toString(16)}var Bp=/[#\/\?@]/g,zp=/[#\?:]/g,ol=/[#\?]/g,j0=/[#\?@]/g,T0=/#/g;function zi(S,I){this.h=this.g=null,this.i=S||null,this.j=!!I}function qo(S){S.g||(S.g=new Map,S.h=0,S.i&&lw(S.i,function(I,B){S.add(decodeURIComponent(I.replace(/\+/g," ")),B)}))}e=zi.prototype,e.add=function(S,I){qo(this),this.i=null,S=va(this,S);let B=this.g.get(S);return B||this.g.set(S,B=[]),B.push(I),this.h+=1,this};function Up(S,I){qo(S),I=va(S,I),S.g.has(I)&&(S.i=null,S.h-=S.g.get(I).length,S.g.delete(I))}function Hp(S,I){return qo(S),I=va(S,I),S.g.has(I)}e.forEach=function(S,I){qo(this),this.g.forEach(function(B,Q){B.forEach(function(be){S.call(I,be,Q,this)},this)},this)};function gd(S,I){qo(S);let B=[];if(typeof I=="string")Hp(S,I)&&(B=B.concat(S.g.get(va(S,I))));else for(S=Array.from(S.g.values()),I=0;I<S.length;I++)B=B.concat(S[I]);return B}e.set=function(S,I){return qo(this),this.i=null,S=va(this,S),Hp(this,S)&&(this.h-=this.g.get(S).length),this.g.set(S,[I]),this.h+=1,this},e.get=function(S,I){return S?(S=gd(this,S),S.length>0?String(S[0]):I):I};function A0(S,I,B){Up(S,I),B.length>0&&(S.i=null,S.g.set(va(S,I),v(B)),S.h+=B.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const S=[],I=Array.from(this.g.keys());for(let Q=0;Q<I.length;Q++){var B=I[Q];const be=Ac(B);B=gd(this,B);for(let Ne=0;Ne<B.length;Ne++){let We=be;B[Ne]!==""&&(We+="="+Ac(B[Ne])),S.push(We)}}return this.i=S.join("&")};function k0(S){const I=new zi;return I.i=S.i,S.g&&(I.g=new Map(S.g),I.h=S.h),I}function va(S,I){return I=String(I),S.j&&(I=I.toLowerCase()),I}function Vp(S,I){I&&!S.j&&(qo(S),S.i=null,S.g.forEach(function(B,Q){const be=Q.toLowerCase();Q!=be&&(Up(this,Q),A0(this,be,B))},S)),S.j=I}function qp(S,I){const B=new el;if(s.Image){const Q=new Image;Q.onload=p(Fr,B,"TestLoadImage: loaded",!0,I,Q),Q.onerror=p(Fr,B,"TestLoadImage: error",!1,I,Q),Q.onabort=p(Fr,B,"TestLoadImage: abort",!1,I,Q),Q.ontimeout=p(Fr,B,"TestLoadImage: timeout",!1,I,Q),s.setTimeout(function(){Q.ontimeout&&Q.ontimeout()},1e4),Q.src=S}else I(!1)}function sl(S,I){const B=new el,Q=new AbortController,be=setTimeout(()=>{Q.abort(),Fr(B,"TestPingServer: timeout",!1,I)},1e4);fetch(S,{signal:Q.signal}).then(Ne=>{clearTimeout(be),Ne.ok?Fr(B,"TestPingServer: ok",!0,I):Fr(B,"TestPingServer: server error",!1,I)}).catch(()=>{clearTimeout(be),Fr(B,"TestPingServer: error",!1,I)})}function Fr(S,I,B,Q,be){try{be&&(be.onload=null,be.onerror=null,be.onabort=null,be.ontimeout=null),Q(B)}catch{}}function E0(){this.g=new et}function $c(S){this.i=S.Sb||null,this.h=S.ab||!1}m($c,ln),$c.prototype.g=function(){return new Ic(this.i,this.h)};function Ic(S,I){Re.call(this),this.H=S,this.o=I,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(Ic,Re),e=Ic.prototype,e.open=function(S,I){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=S,this.D=I,this.readyState=1,Yo(this)},e.send=function(S){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const I={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};S&&(I.body=S),(this.H||s).fetch(new Request(this.D,I)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Br(this)),this.readyState=0},e.Pa=function(S){if(this.g&&(this.l=S,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=S.headers,this.readyState=2,Yo(this)),this.g&&(this.readyState=3,Yo(this),this.g)))if(this.responseType==="arraybuffer")S.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in S){if(this.j=S.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ll(this)}else S.text().then(this.Oa.bind(this),this.ga.bind(this))};function ll(S){S.j.read().then(S.Ma.bind(S)).catch(S.ga.bind(S))}e.Ma=function(S){if(this.g){if(this.o&&S.value)this.response.push(S.value);else if(!this.o){var I=S.value?S.value:new Uint8Array(0);(I=this.B.decode(I,{stream:!S.done}))&&(this.response=this.responseText+=I)}S.done?Br(this):Yo(this),this.readyState==3&&ll(this)}},e.Oa=function(S){this.g&&(this.response=this.responseText=S,Br(this))},e.Na=function(S){this.g&&(this.response=S,Br(this))},e.ga=function(){this.g&&Br(this)};function Br(S){S.readyState=4,S.l=null,S.j=null,S.B=null,Yo(S)}e.setRequestHeader=function(S,I){this.A.append(S,I)},e.getResponseHeader=function(S){return this.h&&this.h.get(S.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const S=[],I=this.h.entries();for(var B=I.next();!B.done;)B=B.value,S.push(B[0]+": "+B[1]),B=I.next();return S.join(`\r
`)};function Yo(S){S.onreadystatechange&&S.onreadystatechange.call(S)}Object.defineProperty(Ic.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(S){this.m=S?"include":"same-origin"}});function cl(S){let I="";return z(S,function(B,Q){I+=Q,I+=":",I+=B,I+=`\r
`}),I}function Ui(S,I,B){e:{for(Q in B){var Q=!1;break e}Q=!0}Q||(B=cl(B),typeof S=="string"?B!=null&&Ac(B):tn(S,I,B))}function hn(S){Re.call(this),this.headers=new Map,this.L=S||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(hn,Re);var yd=/^https?$/i,N0=["POST","PUT"];e=hn.prototype,e.Fa=function(S){this.H=S},e.ea=function(S,I,B,Q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+S);I=I?I.toUpperCase():"GET",this.D=S,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Uo.g(),this.g.onreadystatechange=g(f(this.Ca,this));try{this.B=!0,this.g.open(I,String(S),!0),this.B=!1}catch(Ne){Rc(this,Ne);return}if(S=B||"",B=new Map(this.headers),Q)if(Object.getPrototypeOf(Q)===Object.prototype)for(var be in Q)B.set(be,Q[be]);else if(typeof Q.keys=="function"&&typeof Q.get=="function")for(const Ne of Q.keys())B.set(Ne,Q.get(Ne));else throw Error("Unknown input type for opt_headers: "+String(Q));Q=Array.from(B.keys()).find(Ne=>Ne.toLowerCase()=="content-type"),be=s.FormData&&S instanceof s.FormData,!(Array.prototype.indexOf.call(N0,I,void 0)>=0)||Q||be||B.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ne,We]of B)this.g.setRequestHeader(Ne,We);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(S),this.v=!1}catch(Ne){Rc(this,Ne)}};function Rc(S,I){S.h=!1,S.g&&(S.j=!0,S.g.abort(),S.j=!1),S.l=I,S.o=5,Mc(S),ar(S)}function Mc(S){S.A||(S.A=!0,it(S,"complete"),it(S,"error"))}e.abort=function(S){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=S||7,it(this,"complete"),it(this,"abort"),ar(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ar(this,!0)),hn.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Yp(this):this.Xa())},e.Xa=function(){Yp(this)};function Yp(S){if(S.h&&typeof a<"u"){if(S.v&&_r(S)==4)setTimeout(S.Ca.bind(S),0);else if(it(S,"readystatechange"),_r(S)==4){S.h=!1;try{const Ne=S.ca();e:switch(Ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var I=!0;break e;default:I=!1}var B;if(!(B=I)){var Q;if(Q=Ne===0){let We=String(S.D).match(md)[1]||null;!We&&s.self&&s.self.location&&(We=s.self.location.protocol.slice(0,-1)),Q=!yd.test(We?We.toLowerCase():"")}B=Q}if(B)it(S,"complete"),it(S,"success");else{S.o=6;try{var be=_r(S)>2?S.g.statusText:""}catch{be=""}S.l=be+" ["+S.ca()+"]",Mc(S)}}finally{ar(S)}}}}function ar(S,I){if(S.g){S.m&&(clearTimeout(S.m),S.m=null);const B=S.g;S.g=null,I||it(S,"ready");try{B.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function _r(S){return S.g?S.g.readyState:0}e.ca=function(){try{return _r(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(S){if(this.g){var I=this.g.responseText;return S&&I.indexOf(S)==0&&(I=I.substring(S.length)),le(I)}};function Lc(S){try{if(!S.g)return null;if("response"in S.g)return S.g.response;switch(S.F){case"":case"text":return S.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in S.g)return S.g.mozResponseArrayBuffer}return null}catch{return null}}function Fc(S){const I={};S=(S.g&&_r(S)>=2&&S.g.getAllResponseHeaders()||"").split(`\r
`);for(let Q=0;Q<S.length;Q++){if(H(S[Q]))continue;var B=ow(S[Q]);const be=B[0];if(B=B[1],typeof B!="string")continue;B=B.trim();const Ne=I[be]||[];I[be]=Ne,Ne.push(B)}V(I,function(Q){return Q.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bc(S,I,B){return B&&B.internalChannelParams&&B.internalChannelParams[S]||I}function vd(S){this.za=0,this.i=[],this.j=new el,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Bc("failFast",!1,S),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Bc("baseRetryDelayMs",5e3,S),this.Za=Bc("retryDelaySeedMs",1e4,S),this.Ta=Bc("forwardChannelMaxRetries",2,S),this.va=Bc("forwardChannelRequestTimeoutMs",2e4,S),this.ma=S&&S.xmlHttpFactory||void 0,this.Ua=S&&S.Rb||void 0,this.Aa=S&&S.useFetchStreams||!1,this.O=void 0,this.L=S&&S.supportsCrossDomainXhr||!1,this.M="",this.h=new Nc(S&&S.concurrentRequestLimit),this.Ba=new E0,this.S=S&&S.fastHandshake||!1,this.R=S&&S.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=S&&S.Pb||!1,S&&S.ua&&this.j.ua(),S&&S.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&S&&S.detectBufferingProxy||!1,this.ia=void 0,S&&S.longPollingTimeout&&S.longPollingTimeout>0&&(this.ia=S.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=vd.prototype,e.ka=8,e.I=1,e.connect=function(S,I,B,Q){Tn(0),this.W=S,this.H=I||{},B&&Q!==void 0&&(this.H.OSID=B,this.H.OAID=Q),this.F=this.X,this.J=I0(this,null,this.W),Hc(this)};function zc(S){if(Uc(S),S.I==3){var I=S.V++,B=An(S.J);if(tn(B,"SID",S.M),tn(B,"RID",I),tn(B,"TYPE","terminate"),Vc(S,B),I=new ga(S,S.j,I),I.M=2,I.A=Vo(An(B)),B=!1,s.navigator&&s.navigator.sendBeacon)try{B=s.navigator.sendBeacon(I.A.toString(),"")}catch{}!B&&s.Image&&(new Image().src=I.A,B=!0),B||(I.g=wd(I.j,null),I.g.ea(I.A)),I.F=Date.now(),kc(I)}$0(S)}function oo(S){S.g&&(Gp(S),S.g.cancel(),S.g=null)}function Uc(S){oo(S),S.v&&(s.clearTimeout(S.v),S.v=null),xd(S),S.h.cancel(),S.m&&(typeof S.m=="number"&&s.clearTimeout(S.m),S.m=null)}function Hc(S){if(!_c(S.h)&&!S.m){S.m=!0;var I=S.Ea;$||_(),F||($(),F=!0),O.add(I,S),S.D=0}}function cw(S,I){return Bi(S.h)>=S.h.j-(S.m?1:0)?!1:S.m?(S.i=I.G.concat(S.i),!0):S.I==1||S.I==2||S.D>=(S.Sa?0:S.Ta)?!1:(S.m=Js(f(S.Ea,S,I),O0(S,S.D)),S.D++,!0)}e.Ea=function(S){if(this.m)if(this.m=null,this.I==1){if(!S){this.V=Math.floor(Math.random()*1e5),S=this.V++;const be=new ga(this,this.j,S);let Ne=this.o;if(this.U&&(Ne?(Ne=Z(Ne),me(Ne,this.U)):Ne=this.U),this.u!==null||this.R||(be.J=Ne,Ne=null),this.S)e:{for(var I=0,B=0;B<this.i.length;B++){t:{var Q=this.i[B];if("__data__"in Q.map&&(Q=Q.map.__data__,typeof Q=="string")){Q=Q.length;break t}Q=void 0}if(Q===void 0)break;if(I+=Q,I>4096){I=B;break e}if(I===4096||B===this.i.length-1){I=B+1;break e}}I=1e3}else I=1e3;I=bd(this,be,I),B=An(this.J),tn(B,"RID",S),tn(B,"CVER",22),this.G&&tn(B,"X-HTTP-Session-Id",this.G),Vc(this,B),Ne&&(this.R?I="headers="+Ac(cl(Ne))+"&"+I:this.u&&Ui(B,this.u,Ne)),pd(this.h,be),this.Ra&&tn(B,"TYPE","init"),this.S?(tn(B,"$req",I),tn(B,"SID","null"),be.U=!0,no(be,B,null)):no(be,B,I),this.I=2}}else this.I==3&&(S?_0(this,S):this.i.length==0||_c(this.h)||_0(this))};function _0(S,I){var B;I?B=I.l:B=S.V++;const Q=An(S.J);tn(Q,"SID",S.M),tn(Q,"RID",B),tn(Q,"AID",S.K),Vc(S,Q),S.u&&S.o&&Ui(Q,S.u,S.o),B=new ga(S,S.j,B,S.D+1),S.u===null&&(B.J=S.o),I&&(S.i=I.G.concat(S.i)),I=bd(S,B,1e3),B.H=Math.round(S.va*.5)+Math.round(S.va*.5*Math.random()),pd(S.h,B),no(B,Q,I)}function Vc(S,I){S.H&&z(S.H,function(B,Q){tn(I,Q,B)}),S.l&&z({},function(B,Q){tn(I,Q,B)})}function bd(S,I,B){B=Math.min(S.i.length,B);const Q=S.l?f(S.l.Ka,S.l,S):null;e:{var be=S.i;let gt=-1;for(;;){const kn=["count="+B];gt==-1?B>0?(gt=be[0].g,kn.push("ofs="+gt)):gt=0:kn.push("ofs="+gt);let Lt=!0;for(let Kn=0;Kn<B;Kn++){var Ne=be[Kn].g;const hi=be[Kn].map;if(Ne-=gt,Ne<0)gt=Math.max(0,be[Kn].g-100),Lt=!1;else try{Ne="req"+Ne+"_"||"";try{var We=hi instanceof Map?hi:Object.entries(hi);for(const[so,ba]of We){let xa=ba;c(ba)&&(xa=Ue(ba)),kn.push(Ne+so+"="+encodeURIComponent(xa))}}catch(so){throw kn.push(Ne+"type="+encodeURIComponent("_badmap")),so}}catch{Q&&Q(hi)}}if(Lt){We=kn.join("&");break e}}We=void 0}return S=S.i.splice(0,B),I.G=S,We}function P0(S){if(!S.g&&!S.v){S.Y=1;var I=S.Da;$||_(),F||($(),F=!0),O.add(I,S),S.A=0}}function Wp(S){return S.g||S.v||S.A>=3?!1:(S.Y++,S.v=Js(f(S.Da,S),O0(S,S.A)),S.A++,!0)}e.Da=function(){if(this.v=null,D0(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var S=4*this.T;this.j.info("BP detection timer enabled: "+S),this.B=Js(f(this.Wa,this),S)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tn(10),oo(this),D0(this))};function Gp(S){S.B!=null&&(s.clearTimeout(S.B),S.B=null)}function D0(S){S.g=new ga(S,S.j,"rpc",S.Y),S.u===null&&(S.g.J=S.o),S.g.P=0;var I=An(S.na);tn(I,"RID","rpc"),tn(I,"SID",S.M),tn(I,"AID",S.K),tn(I,"CI",S.F?"0":"1"),!S.F&&S.ia&&tn(I,"TO",S.ia),tn(I,"TYPE","xmlhttp"),Vc(S,I),S.u&&S.o&&Ui(I,S.u,S.o),S.O&&(S.g.H=S.O);var B=S.g;S=S.ba,B.M=1,B.A=Vo(An(I)),B.u=null,B.R=!0,nl(B,S)}e.Va=function(){this.C!=null&&(this.C=null,oo(this),Wp(this),Tn(19))};function xd(S){S.C!=null&&(s.clearTimeout(S.C),S.C=null)}function Kp(S,I){var B=null;if(S.g==I){xd(S),Gp(S),S.g=null;var Q=2}else if(Pc(S.h,I))B=I.G,Ho(S.h,I),Q=1;else return;if(S.I!=0){if(I.o)if(Q==1){B=I.u?I.u.length:0,I=Date.now()-I.F;var be=S.D;Q=pi(),it(Q,new S0(Q,B)),Hc(S)}else P0(S);else if(be=I.m,be==3||be==0&&I.X>0||!(Q==1&&cw(S,I)||Q==2&&Wp(S)))switch(B&&B.length>0&&(I=S.h,I.i=I.i.concat(B)),be){case 1:Wo(S,5);break;case 4:Wo(S,10);break;case 3:Wo(S,6);break;default:Wo(S,2)}}}function O0(S,I){let B=S.Qa+Math.floor(Math.random()*S.Za);return S.isActive()||(B*=2),B*I}function Wo(S,I){if(S.j.info("Error code "+I),I==2){var B=f(S.bb,S),Q=S.Ua;const be=!Q;Q=new ya(Q||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||il(Q,"https"),Vo(Q),be?qp(Q.toString(),B):sl(Q.toString(),B)}else Tn(2);S.I=0,S.l&&S.l.pa(I),$0(S),Uc(S)}e.bb=function(S){S?(this.j.info("Successfully pinged google.com"),Tn(2)):(this.j.info("Failed to ping google.com"),Tn(1))};function $0(S){if(S.I=0,S.ja=[],S.l){const I=hd(S.h);(I.length!=0||S.i.length!=0)&&(b(S.ja,I),b(S.ja,S.i),S.h.i.length=0,v(S.i),S.i.length=0),S.l.oa()}}function I0(S,I,B){var Q=B instanceof ya?An(B):new ya(B);if(Q.g!="")I&&(Q.g=I+"."+Q.g),Dc(Q,Q.u);else{var be=s.location;Q=be.protocol,I=I?I+"."+be.hostname:be.hostname,be=+be.port;const Ne=new ya(null);Q&&il(Ne,Q),I&&(Ne.g=I),be&&Dc(Ne,be),B&&(Ne.h=B),Q=Ne}return B=S.G,I=S.wa,B&&I&&tn(Q,B,I),tn(Q,"VER",S.ka),Vc(S,Q),Q}function wd(S,I,B){if(I&&!S.L)throw Error("Can't create secondary domain capable XhrIo object.");return I=S.Aa&&!S.ma?new hn(new $c({ab:B})):new hn(S.ma),I.Fa(S.L),I}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function R0(){}e=R0.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function ei(S,I){Re.call(this),this.g=new vd(I),this.l=S,this.h=I&&I.messageUrlParams||null,S=I&&I.messageHeaders||null,I&&I.clientProtocolHeaderRequired&&(S?S["X-Client-Protocol"]="webchannel":S={"X-Client-Protocol":"webchannel"}),this.g.o=S,S=I&&I.initMessageHeaders||null,I&&I.messageContentType&&(S?S["X-WebChannel-Content-Type"]=I.messageContentType:S={"X-WebChannel-Content-Type":I.messageContentType}),I&&I.sa&&(S?S["X-WebChannel-Client-Profile"]=I.sa:S={"X-WebChannel-Client-Profile":I.sa}),this.g.U=S,(S=I&&I.Qb)&&!H(S)&&(this.g.u=S),this.A=I&&I.supportsCrossDomainXhr||!1,this.v=I&&I.sendRawJson||!1,(I=I&&I.httpSessionIdParam)&&!H(I)&&(this.g.G=I,S=this.h,S!==null&&I in S&&(S=this.h,I in S&&delete S[I])),this.j=new ul(this)}m(ei,Re),ei.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ei.prototype.close=function(){zc(this.g)},ei.prototype.o=function(S){var I=this.g;if(typeof S=="string"){var B={};B.__data__=S,S=B}else this.v&&(B={},B.__data__=Ue(S),S=B);I.i.push(new sw(I.Ya++,S)),I.I==3&&Hc(I)},ei.prototype.N=function(){this.g.l=null,delete this.j,zc(this.g),delete this.g,ei.Z.N.call(this)};function M0(S){tt.call(this),S.__headers__&&(this.headers=S.__headers__,this.statusCode=S.__status__,delete S.__headers__,delete S.__status__);var I=S.__sm__;if(I){e:{for(const B in I){S=B;break e}S=void 0}(this.i=S)&&(S=this.i,I=I!==null&&S in I?I[S]:void 0),this.data=I}else this.data=S}m(M0,tt);function Xp(){Ke.call(this),this.status=1}m(Xp,Ke);function ul(S){this.g=S}m(ul,R0),ul.prototype.ra=function(){it(this.g,"a")},ul.prototype.qa=function(S){it(this.g,new M0(S))},ul.prototype.pa=function(S){it(this.g,new Xp)},ul.prototype.oa=function(){it(this.g,"b")},ei.prototype.send=ei.prototype.o,ei.prototype.open=ei.prototype.m,ei.prototype.close=ei.prototype.close,Gn.NO_ERROR=0,Gn.TIMEOUT=8,Gn.HTTP_ERROR=6,Nr.COMPLETE="complete",en.EventType=Se,Se.OPEN="a",Se.CLOSE="b",Se.ERROR="c",Se.MESSAGE="d",Re.prototype.listen=Re.prototype.J,hn.prototype.listenOnce=hn.prototype.K,hn.prototype.getLastError=hn.prototype.Ha,hn.prototype.getLastErrorCode=hn.prototype.ya,hn.prototype.getStatus=hn.prototype.ca,hn.prototype.getResponseJson=hn.prototype.La,hn.prototype.getResponseText=hn.prototype.la,hn.prototype.send=hn.prototype.ea,hn.prototype.setWithCredentials=hn.prototype.Fa}).apply(typeof Ky<"u"?Ky:typeof self<"u"?self:typeof window<"u"?window:{});const kP="@firebase/firestore",EP="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ur.UNAUTHENTICATED=new Ur(null),Ur.GOOGLE_CREDENTIALS=new Ur("google-credentials-uid"),Ur.FIRST_PARTY=new Ur("first-party-uid"),Ur.MOCK_USER=new Ur("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yg="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hf=new r2("@firebase/firestore");function Fa(e,...t){if(Hf.logLevel<=Gt.DEBUG){const n=t.map(uj);Hf.debug(`Firestore (${Yg}): ${e}`,...n)}}function cz(e,...t){if(Hf.logLevel<=Gt.ERROR){const n=t.map(uj);Hf.error(`Firestore (${Yg}): ${e}`,...n)}}function hse(e,...t){if(Hf.logLevel<=Gt.WARN){const n=t.map(uj);Hf.warn(`Firestore (${Yg}): ${e}`,...n)}}function uj(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,uz(e,r,n)}function uz(e,t,n){let r=`FIRESTORE (${Yg}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw cz(r),new Error(r)}function _m(e,t,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,e||uz(t,i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const It={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class Rt extends Xa{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class mse{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Ur.UNAUTHENTICATED)))}shutdown(){}}class gse{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class yse{constructor(t){this.t=t,this.currentUser=Ur.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){_m(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let a=new Pm;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Pm,t.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const d=a;t.enqueueRetryable((async()=>{await d.promise,await i(this.currentUser)}))},c=d=>{Fa("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((d=>c(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(Fa("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Pm)}}),0),s()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(Fa("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_m(typeof r.accessToken=="string",31837,{l:r}),new dz(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return _m(t===null||typeof t=="string",2055,{h:t}),new Ur(t)}}class vse{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=Ur.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class bse{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new vse(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Ur.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class NP{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xse{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ra(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){_m(this.o===void 0,3512);const r=a=>{a.error!=null&&Fa("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,Fa("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable((()=>r(a)))};const i=a=>{Fa("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Fa("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new NP(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(_m(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new NP(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wse(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sse{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=wse(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=t.charAt(i[a]%62))}return r}}function ec(e,t){return e<t?-1:e>t?1:0}function Cse(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const i=e.charAt(r),a=t.charAt(r);if(i!==a)return E3(i)===E3(a)?ec(i,a):E3(i)?1:-1}return ec(e.length,t.length)}const jse=55296,Tse=57343;function E3(e){const t=e.charCodeAt(0);return t>=jse&&t<=Tse}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P="__name__";class yo{constructor(t,n,r){n===void 0?n=0:n>t.length&&Xm(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&Xm(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return yo.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof yo?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const a=yo.compareSegments(t.get(i),n.get(i));if(a!==0)return a}return ec(t.length,n.length)}static compareSegments(t,n){const r=yo.isNumericId(t),i=yo.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?yo.extractNumericId(t).compare(yo.extractNumericId(n)):Cse(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return cj.fromString(t.substring(4,t.length-2))}}class Da extends yo{construct(t,n,r){return new Da(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new Rt(It.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Da(n)}static emptyPath(){return new Da([])}}const Ase=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yu extends yo{construct(t,n,r){return new yu(t,n,r)}static isValidIdentifier(t){return Ase.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yu.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_P}static keyField(){return new yu([_P])}static fromServerFormat(t){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Rt(It.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<t.length;){const c=t[i];if(c==="\\"){if(i+1===t.length)throw new Rt(It.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const d=t[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Rt(It.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=d,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(r+=c,i++):(a(),i++)}if(a(),s)throw new Rt(It.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new yu(n)}static emptyPath(){return new yu([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(t){this.path=t}static fromPath(t){return new wu(Da.fromString(t))}static fromName(t){return new wu(Da.fromString(t).popFirst(5))}static empty(){return new wu(Da.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Da.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Da.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new wu(new Da(t.slice()))}}function kse(e,t,n,r){if(t===!0&&r===!0)throw new Rt(It.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Ese(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function Nse(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Xm(12329,{type:typeof e})}function _se(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Rt(It.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Nse(e);throw new Rt(It.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(e,t){const n={typeString:e};return t&&(n.value=t),n}function Wg(e,t){if(!Ese(e))throw new Rt(It.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,a="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const s=e[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new Rt(It.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP=-62135596800,DP=1e6;class bo{static now(){return bo.fromMillis(Date.now())}static fromDate(t){return bo.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*DP);return new bo(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Rt(It.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Rt(It.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<PP)throw new Rt(It.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Rt(It.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/DP}_compareTo(t){return this.seconds===t.seconds?ec(this.nanoseconds,t.nanoseconds):ec(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:bo._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Wg(t,bo._jsonSchema))return new bo(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-PP;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}bo._jsonSchemaVersion="firestore/timestamp/1.0",bo._jsonSchema={type:er("string",bo._jsonSchemaVersion),seconds:er("number"),nanoseconds:er("number")};function Pse(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dse extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Dse("Invalid base64 string: "+a):a}})(t);return new Qu(n)}static fromUint8Array(t){const n=(function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a})(t);return new Qu(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ec(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qu.EMPTY_BYTE_STRING=new Qu("");const I8="(default)";class $b{constructor(t,n){this.projectId=t,this.database=n||I8}static empty(){return new $b("","")}get isDefaultDatabase(){return this.database===I8}isEqual(t){return t instanceof $b&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ose{constructor(t,n=null,r=[],i=[],a=null,s="F",c=null,d=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=c,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function $se(e){return new Ose(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OP,$t;($t=OP||(OP={}))[$t.OK=0]="OK",$t[$t.CANCELLED=1]="CANCELLED",$t[$t.UNKNOWN=2]="UNKNOWN",$t[$t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$t[$t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$t[$t.NOT_FOUND=5]="NOT_FOUND",$t[$t.ALREADY_EXISTS=6]="ALREADY_EXISTS",$t[$t.PERMISSION_DENIED=7]="PERMISSION_DENIED",$t[$t.UNAUTHENTICATED=16]="UNAUTHENTICATED",$t[$t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$t[$t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$t[$t.ABORTED=10]="ABORTED",$t[$t.OUT_OF_RANGE=11]="OUT_OF_RANGE",$t[$t.UNIMPLEMENTED=12]="UNIMPLEMENTED",$t[$t.INTERNAL=13]="INTERNAL",$t[$t.UNAVAILABLE=14]="UNAVAILABLE",$t[$t.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new cj([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ise=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rse=1048576;function N3(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mse{constructor(t,n,r=1e3,i=1.5,a=6e4){this.Mi=t,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Fa("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(t,n,r,i,a){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Pm,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((s=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,a){const s=Date.now()+r,c=new dj(t,n,s,i,a);return c.start(r),c}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Rt(It.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var $P,IP;(IP=$P||($P={})).Ma="default",IP.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lse(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fz="firestore.googleapis.com",MP=!0;class LP{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Rt(It.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fz,this.ssl=MP}else this.host=t.host,this.ssl=t.ssl??MP;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Ise;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Rse)throw new Rt(It.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}kse("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Lse(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Rt(It.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Rt(It.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Rt(It.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class pz{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LP({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Rt(It.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Rt(It.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LP(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new mse;switch(r.type){case"firstParty":return new bse(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Rt(It.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=RP.get(n);r&&(Fa("ComponentProvider","Removing Datastore"),RP.delete(n),r.terminate())})(this),Promise.resolve()}}function Fse(e,t,n,r={}){e=_se(e,pz);const i=zg(t),a=e._getSettings(),s={...a,emulatorOptions:e._getEmulatorOptions()},c=`${t}:${n}`;i&&(SB(`https://${c}`),CB("Firestore",!0)),a.host!==fz&&a.host!==c&&hse("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...a,host:c,ssl:i,emulatorOptions:r};if(!Jl(d,s)&&(e._setSettings(d),r.mockUserToken)){let f,p;if(typeof r.mockUserToken=="string")f=r.mockUserToken,p=Ur.MOCK_USER;else{f=zre(r.mockUserToken,e._app?.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new Rt(It.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Ur(m)}e._authCredentials=new gse(new dz(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new fj(this.firestore,t,this._query)}}class Co{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pj(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Co(this.firestore,t,this._key)}toJSON(){return{type:Co._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(Wg(n,Co._jsonSchema))return new Co(t,r||null,new wu(Da.fromString(n.referencePath)))}}Co._jsonSchemaVersion="firestore/documentReference/1.0",Co._jsonSchema={type:er("string",Co._jsonSchemaVersion),referencePath:er("string")};class pj extends fj{constructor(t,n,r){super(t,n,$se(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Co(this.firestore,null,new wu(t))}withConverter(t){return new pj(this.firestore,t,this._path)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP="AsyncQueue";class BP{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Mse(this,"async_queue_retry"),this._c=()=>{const r=N3();r&&Fa(FP,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=N3();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=N3();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Pm;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Pse(t))throw t;Fa(FP,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,cz("INTERNAL UNHANDLED ERROR: ",zP(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const i=dj.createAndSchedule(this,t,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Xm(47125,{Pc:zP(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function zP(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class Bse extends pz{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new BP,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new BP(t),this._firestoreClient=void 0,await t}}}function zse(e,t){const n=typeof e=="object"?e:Z5(),r=typeof e=="string"?e:I8,i=ad(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=Fre("firestore");a&&Fse(i,...a)}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(t){this._byteString=t}static fromBase64String(t){try{return new hs(Qu.fromBase64String(t))}catch(n){throw new Rt(It.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new hs(Qu.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:hs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Wg(t,hs._jsonSchema))return hs.fromBase64String(t.bytes)}}hs._jsonSchemaVersion="firestore/bytes/1.0",hs._jsonSchema={type:er("string",hs._jsonSchemaVersion),bytes:er("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hz{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Rt(It.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yu(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Rt(It.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Rt(It.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return ec(this._lat,t._lat)||ec(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mu._jsonSchemaVersion}}static fromJSON(t){if(Wg(t,Mu._jsonSchema))return new Mu(t.latitude,t.longitude)}}Mu._jsonSchemaVersion="firestore/geoPoint/1.0",Mu._jsonSchema={type:er("string",Mu._jsonSchemaVersion),latitude:er("number"),longitude:er("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Lu._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Wg(t,Lu._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Lu(t.vectorValues);throw new Rt(It.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Lu._jsonSchemaVersion="firestore/vectorValue/1.0",Lu._jsonSchema={type:er("string",Lu._jsonSchemaVersion),vectorValues:er("object")};const Use=new RegExp("[~\\*/\\[\\]]");function Hse(e,t,n){if(t.search(Use)>=0)throw UP(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e);try{return new hz(...t.split("."))._internalPath}catch{throw UP(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e)}}function UP(e,t,n,r,i){let a=`Function ${t}() called with invalid data`;a+=". ";let s="";return new Rt(It.INVALID_ARGUMENT,a+e+s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mz{constructor(t,n,r,i,a){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Co(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Vse(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(gz("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Vse extends mz{data(){return super.data()}}function gz(e,t){return typeof t=="string"?Hse(e,t):t instanceof hz?t._internalPath:t._delegate._internalPath}class Xy{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class _f extends mz{constructor(t,n,r,i,a,s){super(t,n,r,i,s),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Hv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(gz("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Rt(It.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=_f._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}_f._jsonSchemaVersion="firestore/documentSnapshot/1.0",_f._jsonSchema={type:er("string",_f._jsonSchemaVersion),bundleSource:er("string","DocumentSnapshot"),bundleName:er("string"),bundle:er("string")};class Hv extends _f{data(t={}){return super.data(t)}}class Dm{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Xy(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new Hv(this._firestore,this._userDataWriter,r.key,r,new Xy(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Rt(It.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map((c=>{const d=new Hv(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Xy(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:s++}}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>a||c.type!==3)).map((c=>{const d=new Hv(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Xy(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,p=-1;return c.type!==0&&(f=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),p=s.indexOf(c.doc.key)),{type:qse(c.type),doc:d,oldIndex:f,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Rt(It.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Dm._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Sse.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function qse(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xm(61501,{type:e})}}Dm._jsonSchemaVersion="firestore/querySnapshot/1.0",Dm._jsonSchema={type:er("string",Dm._jsonSchemaVersion),bundleSource:er("string","QuerySnapshot"),bundleName:er("string"),bundle:er("string")};(function(t,n=!0){(function(i){Yg=i})(vp),Oo(new qa("firestore",((r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),c=new Bse(new yse(r.getProvider("auth-internal")),new xse(s,r.getProvider("app-check-internal")),(function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Rt(It.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $b(f.options.projectId,p)})(s,i),s);return a={useFetchStreams:n,...a},c._setSettings(a),c}),"PUBLIC").setMultipleInstances(!0)),sa(kP,EP,t),sa(kP,EP,"esm2020")})();const yz="@firebase/installations",hj="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vz=1e4,bz=`w:${hj}`,xz="FIS_v2",Yse="https://firebaseinstallations.googleapis.com/v1",Wse=3600*1e3,Gse="installations",Kse="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xse={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Zu=new id(Gse,Kse,Xse);function wz(e){return e instanceof Xa&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sz({projectId:e}){return`${Yse}/projects/${e}/installations`}function Cz(e){return{token:e.token,requestStatus:2,expiresIn:Zse(e.expiresIn),creationTime:Date.now()}}async function jz(e,t){const r=(await t.json()).error;return Zu.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Tz({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function Qse(e,{refreshToken:t}){const n=Tz(e);return n.append("Authorization",Jse(t)),n}async function Az(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Zse(e){return Number(e.replace("s","000"))}function Jse(e){return`${xz} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ele({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=Sz(e),i=Tz(e),a=t.getImmediate({optional:!0});if(a){const f=await a.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const s={fid:n,authVersion:xz,appId:e.appId,sdkVersion:bz},c={method:"POST",headers:i,body:JSON.stringify(s)},d=await Az(()=>fetch(r,c));if(d.ok){const f=await d.json();return{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:Cz(f.authToken)}}else throw await jz("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kz(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tle(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nle=/^[cdef][\w-]{21}$/,R8="";function rle(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=ile(e);return nle.test(n)?n:R8}catch{return R8}}function ile(e){return tle(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ez=new Map;function Nz(e,t){const n=s2(e);_z(n,t),ale(n,t)}function _z(e,t){const n=Ez.get(e);if(n)for(const r of n)r(t)}function ale(e,t){const n=ole();n&&n.postMessage({key:e,fid:t}),sle()}let Su=null;function ole(){return!Su&&"BroadcastChannel"in self&&(Su=new BroadcastChannel("[Firebase] FID Change"),Su.onmessage=e=>{_z(e.data.key,e.data.fid)}),Su}function sle(){Ez.size===0&&Su&&(Su.close(),Su=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lle="firebase-installations-database",cle=1,Ju="firebase-installations-store";let _3=null;function mj(){return _3||(_3=NB(lle,cle,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Ju)}}})),_3}async function Ib(e,t){const n=s2(e),i=(await mj()).transaction(Ju,"readwrite"),a=i.objectStore(Ju),s=await a.get(n);return await a.put(t,n),await i.done,(!s||s.fid!==t.fid)&&Nz(e,t.fid),t}async function Pz(e){const t=s2(e),r=(await mj()).transaction(Ju,"readwrite");await r.objectStore(Ju).delete(t),await r.done}async function l2(e,t){const n=s2(e),i=(await mj()).transaction(Ju,"readwrite"),a=i.objectStore(Ju),s=await a.get(n),c=t(s);return c===void 0?await a.delete(n):await a.put(c,n),await i.done,c&&(!s||s.fid!==c.fid)&&Nz(e,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gj(e){let t;const n=await l2(e.appConfig,r=>{const i=ule(r),a=dle(e,i);return t=a.registrationPromise,a.installationEntry});return n.fid===R8?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function ule(e){const t=e||{fid:rle(),registrationStatus:0};return Dz(t)}function dle(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Zu.create("app-offline"));return{installationEntry:t,registrationPromise:i}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=fle(e,n);return{installationEntry:n,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:ple(e)}:{installationEntry:t}}async function fle(e,t){try{const n=await ele(e,t);return Ib(e.appConfig,n)}catch(n){throw wz(n)&&n.customData.serverCode===409?await Pz(e.appConfig):await Ib(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function ple(e){let t=await HP(e.appConfig);for(;t.registrationStatus===1;)await kz(100),t=await HP(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await gj(e);return r||n}return t}function HP(e){return l2(e,t=>{if(!t)throw Zu.create("installation-not-found");return Dz(t)})}function Dz(e){return hle(e)?{fid:e.fid,registrationStatus:0}:e}function hle(e){return e.registrationStatus===1&&e.registrationTime+vz<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mle({appConfig:e,heartbeatServiceProvider:t},n){const r=gle(e,n),i=Qse(e,n),a=t.getImmediate({optional:!0});if(a){const f=await a.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const s={installation:{sdkVersion:bz,appId:e.appId}},c={method:"POST",headers:i,body:JSON.stringify(s)},d=await Az(()=>fetch(r,c));if(d.ok){const f=await d.json();return Cz(f)}else throw await jz("Generate Auth Token",d)}function gle(e,{fid:t}){return`${Sz(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yj(e,t=!1){let n;const r=await l2(e.appConfig,a=>{if(!Oz(a))throw Zu.create("not-registered");const s=a.authToken;if(!t&&ble(s))return a;if(s.requestStatus===1)return n=yle(e,t),a;{if(!navigator.onLine)throw Zu.create("app-offline");const c=wle(a);return n=vle(e,c),c}});return n?await n:r.authToken}async function yle(e,t){let n=await VP(e.appConfig);for(;n.authToken.requestStatus===1;)await kz(100),n=await VP(e.appConfig);const r=n.authToken;return r.requestStatus===0?yj(e,t):r}function VP(e){return l2(e,t=>{if(!Oz(t))throw Zu.create("not-registered");const n=t.authToken;return Sle(n)?{...t,authToken:{requestStatus:0}}:t})}async function vle(e,t){try{const n=await mle(e,t),r={...t,authToken:n};return await Ib(e.appConfig,r),n}catch(n){if(wz(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Pz(e.appConfig);else{const r={...t,authToken:{requestStatus:0}};await Ib(e.appConfig,r)}throw n}}function Oz(e){return e!==void 0&&e.registrationStatus===2}function ble(e){return e.requestStatus===2&&!xle(e)}function xle(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Wse}function wle(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function Sle(e){return e.requestStatus===1&&e.requestTime+vz<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cle(e){const t=e,{installationEntry:n,registrationPromise:r}=await gj(t);return r?r.catch(console.error):yj(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jle(e,t=!1){const n=e;return await Tle(n),(await yj(n,t)).token}async function Tle(e){const{registrationPromise:t}=await gj(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ale(e){if(!e||!e.options)throw P3("App Configuration");if(!e.name)throw P3("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw P3(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function P3(e){return Zu.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $z="installations",kle="installations-internal",Ele=e=>{const t=e.getProvider("app").getImmediate(),n=Ale(t),r=ad(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Nle=e=>{const t=e.getProvider("app").getImmediate(),n=ad(t,$z).getImmediate();return{getId:()=>Cle(n),getToken:i=>jle(n,i)}};function _le(){Oo(new qa($z,Ele,"PUBLIC")),Oo(new qa(kle,Nle,"PRIVATE"))}_le();sa(yz,hj);sa(yz,hj,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="analytics",Ple="firebase_id",Dle="origin",Ole=60*1e3,$le="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",vj="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr=new r2("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ile={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Oi=new id("analytics","Analytics",Ile);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rle(e){if(!e.startsWith(vj)){const t=Oi.create("invalid-gtag-resource",{gtagURL:e});return Kr.warn(t.message),""}return e}function Iz(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function Mle(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function Lle(e,t){const n=Mle("firebase-js-sdk-policy",{createScriptURL:Rle}),r=document.createElement("script"),i=`${vj}?l=${e}&id=${t}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function Fle(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function Ble(e,t,n,r,i,a){const s=r[i];try{if(s)await t[s];else{const d=(await Iz(n)).find(f=>f.measurementId===i);d&&await t[d.appId]}}catch(c){Kr.error(c)}e("config",i,a)}async function zle(e,t,n,r,i){try{let a=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const c=await Iz(n);for(const d of s){const f=c.find(m=>m.measurementId===d),p=f&&t[f.appId];if(p)a.push(p);else{a=[];break}}}a.length===0&&(a=Object.values(t)),await Promise.all(a),e("event",r,i||{})}catch(a){Kr.error(a)}}function Ule(e,t,n,r){async function i(a,...s){try{if(a==="event"){const[c,d]=s;await zle(e,t,n,c,d)}else if(a==="config"){const[c,d]=s;await Ble(e,t,n,r,c,d)}else if(a==="consent"){const[c,d]=s;e("consent",c,d)}else if(a==="get"){const[c,d,f]=s;e("get",c,d,f)}else if(a==="set"){const[c]=s;e("set",c)}else e(a,...s)}catch(c){Kr.error(c)}}return i}function Hle(e,t,n,r,i){let a=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=Ule(a,e,t,n),{gtagCore:a,wrappedGtag:window[i]}}function Vle(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(vj)&&n.src.includes(e))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qle=30,Yle=1e3;class Wle{constructor(t={},n=Yle){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const Rz=new Wle;function Gle(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function Kle(e){const{appId:t,apiKey:n}=e,r={method:"GET",headers:Gle(n)},i=$le.replace("{app-id}",t),a=await fetch(i,r);if(a.status!==200&&a.status!==304){let s="";try{const c=await a.json();c.error?.message&&(s=c.error.message)}catch{}throw Oi.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s})}return a.json()}async function Xle(e,t=Rz,n){const{appId:r,apiKey:i,measurementId:a}=e.options;if(!r)throw Oi.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw Oi.create("no-api-key")}const s=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new Jle;return setTimeout(async()=>{c.abort()},Ole),Mz({appId:r,apiKey:i,measurementId:a},s,c,t)}async function Mz(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=Rz){const{appId:a,measurementId:s}=e;try{await Qle(r,t)}catch(c){if(s)return Kr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:a,measurementId:s};throw c}try{const c=await Kle(e);return i.deleteThrottleMetadata(a),c}catch(c){const d=c;if(!Zle(d)){if(i.deleteThrottleMetadata(a),s)return Kr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:a,measurementId:s};throw c}const f=Number(d?.customData?.httpStatus)===503?eP(n,i.intervalMillis,qle):eP(n,i.intervalMillis),p={throttleEndTimeMillis:Date.now()+f,backoffCount:n+1};return i.setThrottleMetadata(a,p),Kr.debug(`Calling attemptFetch again in ${f} millis`),Mz(e,p,r,i)}}function Qle(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(a),r(Oi.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function Zle(e){if(!(e instanceof Xa)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class Jle{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function ece(e,t,n,r,i){if(i&&i.global){e("event",n,r);return}else{const a=await t,s={...r,send_to:a};e("event",n,s)}}async function tce(e,t,n,r){if(r&&r.global){const i={};for(const a of Object.keys(n))i[`user_properties.${a}`]=n[a];return e("set",i),Promise.resolve()}else{const i=await t;e("config",i,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nce(){if(TB())try{await AB()}catch(e){return Kr.warn(Oi.create("indexeddb-unavailable",{errorInfo:e?.toString()}).message),!1}else return Kr.warn(Oi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function rce(e,t,n,r,i,a,s){const c=Xle(e);c.then(g=>{n[g.measurementId]=g.appId,e.options.measurementId&&g.measurementId!==e.options.measurementId&&Kr.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>Kr.error(g)),t.push(c);const d=nce().then(g=>{if(g)return r.getId()}),[f,p]=await Promise.all([c,d]);Vle(a)||Lle(a,f.measurementId),i("js",new Date);const m=s?.config??{};return m[Dle]="firebase",m.update=!0,p!=null&&(m[Ple]=p),i("config",f.measurementId,m),f.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ice{constructor(t){this.app=t}_delete(){return delete Pf[this.app.options.appId],Promise.resolve()}}let Pf={},qP=[];const YP={};let D3="dataLayer",ace="gtag",WP,bj,GP=!1;function oce(){const e=[];if(jB()&&e.push("This is a browser extension environment."),Gre()||e.push("Cookies are not available."),e.length>0){const t=e.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Oi.create("invalid-analytics-context",{errorInfo:t});Kr.warn(n.message)}}function sce(e,t,n){oce();const r=e.options.appId;if(!r)throw Oi.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)Kr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Oi.create("no-api-key");if(Pf[r]!=null)throw Oi.create("already-exists",{id:r});if(!GP){Fle(D3);const{wrappedGtag:a,gtagCore:s}=Hle(Pf,qP,YP,D3,ace);bj=a,WP=s,GP=!0}return Pf[r]=rce(e,qP,YP,t,WP,D3,n),new ice(e)}function lce(e=Z5()){e=qs(e);const t=ad(e,Rb);return t.isInitialized()?t.getImmediate():cce(e)}function cce(e,t={}){const n=ad(e,Rb);if(n.isInitialized()){const i=n.getImmediate();if(Jl(t,n.getOptions()))return i;throw Oi.create("already-initialized")}return n.initialize({options:t})}function uce(e,t,n){e=qs(e),tce(bj,Pf[e.app.options.appId],t,n).catch(r=>Kr.error(r))}function dce(e,t,n,r){e=qs(e),ece(bj,Pf[e.app.options.appId],t,n,r).catch(i=>Kr.error(i))}const KP="@firebase/analytics",XP="0.10.19";function fce(){Oo(new qa(Rb,(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("installations-internal").getImmediate();return sce(r,i,n)},"PUBLIC")),Oo(new qa("analytics-internal",e,"PRIVATE")),sa(KP,XP),sa(KP,XP,"esm2020");function e(t){try{const n=t.getProvider(Rb).getImmediate();return{logEvent:(r,i,a)=>dce(n,r,i,a),setUserProperties:(r,i)=>uce(n,r,i)}}catch(n){throw Oi.create("interop-component-reg-failed",{reason:n})}}}fce();const pce={apiKey:"AIzaSyA3b5gNwlz_6LFympnH_FLQmR5X_3GXW44",authDomain:"elearn-clone-dev.firebaseapp.com",projectId:"elearn-clone-dev",storageBucket:"elearn-clone-dev.appspot.com",messagingSenderId:"572982114599",appId:"1:572982114599:web:548428b485a3eef89cd102",measurementId:"G-6NL40PMR8L"},xj=_B(pce),hce=use(xj);zse(xj);lce(xj);const mce=new ps,Om="/assets/logo-BeWQ1Gbj.png",gce="/assets/portrait-smiling-handsome-male-doctor-man-B8mXxAnJ.jpg",yce="/assets/5053643-CFLcreWD.jpg",vce="/assets/png-transparent-google-icon-CJs8FgDd.png";var Lz={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},QP=se.createContext&&se.createContext(Lz),bce=["attr","size","title"];function xce(e,t){if(e==null)return{};var n=wce(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function wce(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Mb(){return Mb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mb.apply(this,arguments)}function ZP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Lb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZP(Object(n),!0).forEach(function(r){Sce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sce(e,t,n){return t=Cce(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cce(e){var t=jce(e,"string");return typeof t=="symbol"?t:t+""}function jce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fz(e){return e&&e.map((t,n)=>se.createElement(t.tag,Lb({key:n},t.attr),Fz(t.child)))}function Ye(e){return t=>se.createElement(Tce,Mb({attr:Lb({},e.attr)},t),Fz(e.child))}function Tce(e){var t=n=>{var{attr:r,size:i,title:a}=e,s=xce(e,bce),c=i||n.size||"1em",d;return n.className&&(d=n.className),e.className&&(d=(d?d+" ":"")+e.className),se.createElement("svg",Mb({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:d,style:Lb(Lb({color:e.color||n.color},n.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&se.createElement("title",null,a),e.children)};return QP!==void 0?se.createElement(QP.Consumer,null,n=>t(n)):t(Lz)}function JP(e){return Ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 112c-17.6 0-32 14.4-32 32v72c0 4.4-3.6 8-8 8h-16c-4.4 0-8-3.6-8-8V64c0-17.6-14.4-32-32-32s-32 14.4-32 32v152c0 4.4-3.6 8-8 8h-16c-4.4 0-8-3.6-8-8V32c0-17.6-14.4-32-32-32s-32 14.4-32 32v184c0 4.4-3.6 8-8 8h-16c-4.4 0-8-3.6-8-8V64c0-17.6-14.4-32-32-32S96 46.4 96 64v241l-23.6-32.5c-13-17.9-38-21.8-55.9-8.8s-21.8 38-8.8 55.9l125.6 172.7c9 12.4 23.5 19.8 38.8 19.8h197.6c22.3 0 41.6-15.3 46.7-37l26.5-112.7c3.2-13.7 4.9-28.3 5.1-42.3V144c0-17.6-14.4-32-32-32zM176 416c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zm0-96c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zm64 128c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zm0-96c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zm64 32c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zm32 64c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zm32-128c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16z"},child:[]}]})(e)}function Ace(e){return Ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(e)}function kce(e){return Ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.034 8 8 119.033 8 256s111.034 248 248 248 248-111.034 248-248S392.967 8 256 8zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676zM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676z"},child:[]}]})(e)}function pc(e){return Ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(e)}function Ece(e){return Ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(e)}function Nce(e){return Ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 358.4V25.6c0-16-9.6-25.6-25.6-25.6H96C41.6 0 0 41.6 0 96v320c0 54.4 41.6 96 96 96h326.4c12.8 0 25.6-9.6 25.6-25.6v-16q0-9.6-9.6-19.2c-3.2-16-3.2-60.8 0-73.6q9.6-4.8 9.6-19.2zM144 168a8 8 0 0 1 8-8h56v-56a8 8 0 0 1 8-8h48a8 8 0 0 1 8 8v56h56a8 8 0 0 1 8 8v48a8 8 0 0 1-8 8h-56v56a8 8 0 0 1-8 8h-48a8 8 0 0 1-8-8v-56h-56a8 8 0 0 1-8-8zm236.8 280H96c-19.2 0-32-12.8-32-32s16-32 32-32h284.8z"},child:[]}]})(e)}function Is(e){return Ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function _ce(e){return Ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function Pce(e){return Ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(e)}function Dce(e){return Ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(e)}function hc(e){return Ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function e7(e){return Ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 174.8l-39.6-39.6c-9.4-9.4-24.6-9.4-33.9 0L192 374.7 80.6 263.2c-9.4-9.4-24.6-9.4-33.9 0L7 302.9c-9.4 9.4-9.4 24.6 0 34L175 505c9.4 9.4 24.6 9.4 33.9 0l296-296.2c9.4-9.5 9.4-24.7.1-34zm-324.3 106c6.2 6.3 16.4 6.3 22.6 0l208-208.2c6.2-6.3 6.2-16.4 0-22.6L366.1 4.7c-6.2-6.3-16.4-6.3-22.6 0L192 156.2l-55.4-55.5c-6.2-6.3-16.4-6.3-22.6 0L68.7 146c-6.2 6.3-6.2 16.4 0 22.6l112 112.2z"},child:[]}]})(e)}function t7(e){return Ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function of(e){return Ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"},child:[]}]})(e)}function n7(e){return Ye({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 115L69.47 307.71c-1.62 1.46-3.69 2.14-5.47 3.35V496a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V311.1c-1.7-1.16-3.72-1.82-5.26-3.2zm96 261a8 8 0 0 1-8 8h-56v56a8 8 0 0 1-8 8h-48a8 8 0 0 1-8-8v-56h-56a8 8 0 0 1-8-8v-48a8 8 0 0 1 8-8h56v-56a8 8 0 0 1 8-8h48a8 8 0 0 1 8 8v56h56a8 8 0 0 1 8 8zm186.69-139.72l-255.94-226a39.85 39.85 0 0 0-53.45 0l-256 226a16 16 0 0 0-1.21 22.6L25.5 282.7a16 16 0 0 0 22.6 1.21L277.42 81.63a16 16 0 0 1 21.17 0L527.91 283.9a16 16 0 0 0 22.6-1.21l21.4-23.82a16 16 0 0 0-1.22-22.59z"},child:[]}]})(e)}function $m(e){return Ye({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(e)}function Bz(e){return Ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(e)}function Oce(e){return Ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32zM128 272c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(e)}function $ce(e){return Ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32z"},child:[]}]})(e)}function Ice(e){return Ye({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(e)}function Rce(e){return Ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M288 130.54V112h16c8.84 0 16-7.16 16-16V80c0-8.84-7.16-16-16-16h-96c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h16v18.54C115.49 146.11 32 239.18 32 352h448c0-112.82-83.49-205.89-192-221.46zM496 384H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h480c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(e)}function Mce(e){return Ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"},child:[]}]})(e)}function zz(e){return Ye({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V256H0v176zm192-68c0-6.6 5.4-12 12-12h136c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H204c-6.6 0-12-5.4-12-12v-40zm-128 0c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM576 80v48H0V80c0-26.5 21.5-48 48-48h480c26.5 0 48 21.5 48 48z"},child:[]}]})(e)}function Lce(e){return Ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 73.143v45.714C448 159.143 347.667 192 224 192S0 159.143 0 118.857V73.143C0 32.857 100.333 0 224 0s224 32.857 224 73.143zM448 176v102.857C448 319.143 347.667 352 224 352S0 319.143 0 278.857V176c48.125 33.143 136.208 48.572 224 48.572S399.874 209.143 448 176zm0 160v102.857C448 479.143 347.667 512 224 512S0 479.143 0 438.857V336c48.125 33.143 136.208 48.572 224 48.572S399.874 369.143 448 336z"},child:[]}]})(e)}function Fce(e){return Ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function Fb(e){return Ye({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function Bce(e){return Ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function c2(e){return Ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function zce(e){return Ye({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function Uce(e){return Ye({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function wj(e){return Ye({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function Hce(e){return Ye({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128zM571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-379 28v-32c0-8.8 7.2-16 16-16h176V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V352H208c-8.8 0-16-7.2-16-16z"},child:[]}]})(e)}function Vce(e){return Ye({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M384 121.941V128H256V0h6.059a24 24 0 0 1 16.97 7.029l97.941 97.941a24.002 24.002 0 0 1 7.03 16.971zM248 160c-13.2 0-24-10.8-24-24V0H24C10.745 0 0 10.745 0 24v464c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V160H248zm-135.455 16c26.51 0 48 21.49 48 48s-21.49 48-48 48-48-21.49-48-48 21.491-48 48-48zm208 240h-256l.485-48.485L104.545 328c4.686-4.686 11.799-4.201 16.485.485L160.545 368 264.06 264.485c4.686-4.686 12.284-4.686 16.971 0L320.545 304v112z"},child:[]}]})(e)}function qce(e){return Ye({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-153 31V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 80v-16c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8zm144 263.88V440c0 4.42-3.58 8-8 8h-16c-4.42 0-8-3.58-8-8v-24.29c-11.29-.58-22.27-4.52-31.37-11.35-3.9-2.93-4.1-8.77-.57-12.14l11.75-11.21c2.77-2.64 6.89-2.76 10.13-.73 3.87 2.42 8.26 3.72 12.82 3.72h28.11c6.5 0 11.8-5.92 11.8-13.19 0-5.95-3.61-11.19-8.77-12.73l-45-13.5c-18.59-5.58-31.58-23.42-31.58-43.39 0-24.52 19.05-44.44 42.67-45.07V232c0-4.42 3.58-8 8-8h16c4.42 0 8 3.58 8 8v24.29c11.29.58 22.27 4.51 31.37 11.35 3.9 2.93 4.1 8.77.57 12.14l-11.75 11.21c-2.77 2.64-6.89 2.76-10.13.73-3.87-2.43-8.26-3.72-12.82-3.72h-28.11c-6.5 0-11.8 5.92-11.8 13.19 0 5.95 3.61 11.19 8.77 12.73l45 13.5c18.59 5.58 31.58 23.42 31.58 43.39 0 24.53-19.05 44.44-42.67 45.07z"},child:[]}]})(e)}function M8(e){return Ye({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M288 256H96v64h192v-64zm89-151L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-153 31V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 64c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8v-16zm256 304c0 4.42-3.58 8-8 8h-80c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16zm0-200v96c0 8.84-7.16 16-16 16H80c-8.84 0-16-7.16-16-16v-96c0-8.84 7.16-16 16-16h224c8.84 0 16 7.16 16 16z"},child:[]}]})(e)}function Yce(e){return Ye({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"},child:[]}]})(e)}function Hh(e){return Ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M320.2 243.8l-49.7 99.4c-6 12.1-23.4 11.7-28.9-.6l-56.9-126.3-30 71.7H60.6l182.5 186.5c7.1 7.3 18.6 7.3 25.7 0L451.4 288H342.3l-22.1-44.2zM473.7 73.9l-2.4-2.5c-51.5-52.6-135.8-52.6-187.4 0L256 100l-27.9-28.5c-51.5-52.7-135.9-52.7-187.4 0l-2.4 2.4C-10.4 123.7-12.5 203 31 256h102.4l35.9-86.2c5.4-12.9 23.6-13.2 29.4-.4l58.2 129.3 49-97.9c5.9-11.8 22.7-11.8 28.6 0l27.6 55.2H481c43.5-53 41.4-132.3-7.3-182.1z"},child:[]}]})(e)}function Wce(e){return Ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256 256-114.6 256-256S397.4 0 256 0zm112 376c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8v-88h-96v88c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V136c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v88h96v-88c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v240z"},child:[]}]})(e)}function Gce(e){return Ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 492v20H0v-20c0-6.627 5.373-12 12-12h20V120c0-13.255 10.745-24 24-24h88V24c0-13.255 10.745-24 24-24h112c13.255 0 24 10.745 24 24v72h88c13.255 0 24 10.745 24 24v360h20c6.627 0 12 5.373 12 12zM308 192h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12zm-168 64h40c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12zm104 128h-40c-6.627 0-12 5.373-12 12v84h64v-84c0-6.627-5.373-12-12-12zm64-96h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12zm-116 12c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12v-40zM182 96h26v26a6 6 0 0 0 6 6h20a6 6 0 0 0 6-6V96h26a6 6 0 0 0 6-6V70a6 6 0 0 0-6-6h-26V38a6 6 0 0 0-6-6h-20a6 6 0 0 0-6 6v26h-26a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6z"},child:[]}]})(e)}function Kce(e){return Ye({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM144 32h96c8.8 0 16 7.2 16 16s-7.2 16-16 16h-96c-8.8 0-16-7.2-16-16s7.2-16 16-16zm48 128c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zm112 236.8c0 10.6-10 19.2-22.4 19.2H102.4C90 416 80 407.4 80 396.8v-19.2c0-31.8 30.1-57.6 67.2-57.6h5c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h5c37.1 0 67.2 25.8 67.2 57.6v19.2z"},child:[]}]})(e)}function r7(e){return Ye({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 32H48C21.5 32 0 53.5 0 80v16h576V80c0-26.5-21.5-48-48-48zM0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V128H0v304zm352-232c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zM176 192c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zM67.1 396.2C75.5 370.5 99.6 352 128 352h8.2c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h8.2c28.4 0 52.5 18.5 60.9 44.2 3.2 9.9-5.2 19.8-15.6 19.8H82.7c-10.4 0-18.8-10-15.6-19.8z"},child:[]}]})(e)}function Xce(e){return Ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A23.999 23.999 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999 0 433.488-.001 512 78.511 512 176.001zM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z"},child:[]}]})(e)}function Qce(e){return Ye({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M636.11 390.15C614.44 308.85 580.07 231 534.1 159.13 511.98 124.56 498.03 96 454.05 96 415.36 96 384 125.42 384 161.71v60.11l-32.88-21.92a15.996 15.996 0 0 1-7.12-13.31V16c0-8.84-7.16-16-16-16h-16c-8.84 0-16 7.16-16 16v170.59c0 5.35-2.67 10.34-7.12 13.31L256 221.82v-60.11C256 125.42 224.64 96 185.95 96c-43.98 0-57.93 28.56-80.05 63.13C59.93 231 25.56 308.85 3.89 390.15 1.3 399.84 0 409.79 0 419.78c0 61.23 62.48 105.44 125.24 88.62l59.5-15.95c42.18-11.3 71.26-47.47 71.26-88.62v-87.49l-85.84 57.23a7.992 7.992 0 0 1-11.09-2.22l-8.88-13.31a7.992 7.992 0 0 1 2.22-11.09L320 235.23l167.59 111.72a7.994 7.994 0 0 1 2.22 11.09l-8.88 13.31a7.994 7.994 0 0 1-11.09 2.22L384 316.34v87.49c0 41.15 29.08 77.31 71.26 88.62l59.5 15.95C577.52 525.22 640 481.01 640 419.78c0-9.99-1.3-19.94-3.89-29.63z"},child:[]}]})(e)}function i7(e){return Ye({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(e)}function Zce(e){return Ye({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(e)}function Jce(e){return Ye({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M608 64H32C14.33 64 0 78.33 0 96v320c0 17.67 14.33 32 32 32h576c17.67 0 32-14.33 32-32V96c0-17.67-14.33-32-32-32zM48 400v-64c35.35 0 64 28.65 64 64H48zm0-224v-64h64c0 35.35-28.65 64-64 64zm272 176c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 48h-64c0-35.35 28.65-64 64-64v64zm0-224c-35.35 0-64-28.65-64-64h64v64z"},child:[]}]})(e)}function Qm(e){return Ye({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm96 304c0 4.4-3.6 8-8 8h-56v56c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8v-56h-56c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h56v-56c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v56h56c4.4 0 8 3.6 8 8v48zm0-192c0 4.4-3.6 8-8 8H104c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h176c4.4 0 8 3.6 8 8v16z"},child:[]}]})(e)}function Uz(e){return Ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(e)}function a7(e){return Ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(e)}function u2(e){return Ye({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M112 32C50.1 32 0 82.1 0 144v224c0 61.9 50.1 112 112 112s112-50.1 112-112V144c0-61.9-50.1-112-112-112zm48 224H64V144c0-26.5 21.5-48 48-48s48 21.5 48 48v112zm139.7-29.7c-3.5-3.5-9.4-3.1-12.3.8-45.3 62.5-40.4 150.1 15.9 206.4 56.3 56.3 143.9 61.2 206.4 15.9 4-2.9 4.3-8.8.8-12.3L299.7 226.3zm229.8-19c-56.3-56.3-143.9-61.2-206.4-15.9-4 2.9-4.3 8.8-.8 12.3l210.8 210.8c3.5 3.5 9.4 3.1 12.3-.8 45.3-62.6 40.5-150.1-15.9-206.4z"},child:[]}]})(e)}function eue(e){return Ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function Bb(e){return Ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 192V77.25c0-8.49-3.37-16.62-9.37-22.63L393.37 9.37c-6-6-14.14-9.37-22.63-9.37H96C78.33 0 64 14.33 64 32v160c-35.35 0-64 28.65-64 64v112c0 8.84 7.16 16 16 16h48v96c0 17.67 14.33 32 32 32h320c17.67 0 32-14.33 32-32v-96h48c8.84 0 16-7.16 16-16V256c0-35.35-28.65-64-64-64zm-64 256H128v-96h256v96zm0-224H128V64h192v48c0 8.84 7.16 16 16 16h48v96zm48 72c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"},child:[]}]})(e)}function tue(e){return Ye({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M358.4 3.2L320 48 265.6 3.2a15.9 15.9 0 0 0-19.2 0L192 48 137.6 3.2a15.9 15.9 0 0 0-19.2 0L64 48 25.6 3.2C15-4.7 0 2.8 0 16v480c0 13.2 15 20.7 25.6 12.8L64 464l54.4 44.8a15.9 15.9 0 0 0 19.2 0L192 464l54.4 44.8a15.9 15.9 0 0 0 19.2 0L320 464l38.4 44.8c10.5 7.9 25.6.4 25.6-12.8V16c0-13.2-15-20.7-25.6-12.8zM320 360c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h240c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h240c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h240c4.4 0 8 3.6 8 8v16z"},child:[]}]})(e)}function nue(e){return Ye({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M635.7 167.2L556.1 31.7c-8.8-15-28.3-20.1-43.5-11.5l-69 39.1L503.3 161c2.2 3.8.9 8.5-2.9 10.7l-13.8 7.8c-3.8 2.2-8.7.9-10.9-2.9L416 75l-55.2 31.3 27.9 47.4c2.2 3.8.9 8.5-2.9 10.7l-13.8 7.8c-3.8 2.2-8.7.9-10.9-2.9L333.2 122 278 153.3 337.8 255c2.2 3.7.9 8.5-2.9 10.7l-13.8 7.8c-3.8 2.2-8.7.9-10.9-2.9l-59.7-101.7-55.2 31.3 27.9 47.4c2.2 3.8.9 8.5-2.9 10.7l-13.8 7.8c-3.8 2.2-8.7.9-10.9-2.9l-27.9-47.5-55.2 31.3 59.7 101.7c2.2 3.7.9 8.5-2.9 10.7l-13.8 7.8c-3.8 2.2-8.7.9-10.9-2.9L84.9 262.9l-69 39.1C.7 310.7-4.6 329.8 4.2 344.8l79.6 135.6c8.8 15 28.3 20.1 43.5 11.5L624.1 210c15.2-8.6 20.4-27.8 11.6-42.8z"},child:[]}]})(e)}function rue(e){return Ye({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M308 96c6.627 0 12-5.373 12-12V44c0-6.627-5.373-12-12-12H12C5.373 32 0 37.373 0 44v44.748c0 6.627 5.373 12 12 12h85.28c27.308 0 48.261 9.958 60.97 27.252H12c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h158.757c-6.217 36.086-32.961 58.632-74.757 58.632H12c-6.627 0-12 5.373-12 12v53.012c0 3.349 1.4 6.546 3.861 8.818l165.052 152.356a12.001 12.001 0 0 0 8.139 3.182h82.562c10.924 0 16.166-13.408 8.139-20.818L116.871 319.906c76.499-2.34 131.144-53.395 138.318-127.906H308c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12h-58.69c-3.486-11.541-8.28-22.246-14.252-32H308z"},child:[]}]})(e)}function Sj(e){return Ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(e)}function d2(e){return Ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function iue(e){return Ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function aue(e){return Ye({attr:{viewBox:"0 0 536 512"},child:[{tag:"path",attr:{d:"M508.55 171.51L362.18 150.2 296.77 17.81C290.89 5.98 279.42 0 267.95 0c-11.4 0-22.79 5.9-28.69 17.81l-65.43 132.38-146.38 21.29c-26.25 3.8-36.77 36.09-17.74 54.59l105.89 103-25.06 145.48C86.98 495.33 103.57 512 122.15 512c4.93 0 10-1.17 14.87-3.75l130.95-68.68 130.94 68.7c4.86 2.55 9.92 3.71 14.83 3.71 18.6 0 35.22-16.61 31.66-37.4l-25.03-145.49 105.91-102.98c19.04-18.5 8.52-50.8-17.73-54.6zm-121.74 123.2l-18.12 17.62 4.28 24.88 19.52 113.45-102.13-53.59-22.38-11.74.03-317.19 51.03 103.29 11.18 22.63 25.01 3.64 114.23 16.63-82.65 80.38z"},child:[]}]})(e)}function L8(e){return Ye({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(e)}function Cj(e){return Ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M447.1 112c-34.2.5-62.3 28.4-63 62.6-.5 24.3 12.5 45.6 32 56.8V344c0 57.3-50.2 104-112 104-60 0-109.2-44.1-111.9-99.2C265 333.8 320 269.2 320 192V36.6c0-11.4-8.1-21.3-19.3-23.5L237.8.5c-13-2.6-25.6 5.8-28.2 18.8L206.4 35c-2.6 13 5.8 25.6 18.8 28.2l30.7 6.1v121.4c0 52.9-42.2 96.7-95.1 97.2-53.4.5-96.9-42.7-96.9-96V69.4l30.7-6.1c13-2.6 21.4-15.2 18.8-28.2l-3.1-15.7C107.7 6.4 95.1-2 82.1.6L19.3 13C8.1 15.3 0 25.1 0 36.6V192c0 77.3 55.1 142 128.1 156.8C130.7 439.2 208.6 512 304 512c97 0 176-75.4 176-168V231.4c19.1-11.1 32-31.7 32-55.4 0-35.7-29.2-64.5-64.9-64zm.9 80c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16z"},child:[]}]})(e)}function oue(e){return Ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M312 320h136V56c0-13.3-10.7-24-24-24H24C10.7 32 0 42.7 0 56v400c0 13.3 10.7 24 24 24h264V344c0-13.2 10.8-24 24-24zm129 55l-98 98c-4.5 4.5-10.6 7-17 7h-6V352h128v6.1c0 6.3-2.5 12.4-7 16.9z"},child:[]}]})(e)}function sue(e){return Ye({attr:{viewBox:"0 0 256 512"},child:[{tag:"path",attr:{d:"M192 384c0 35.346-28.654 64-64 64s-64-28.654-64-64c0-23.685 12.876-44.349 32-55.417V224c0-17.673 14.327-32 32-32s32 14.327 32 32v104.583c19.124 11.068 32 31.732 32 55.417zm32-84.653c19.912 22.563 32 52.194 32 84.653 0 70.696-57.303 128-128 128-.299 0-.609-.001-.909-.003C56.789 511.509-.357 453.636.002 383.333.166 351.135 12.225 321.755 32 299.347V96c0-53.019 42.981-96 96-96s96 42.981 96 96v203.347zM208 384c0-34.339-19.37-52.19-32-66.502V96c0-26.467-21.533-48-48-48S80 69.533 80 96v221.498c-12.732 14.428-31.825 32.1-31.999 66.08-.224 43.876 35.563 80.116 79.423 80.42L128 464c44.112 0 80-35.888 80-80z"},child:[]}]})(e)}function Gg(e){return Ye({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function lue(e){return Ye({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M205.22 22.09c-7.94-28.78-49.44-30.12-58.44 0C100.01 179.85 0 222.72 0 333.91 0 432.35 78.72 512 176 512s176-79.65 176-178.09c0-111.75-99.79-153.34-146.78-311.82zM176 448c-61.75 0-112-50.25-112-112 0-8.84 7.16-16 16-16s16 7.16 16 16c0 44.11 35.89 80 80 80 8.84 0 16 7.16 16 16s-7.16 16-16 16z"},child:[]}]})(e)}function cue(e){return Ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},child:[]}]})(e)}function Im(e){return Ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function uue(e){return Ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 128v16a8 8 0 0 1-8 8h-24v12c0 6.627-5.373 12-12 12H60c-6.627 0-12-5.373-12-12v-12H24a8 8 0 0 1-8-8v-16a8 8 0 0 1 4.941-7.392l232-88a7.996 7.996 0 0 1 6.118 0l232 88A8 8 0 0 1 496 128zm-24 304H40c-13.255 0-24 10.745-24 24v16a8 8 0 0 0 8 8h464a8 8 0 0 0 8-8v-16c0-13.255-10.745-24-24-24zM96 192v192H60c-6.627 0-12 5.373-12 12v20h416v-20c0-6.627-5.373-12-12-12h-36V192h-64v192h-64V192h-64v192h-64V192H96z"},child:[]}]})(e)}function due(e){return Ye({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4zm323-128.4l-27.8-28.1c-4.6-4.7-12.1-4.7-16.8-.1l-104.8 104-45.5-45.8c-4.6-4.7-12.1-4.7-16.8-.1l-28.1 27.9c-4.7 4.6-4.7 12.1-.1 16.8l81.7 82.3c4.6 4.7 12.1 4.7 16.8.1l141.3-140.2c4.6-4.7 4.7-12.2.1-16.8z"},child:[]}]})(e)}function fue(e){return Ye({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(e)}function pue(e){return Ye({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z"},child:[]}]})(e)}function hue(e){return Ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M319.4 320.6L224 416l-95.4-95.4C57.1 323.7 0 382.2 0 454.4v9.6c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-9.6c0-72.2-57.1-130.7-128.6-133.8zM13.6 79.8l6.4 1.5v58.4c-7 4.2-12 11.5-12 20.3 0 8.4 4.6 15.4 11.1 19.7L3.5 242c-1.7 6.9 2.1 14 7.6 14h41.8c5.5 0 9.3-7.1 7.6-14l-15.6-62.3C51.4 175.4 56 168.4 56 160c0-8.8-5-16.1-12-20.3V87.1l66 15.9c-8.6 17.2-14 36.4-14 57 0 70.7 57.3 128 128 128s128-57.3 128-128c0-20.6-5.3-39.8-14-57l96.3-23.2c18.2-4.4 18.2-27.1 0-31.5l-190.4-46c-13-3.1-26.7-3.1-39.7 0L13.6 48.2c-18.1 4.4-18.1 27.2 0 31.6z"},child:[]}]})(e)}function mue(e){return Ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M277.37 11.98C261.08 4.47 243.11 0 224 0c-53.69 0-99.5 33.13-118.51 80h81.19l90.69-68.02zM342.51 80c-7.9-19.47-20.67-36.2-36.49-49.52L239.99 80h102.52zM224 256c70.69 0 128-57.31 128-128 0-5.48-.95-10.7-1.61-16H97.61c-.67 5.3-1.61 10.52-1.61 16 0 70.69 57.31 128 128 128zM80 299.7V512h128.26l-98.45-221.52A132.835 132.835 0 0 0 80 299.7zM0 464c0 26.51 21.49 48 48 48V320.24C18.88 344.89 0 381.26 0 422.4V464zm256-48h-55.38l42.67 96H256c26.47 0 48-21.53 48-48s-21.53-48-48-48zm57.6-128h-16.71c-22.24 10.18-46.88 16-72.89 16s-50.65-5.82-72.89-16h-7.37l42.67 96H256c44.11 0 80 35.89 80 80 0 18.08-6.26 34.59-16.41 48H400c26.51 0 48-21.49 48-48v-41.6c0-74.23-60.17-134.4-134.4-134.4z"},child:[]}]})(e)}function Kg(e){return Ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zM104 424c0 13.3 10.7 24 24 24s24-10.7 24-24-10.7-24-24-24-24 10.7-24 24zm216-135.4v49c36.5 7.4 64 39.8 64 78.4v41.7c0 7.6-5.4 14.2-12.9 15.7l-32.2 6.4c-4.3.9-8.5-1.9-9.4-6.3l-3.1-15.7c-.9-4.3 1.9-8.6 6.3-9.4l19.3-3.9V416c0-62.8-96-65.1-96 1.9v26.7l19.3 3.9c4.3.9 7.1 5.1 6.3 9.4l-3.1 15.7c-.9 4.3-5.1 7.1-9.4 6.3l-31.2-4.2c-7.9-1.1-13.8-7.8-13.8-15.9V416c0-38.6 27.5-70.9 64-78.4v-45.2c-2.2.7-4.4 1.1-6.6 1.9-18 6.3-37.3 9.8-57.4 9.8s-39.4-3.5-57.4-9.8c-7.4-2.6-14.9-4.2-22.6-5.2v81.6c23.1 6.9 40 28.1 40 53.4 0 30.9-25.1 56-56 56s-56-25.1-56-56c0-25.3 16.9-46.5 40-53.4v-80.4C48.5 301 0 355.8 0 422.4v44.8C0 491.9 20.1 512 44.8 512h358.4c24.7 0 44.8-20.1 44.8-44.8v-44.8c0-72-56.8-130.3-128-133.8z"},child:[]}]})(e)}function gue(e){return Ye({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function O3(e){return Ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function yue(e){return Ye({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}function vue(e){return Ye({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M564 0h-79c-10.7 0-16 12.9-8.5 20.5l16.9 16.9-48.7 48.7C422.5 72.1 396.2 64 368 64c-33.7 0-64.6 11.6-89.2 30.9 14 16.7 25 36 32.1 57.1 14.5-14.8 34.7-24 57.1-24 44.1 0 80 35.9 80 80s-35.9 80-80 80c-22.3 0-42.6-9.2-57.1-24-7.1 21.1-18 40.4-32.1 57.1 24.5 19.4 55.5 30.9 89.2 30.9 79.5 0 144-64.5 144-144 0-28.2-8.1-54.5-22.1-76.7l48.7-48.7 16.9 16.9c2.4 2.4 5.4 3.5 8.4 3.5 6.2 0 12.1-4.8 12.1-12V12c0-6.6-5.4-12-12-12zM144 64C64.5 64 0 128.5 0 208c0 68.5 47.9 125.9 112 140.4V400H76c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h36v36c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12v-36h36c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-36v-51.6c64.1-14.6 112-71.9 112-140.4 0-79.5-64.5-144-144-144zm0 224c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(e)}function bue(e){return Ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 64h-25.98C438.44 92.28 448 125.01 448 160c0 105.87-86.13 192-192 192S64 265.87 64 160c0-34.99 9.56-67.72 25.98-96H64C28.71 64 0 92.71 0 128v320c0 35.29 28.71 64 64 64h384c35.29 0 64-28.71 64-64V128c0-35.29-28.71-64-64-64zM256 320c88.37 0 160-71.63 160-160S344.37 0 256 0 96 71.63 96 160s71.63 160 160 160zm-.3-151.94l33.58-78.36c3.5-8.17 12.94-11.92 21.03-8.41 8.12 3.48 11.88 12.89 8.41 21l-33.67 78.55C291.73 188 296 197.45 296 208c0 22.09-17.91 40-40 40s-40-17.91-40-40c0-21.98 17.76-39.77 39.7-39.94z"},child:[]}]})(e)}function o7(e){return Ye({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z"},child:[]}]})(e)}const xue=({value:e,valueLength:t=6,onChange:n})=>{const r=w.useRef([]),i=(e||"").split("");for(;i.length<t;)i.push("");const a=(f,p,m)=>{const g=f.split("");return g[p]=m,g.join("")},s=(f,p)=>{const g=p.target.value.replace(/\D/g,"");if(!g){const j=a(e,f,"");n(j);return}let v=e||"".padEnd(t," "),b=f;for(let j=0;j<g.length&&b<t;j++)v=a(v,b,g[j]),b++;v=v.replace(/ /g,""),n(v);const C=Math.min(f+g.length,t-1);r.current[C]&&(r.current[C].focus(),r.current[C].select())},c=(f,p)=>{if(p.key==="Backspace")if(i[f]){const m=a(e,f,"");n(m.replace(/ /g,""))}else f>0&&r.current[f-1]&&r.current[f-1].focus();p.key==="ArrowLeft"&&f>0&&r.current[f-1]&&(p.preventDefault(),r.current[f-1].focus()),p.key==="ArrowRight"&&f<t-1&&r.current[f+1]&&(p.preventDefault(),r.current[f+1].focus())},d=(f,p)=>{p.preventDefault();const m=p.clipboardData.getData("text").replace(/\D/g,"");if(!m)return;let g=e||"".padEnd(t," "),v=f;for(let C=0;C<m.length&&v<t;C++)g=a(g,v,m[C]),v++;g=g.replace(/ /g,""),n(g);const b=Math.min(f+m.length-1,t-1);r.current[b]&&(r.current[b].focus(),r.current[b].select())};return o.jsx("div",{style:rt.otpContainer,children:i.map((f,p)=>o.jsx("input",{ref:m=>r.current[p]=m,type:"text",inputMode:"numeric",maxLength:1,value:f,onChange:m=>s(p,m),onKeyDown:m=>c(p,m),onPaste:m=>d(p,m),style:{...rt.otpBox,textAlign:"center",fontSize:"2rem",fontWeight:"700",color:"#186476",lineHeight:"65px",background:"#fff",border:"2px solid #3fa3b9",outline:"none"}},p))})},$3=()=>{const[e,t]=w.useState(null),[n,r]=w.useState(""),[i,a]=w.useState(""),[s,c]=w.useState(""),[d,f]=w.useState(""),[p,m]=w.useState(""),[g,v]=w.useState(!1),[b,C]=w.useState(!1),[j,A]=w.useState(!1),[k,E]=w.useState(30),[P,$]=w.useState(!1),F=wt(),O=Fn(),{loading:_,error:D,user:L}=qe(z=>z.auth);w.useRef(!1);const R=w.useRef(null);w.useEffect(()=>()=>F(SF()),[F]),w.useEffect(()=>{if(!(!L||!e))if(e==="doctor"){const z=L?.subscription?.status==="active"||L?.hasActiveSubscription===!0;O(z?"/clinic-management":"/subscription")}else e==="receptionist"&&(localStorage.getItem("clinicId")||localStorage.getItem("selectedClinicId")?O("/receptionist-dashboard"):c("Clinic not assigned. Please contact admin."))},[L,e,O]),w.useEffect(()=>(g&&k>0?R.current=setTimeout(()=>E(k-1),1e3):clearTimeout(R.current),()=>clearTimeout(R.current)),[g,k]);const M=async()=>{c("");try{const V=await(await boe(hce,mce)).user.getIdToken(),Z=await F(N1({token:V,role:"doctor"})).unwrap();Z?.doctor?._id&&(localStorage.setItem("doctorId",Z.doctor._id),console.log("Doctor ID stored:",Z.doctor._id))}catch(z){c(z?.message||"Google login failed")}},H=async()=>{if(!d||!/^\S+@\S+\.\S+$/.test(d)){c("Please enter a valid email");return}C(!0),c("");try{await F(D1({contact:d,role:"doctor"})).unwrap(),v(!0),E(30),$(!0),setTimeout(()=>$(!1),2e3)}catch(z){c(z||"Failed to send OTP")}finally{C(!1)}},W=async()=>{if(!d)return c("Email missing.");try{C(!0),c(""),await F(dm({contact:d.trim(),role:"doctor"})).unwrap(),E(30)}catch(z){c(z||"Failed to resend OTP")}finally{C(!1)}},fe=async z=>{if(z.preventDefault(),p.length!==6)return c("Enter 6-digit OTP");A(!0),c("");try{const V=await F(O1({contact:d.trim(),code:p,role:"doctor"})).unwrap(),Z=V?.accessToken||V?.token||V?.data?.accessToken||null;Z&&(F(Ri(Z)),sn(Z),localStorage.setItem("role",V.user.role),localStorage.setItem("token",Z));const re=await F(ko()).unwrap(),me=re.user||re.doctor||re;if(me){F(Sb(me));const Pe=me._id||me.id;Pe&&localStorage.setItem("doctorId",String(Pe));const X=me?.clinicId||me?.clinic?.id||me?.clinic?._id;X&&(localStorage.setItem("clinicId",String(X)),localStorage.setItem("selectedClinicId",String(X)))}const ge=re?.user?.subscription?.status==="active"||re?.subscription?.status==="active"||re?.user?.hasActiveSubscription;O(ge?"/clinic-management":"/subscription")}catch(V){console.error("Login failed:",V),c(V?.message||"Invalid or expired OTP")}finally{A(!1)}},q=async z=>{if(z.preventDefault(),c(""),!n.trim())return c("Please enter ID or Email");if(!i||i.length<4)return c("Password too short");try{const V=await fetch("https://api.mediscript.in/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({identifier:n,password:i})}),Z=await V.json();if(!V.ok)throw new Error(Z.message||"Login failed");const{user:re,accessToken:me}=Z,ge=re?.clinicId||re?.clinic?.id||re?.clinic?._id;if(console.log("Clinicc_ID",ge),!ge)return c("Clinic not assigned");F(Ri(me)),F(Sb(re)),sn(me),localStorage.setItem("role",re.role),localStorage.setItem("clinicId",String(ge)),O("/receptionist-dashboard")}catch(V){c(V.message||"Invalid credentials")}},te=()=>{t(null),r(""),a(""),f(""),m(""),v(!1),E(30),c(""),F(vf())},K=()=>O("/signup");return e?e==="doctor"?o.jsxs("div",{style:rt.container,children:[o.jsxs("div",{style:rt.formContainer,children:[o.jsxs("div",{style:rt.header,children:[o.jsx("img",{src:Om,alt:"MediScript Logo",style:rt.logo}),o.jsx("h2",{style:rt.title,children:"Doctor Login"})]}),(D||s)&&o.jsx("div",{style:rt.errorContainer,children:o.jsx("p",{style:rt.error,children:D||s})}),g?o.jsxs("form",{onSubmit:fe,children:[o.jsxs("div",{style:rt.formGroup,children:[o.jsx("label",{style:rt.label,children:"Enter OTP"}),o.jsxs("p",{style:{fontSize:"0.9rem",color:"#555",marginBottom:"0.5rem"},children:["Sent to ",o.jsx("strong",{children:d})]}),o.jsx(xue,{length:6,value:p,onChange:z=>m(z)})]}),o.jsx("div",{style:{textAlign:"center",margin:"0.5rem 0"},children:k>0?o.jsxs("span",{style:{color:"#666"},children:["Resend in ",k,"s"]}):o.jsx("button",{type:"button",onClick:W,disabled:b,style:{...rt.signupButton,opacity:b?.6:1},children:b?"Resending...":"Resend OTP"})}),o.jsxs("div",{style:rt.buttonContainer,children:[o.jsx("button",{type:"button",onClick:()=>{v(!1),m(""),E(30)},style:{...rt.button,background:"#6b7280"},children:"Back"}),o.jsx("button",{type:"submit",disabled:j||p.length!==6,style:rt.button,children:j?"Verifying...":"Verify & Login"})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{style:rt.formGroup,children:[o.jsx("label",{style:rt.label,children:"Email"}),o.jsx("input",{type:"email",placeholder:"Enter your email",value:d,onChange:z=>f(z.target.value),style:rt.input,disabled:b})]}),o.jsx("div",{style:{margin:"1rem 0",textAlign:"center"},children:o.jsxs("button",{onClick:M,disabled:_||b,style:rt.googleButton,children:[o.jsx("img",{src:vce,alt:"Google",style:rt.googleIcon}),o.jsx("span",{children:_?"Logging in...":"Continue with Google"})]})}),o.jsx("button",{onClick:H,disabled:b||!d,style:{...rt.button,borderRadius:"999px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",opacity:b||!d?.6:1},children:b?o.jsxs(o.Fragment,{children:[o.jsx("span",{style:rt.loader}),"Sending OTP..."]}):"Send OTP"})]}),o.jsx("div",{style:rt.buttonContainer,children:o.jsx("button",{type:"button",onClick:te,style:{...rt.button,background:"#6b7280"},children:"Back to Roles"})}),o.jsxs("div",{style:rt.signupContainer,children:[o.jsx("p",{style:rt.signupText,children:"Don't have an account?"}),o.jsx("button",{onClick:K,style:rt.signupButton,children:"Sign Up"})]})]}),P&&o.jsx("div",{style:rt.popupOverlay,children:o.jsxs("div",{style:rt.popupBox,children:[o.jsx(hc,{size:48,color:"#16a34a"}),o.jsx("h3",{style:{marginTop:"0.75rem",color:"#186476"},children:"OTP Sent Successfully"}),o.jsx("p",{style:{fontSize:"0.9rem",color:"#555"},children:"Please check your email"})]})})]}):o.jsx("div",{style:rt.container,children:o.jsxs("div",{style:rt.formContainer,children:[o.jsxs("div",{style:rt.header,children:[o.jsx("img",{src:Om,alt:"MediScript Logo",style:rt.logo}),o.jsx("h2",{style:rt.title,children:"Receptionist Login"})]}),(D||s)&&o.jsx("div",{style:rt.errorContainer,children:o.jsx("p",{style:rt.error,children:D||s})}),o.jsxs("form",{onSubmit:q,style:{width:"100%"},children:[o.jsxs("div",{style:rt.formGroup,children:[o.jsx("label",{style:rt.label,children:"Number"}),o.jsx("input",{type:"number",placeholder:"Enter your number ",value:n,onChange:z=>r(z.target.value),style:rt.input,disabled:_,required:!0})]}),o.jsxs("div",{style:rt.formGroup,children:[o.jsx("label",{style:rt.label,children:"Password"}),o.jsx("input",{type:"password",placeholder:"Enter your password",value:i,onChange:z=>a(z.target.value),style:rt.input,disabled:_,required:!0})]}),o.jsxs("div",{style:rt.buttonContainer,children:[o.jsx("button",{type:"button",onClick:te,style:{...rt.button,background:"#6b7280"},disabled:_,children:"Back"}),o.jsx("button",{type:"submit",style:rt.button,disabled:_,children:_?"Logging in...":"Login"})]})]}),o.jsxs("div",{style:rt.signupContainer,children:[o.jsx("p",{style:rt.signupText,children:"Don't have an account?"}),o.jsx("button",{onClick:K,style:rt.signupButton,children:"Sign Up"})]})]})}):o.jsx("div",{style:rt.container,children:o.jsxs("div",{style:rt.formContainer,children:[o.jsx("div",{style:rt.header,children:o.jsx("img",{src:Om,alt:"MediScript Logo",style:rt.logo})}),o.jsx("h3",{style:rt.roleSelectionTitle,children:"Select Your Role"}),o.jsxs("div",{style:rt.roleCardContainer,children:[o.jsxs("div",{style:rt.roleCard,onClick:()=>t("doctor"),children:[o.jsx("img",{src:gce,alt:"Doctor",style:rt.roleImg}),o.jsx("h4",{children:"Doctor"})]}),o.jsxs("div",{style:rt.roleCard,onClick:()=>t("receptionist"),children:[o.jsx("img",{src:yce,alt:"Receptionist",style:rt.roleImg}),o.jsx("h4",{children:"Receptionist"})]})]}),e==="doctor"&&o.jsxs("div",{style:rt.openBox,children:[o.jsx("h2",{children:"Doctor Panel"}),o.jsx("p",{children:"Doctor ka content yahan show hoga."})]}),e==="receptionist"&&o.jsxs("div",{style:rt.openBox,children:[o.jsx("h2",{children:"Receptionist Panel"}),o.jsx("p",{children:"Receptionist ka content yahan show hoga."})]}),o.jsxs("div",{style:rt.signupContainer,children:[o.jsx("p",{style:rt.signupText,children:"Don't have an account?"}),o.jsx("button",{onClick:K,style:rt.signupButton,children:"Sign Up"})]})]})})},rt={container:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",background:"linear-gradient(135deg, #e3f2fd, #a3dfe49f)"},formContainer:{background:"#fff",padding:"2rem",borderRadius:"16px",width:"100%",maxWidth:"400px",boxShadow:"0 10px 30px rgba(0,0,0,0.1)"},popupOverlay:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.4)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},popupBox:{background:"#fff",padding:"2rem",borderRadius:"16px",textAlign:"center",width:"90%",maxWidth:"320px",boxShadow:"0 10px 30px rgba(0,0,0,0.2)"},roleSelectionTitle:{textAlign:"center",marginBottom:"1rem"},header:{textAlign:"center",marginBottom:"1rem"},logo:{height:"80px"},title:{color:"#186476",fontSize:"1.75rem",fontWeight:"700"},formGroup:{marginBottom:"1rem"},label:{display:"block",color:"#186476",marginBottom:"0.5rem"},input:{width:"100%",padding:"0.85rem",borderRadius:"8px",border:"1px solid #3fa3b9",fontSize:"1rem",boxSizing:"border-box"},button:{width:"100%",padding:"0.85rem",border:"none",borderRadius:"8px",background:"#186476",color:"#fff",fontWeight:"600",cursor:"pointer"},buttonContainer:{display:"flex",gap:"0.75rem",marginTop:"1rem"},errorContainer:{background:"#fef2f2",color:"#dc2626",padding:"0.75rem",borderRadius:"8px",marginBottom:"1rem",textAlign:"center"},signupContainer:{textAlign:"center",marginTop:"1rem"},signupText:{color:"#186476"},signupButton:{background:"none",border:"none",color:"#186476",textDecoration:"underline",cursor:"pointer",fontWeight:"600"},otpContainer:{display:"flex",justifyContent:"center",gap:"0.75rem",marginTop:"0.5rem",marginBottom:"0.5rem"},otpBox:{width:"55px",height:"65px",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",background:"#fff"},roleCardContainer:{display:"flex",justifyContent:"space-between",gap:"1rem",margin:"1.5rem 0"},roleCard:{width:"48%",padding:"1rem",borderRadius:"12px",background:"#ffffff",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",cursor:"pointer",textAlign:"center",transition:"0.2s"},roleImg:{width:"80px",height:"80px",objectFit:"contain",marginBottom:"0.5rem"},googleButton:{width:"100%",padding:"0.85rem",border:"1px solid #dadce0",borderRadius:"8px",background:"#fff",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.75rem",fontSize:"1rem",cursor:"pointer",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},googleIcon:{width:"22px",height:"22px"}},Xg=({isOpen:e,title:t,message:n,onClose:r,type:i="info"})=>{if(w.useEffect(()=>{if(!e)return;const f=setTimeout(()=>{r()},3e3);return()=>clearTimeout(f)},[e,r]),!e)return null;const a={success:"#27ae60",error:"#e74c3c",warning:"#f39c12",info:"#3498db"},s={success:"#d5f5e3",error:"#fadbd8",warning:"#fef5e1",info:"#d6eaf8"},c=a[i]||"#3498db",d=s[i]||"#d6eaf8";return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"top-right-dialog-wrapper",children:o.jsxs("div",{className:"top-right-dialog",style:{borderLeft:`4px solid ${c}`,background:d,animation:"slideInRight 0.3s ease-out, fadeOut 0.5s ease 2.5s forwards"},children:[o.jsxs("div",{className:"top-right-dialog-header",children:[o.jsx("strong",{style:{color:c},children:t}),o.jsx("button",{onClick:r,className:"top-right-dialog-close",children:o.jsx(Gg,{size:14})})]}),o.jsx("div",{className:"top-right-dialog-body",children:o.jsx("p",{style:{margin:0,color:"#2c3e50",fontSize:"0.95rem"},children:n})})]})}),o.jsx("style",{children:`
        .top-right-dialog-wrapper {
          position: fixed;
          top: 20px;
          right: 20px;
          z-index: 10000;
          pointer-events: none;
        }

        .top-right-dialog {
          width: 320px;
          max-width: 90vw;
          background: white;
          border-radius: 8px;
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
          padding: 16px;
          pointer-events: auto;
          font-family: 'Segoe UI', sans-serif;
        }

        .top-right-dialog-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 8px;
        }

        .top-right-dialog-close {
          background: none;
          border: none;
          cursor: pointer;
          color: #888;
          padding: 2px;
          border-radius: 4px;
        }

        .top-right-dialog-close:hover {
          background: #eee;
          color: #333;
        }

        @keyframes slideInRight {
          from { transform: translateX(100%); opacity: 0; }
          to { transform: translateX(0); opacity: 1; }
        }

        @keyframes fadeOut {
          to { opacity: 0; transform: translateX(100%); }
        }

        @media (max-width: 480px) {
          .top-right-dialog-wrapper {
            top: 10px;
            right: 10px;
            left: 10px;
          }
          .top-right-dialog {
            width: auto;
          }
        }
      `})]})},wue=({isOpen:e,onClose:t})=>e?o.jsx("div",{className:"modal-backdrop",children:o.jsxs("div",{className:"modal-box",children:[o.jsx("h2",{children:"Terms & Conditions"}),o.jsxs("div",{className:"modal-content",children:[o.jsx("p",{children:"I, the undersigned User, hereby provide this unconditional and irrevocable legal undertaking to Mediscript of my own free will and after fully understanding the nature, scope, and implications of every clause stated herein."}),o.jsx("h3",{children:"1. Nature of the Platform"}),o.jsxs("p",{children:["I acknowledge that Mediscript is a software and educational platform. It provides digital assistance, documentation tools, and learning resources, and does ",o.jsx("strong",{children:"not"})," provide:"]}),o.jsxs("ul",{children:[o.jsx("li",{children:"medical advice"}),o.jsx("li",{children:"clinical evaluation or diagnosis"}),o.jsx("li",{children:"treatment or therapeutic guidance"}),o.jsx("li",{children:"emergency support or healthcare services"})]}),o.jsx("p",{children:"Any content or output generated is general, educational, and may contain inaccuracies. It must not be interpreted as professional medical guidance."}),o.jsx("h3",{children:"2. Responsibilities of Registered Medical Practitioners"}),o.jsx("p",{children:"If I am an MBBS, BAMS, or BHMS practitioner, I am solely and fully responsible for all medical decisions, prescriptions, dosages, investigations, diagnoses, certificates, and treatment outcomes."}),o.jsx("p",{children:"Mediscript has no role in the doctorpatient relationship and cannot be held liable for medical errors or adverse outcomes."}),o.jsx("h3",{children:"3. Responsibilities of Students"}),o.jsx("p",{children:"If I am a student, I shall use Mediscript strictly for academic study and not for treating or prescribing real patients. Any unsupervised medical activity is my own responsibility."}),o.jsx("h3",{children:"4. Verification of Medical Information"}),o.jsx("p",{children:"I shall independently verify all medical information from recognized authoritative sources. Mediscript does not guarantee accuracy, completeness, or clinical appropriateness."}),o.jsx("h3",{children:"5. Limitation of Liability"}),o.jsx("p",{children:"I waive all claims against Mediscript for any damages or outcomes arising from my usage of the platform. Mediscripts total cumulative liability shall not exceed:"}),o.jsx("p",{children:o.jsx("strong",{children:"1 (Indian Rupee One)"})}),o.jsx("h3",{children:"6. Indemnification"}),o.jsx("p",{children:"I agree to indemnify and hold Mediscript harmless against any claims, complaints, lawsuits, regulatory actions, or losses arising due to my conduct, misuse, or negligence."}),o.jsx("h3",{children:"7. Intellectual Property"}),o.jsx("p",{children:"All software, logic, algorithms, templates, UI/UX, data structures, written content, brand elements, and proprietary innovations belong solely to Mediscript."}),o.jsx("p",{children:"I shall not copy, extract, reverse-engineer, reproduce, distribute, or use Mediscripts IP for competitive software or platforms."}),o.jsx("h3",{children:"8. Data Usage"}),o.jsx("p",{children:"I consent to data processing under the Digital Personal Data Protection Act, 2023, and IT Act, 2000. Mediscript is not liable for breaches caused by device theft, weak passwords, or external attacks beyond reasonable control."}),o.jsx("h3",{children:"9. Prohibited Activities"}),o.jsx("p",{children:"I agree that I shall not:"}),o.jsxs("ul",{children:[o.jsx("li",{children:"use Mediscript for illegal or unethical purposes"}),o.jsx("li",{children:"impersonate a doctor or regulatory authority"}),o.jsx("li",{children:"falsify medical data"}),o.jsx("li",{children:"violate NMC / NCISM / Homoeopathy Council rules"})]}),o.jsx("p",{children:"Any misuse may result in immediate account termination without notice."}),o.jsx("h3",{children:"10. Waiver of Legal Action"}),o.jsx("p",{children:"I irrevocably agree not to initiate or support any legal complaint, consumer dispute, civil or criminal proceeding against Mediscript relating to my use of the platform."}),o.jsx("h3",{children:"11. Governing Law"}),o.jsxs("p",{children:["These terms are governed exclusively by the laws of India. All disputes fall strictly under the jurisdiction of the courts of",o.jsx("strong",{children:" Ahmedabad, Gujarat"}),"."]})]}),o.jsx("button",{onClick:t,className:"close-btn",children:"Close"}),o.jsx("style",{jsx:!0,children:`
          .modal-backdrop {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.55);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
          }
          .modal-box {
            background: #fff;
            padding: 28px;
            width: 92%;
            max-width: 750px;
            border-radius: 14px;
            max-height: 85vh;
            overflow-y: auto;
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
          }
          h2 {
            margin-bottom: 12px;
          }
          h3 {
            margin-top: 18px;
            color: #186476;
            font-size: 1.05rem;
            font-weight: 600;
          }
          .modal-content {
            margin-top: 10px;
            color: #333;
            line-height: 1.65;
            font-size: 0.95rem;
          }
          ul {
            margin-left: 20px;
            list-style: disc;
          }
          .close-btn {
            margin-top: 20px;
            background: #186476;
            border: none;
            padding: 12px 22px;
            color: white;
            font-weight: 600;
            border-radius: 8px;
            cursor: pointer;
          }
        `})]})}):null,s7=({length:e=6,value:t="",onChange:n})=>{const r=w.useRef([]),i=()=>{const f=(t||"").split("");for(;f.length<e;)f.push("");return f};w.useEffect(()=>{r.current[0]&&r.current[0].focus()},[]);const a=(f,p)=>{const m=p.target.value.replace(/\D/g,""),g=m?m.slice(-1):"",v=i();v[f]=g;const b=v.join("");n(b),g&&f<e-1&&r.current[f+1]?.focus()},s=(f,p)=>{const m=i();p.key==="Backspace"?(p.preventDefault(),m[f]?(m[f]="",n(m.join(""))):f>0&&(r.current[f-1]?.focus(),m[f-1]="",n(m.join("")))):p.key==="ArrowLeft"&&f>0?(p.preventDefault(),r.current[f-1]?.focus()):p.key==="ArrowRight"&&f<e-1&&(p.preventDefault(),r.current[f+1]?.focus())},c=(f,p)=>{p.preventDefault();const m=p.clipboardData.getData("text").replace(/\D/g,"").slice(0,e);if(!m)return;const g=i();for(let b=0;b<m.length&&f+b<e;b++)g[f+b]=m[b];n(g.join(""));const v=Math.min(e-1,f+m.length-1);r.current[v]?.focus()},d=i();return o.jsx("div",{className:"otp-container",children:Array.from({length:e}).map((f,p)=>o.jsx("div",{className:"otp-box",children:o.jsx("input",{ref:m=>r.current[p]=m,className:"otp-digit",type:"number",inputMode:"numeric",maxLength:1,value:d[p]||"",onChange:m=>a(p,m),onKeyDown:m=>s(p,m),onPaste:m=>c(p,m),"aria-label":`OTP digit ${p+1}`})},p))})},Sue=()=>{const e=wt(),t=Fn(),{loading:n,error:r,signupOtpRequested:i,signupOtpVerified:a}=qe(ze=>ze.auth),[s,c]=w.useState(1),[d,f]=w.useState(0),[p,m]=w.useState(!1),[g,v]=w.useState({name:"",email:"",phone:""}),[b,C]=w.useState("doctor"),[j,A]=w.useState(!1),[k,E]=w.useState(!1),[P,$]=w.useState(""),[F,O]=w.useState(null),[_,D]=w.useState(!1),[L,R]=w.useState(null),[M,H]=w.useState(!1),[W,fe]=w.useState([{degree:"",specialization:"",registrationNumber:"",certificate:null}]),[q,te]=w.useState({registrationProof:null,provisionalCertificate:null,internshipCertificate:null,clinicCard:null}),[K,z]=w.useState(""),[V,Z]=w.useState({isOpen:!1,title:"",message:"",type:"info"}),[re,me]=w.useState(null),[ge,Pe]=w.useState(""),X=(ze,pe,ke="info")=>{Z({isOpen:!0,title:ze,message:pe,type:ke})},J=()=>Z({...V,isOpen:!1});w.useEffect(()=>{if(d>0){const ze=setTimeout(()=>f(d-1),1e3);return()=>clearTimeout(ze)}},[d]),w.useEffect(()=>()=>e(SF()),[e]);const ce=ze=>{let{name:pe,value:ke}=ze.target;pe==="name"&&(ke=ke.replace(/[^a-zA-Z ]/g,""),ke=ke.replace(/\s+/g," "),ke=ke.split(" ").map(st=>st?st.charAt(0).toUpperCase()+st.slice(1).toLowerCase():"").join(" ")),pe==="email"&&(ke=ke.toLowerCase(),ke=ke.replace(/\s/g,""),ke=ke.replace(/[^a-z0-9@._-]/g,"")),!(pe==="phone"&&(!/^\d*$/.test(ke)||ke.length>10||ke.length>0&&!/^[6-9]/.test(ke)))&&v(st=>({...st,[pe]:ke}))},ae=()=>{fe([...W,{degree:"",specialization:"",registrationNumber:"",certificate:null}])},ne=ze=>{W.length>1&&fe(W.filter((pe,ke)=>ke!==ze))},G=(ze,pe,ke)=>{const st=[...W];st[ze][pe]=ke,fe(st)},ee=(ze,pe)=>{const ke=[...W];ke[ze].certificate=pe,fe(ke)},ue=(ze,pe)=>{te(ke=>({...ke,[ze]:pe}))},Ae=()=>g.name.trim()?/^\S+@\S+\.\S+$/.test(g.email)?/^[6-9]\d{9}$/.test(g.phone)?null:"Enter a valid 10-digit Indian mobile number":"Valid email is required":"Full name is required",Ie=async()=>{if(P.length!==12)return X("Invalid","Enter valid 12-digit Aadhaar number","error");m(!0);try{const ze=await e($1({aadhaarNumber:P})).unwrap();m(!1),me(ze.txnId),X("OTP Sent","Aadhaar OTP sent to your registered mobile","success"),D(!0)}catch(ze){m(!1),X("Failed",ze||"Unable to generate Aadhaar OTP","error")}},De=({file:ze})=>{const[pe,ke]=w.useState(!1);if(!ze)return null;const st=URL.createObjectURL(ze),ie=ze.type.startsWith("image/"),we=ze.type==="application/pdf";return w.useEffect(()=>{const Ue=le=>{le.key==="Escape"&&ke(!1)};return window.addEventListener("keydown",Ue),()=>window.removeEventListener("keydown",Ue)},[]),o.jsxs("div",{style:{marginTop:"6px"},children:[o.jsxs("span",{style:{color:"#155b6c",textDecoration:"underline",cursor:"pointer",fontWeight:600},onClick:()=>ke(!0),children:[" ",ze.name]}),pe&&o.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:5e3},onClick:()=>ke(!1),children:o.jsxs("div",{onClick:Ue=>Ue.stopPropagation(),style:{background:"white",padding:"20px",borderRadius:"12px",maxWidth:"90%",maxHeight:"90%",position:"relative",boxShadow:"0 8px 20px rgba(0,0,0,0.25)"},children:[o.jsx("button",{onClick:()=>ke(!1),style:{position:"absolute",top:"10px",right:"10px",background:"#e63946",color:"white",border:"none",borderRadius:"50%",width:"32px",height:"32px",fontSize:"18px",cursor:"pointer"},children:""}),ie&&o.jsx("img",{src:st,alt:"Preview",style:{maxWidth:"100%",maxHeight:"80vh",borderRadius:"8px"}}),we&&o.jsx("a",{href:st,target:"_blank",rel:"noopener noreferrer",style:{fontSize:"18px",color:"#155b6c",textDecoration:"underline"},children:"Open PDF in new tab"})]})})]})},ye=async()=>{if(ge.length!==6)return X("Invalid OTP","Enter 6-digit Aadhaar OTP","error");try{const ze=await e(I1({txnId:re,otp:ge})).unwrap();R(ze?.verificationId),H(!0),D(!1),X("Success","Aadhaar verified successfully!","success"),D(!1)}catch(ze){X("Failed",ze||"Wrong Aadhaar OTP","error")}},Oe=async()=>{const ze=Ae();if(ze)return X("Invalid Input",ze,"error");try{const pe=await e(zee({email:g.email,phone:g.phone})).unwrap();if(pe.exists)return X("User Already Exists",`Account already exists with this ${pe.data?.email?"email":"phone"}.
Role: ${pe.role}`,"error");b==="doctor"?c(2):Re()}catch(pe){X("Error",pe||"Unable to check user","error")}},Re=async()=>{try{const ze={name:g.name.trim(),email:g.email.toLowerCase().trim(),phone:g.phone.trim(),role:b,verificationId:L};b==="doctor"&&(ze.aadhaarNumber=P,ze.aadhaarFile=F,ze.degrees=W.map(pe=>({degree:pe.degree.trim(),specialization:pe.specialization.trim(),registrationNumber:pe.registrationNumber.trim(),registrationYear:pe.registrationYear.trim()})),ze.degreeCertificates=W.map(pe=>pe.certificate),ze.registrationProof=q.registrationProof||null,ze.provisionalCertificate=q.provisionalCertificate||null,ze.internshipCertificate=q.internshipCertificate||null,ze.clinicCard=q.clinicCard||null),await e(_1(ze)).unwrap(),c(3),f(30),X("OTP Sent",`Verification code sent to ${g.email}`,"success")}catch(ze){X("Registration Failed",ze||"Registration failed. Please try again.","error")}},it=async()=>{if(K.length!==6)return X("Invalid OTP","Please enter 6-digit code","error");try{const ze=await e(P1({otpData:{contact:g.email,code:K}})).unwrap();ze?.user?.id&&(localStorage.setItem("doctorId",ze.user.id),console.log("Doctor ID Stored After Registration:",ze.user.id)),X("Verified!","Account created successfully! Redirecting...","success"),t("/subscription",{replace:!0})}catch(ze){X("Invalid OTP",ze||"Wrong OTP. Try again.","error")}},ut=async()=>{try{if(d>0)return;f(30);const ze=await e(dm({contact:g.email,role:b})).unwrap();X("OTP Sent",ze.message,"success"),console.log("Resent OTP:",ze.otp)}catch(ze){X("Failed",ze||"Unable to resend OTP","error")}};return o.jsxs(o.Fragment,{children:[o.jsx(Xg,{isOpen:V.isOpen,title:V.title,message:V.message,type:V.type,onClose:J}),o.jsx("div",{className:"signup-page",children:o.jsxs("div",{className:"signup-card",children:[o.jsxs("div",{className:"card-header",children:[o.jsx("img",{src:Om,alt:"MediScript",className:"logo"}),o.jsx("h2",{children:"Create Your Account"})]}),r&&o.jsx("div",{className:"global-error",children:r}),s===1&&o.jsxs("div",{className:"step",children:[o.jsx("input",{type:"text",name:"name",placeholder:"Full Name *",value:g.name,onChange:ce,disabled:n,className:"input-field"}),o.jsx("input",{type:"email",name:"email",placeholder:"Email Address *",value:g.email,onChange:ce,disabled:n,className:"input-field"}),o.jsx("input",{type:"text",name:"phone",placeholder:"Phone Number (10 digits) *",value:g.phone,onChange:ce,maxLength:10,disabled:n,className:"input-field"}),o.jsx("input",{type:"hidden",name:"role",value:"Doctor"}),o.jsx("button",{onClick:Oe,disabled:n,className:"btn-primary",children:n?"Please wait...":"Continue"})]}),s===2&&o.jsxs("div",{className:"step",children:[o.jsx("h3",{className:"section-title",children:"Aadhaar Verification"}),o.jsx("div",{className:"aadhaar-section",children:o.jsxs("div",{className:`aadhaar-container ${M?"verified":""}`,children:[o.jsx("input",{type:"text",placeholder:"Aadhaar Number (12 digits)",value:P,disabled:M,onChange:ze=>$(ze.target.value.replace(/\D/g,"").slice(0,12)),maxLength:12,className:"aadhaar-input"}),M?o.jsx("div",{className:"aadhaar-verified-badge",children:" Aadhaar Verified"}):o.jsx("button",{onClick:Ie,disabled:p||P.length!==12,className:"aadhaar-btn",children:p?"Sending...":"Send OTP"})]})}),_&&!M&&o.jsxs("div",{className:"aadhaar-otp-section",children:[o.jsx("p",{className:"otp-text",children:"Enter Aadhaar OTP"}),o.jsx(s7,{length:6,value:ge,onChange:Pe}),o.jsx("button",{onClick:ye,className:"btn-primary",children:"Verify Aadhaar OTP"})]}),o.jsxs("div",{className:"file-upload",children:[o.jsx("label",{children:"Aadhaar Document *"}),o.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:ze=>O(ze.target.files[0]),className:"file-input"}),F&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"filename",children:F.name}),o.jsx(De,{file:F})]})]}),o.jsx("h4",{className:"section-title",children:"Qualifications"}),W.map((ze,pe)=>o.jsxs("div",{className:"degree-card",children:[W.length>1&&o.jsx("button",{type:"button",className:"remove-btn",onClick:()=>ne(pe),children:""}),o.jsx("input",{placeholder:`Degree ${pe+1} (e.g. MBBS) *`,value:ze.degree,onChange:ke=>G(pe,"degree",ke.target.value),className:"input-field"}),o.jsx("input",{placeholder:"Specialization *",value:ze.specialization,onChange:ke=>G(pe,"specialization",ke.target.value),className:"input-field"}),o.jsx("input",{placeholder:"Registration Number *",value:ze.registrationNumber,onChange:ke=>G(pe,"registrationNumber",ke.target.value),className:"input-field"}),o.jsx("input",{placeholder:"Year of Registration (e.g. 2013) *",value:ze.registrationYear,onChange:ke=>G(pe,"registrationYear",ke.target.value.replace(/\D/g,"")),maxLength:4,className:"input-field"}),o.jsxs("div",{className:"file-upload",children:[o.jsxs("label",{children:["Certificate ",pe+1," *"]}),o.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:ke=>ee(pe,ke.target.files[0]),className:"file-input"}),ze.certificate&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"filename",children:ze.certificate.name}),o.jsx(De,{file:ze.certificate})]})]})]},pe)),o.jsx("button",{type:"button",onClick:ae,className:"btn-add",children:"+ Add Another Degree"}),o.jsx("h4",{className:"section-title",children:"Additional Documents (Optional)"}),Object.keys(q).map(ze=>o.jsxs("div",{className:"file-upload",children:[o.jsxs("label",{children:[ze==="registrationProof"&&"Registration Proof",ze==="provisionalCertificate"&&"Provisional Certificate",ze==="internshipCertificate"&&"Internship Certificate",ze==="clinicCard"&&"Clinic Establishment Certificate"]}),o.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:pe=>ue(ze,pe.target.files[0]),className:"file-input"}),q[ze]&&o.jsx(De,{file:q[ze]})]},ze)),o.jsx("div",{className:"terms-box",children:o.jsxs("label",{className:"terms-label",children:[o.jsx("input",{type:"checkbox",checked:j,onChange:ze=>A(ze.target.checked)}),o.jsxs("span",{children:["I agree to the"," ",o.jsx("button",{type:"button",className:"terms-link",onClick:()=>E(!0),children:"Terms & Conditions"})," ","and confirm all uploaded documents are valid."]})]})}),o.jsxs("div",{className:"btn-group",children:[o.jsx("button",{onClick:()=>c(1),className:"btn-back",children:"Back"}),o.jsx("button",{onClick:Re,disabled:!M||n,className:"btn-main",children:n?"Registering...":"Verify & Register"})]})]}),s===3&&o.jsxs("div",{className:"step",children:[o.jsxs("p",{className:"otp-text",children:["We've sent a 6-digit code to ",o.jsx("strong",{children:g.email})]}),o.jsx(s7,{length:6,value:K,onChange:ze=>z(ze)}),o.jsx("div",{className:"resend",children:o.jsx("button",{type:"button",onClick:ut,disabled:d>0||n,className:"resend-link",children:d>0?`Resend Code (${d}s)`:"Resend Code"})}),o.jsxs("div",{className:"btn-group",children:[o.jsx("button",{onClick:()=>c(b==="doctor"?2:1),className:"btn-secondary",children:"Back"}),o.jsx("button",{onClick:it,disabled:n,className:"btn-primary",children:n?"Verifying...":"Verify OTP"})]})]}),o.jsxs("p",{className:"login-text",children:["Already have an account? ",o.jsx("a",{href:"/signin",children:"Sign In"})]})]})}),o.jsx(wue,{isOpen:k,onClose:()=>E(!1)}),o.jsx("style",{jsx:!0,children:`
        * {
          box-sizing: border-box;
        }

        .signup-card,
        .step,
        .degree-card,
        .file-upload {
          width: 100%;
          max-width: 100%;
          overflow-x: hidden;
        }
        /* ================= PAGE ================= */
        .signup-page {
          min-height: 100vh;
          background: linear-gradient(135deg, #dff3ff, #b7daf5);
          display: flex;
          justify-content: center;
          align-items: center;
          padding: 24px;
          font-family: "Inter", "Segoe UI", sans-serif;
        }

        /* ================= CARD ================= */
        .signup-card {
          background: #ffffff;
          padding: 40px 38px;
          border-radius: 22px;
          width: 100%;
          max-width: 620px;
          box-shadow: 0 18px 35px rgba(0, 0, 0, 0.12);
          border: 1px solid #e8f3f8;
        }

        .card-header {
          text-align: center;
          margin-bottom: 28px;
        }

        .logo {
          height: 85px;
          filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.15));
        }

        .card-header h2 {
          margin-top: 14px;
          color: #155b6c;
          font-size: 30px;
          font-weight: 700;
        }

        /* ================= INPUTS ================= */
        .input-field {
          width: 100%;
          padding: 15px 16px;
          margin-bottom: 18px;
          border: 1px solid #81c5d7;
          border-radius: 12px;
          font-size: 16px;
          background: #fff;
          transition: 0.25s;
        }

        .input-field:focus {
          border-color: #155b6c;
          box-shadow: 0 0 0 4px rgba(21, 91, 108, 0.18);
        }

        .section-title {
          margin: 28px 0 12px;
          color: #155b6c;
          font-size: 20px;
          font-weight: 700;
        }

        /* ================= FILE UPLOAD ================= */
        .file-upload {
          margin-bottom: 22px;
        }

        .file-upload label {
          display: block;
          margin-bottom: 8px;
          font-weight: 600;
        }

        .file-input {
          width: 100%;
          max-width: 100%;
          padding: 10px;
          border: 2px dashed #76bdd5;
          border-radius: 10px;
          background: #f5fbfe;
          font-size: 14px;
        }

        .filename {
          font-size: 14px;
          color: #155b6c;
          margin-top: 6px;
        }

        /* ================= DEGREE CARD ================= */
        .degree-card {
          background: #f5fbfe;
          border: 1px dashed #7dc2d9;
          padding: 22px;
          border-radius: 12px;
          margin-bottom: 18px;
          position: relative;
        }

        .remove-btn {
          position: absolute;
          top: 8px;
          right: 8px;
          background: #e63946;
          color: white;
          border: none;
          width: 30px;
          height: 30px;
          border-radius: 50%;
          font-size: 20px;
          cursor: pointer;
        }

        /* ================= BUTTONS ================= */
        .btn-primary {
          width: 100%;
          background: #155b6c;
          color: #fff;
          padding: 15px;
          font-weight: 700;
          font-size: 17px;
          border: none;
          border-radius: 12px;
          cursor: pointer;
          margin-top: 8px;
          transition: 0.25s;
        }

        .btn-primary:hover:not(:disabled) {
          background: #0e3f4c;
        }

        .btn-primary:disabled {
          opacity: 0.6;
        }

        .btn-secondary {
          width: 48%;
          background: #6c7a86;
          color: #fff;
          padding: 15px;
          border-radius: 12px;
          border: none;
          font-weight: 600;
          cursor: pointer;
        }

        .btn-group {
          display: flex;
          gap: 14px;
          margin-top: 28px;
        }

        .btn-add {
          background: #17738a;
          color: #fff;
          border: none;
          padding: 12px 20px;
          border-radius: 10px;
          font-weight: 600;
          cursor: pointer;
        }

        .btn-add:hover {
          background: #125a6c;
        }

        /* ================= OTP ================= */
        .otp-text {
          text-align: center;
          margin-bottom: 16px;
          color: #445;
          font-weight: 600;
        }

        .otp-container {
          display: flex;
          justify-content: center;
          gap: 14px;
          margin-bottom: 22px;
        }

        .otp-box {
          width: 62px;
          height: 72px;
          border-radius: 14px;
          border: 2px solid #7fc6d8;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .otp-digit {
          width: 100%;
          height: 100%;
          border: none;
          text-align: center;
          font-size: 2rem;
          font-weight: 700;
          background: transparent;
          color: #155b6c;
        }

        .otp-digit:focus {
          box-shadow: 0 0 0 4px rgba(21, 91, 108, 0.2);
          border-radius: 10px;
        }

        .resend-link {
          background: none;
          border: none;
          color: #155b6c;
          font-weight: 600;
          text-decoration: underline;
          cursor: pointer;
        }

        /* ================= AADHAAR ================= */
        .aadhaar-section {
          margin-bottom: 24px;
        }

        .aadhaar-container {
          display: flex;
          align-items: center;
          border: 2px solid #7fc6d8;
          border-radius: 14px;
          padding: 6px;
          background: #fff;
          transition: 0.25s;
        }

        .aadhaar-container:focus-within {
          border-color: #155b6c;
          box-shadow: 0 0 0 4px rgba(21, 91, 108, 0.18);
        }

        .aadhaar-input {
          flex: 1;
          border: none;
          outline: none;
          padding: 14px 16px;
          font-size: 16px;
        }

        .aadhaar-btn {
          background: #4fa3b8;
          color: #fff;
          border: none;
          border-radius: 10px;
          padding: 12px 18px;
          font-weight: 700;
          cursor: pointer;
        }

        .aadhaar-btn:hover:not(:disabled) {
          background: #155b6c;
        }

        .aadhaar-btn:disabled {
          opacity: 0.6;
        }

        /* ===== VERIFIED BADGE ===== */
        .aadhaar-container.verified {
          border-color: #28a745;
          background: #f4fff7;
        }

        .aadhaar-verified-badge {
          background: #28a745;
          color: #fff;
          padding: 10px 14px;
          border-radius: 10px;
          font-weight: 700;
          font-size: 14px;
        }

        /* ================= TERMS ================= */
        .terms-box {
          margin-top: 20px;
          padding: 14px;
          background: #eef7fa;
          border-radius: 10px;
        }

        .terms-label {
          display: flex;
          gap: 12px;
        }

        .terms-link {
          background: none;
          border: none;
          color: #155b6c;
          font-weight: 700;
          cursor: pointer;
          text-decoration: underline;
        }

        /* ================= FOOTER ================= */
        .login-text {
          text-align: center;
          margin-top: 24px;
        }

        .login-text a {
          color: #17738a;
          font-weight: 700;
        }

        /* ================= MOBILE ================= */
        @media (max-width: 480px) {
          .signup-card {
            padding: 26px 20px;
          }

          .otp-box {
            width: 48px;
            height: 56px;
          }

          .aadhaar-container {
            flex-direction: column;
            gap: 10px;
          }

          .aadhaar-btn,
          .aadhaar-verified-badge {
            width: 100%;
            text-align: center;
          }
        }

        /* ================= RESPONSIVE ENHANCEMENTS ================= */

        /* ---------- Small Mobile (360px) ---------- */
        @media (max-width: 360px) {
          .signup-card {
            padding: 20px 16px;
            border-radius: 16px;
          }

          .logo {
            height: 60px;
          }

          .card-header h2 {
            font-size: 22px;
          }

          .input-field,
          .aadhaar-input {
            font-size: 14px;
            padding: 12px;
          }

          .btn-primary,
          .btn-secondary {
            font-size: 14px;
            padding: 12px;
          }
        }

        /* ---------- Mobile (480px) ---------- */
        @media (max-width: 480px) {
          .signup-page {
            padding: 12px;
          }

          .signup-card {
            padding: 24px 18px;
          }

          /* Aadhaar row stacks vertically */
          .aadhaar-container {
            flex-direction: column;
            gap: 12px;
            padding: 10px;
          }

          .aadhaar-btn,
          .aadhaar-verified-badge {
            width: 100%;
            text-align: center;
          }

          /* OTP */
          .otp-container {
            gap: 8px;
          }

          .otp-box {
            width: 44px;
            height: 52px;
          }

          .otp-digit {
            font-size: 1.4rem;
          }

          /* Buttons stack */
          .btn-group {
            flex-direction: column;
            gap: 12px;
          }

          .btn-secondary,
          .btn-primary {
            width: 100%;
          }

          /* Degree remove button */
          .remove-btn {
            width: 26px;
            height: 26px;
            font-size: 16px;
          }
        }

        /* ---------- Tablet (481px  768px) ---------- */
        @media (min-width: 481px) and (max-width: 768px) {
          .signup-card {
            max-width: 560px;
            padding: 32px 28px;
          }

          .card-header h2 {
            font-size: 26px;
          }

          .input-field {
            font-size: 15px;
          }

          .otp-box {
            width: 56px;
            height: 64px;
          }
        }

        /* ---------- Laptop (769px  1024px) ---------- */
        @media (min-width: 769px) and (max-width: 1024px) {
          .signup-card {
            max-width: 600px;
          }
        }

        /* ---------- Large Screens (1200px) ---------- */
        @media (min-width: 1200px) {
          .signup-card {
            max-width: 640px;
          }
        }

        @media (max-width: 480px) {
          .file-input {
            font-size: 13px;
            padding: 8px;
          }
        }

        .degree-card {
          width: 100%;
          max-width: 100%;
        }

        @media (max-width: 480px) {
          .degree-card {
            padding: 16px;
          }
        }

        @media (max-width: 480px) {
          .btn-group {
            flex-direction: column;
            gap: 12px;
          }

          .btn-group button {
            width: 100%;
          }
        }

        .btn-add {
          width: 100%;
          margin-top: 12px;
          text-align: center;
        }

        @media (max-width: 480px) {
          .aadhaar-container {
            width: 100%;
          }

          .aadhaar-input {
            width: 100%;
          }
        }

        .btn-back {
          flex: 0.9;
          background: #6f7f8a;
          color: #fff;
          padding: 14px 0;
          border: none;
          border-radius: 14px;
          font-size: 16px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.25s ease;
        }

        .btn-back:hover {
          background: #5e6c76;
        }

        .btn-main {
          flex: 1.6;
          background: #78a9b1;
          color: #ffffff;
          padding: 16px 0;
          border: none;
          border-radius: 18px;
          font-size: 17px;
          font-weight: 700;
          cursor: pointer;
          transition: all 0.25s ease;
        }

        .btn-main:hover:not(:disabled) {
          background: #5e8f98;
        }

        .btn-main:disabled {
          background: #b7cfd4;
          cursor: not-allowed;
        }

        @media (max-width: 480px) {
          .btn-group {
            flex-direction: column;
            gap: 12px;
          }

          .btn-back,
          .btn-main {
            width: 100%;
            border-radius: 14px;
          }
        }
      `})]})};var I3={},R3={},l7;function Cue(){return l7||(l7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(R3)),R3}var M3={},c7;function Hz(){return c7||(c7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(M3)),M3}var L3={},u7;function Vz(){return u7||(u7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(L3)),L3}var F3={},d7;function jj(){return d7||(d7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){const r=[],i=n.length;if(i===0)return r;let a=0,s="",c="",d=!1;for(n.charCodeAt(0)===46&&(r.push(""),a++);a<i;){const f=n[a];c?f==="\\"&&a+1<i?(a++,s+=n[a]):f===c?c="":s+=f:d?f==='"'||f==="'"?c=f:f==="]"?(d=!1,r.push(s),s=""):s+=f:f==="["?(d=!0,s&&(r.push(s),s="")):f==="."?s&&(r.push(s),s=""):s+=f,a++}return s&&r.push(s),r}e.toPath=t})(F3)),F3}var f7;function Tj(){return f7||(f7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cue(),n=Hz(),r=Vz(),i=jj();function a(c,d,f){if(c==null)return f;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return f;const p=c[d];return p===void 0?n.isDeepKey(d)?a(c,i.toPath(d),f):f:p}case"number":case"symbol":{typeof d=="number"&&(d=r.toKey(d));const p=c[d];return p===void 0?f:p}default:{if(Array.isArray(d))return s(c,d,f);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return f;const p=c[d];return p===void 0?f:p}}}function s(c,d,f){if(d.length===0)return f;let p=c;for(let m=0;m<d.length;m++){if(p==null||t.isUnsafeProperty(d[m]))return f;p=p[d[m]]}return p===void 0?f:p}e.get=a})(I3)),I3}var B3,p7;function jue(){return p7||(p7=1,B3=Tj().get),B3}var Tue=jue();const tc=di(Tue);var z3={exports:{}},on={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h7;function Aue(){if(h7)return on;h7=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),v=Symbol.for("react.client.reference");function b(C){if(typeof C=="object"&&C!==null){var j=C.$$typeof;switch(j){case e:switch(C=C.type,C){case n:case i:case r:case d:case f:case g:return C;default:switch(C=C&&C.$$typeof,C){case s:case c:case m:case p:return C;case a:return C;default:return j}}case t:return j}}}return on.ContextConsumer=a,on.ContextProvider=s,on.Element=e,on.ForwardRef=c,on.Fragment=n,on.Lazy=m,on.Memo=p,on.Portal=t,on.Profiler=i,on.StrictMode=r,on.Suspense=d,on.SuspenseList=f,on.isContextConsumer=function(C){return b(C)===a},on.isContextProvider=function(C){return b(C)===s},on.isElement=function(C){return typeof C=="object"&&C!==null&&C.$$typeof===e},on.isForwardRef=function(C){return b(C)===c},on.isFragment=function(C){return b(C)===n},on.isLazy=function(C){return b(C)===m},on.isMemo=function(C){return b(C)===p},on.isPortal=function(C){return b(C)===t},on.isProfiler=function(C){return b(C)===i},on.isStrictMode=function(C){return b(C)===r},on.isSuspense=function(C){return b(C)===d},on.isSuspenseList=function(C){return b(C)===f},on.isValidElementType=function(C){return typeof C=="string"||typeof C=="function"||C===n||C===i||C===r||C===d||C===f||typeof C=="object"&&C!==null&&(C.$$typeof===m||C.$$typeof===p||C.$$typeof===s||C.$$typeof===a||C.$$typeof===c||C.$$typeof===v||C.getModuleId!==void 0)},on.typeOf=b,on}var m7;function kue(){return m7||(m7=1,z3.exports=Aue()),z3.exports}var Eue=kue(),br=e=>e===0?0:e>0?1:-1,Mi=e=>typeof e=="number"&&e!=+e,Cu=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Qe=e=>(typeof e=="number"||e instanceof Number)&&!Mi(e),Io=e=>Qe(e)||typeof e=="string",Nue=0,Zm=e=>{var t=++Nue;return"".concat(e||"").concat(t)},Xr=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Qe(t)&&typeof t!="string")return r;var a;if(Cu(t)){if(n==null)return r;var s=t.indexOf("%");a=n*parseFloat(t.slice(0,s))/100}else a=+t;return Mi(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},qz=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1},g7=(e,t)=>Qe(e)&&Qe(t)?n=>e+n*(t-e):()=>t;function Oa(e,t,n){return Qe(e)&&Qe(t)?e+n*(t-e):t}function Yz(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):tc(r,t))===n)}var vn=e=>e===null||typeof e>"u",Qg=e=>vn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),_ue=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Aj(e){if(typeof e!="string")return!1;var t=_ue;return t.includes(e)}var Pue=["viewBox","children"],y7=["points","pathLength"],U3={svg:Pue,polygon:y7,polyline:y7},kj=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(w.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{Aj(i)&&(r[i]=(a=>n[i](n,a)))}),r},Due=(e,t,n)=>r=>(e(t,n,r),null),Zg=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];Aj(i)&&typeof a=="function"&&(r||(r={}),r[i]=Due(a,t,n))}),r},Oue=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function Wz(e){if(typeof e!="string")return!1;var t=Oue;return t.includes(e)}function Ys(e){var t=Object.entries(e).filter(n=>{var[r]=n;return Wz(r)});return Object.fromEntries(t)}var v7=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",b7=null,H3=null,Gz=e=>{if(e===b7&&Array.isArray(H3))return H3;var t=[];return w.Children.forEach(e,n=>{vn(n)||(Eue.isFragment(n)?t=t.concat(Gz(n.props.children)):t.push(n))}),H3=t,b7=e,t};function Jg(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>v7(i)):r=[v7(t)],Gz(e).forEach(i=>{var a=tc(i,"type.displayName")||tc(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}var Kz=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,$ue=(e,t,n,r)=>{var i;if(typeof t=="symbol"||typeof t=="number")return!0;var a=(i=r&&U3?.[r])!==null&&i!==void 0?i:[],s=t.startsWith("data-"),c=typeof e!="function"&&(!!r&&a.includes(t)||Wz(t)),d=!!n&&Aj(t);return s||c||d},xn=(e,t,n)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(w.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(a=>{var s;$ue((s=r)===null||s===void 0?void 0:s[a],a,t,n)&&(i[a]=r[a])}),i},Iue=["children","width","height","viewBox","className","style","title","desc"];function F8(){return F8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},F8.apply(null,arguments)}function Rue(e,t){if(e==null)return{};var n,r,i=Mue(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Mue(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ej=w.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:c,title:d,desc:f}=e,p=Rue(e,Iue),m=a||{width:r,height:i,x:0,y:0},g=ct("recharts-surface",s);return w.createElement("svg",F8({},xn(p,!0,"svg"),{className:g,width:r,height:i,style:c,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),w.createElement("title",null,d),w.createElement("desc",null,f),n)}),Lue=["children","className"];function B8(){return B8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B8.apply(null,arguments)}function Fue(e,t){if(e==null)return{};var n,r,i=Bue(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Bue(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Lr=w.forwardRef((e,t)=>{var{children:n,className:r}=e,i=Fue(e,Lue),a=ct("recharts-layer",r);return w.createElement("g",B8({className:a},xn(i,!0),{ref:t}),n)}),Xz=w.createContext(null),zue=()=>w.useContext(Xz);function pn(e){return function(){return e}}const Qz=Math.cos,zb=Math.sin,Qa=Math.sqrt,Ub=Math.PI,f2=2*Ub,z8=Math.PI,U8=2*z8,du=1e-6,Uue=U8-du;function Zz(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Hue(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Zz;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Vue{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Zz:Hue(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,c=this._y1,d=r-t,f=i-n,p=s-t,m=c-n,g=p*p+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(g>du)if(!(Math.abs(m*d-f*p)>du)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let v=r-s,b=i-c,C=d*d+f*f,j=v*v+b*b,A=Math.sqrt(C),k=Math.sqrt(g),E=a*Math.tan((z8-Math.acos((C+g-j)/(2*A*k)))/2),P=E/k,$=E/A;Math.abs(P-1)>du&&this._append`L${t+P*p},${n+P*m}`,this._append`A${a},${a},0,0,${+(m*v>p*b)},${this._x1=t+$*d},${this._y1=n+$*f}`}}arc(t,n,r,i,a,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),d=r*Math.sin(i),f=t+c,p=n+d,m=1^s,g=s?i-a:a-i;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>du||Math.abs(this._y1-p)>du)&&this._append`L${f},${p}`,r&&(g<0&&(g=g%U8+U8),g>Uue?this._append`A${r},${r},0,1,${m},${t-c},${n-d}A${r},${r},0,1,${m},${this._x1=f},${this._y1=p}`:g>du&&this._append`A${r},${r},0,${+(g>=z8)},${m},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Nj(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Vue(t)}function _j(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Jz(e){this._context=e}Jz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function p2(e){return new Jz(e)}function eU(e){return e[0]}function tU(e){return e[1]}function nU(e,t){var n=pn(!0),r=null,i=p2,a=null,s=Nj(c);e=typeof e=="function"?e:e===void 0?eU:pn(e),t=typeof t=="function"?t:t===void 0?tU:pn(t);function c(d){var f,p=(d=_j(d)).length,m,g=!1,v;for(r==null&&(a=i(v=s())),f=0;f<=p;++f)!(f<p&&n(m=d[f],f,d))===g&&((g=!g)?a.lineStart():a.lineEnd()),g&&a.point(+e(m,f,d),+t(m,f,d));if(v)return a=null,v+""||null}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:pn(+d),c):e},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:pn(+d),c):t},c.defined=function(d){return arguments.length?(n=typeof d=="function"?d:pn(!!d),c):n},c.curve=function(d){return arguments.length?(i=d,r!=null&&(a=i(r)),c):i},c.context=function(d){return arguments.length?(d==null?r=a=null:a=i(r=d),c):r},c}function Qy(e,t,n){var r=null,i=pn(!0),a=null,s=p2,c=null,d=Nj(f);e=typeof e=="function"?e:e===void 0?eU:pn(+e),t=typeof t=="function"?t:pn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?tU:pn(+n);function f(m){var g,v,b,C=(m=_j(m)).length,j,A=!1,k,E=new Array(C),P=new Array(C);for(a==null&&(c=s(k=d())),g=0;g<=C;++g){if(!(g<C&&i(j=m[g],g,m))===A)if(A=!A)v=g,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),b=g-1;b>=v;--b)c.point(E[b],P[b]);c.lineEnd(),c.areaEnd()}A&&(E[g]=+e(j,g,m),P[g]=+t(j,g,m),c.point(r?+r(j,g,m):E[g],n?+n(j,g,m):P[g]))}if(k)return c=null,k+""||null}function p(){return nU().defined(i).curve(s).context(a)}return f.x=function(m){return arguments.length?(e=typeof m=="function"?m:pn(+m),r=null,f):e},f.x0=function(m){return arguments.length?(e=typeof m=="function"?m:pn(+m),f):e},f.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:pn(+m),f):r},f.y=function(m){return arguments.length?(t=typeof m=="function"?m:pn(+m),n=null,f):t},f.y0=function(m){return arguments.length?(t=typeof m=="function"?m:pn(+m),f):t},f.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:pn(+m),f):n},f.lineX0=f.lineY0=function(){return p().x(e).y(t)},f.lineY1=function(){return p().x(e).y(n)},f.lineX1=function(){return p().x(r).y(t)},f.defined=function(m){return arguments.length?(i=typeof m=="function"?m:pn(!!m),f):i},f.curve=function(m){return arguments.length?(s=m,a!=null&&(c=s(a)),f):s},f.context=function(m){return arguments.length?(m==null?a=c=null:c=s(a=m),f):a},f}class rU{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function que(e){return new rU(e,!0)}function Yue(e){return new rU(e,!1)}const Pj={draw(e,t){const n=Qa(t/Ub);e.moveTo(n,0),e.arc(0,0,n,0,f2)}},Wue={draw(e,t){const n=Qa(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},iU=Qa(1/3),Gue=iU*2,Kue={draw(e,t){const n=Qa(t/Gue),r=n*iU;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Xue={draw(e,t){const n=Qa(t),r=-n/2;e.rect(r,r,n,n)}},Que=.8908130915292852,aU=zb(Ub/10)/zb(7*Ub/10),Zue=zb(f2/10)*aU,Jue=-Qz(f2/10)*aU,ede={draw(e,t){const n=Qa(t*Que),r=Zue*n,i=Jue*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const s=f2*a/5,c=Qz(s),d=zb(s);e.lineTo(d*n,-c*n),e.lineTo(c*r-d*i,d*r+c*i)}e.closePath()}},V3=Qa(3),tde={draw(e,t){const n=-Qa(t/(V3*3));e.moveTo(0,n*2),e.lineTo(-V3*n,-n),e.lineTo(V3*n,-n),e.closePath()}},Xi=-.5,Qi=Qa(3)/2,H8=1/Qa(12),nde=(H8/2+1)*3,rde={draw(e,t){const n=Qa(t/nde),r=n/2,i=n*H8,a=r,s=n*H8+n,c=-a,d=s;e.moveTo(r,i),e.lineTo(a,s),e.lineTo(c,d),e.lineTo(Xi*r-Qi*i,Qi*r+Xi*i),e.lineTo(Xi*a-Qi*s,Qi*a+Xi*s),e.lineTo(Xi*c-Qi*d,Qi*c+Xi*d),e.lineTo(Xi*r+Qi*i,Xi*i-Qi*r),e.lineTo(Xi*a+Qi*s,Xi*s-Qi*a),e.lineTo(Xi*c+Qi*d,Xi*d-Qi*c),e.closePath()}};function ide(e,t){let n=null,r=Nj(i);e=typeof e=="function"?e:pn(e||Pj),t=typeof t=="function"?t:pn(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:pn(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:pn(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Hb(){}function Vb(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function oU(e){this._context=e}oU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Vb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Vb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ade(e){return new oU(e)}function sU(e){this._context=e}sU.prototype={areaStart:Hb,areaEnd:Hb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Vb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ode(e){return new sU(e)}function lU(e){this._context=e}lU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Vb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function sde(e){return new lU(e)}function cU(e){this._context=e}cU.prototype={areaStart:Hb,areaEnd:Hb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function lde(e){return new cU(e)}function x7(e){return e<0?-1:1}function w7(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),c=(a*i+s*r)/(r+i);return(x7(a)+x7(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(c))||0}function S7(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function q3(e,t,n){var r=e._x0,i=e._y0,a=e._x1,s=e._y1,c=(a-r)/3;e._context.bezierCurveTo(r+c,i+c*t,a-c,s-c*n,a,s)}function qb(e){this._context=e}qb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:q3(this,this._t0,S7(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,q3(this,S7(this,n=w7(this,e,t)),n);break;default:q3(this,this._t0,n=w7(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function uU(e){this._context=new dU(e)}(uU.prototype=Object.create(qb.prototype)).point=function(e,t){qb.prototype.point.call(this,t,e)};function dU(e){this._context=e}dU.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function cde(e){return new qb(e)}function ude(e){return new uU(e)}function fU(e){this._context=e}fU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=C7(e),i=C7(t),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function C7(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function dde(e){return new fU(e)}function h2(e,t){this._context=e,this._t=t}h2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function fde(e){return new h2(e,.5)}function pde(e){return new h2(e,0)}function hde(e){return new h2(e,1)}function Vf(e,t){if((s=e.length)>1)for(var n=1,r,i,a=e[t[0]],s,c=a.length;n<s;++n)for(i=a,a=e[t[n]],r=0;r<c;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function V8(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function mde(e,t){return e[t]}function gde(e){const t=[];return t.key=e,t}function yde(){var e=pn([]),t=V8,n=Vf,r=mde;function i(a){var s=Array.from(e.apply(this,arguments),gde),c,d=s.length,f=-1,p;for(const m of a)for(c=0,++f;c<d;++c)(s[c][f]=[0,+r(m,s[c].key,f,a)]).data=m;for(c=0,p=_j(t(s));c<d;++c)s[p[c]].index=c;return n(s,p),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:pn(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:pn(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?V8:typeof a=="function"?a:pn(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??Vf,i):n},i}function vde(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=e[n][i][1]||0;if(s)for(n=0;n<r;++n)e[n][i][1]/=s}Vf(e,t)}}function bde(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var s=0,c=0;s<i;++s)c+=e[s][n][1]||0;r[n][1]+=r[n][0]=-c/2}Vf(e,t)}}function xde(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var c=0,d=0,f=0;c<s;++c){for(var p=e[t[c]],m=p[r][1]||0,g=p[r-1][1]||0,v=(m-g)/2,b=0;b<c;++b){var C=e[t[b]],j=C[r][1]||0,A=C[r-1][1]||0;v+=j-A}d+=m,f+=v*m}i[r-1][1]+=i[r-1][0]=n,d&&(n-=f/d)}i[r-1][1]+=i[r-1][0]=n,Vf(e,t)}}var wde=["type","size","sizeType"];function q8(){return q8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q8.apply(null,arguments)}function j7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function T7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?j7(Object(n),!0).forEach(function(r){Sde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sde(e,t,n){return(t=Cde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cde(e){var t=jde(e,"string");return typeof t=="symbol"?t:t+""}function jde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tde(e,t){if(e==null)return{};var n,r,i=Ade(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ade(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var pU={symbolCircle:Pj,symbolCross:Wue,symbolDiamond:Kue,symbolSquare:Xue,symbolStar:ede,symbolTriangle:tde,symbolWye:rde},kde=Math.PI/180,Ede=e=>{var t="symbol".concat(Qg(e));return pU[t]||Pj},Nde=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*kde;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},_de=(e,t)=>{pU["symbol".concat(Qg(e))]=t},Dj=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=Tde(e,wde),a=T7(T7({},i),{},{type:t,size:n,sizeType:r}),s=()=>{var m=Ede(t),g=ide().type(m).size(Nde(n,r,t));return g()},{className:c,cx:d,cy:f}=a,p=xn(a,!0);return d===+d&&f===+f&&n===+n?w.createElement("path",q8({},p,{className:ct("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(f,")"),d:s()})):null};Dj.registerSymbol=_de;function Y8(){return Y8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y8.apply(null,arguments)}function A7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pde(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?A7(Object(n),!0).forEach(function(r){Oj(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Oj(e,t,n){return(t=Dde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dde(e){var t=Ode(e,"string");return typeof t=="symbol"?t:t+""}function Ode(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zi=32;class $j extends w.PureComponent{renderIcon(t,n){var{inactiveColor:r}=this.props,i=Zi/2,a=Zi/6,s=Zi/3,c=t.inactive?r:t.color,d=n??t.type;if(d==="none")return null;if(d==="plainline")return w.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:i,x2:Zi,y2:i,className:"recharts-legend-icon"});if(d==="line")return w.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(Zi,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(d==="rect")return w.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Zi/8,"h").concat(Zi,"v").concat(Zi*3/4,"h").concat(-Zi,"z"),className:"recharts-legend-icon"});if(w.isValidElement(t.legendIcon)){var f=Pde({},t);return delete f.legendIcon,w.cloneElement(t.legendIcon,f)}return w.createElement(Dj,{fill:c,cx:i,cy:i,size:Zi,sizeType:"diameter",type:d})}renderItems(){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:s}=this.props,c={x:0,y:0,width:Zi,height:Zi},d={display:r==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((p,m)=>{var g=p.formatter||i,v=ct({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:p.inactive});if(p.type==="none")return null;var b=p.inactive?a:p.color,C=g?g(p.value,p,m):p.value;return w.createElement("li",Y8({className:v,style:d,key:"legend-item-".concat(m)},Zg(this.props,p,m)),w.createElement(Ej,{width:n,height:n,viewBox:c,style:f,"aria-label":"".concat(C," legend icon")},this.renderIcon(p,s)),w.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},C))})}render(){var{payload:t,layout:n,align:r}=this.props;if(!t||!t.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return w.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}Oj($j,"displayName","Legend");Oj($j,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var Y3={},W3={},k7;function $de(){return k7||(k7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const s=n[a],c=r(s);i.has(c)||i.set(c,s)}return Array.from(i.values())}e.uniqBy=t})(W3)),W3}var G3={},E7;function hU(){return E7||(E7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(G3)),G3}var K3={},X3={},Q3={},N7;function Ide(){return N7||(N7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(Q3)),Q3}var _7;function Ij(){return _7||(_7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ide();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(X3)),X3}var Z3={},P7;function Rde(){return P7||(P7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(Z3)),Z3}var D7;function Mde(){return D7||(D7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ij(),n=Rde();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(K3)),K3}var J3={},e6={},O7;function Lde(){return O7||(O7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Tj();function n(r){return function(i){return t.get(i,r)}}e.property=n})(e6)),e6}var t6={},n6={},r6={},i6={},$7;function mU(){return $7||($7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(i6)),i6}var a6={},I7;function gU(){return I7||(I7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(a6)),a6}var o6={},R7;function Rj(){return R7||(R7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(o6)),o6}var M7;function Fde(){return M7||(M7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mj(),n=mU(),r=gU(),i=Rj();function a(m,g,v){return typeof v!="function"?t.isMatch(m,g):s(m,g,function b(C,j,A,k,E,P){const $=v(C,j,A,k,E,P);return $!==void 0?!!$:s(C,j,b,P)},new Map)}function s(m,g,v,b){if(g===m)return!0;switch(typeof g){case"object":return c(m,g,v,b);case"function":return Object.keys(g).length>0?s(m,{...g},v,b):i.eq(m,g);default:return n.isObject(m)?typeof g=="string"?g==="":!0:i.eq(m,g)}}function c(m,g,v,b){if(g==null)return!0;if(Array.isArray(g))return f(m,g,v,b);if(g instanceof Map)return d(m,g,v,b);if(g instanceof Set)return p(m,g,v,b);const C=Object.keys(g);if(m==null)return C.length===0;if(C.length===0)return!0;if(b&&b.has(g))return b.get(g)===m;b&&b.set(g,m);try{for(let j=0;j<C.length;j++){const A=C[j];if(!r.isPrimitive(m)&&!(A in m)||g[A]===void 0&&m[A]!==void 0||g[A]===null&&m[A]!==null||!v(m[A],g[A],A,m,g,b))return!1}return!0}finally{b&&b.delete(g)}}function d(m,g,v,b){if(g.size===0)return!0;if(!(m instanceof Map))return!1;for(const[C,j]of g.entries()){const A=m.get(C);if(v(A,j,C,m,g,b)===!1)return!1}return!0}function f(m,g,v,b){if(g.length===0)return!0;if(!Array.isArray(m))return!1;const C=new Set;for(let j=0;j<g.length;j++){const A=g[j];let k=!1;for(let E=0;E<m.length;E++){if(C.has(E))continue;const P=m[E];let $=!1;if(v(P,A,j,m,g,b)&&($=!0),$){C.add(E),k=!0;break}}if(!k)return!1}return!0}function p(m,g,v,b){return g.size===0?!0:m instanceof Set?f([...m],[...g],v,b):!1}e.isMatchWith=a,e.isSetMatch=p})(r6)),r6}var L7;function Mj(){return L7||(L7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fde();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(n6)),n6}var s6={},l6={},c6={},F7;function yU(){return F7||(F7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(c6)),c6}var u6={},B7;function Lj(){return B7||(B7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(u6)),u6}var d6={},z7;function Fj(){return z7||(z7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",c="[object Date]",d="[object Map]",f="[object Set]",p="[object Array]",m="[object Function]",g="[object ArrayBuffer]",v="[object Object]",b="[object Error]",C="[object DataView]",j="[object Uint8Array]",A="[object Uint8ClampedArray]",k="[object Uint16Array]",E="[object Uint32Array]",P="[object BigUint64Array]",$="[object Int8Array]",F="[object Int16Array]",O="[object Int32Array]",_="[object BigInt64Array]",D="[object Float32Array]",L="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=g,e.arrayTag=p,e.bigInt64ArrayTag=_,e.bigUint64ArrayTag=P,e.booleanTag=i,e.dataViewTag=C,e.dateTag=c,e.errorTag=b,e.float32ArrayTag=D,e.float64ArrayTag=L,e.functionTag=m,e.int16ArrayTag=F,e.int32ArrayTag=O,e.int8ArrayTag=$,e.mapTag=d,e.numberTag=r,e.objectTag=v,e.regexpTag=t,e.setTag=f,e.stringTag=n,e.symbolTag=s,e.uint16ArrayTag=k,e.uint32ArrayTag=E,e.uint8ArrayTag=j,e.uint8ClampedArrayTag=A})(d6)),d6}var f6={},U7;function Bde(){return U7||(U7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(f6)),f6}var H7;function vU(){return H7||(H7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yU(),n=Lj(),r=Fj(),i=gU(),a=Bde();function s(p,m){return c(p,void 0,p,new Map,m)}function c(p,m,g,v=new Map,b=void 0){const C=b?.(p,m,g,v);if(C!==void 0)return C;if(i.isPrimitive(p))return p;if(v.has(p))return v.get(p);if(Array.isArray(p)){const j=new Array(p.length);v.set(p,j);for(let A=0;A<p.length;A++)j[A]=c(p[A],A,g,v,b);return Object.hasOwn(p,"index")&&(j.index=p.index),Object.hasOwn(p,"input")&&(j.input=p.input),j}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const j=new RegExp(p.source,p.flags);return j.lastIndex=p.lastIndex,j}if(p instanceof Map){const j=new Map;v.set(p,j);for(const[A,k]of p)j.set(A,c(k,A,g,v,b));return j}if(p instanceof Set){const j=new Set;v.set(p,j);for(const A of p)j.add(c(A,void 0,g,v,b));return j}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(a.isTypedArray(p)){const j=new(Object.getPrototypeOf(p)).constructor(p.length);v.set(p,j);for(let A=0;A<p.length;A++)j[A]=c(p[A],A,g,v,b);return j}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const j=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return v.set(p,j),d(j,p,g,v,b),j}if(typeof File<"u"&&p instanceof File){const j=new File([p],p.name,{type:p.type});return v.set(p,j),d(j,p,g,v,b),j}if(p instanceof Blob){const j=new Blob([p],{type:p.type});return v.set(p,j),d(j,p,g,v,b),j}if(p instanceof Error){const j=new p.constructor;return v.set(p,j),j.message=p.message,j.name=p.name,j.stack=p.stack,j.cause=p.cause,d(j,p,g,v,b),j}if(typeof p=="object"&&f(p)){const j=Object.create(Object.getPrototypeOf(p));return v.set(p,j),d(j,p,g,v,b),j}return p}function d(p,m,g=p,v,b){const C=[...Object.keys(m),...t.getSymbols(m)];for(let j=0;j<C.length;j++){const A=C[j],k=Object.getOwnPropertyDescriptor(p,A);(k==null||k.writable)&&(p[A]=c(m[A],A,g,v,b))}}function f(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=c,e.copyProperties=d})(l6)),l6}var V7;function zde(){return V7||(V7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vU();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(s6)),s6}var q7;function Ude(){return q7||(q7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mj(),n=zde();function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(t6)),t6}var p6={},h6={},m6={},Y7;function Hde(){return Y7||(Y7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vU(),n=Fj();function r(i,a){return t.cloneDeepWith(i,(s,c,d,f)=>{const p=a?.(s,c,d,f);if(p!==void 0)return p;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const m=new i.constructor(i?.valueOf());return t.copyProperties(m,i),m}case n.argumentsTag:{const m={};return t.copyProperties(m,i),m.length=i.length,m[Symbol.iterator]=i[Symbol.iterator],m}default:return}})}e.cloneDeepWith=r})(m6)),m6}var W7;function Vde(){return W7||(W7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hde();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(h6)),h6}var g6={},y6={},G7;function bU(){return G7||(G7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(y6)),y6}var v6={},K7;function qde(){return K7||(K7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lj();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(v6)),v6}var X7;function Yde(){return X7||(X7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hz(),n=bU(),r=qde(),i=jj();function a(s,c){let d;if(Array.isArray(c)?d=c:typeof c=="string"&&t.isDeepKey(c)&&s?.[c]==null?d=i.toPath(c):d=[c],d.length===0)return!1;let f=s;for(let p=0;p<d.length;p++){const m=d[p];if((f==null||!Object.hasOwn(f,m))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(m)&&m<f.length))return!1;f=f[m]}return!0}e.has=a})(g6)),g6}var Q7;function Wde(){return Q7||(Q7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mj(),n=Vz(),r=Vde(),i=Tj(),a=Yde();function s(c,d){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return d=r.cloneDeep(d),function(f){const p=i.get(f,c);return p===void 0?a.has(f,c):d===void 0?p===void 0:t.isMatch(p,d)}}e.matchesProperty=s})(p6)),p6}var Z7;function Gde(){return Z7||(Z7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hU(),n=Lde(),r=Ude(),i=Wde();function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}e.iteratee=a})(J3)),J3}var J7;function Kde(){return J7||(J7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$de(),n=hU(),r=Mde(),i=Gde();function a(s,c=n.identity){return r.isArrayLikeObject(s)?t.uniqBy(Array.from(s),i.iteratee(c)):[]}e.uniqBy=a})(Y3)),Y3}var b6,eD;function Xde(){return eD||(eD=1,b6=Kde().uniqBy),b6}var Qde=Xde();const tD=di(Qde);function xU(e,t,n){return t===!0?tD(e,n):typeof t=="function"?tD(e,t):e}var x6={exports:{}},w6={},S6={exports:{}},C6={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nD;function Zde(){if(nD)return C6;nD=1;var e=cc();function t(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,a=e.useLayoutEffect,s=e.useDebugValue;function c(m,g){var v=g(),b=r({inst:{value:v,getSnapshot:g}}),C=b[0].inst,j=b[1];return a(function(){C.value=v,C.getSnapshot=g,d(C)&&j({inst:C})},[m,v,g]),i(function(){return d(C)&&j({inst:C}),m(function(){d(C)&&j({inst:C})})},[m]),s(v),v}function d(m){var g=m.getSnapshot;m=m.value;try{var v=g();return!n(m,v)}catch{return!0}}function f(m,g){return g()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return C6.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,C6}var rD;function Jde(){return rD||(rD=1,S6.exports=Zde()),S6.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iD;function efe(){if(iD)return w6;iD=1;var e=cc(),t=Jde();function n(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,a=e.useRef,s=e.useEffect,c=e.useMemo,d=e.useDebugValue;return w6.useSyncExternalStoreWithSelector=function(f,p,m,g,v){var b=a(null);if(b.current===null){var C={hasValue:!1,value:null};b.current=C}else C=b.current;b=c(function(){function A(F){if(!k){if(k=!0,E=F,F=g(F),v!==void 0&&C.hasValue){var O=C.value;if(v(O,F))return P=O}return P=F}if(O=P,r(E,F))return O;var _=g(F);return v!==void 0&&v(O,_)?(E=F,O):(E=F,P=_)}var k=!1,E,P,$=m===void 0?null:m;return[function(){return A(p())},$===null?void 0:function(){return A($())}]},[p,m,g,v]);var j=i(f,b[0],b[1]);return s(function(){C.hasValue=!0,C.value=j},[j]),d(j),j},w6}var aD;function tfe(){return aD||(aD=1,x6.exports=efe()),x6.exports}var nfe=tfe(),Bj=w.createContext(null),rfe=e=>e,Pn=()=>{var e=w.useContext(Bj);return e?e.store.dispatch:rfe},Vv=()=>{},ife=()=>Vv,afe=(e,t)=>e===t;function at(e){var t=w.useContext(Bj);return nfe.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:ife,t?t.store.getState:Vv,t?t.store.getState:Vv,t?e:Vv,afe)}var j6={},T6={},A6={},oD;function ofe(){return oD||(oD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=t(r),c=t(i);if(s===c&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?c-s:s-c}return 0};e.compareValues=n})(A6)),A6}var k6={},E6={},sD;function wU(){return sD||(sD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(E6)),E6}var lD;function sfe(){return lD||(lD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wU(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(k6)),k6}var cD;function lfe(){return cD||(cD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ofe(),n=sfe(),r=jj();function i(a,s,c,d){if(a==null)return[];c=d?void 0:c,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(v=>String(v));const f=(v,b)=>{let C=v;for(let j=0;j<b.length&&C!=null;++j)C=C[b[j]];return C},p=(v,b)=>b==null||v==null?b:typeof v=="object"&&"key"in v?Object.hasOwn(b,v.key)?b[v.key]:f(b,v.path):typeof v=="function"?v(b):Array.isArray(v)?f(b,v):typeof b=="object"?b[v]:b,m=s.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||n.isKey(v)?v:{key:v,path:r.toPath(v)}));return a.map(v=>({original:v,criteria:m.map(b=>p(b,v))})).slice().sort((v,b)=>{for(let C=0;C<m.length;C++){const j=t.compareValues(v.criteria[C],b.criteria[C],c[C]);if(j!==0)return j}return 0}).map(v=>v.original)}e.orderBy=i})(T6)),T6}var N6={},uD;function cfe(){return uD||(uD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),s=(c,d)=>{for(let f=0;f<c.length;f++){const p=c[f];Array.isArray(p)&&d<a?s(p,d+1):i.push(p)}};return s(n,0),i}e.flatten=t})(N6)),N6}var _6={},dD;function SU(){return dD||(dD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bU(),n=Ij(),r=mU(),i=Rj();function a(s,c,d){return r.isObject(d)&&(typeof c=="number"&&n.isArrayLike(d)&&t.isIndex(c)&&c<d.length||typeof c=="string"&&c in d)?i.eq(d[c],s):!1}e.isIterateeCall=a})(_6)),_6}var fD;function ufe(){return fD||(fD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lfe(),n=cfe(),r=SU();function i(a,...s){const c=s.length;return c>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:c>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,n.flatten(s),["asc"])}e.sortBy=i})(j6)),j6}var P6,pD;function dfe(){return pD||(pD=1,P6=ufe().sortBy),P6}var ffe=dfe();const m2=di(ffe);var CU=e=>e.legend.settings,pfe=e=>e.legend.size,hfe=e=>e.legend.payload,mfe=Te([hfe,CU],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?m2(r,n):r});function gfe(){return at(mfe)}var Zy=1;function jU(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=w.useState({height:0,left:0,top:0,width:0}),r=w.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>Zy||Math.abs(s.left-t.left)>Zy||Math.abs(s.top-t.top)>Zy||Math.abs(s.width-t.width)>Zy)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}var yfe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},TU=qt({name:"chartLayout",initialState:yfe,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:vfe,setLayout:bfe,setChartSize:xfe,setScale:wfe}=TU.actions,Sfe=TU.reducer;function hD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hD(Object(n),!0).forEach(function(r){Cfe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cfe(e,t,n){return(t=jfe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jfe(e){var t=Tfe(e,"string");return typeof t=="symbol"?t:t+""}function Tfe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yb=Math.PI/180,Afe=e=>e*180/Math.PI,tr=(e,t,n,r)=>({x:e+Math.cos(-Yb*r)*n,y:t+Math.sin(-Yb*r)*n}),AU=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},kfe=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},Efe=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,s=kfe({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var c=(n-i)/s,d=Math.acos(c);return r>a&&(d=2*Math.PI-d),{radius:s,angle:Afe(d),angleInRadian:d}},Nfe=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},_fe=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return e+s*360},Pfe=(e,t)=>{var{x:n,y:r}=e,{radius:i,angle:a}=Efe({x:n,y:r},t),{innerRadius:s,outerRadius:c}=t;if(i<s||i>c||i===0)return null;var{startAngle:d,endAngle:f}=Nfe(t),p=a,m;if(d<=f){for(;p>f;)p-=360;for(;p<d;)p+=360;m=p>=d&&p<=f}else{for(;p>d;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=d}return m?mD(mD({},t),{},{radius:i,angle:_fe(p,t)}):null};function kU(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function gD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function na(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gD(Object(n),!0).forEach(function(r){Dfe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dfe(e,t,n){return(t=Ofe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ofe(e){var t=$fe(e,"string");return typeof t=="symbol"?t:t+""}function $fe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function un(e,t,n){return vn(e)||vn(t)?n:Io(t)?tc(e,t,n):typeof t=="function"?t(e):n}var Ife=(e,t,n,r,i)=>{var a,s=-1,c=(a=t?.length)!==null&&a!==void 0?a:0;if(c<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var d=0;d<c;d++){var f=d>0?n[d-1].coordinate:n[c-1].coordinate,p=n[d].coordinate,m=d>=c-1?n[0].coordinate:n[d+1].coordinate,g=void 0;if(br(p-f)!==br(m-p)){var v=[];if(br(m-p)===br(i[1]-i[0])){g=m;var b=p+i[1]-i[0];v[0]=Math.min(b,(b+f)/2),v[1]=Math.max(b,(b+f)/2)}else{g=f;var C=m+i[1]-i[0];v[0]=Math.min(p,(C+p)/2),v[1]=Math.max(p,(C+p)/2)}var j=[Math.min(p,(g+p)/2),Math.max(p,(g+p)/2)];if(e>j[0]&&e<=j[1]||e>=v[0]&&e<=v[1]){({index:s}=n[d]);break}}else{var A=Math.min(f,m),k=Math.max(f,m);if(e>(A+p)/2&&e<=(k+p)/2){({index:s}=n[d]);break}}}else if(t){for(var E=0;E<c;E++)if(E===0&&e<=(t[E].coordinate+t[E+1].coordinate)/2||E>0&&E<c-1&&e>(t[E].coordinate+t[E-1].coordinate)/2&&e<=(t[E].coordinate+t[E+1].coordinate)/2||E===c-1&&e>(t[E].coordinate+t[E-1].coordinate)/2){({index:s}=t[E]);break}}return s},Rfe=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:c}=t;if((c==="vertical"||c==="horizontal"&&s==="middle")&&a!=="center"&&Qe(e[a]))return na(na({},e),{},{[a]:e[a]+(r||0)});if((c==="horizontal"||c==="vertical"&&a==="center")&&s!=="middle"&&Qe(e[s]))return na(na({},e),{},{[s]:e[s]+(i||0)})}return e},mc=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",EU=(e,t,n,r)=>{if(r)return e.map(c=>c.coordinate);var i,a,s=e.map(c=>(c.coordinate===t&&(i=!0),c.coordinate===n&&(a=!0),c.coordinate));return i||s.push(t),a||s.push(n),s},NU=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:c,isCategorical:d,categoricalDomain:f,tickCount:p,ticks:m,niceTicks:g,axisType:v}=e;if(!s)return null;var b=c==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,C=i==="category"&&s.bandwidth?s.bandwidth()/b:0;if(C=v==="angleAxis"&&a&&a.length>=2?br(a[0]-a[1])*2*C:C,m||g){var j=(m||g||[]).map((A,k)=>{var E=r?r.indexOf(A):A;return{coordinate:s(E)+C,value:A,offset:C,index:k}});return j.filter(A=>!Mi(A.coordinate))}return d&&f?f.map((A,k)=>({coordinate:s(A)+C,value:A,index:k,offset:C})):s.ticks&&p!=null?s.ticks(p).map((A,k)=>({coordinate:s(A)+C,value:A,offset:C,index:k})):s.domain().map((A,k)=>({coordinate:s(A)+C,value:r?r[A]:A,index:k,offset:C}))},yD=1e-4,Mfe=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-yD,a=Math.max(r[0],r[1])+yD,s=e(t[0]),c=e(t[n-1]);(s<i||s>a||c<i||c>a)&&e.domain([t[0],t[n-1]])}},Lfe=(e,t)=>{if(!t||t.length!==2||!Qe(t[0])||!Qe(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!Qe(e[0])||e[0]<n)&&(i[0]=n),(!Qe(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},Ffe=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,s=0;s<t;++s){var c=Mi(e[s][n][1])?e[s][n][0]:e[s][n][1];c>=0?(e[s][n][0]=i,e[s][n][1]=i+c,i=e[s][n][1]):(e[s][n][0]=a,e[s][n][1]=a+c,a=e[s][n][1])}},Bfe=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var s=Mi(e[a][n][1])?e[a][n][0]:e[a][n][1];s>=0?(e[a][n][0]=i,e[a][n][1]=i+s,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},zfe={sign:Ffe,expand:vde,none:Vf,silhouette:bde,wiggle:xde,positive:Bfe},Ufe=(e,t,n)=>{var r=zfe[n],i=yde().keys(t).value((a,s)=>+un(a,s,0)).order(V8).offset(r);return i(e)};function Hfe(e){return e==null?void 0:String(e)}function vD(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!vn(i[t.dataKey])){var c=Yz(n,"value",i[t.dataKey]);if(c)return c.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var d=un(i,vn(s)?t.dataKey:s);return vn(d)?null:t.scale(d)}var bD=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:a,index:s}=e;if(t.type==="category")return n[s]?n[s].coordinate+r:null;var c=un(a,t.dataKey,t.scale.domain()[s]);return vn(c)?null:t.scale(c)-i/2+r},Vfe=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},qfe=e=>{var t=e.flat(2).filter(Qe);return[Math.min(...t),Math.max(...t)]},Yfe=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Wfe=(e,t,n)=>{if(e!=null)return Yfe(Object.keys(e).reduce((r,i)=>{var a=e[i],{stackedData:s}=a,c=s.reduce((d,f)=>{var p=kU(f,t,n),m=qfe(p);return[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]))},xD=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,wD=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Jm=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=m2(t,p=>p.coordinate),a=1/0,s=1,c=i.length;s<c;s++){var d=i[s],f=i[s-1];a=Math.min((d.coordinate||0)-(f.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function SD(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return na(na({},t),{},{dataKey:n,payload:r,value:i,name:a})}function xp(e,t){if(e)return String(e);if(typeof t=="string")return t}function Gfe(e,t,n,r,i){if(n==="horizontal"||n==="vertical"){var a=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return a?{x:e,y:t}:null}return r?Pfe({x:e,y:t},r):null}var Kfe=(e,t,n,r)=>{var i=t.find(f=>f&&f.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:i.coordinate};if(e==="centric"){var a=i.coordinate,{radius:s}=r;return na(na(na({},r),tr(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var c=i.coordinate,{angle:d}=r;return na(na(na({},r),tr(r.cx,r.cy,c,d)),{},{angle:d,radius:c})}return{x:0,y:0}},Xfe=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Ws=e=>e.layout.width,Gs=e=>e.layout.height,Qfe=e=>e.layout.scale,_U=e=>e.layout.margin,zj=Te(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Uj=Te(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),PU="data-recharts-item-index",DU="data-recharts-item-data-key",g2=60;function CD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ol(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CD(Object(n),!0).forEach(function(r){Zfe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zfe(e,t,n){return(t=Jfe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jfe(e){var t=epe(e,"string");return typeof t=="symbol"?t:t+""}function epe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tpe=e=>e.brush.height,cr=Te([Ws,Gs,_U,tpe,zj,Uj,CU,pfe],(e,t,n,r,i,a,s,c)=>{var d=a.reduce((b,C)=>{var{orientation:j}=C;if(!C.mirror&&!C.hide){var A=typeof C.width=="number"?C.width:g2;return Ol(Ol({},b),{},{[j]:b[j]+A})}return b},{left:n.left||0,right:n.right||0}),f=i.reduce((b,C)=>{var{orientation:j}=C;return!C.mirror&&!C.hide?Ol(Ol({},b),{},{[j]:tc(b,"".concat(j))+C.height}):b},{top:n.top||0,bottom:n.bottom||0}),p=Ol(Ol({},f),d),m=p.bottom;p.bottom+=r,p=Rfe(p,s,c);var g=e-p.left-p.right,v=t-p.top-p.bottom;return Ol(Ol({brushBottom:m},p),{},{width:Math.max(g,0),height:Math.max(v,0)})}),npe=Te(cr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),OU=Te(Ws,Gs,(e,t)=>({x:0,y:0,width:e,height:t})),rpe=w.createContext(null),fi=()=>w.useContext(rpe)!=null,y2=e=>e.brush,v2=Te([y2,cr,_U],(e,t,n)=>({height:e.height,x:Qe(e.x)?e.x:t.left,y:Qe(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:Qe(e.width)?e.width:t.width})),Hj=()=>{var e,t=fi(),n=at(npe),r=at(v2),i=(e=at(y2))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},ipe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},$U=()=>{var e;return(e=at(cr))!==null&&e!==void 0?e:ipe},Vj=()=>at(Ws),qj=()=>at(Gs),ape={top:0,right:0,bottom:0,left:0},ope=()=>{var e;return(e=at(t=>t.layout.margin))!==null&&e!==void 0?e:ape},Mt=e=>e.layout.layoutType,b2=()=>at(Mt),spe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},IU=qt({name:"legend",initialState:spe,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=Cs(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:jD,setLegendSettings:lpe,addLegendPayload:RU,removeLegendPayload:MU}=IU.actions,cpe=IU.reducer,upe=["contextPayload"];function W8(){return W8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W8.apply(null,arguments)}function TD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TD(Object(n),!0).forEach(function(r){Yj(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yj(e,t,n){return(t=dpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dpe(e){var t=fpe(e,"string");return typeof t=="symbol"?t:t+""}function fpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ppe(e,t){if(e==null)return{};var n,r,i=hpe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hpe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function mpe(e){return e.value}function gpe(e){var{contextPayload:t}=e,n=ppe(e,upe),r=xU(t,e.payloadUniqBy,mpe),i=qf(qf({},n),{},{payload:r});return w.isValidElement(e.content)?w.cloneElement(e.content,i):typeof e.content=="function"?w.createElement(e.content,i):w.createElement($j,i)}function ype(e,t,n,r,i,a){var{layout:s,align:c,verticalAlign:d}=t,f,p;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(c==="center"&&s==="vertical"?f={left:((r||0)-a.width)/2}:f=c==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(d==="middle"?p={top:((i||0)-a.height)/2}:p=d==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),qf(qf({},f),p)}function vpe(e){var t=Pn();return w.useEffect(()=>{t(lpe(e))},[t,e]),null}function bpe(e){var t=Pn();return w.useEffect(()=>(t(jD(e)),()=>{t(jD({width:0,height:0}))}),[t,e]),null}function xpe(e){var t=gfe(),n=zue(),r=ope(),{width:i,height:a,wrapperStyle:s,portal:c}=e,[d,f]=jU([t]),p=Vj(),m=qj(),g=p-(r.left||0)-(r.right||0),v=ii.getWidthOrHeight(e.layout,a,i,g),b=c?s:qf(qf({position:"absolute",width:v?.width||i||"auto",height:v?.height||a||"auto"},ype(s,e,r,p,m,d)),s),C=c??n;if(C==null)return null;var j=w.createElement("div",{className:"recharts-legend-wrapper",style:b,ref:f},w.createElement(vpe,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),w.createElement(bpe,{width:d.width,height:d.height}),w.createElement(gpe,W8({},e,v,{margin:r,chartWidth:p,chartHeight:m,contextPayload:t})));return n2.createPortal(j,C)}class ii extends w.PureComponent{static getWidthOrHeight(t,n,r,i){return t==="vertical"&&Qe(n)?{height:n}:t==="horizontal"?{width:r||i}:null}render(){return w.createElement(xpe,this.props)}}Yj(ii,"displayName","Legend");Yj(ii,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function G8(){return G8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G8.apply(null,arguments)}function AD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function D6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AD(Object(n),!0).forEach(function(r){wpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wpe(e,t,n){return(t=Spe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Spe(e){var t=Cpe(e,"string");return typeof t=="symbol"?t:t+""}function Cpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jpe(e){return Array.isArray(e)&&Io(e[0])&&Io(e[1])?e.join(" ~ "):e}var Tpe=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:s,itemSorter:c,wrapperClassName:d,labelClassName:f,label:p,labelFormatter:m,accessibilityLayer:g=!1}=e,v=()=>{if(a&&a.length){var $={padding:0,margin:0},F=(c?m2(a,c):a).map((O,_)=>{if(O.type==="none")return null;var D=O.formatter||s||jpe,{value:L,name:R}=O,M=L,H=R;if(D){var W=D(L,R,O,_,a);if(Array.isArray(W))[M,H]=W;else if(W!=null)M=W;else return null}var fe=D6({display:"block",paddingTop:4,paddingBottom:4,color:O.color||"#000"},r);return w.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(_),style:fe},Io(H)?w.createElement("span",{className:"recharts-tooltip-item-name"},H):null,Io(H)?w.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,w.createElement("span",{className:"recharts-tooltip-item-value"},M),w.createElement("span",{className:"recharts-tooltip-item-unit"},O.unit||""))});return w.createElement("ul",{className:"recharts-tooltip-item-list",style:$},F)}return null},b=D6({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),C=D6({margin:0},i),j=!vn(p),A=j?p:"",k=ct("recharts-default-tooltip",d),E=ct("recharts-tooltip-label",f);j&&m&&a!==void 0&&a!==null&&(A=m(p,a));var P=g?{role:"status","aria-live":"assertive"}:{};return w.createElement("div",G8({className:k,style:b},P),w.createElement("p",{className:E,style:C},w.isValidElement(A)?A:"".concat(A)),v())},Vh="recharts-tooltip-wrapper",Ape={visibility:"hidden"};function kpe(e){var{coordinate:t,translateX:n,translateY:r}=e;return ct(Vh,{["".concat(Vh,"-right")]:Qe(n)&&t&&Qe(t.x)&&n>=t.x,["".concat(Vh,"-left")]:Qe(n)&&t&&Qe(t.x)&&n<t.x,["".concat(Vh,"-bottom")]:Qe(r)&&t&&Qe(t.y)&&r>=t.y,["".concat(Vh,"-top")]:Qe(r)&&t&&Qe(t.y)&&r<t.y})}function kD(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:c,viewBox:d,viewBoxDimension:f}=e;if(a&&Qe(a[r]))return a[r];var p=n[r]-c-(i>0?i:0),m=n[r]+i;if(t[r])return s[r]?p:m;var g=d[r];if(g==null)return 0;if(s[r]){var v=p,b=g;return v<b?Math.max(m,g):Math.max(p,g)}if(f==null)return 0;var C=m+c,j=g+f;return C>j?Math.max(p,g):Math.max(m,g)}function Epe(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function Npe(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:c,viewBox:d}=e,f,p,m;return s.height>0&&s.width>0&&n?(p=kD({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:d,viewBoxDimension:d.width}),m=kD({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:d,viewBoxDimension:d.height}),f=Epe({translateX:p,translateY:m,useTranslate3d:c})):f=Ape,{cssProperties:f,cssClasses:kpe({translateX:p,translateY:m,coordinate:n})}}function ED(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Jy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ED(Object(n),!0).forEach(function(r){K8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ED(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function K8(e,t,n){return(t=_pe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _pe(e){var t=Ppe(e,"string");return typeof t=="symbol"?t:t+""}function Ppe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Dpe extends w.PureComponent{constructor(){super(...arguments),K8(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),K8(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:c,isAnimationActive:d,offset:f,position:p,reverseDirection:m,useTranslate3d:g,viewBox:v,wrapperStyle:b,lastBoundingBox:C,innerRef:j,hasPortalFromProps:A}=this.props,{cssClasses:k,cssProperties:E}=Npe({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:f,position:p,reverseDirection:m,tooltipBox:{height:C.height,width:C.width},useTranslate3d:g,viewBox:v}),P=A?{}:Jy(Jy({transition:d&&t?"transform ".concat(r,"ms ").concat(i):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&c?"visible":"hidden",position:"absolute",top:0,left:0}),$=Jy(Jy({},P),{},{visibility:!this.state.dismissed&&t&&c?"visible":"hidden"},b);return w.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:k,style:$,ref:j},a)}}var Ope=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),od={isSsr:Ope()},LU=()=>at(e=>e.rootProps.accessibilityLayer);function Li(e){return Number.isFinite(e)}function Yf(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function X8(){return X8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},X8.apply(null,arguments)}function ND(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _D(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ND(Object(n),!0).forEach(function(r){$pe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ND(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $pe(e,t,n){return(t=Ipe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ipe(e){var t=Rpe(e,"string");return typeof t=="symbol"?t:t+""}function Rpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PD={curveBasisClosed:ode,curveBasisOpen:sde,curveBasis:ade,curveBumpX:que,curveBumpY:Yue,curveLinearClosed:lde,curveLinear:p2,curveMonotoneX:cde,curveMonotoneY:ude,curveNatural:dde,curveStep:fde,curveStepAfter:hde,curveStepBefore:pde},e1=e=>Li(e.x)&&Li(e.y),qh=e=>e.x,Yh=e=>e.y,Mpe=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Qg(e));return(n==="curveMonotone"||n==="curveBump")&&t?PD["".concat(n).concat(t==="vertical"?"Y":"X")]:PD[n]||p2},Lpe=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,s=Mpe(t,i),c=a?n.filter(e1):n,d;if(Array.isArray(r)){var f=a?r.filter(m=>e1(m)):r,p=c.map((m,g)=>_D(_D({},m),{},{base:f[g]}));return i==="vertical"?d=Qy().y(Yh).x1(qh).x0(m=>m.base.x):d=Qy().x(qh).y1(Yh).y0(m=>m.base.y),d.defined(e1).curve(s),d(p)}return i==="vertical"&&Qe(r)?d=Qy().y(Yh).x1(qh).x0(r):Qe(r)?d=Qy().x(qh).y1(Yh).y0(r):d=nU().x(qh).y(Yh),d.defined(e1).curve(s),d(c)},Wj=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var a=n&&n.length?Lpe(e):r;return w.createElement("path",X8({},Ys(e),kj(e),{className:ct("recharts-curve",t),d:a===null?void 0:a,ref:i}))},Fpe=["x","y","top","left","width","height","className"];function Q8(){return Q8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q8.apply(null,arguments)}function DD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bpe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DD(Object(n),!0).forEach(function(r){zpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zpe(e,t,n){return(t=Upe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Upe(e){var t=Hpe(e,"string");return typeof t=="symbol"?t:t+""}function Hpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vpe(e,t){if(e==null)return{};var n,r,i=qpe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function qpe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ype=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),Wpe=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:c}=e,d=Vpe(e,Fpe),f=Bpe({x:t,y:n,top:r,left:i,width:a,height:s},d);return!Qe(t)||!Qe(n)||!Qe(a)||!Qe(s)||!Qe(r)||!Qe(i)?null:w.createElement("path",Q8({},xn(f,!0),{className:ct("recharts-cross",c),d:Ype(t,n,a,s,r,i)}))};function Gpe(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function OD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Kpe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OD(Object(n),!0).forEach(function(r){Xpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xpe(e,t,n){return(t=Qpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qpe(e){var t=Zpe(e,"string");return typeof t=="symbol"?t:t+""}function Zpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fi(e,t){var n=Kpe({},e),r=t,i=Object.keys(t),a=i.reduce((s,c)=>(s[c]===void 0&&r[c]!==void 0&&(s[c]=r[c]),s),n);return a}var O6={},$6={},I6={},$D;function Jpe(){return $D||($D=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(!n||typeof n!="object")return!1;const r=Object.getPrototypeOf(n);return r===null||r===Object.prototype||Object.getPrototypeOf(r)===null?Object.prototype.toString.call(n)==="[object Object]":!1}e.isPlainObject=t})(I6)),I6}var ID;function ehe(){return ID||(ID=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jpe(),n=yU(),r=Lj(),i=Fj(),a=Rj();function s(f,p,m){return c(f,p,void 0,void 0,void 0,void 0,m)}function c(f,p,m,g,v,b,C){const j=C(f,p,m,g,v,b);if(j!==void 0)return j;if(typeof f==typeof p)switch(typeof f){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return f===p;case"number":return f===p||Object.is(f,p);case"function":return f===p;case"object":return d(f,p,b,C)}return d(f,p,b,C)}function d(f,p,m,g){if(Object.is(f,p))return!0;let v=r.getTag(f),b=r.getTag(p);if(v===i.argumentsTag&&(v=i.objectTag),b===i.argumentsTag&&(b=i.objectTag),v!==b)return!1;switch(v){case i.stringTag:return f.toString()===p.toString();case i.numberTag:{const A=f.valueOf(),k=p.valueOf();return a.eq(A,k)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(f.valueOf(),p.valueOf());case i.regexpTag:return f.source===p.source&&f.flags===p.flags;case i.functionTag:return f===p}m=m??new Map;const C=m.get(f),j=m.get(p);if(C!=null&&j!=null)return C===p;m.set(f,p),m.set(p,f);try{switch(v){case i.mapTag:{if(f.size!==p.size)return!1;for(const[A,k]of f.entries())if(!p.has(A)||!c(k,p.get(A),A,f,p,m,g))return!1;return!0}case i.setTag:{if(f.size!==p.size)return!1;const A=Array.from(f.values()),k=Array.from(p.values());for(let E=0;E<A.length;E++){const P=A[E],$=k.findIndex(F=>c(P,F,void 0,f,p,m,g));if($===-1)return!1;k.splice($,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(f)!==Buffer.isBuffer(p)||f.length!==p.length)return!1;for(let A=0;A<f.length;A++)if(!c(f[A],p[A],A,f,p,m,g))return!1;return!0}case i.arrayBufferTag:return f.byteLength!==p.byteLength?!1:d(new Uint8Array(f),new Uint8Array(p),m,g);case i.dataViewTag:return f.byteLength!==p.byteLength||f.byteOffset!==p.byteOffset?!1:d(new Uint8Array(f),new Uint8Array(p),m,g);case i.errorTag:return f.name===p.name&&f.message===p.message;case i.objectTag:{if(!(d(f.constructor,p.constructor,m,g)||t.isPlainObject(f)&&t.isPlainObject(p)))return!1;const k=[...Object.keys(f),...n.getSymbols(f)],E=[...Object.keys(p),...n.getSymbols(p)];if(k.length!==E.length)return!1;for(let P=0;P<k.length;P++){const $=k[P],F=f[$];if(!Object.hasOwn(p,$))return!1;const O=p[$];if(!c(F,O,$,f,p,m,g))return!1}return!0}default:return!1}}finally{m.delete(f),m.delete(p)}}e.isEqualWith=s})($6)),$6}var R6={},RD;function the(){return RD||(RD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t})(R6)),R6}var MD;function nhe(){return MD||(MD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ehe(),n=the();function r(i,a){return t.isEqualWith(i,a,n.noop)}e.isEqual=r})(O6)),O6}var M6,LD;function rhe(){return LD||(LD=1,M6=nhe().isEqual),M6}var ihe=rhe();const ahe=di(ihe);var Wb=1e-4,FU=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],BU=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),FD=(e,t)=>n=>{var r=FU(e,t);return BU(r,n)},ohe=(e,t)=>n=>{var r=FU(e,t),i=[...r.map((a,s)=>a*s).slice(1),0];return BU(i,n)},BD=function(){for(var t,n,r,i,a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];if(s.length===1)switch(s[0]){case"linear":[t,r,n,i]=[0,0,1,1];break;case"ease":[t,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[t,r,n,i]=[.42,0,1,1];break;case"ease-out":[t,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[t,r,n,i]=[0,0,.58,1];break;default:{var d=s[0].split("(");d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4&&([t,r,n,i]=d[1].split(")")[0].split(",").map(b=>parseFloat(b)))}}else s.length===4&&([t,r,n,i]=s);var f=FD(t,n),p=FD(r,i),m=ohe(t,n),g=b=>b>1?1:b<0?0:b,v=b=>{for(var C=b>1?1:b,j=C,A=0;A<8;++A){var k=f(j)-C,E=m(j);if(Math.abs(k-C)<Wb||E<Wb)return p(j);j=g(j-k/E)}return p(j)};return v.isStepper=!1,v},she=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(s,c,d)=>{var f=-(s-c)*n,p=d*r,m=d+(f-p)*i/1e3,g=d*i/1e3+s;return Math.abs(g-c)<Wb&&Math.abs(m)<Wb?[c,0]:[g,m]};return a.isStepper=!0,a.dt=i,a},zU=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return BD(e);case"spring":return she();default:if(e.split("(")[0]==="cubic-bezier")return BD(e)}return typeof e=="function"?e:null};function zD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function UD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zD(Object(n),!0).forEach(function(r){lhe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lhe(e,t,n){return(t=che(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function che(e){var t=uhe(e,"string");return typeof t=="symbol"?t:t+""}function uhe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dhe=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),fhe=(e,t,n)=>e.map(r=>"".concat(dhe(r)," ").concat(t,"ms ").concat(n)).join(","),phe=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),eg=(e,t)=>Object.keys(t).reduce((n,r)=>UD(UD({},n),{},{[r]:e(r,t[r])}),{});function HD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ar(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HD(Object(n),!0).forEach(function(r){hhe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hhe(e,t,n){return(t=mhe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mhe(e){var t=ghe(e,"string");return typeof t=="symbol"?t:t+""}function ghe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gb=(e,t,n)=>e+(t-e)*n,Z8=e=>{var{from:t,to:n}=e;return t!==n},UU=(e,t,n)=>{var r=eg((i,a)=>{if(Z8(a)){var[s,c]=e(a.from,a.to,a.velocity);return Ar(Ar({},a),{},{from:s,velocity:c})}return a},t);return n<1?eg((i,a)=>Z8(a)?Ar(Ar({},a),{},{velocity:Gb(a.velocity,r[i].velocity,n),from:Gb(a.from,r[i].from,n)}):a,t):UU(e,r,n-1)};function yhe(e,t,n,r,i,a){var s,c=r.reduce((g,v)=>Ar(Ar({},g),{},{[v]:{from:e[v],velocity:0,to:t[v]}}),{}),d=()=>eg((g,v)=>v.from,c),f=()=>!Object.values(c).filter(Z8).length,p=null,m=g=>{s||(s=g);var v=g-s,b=v/n.dt;c=UU(n,c,b),i(Ar(Ar(Ar({},e),t),d())),s=g,f()||(p=a.setTimeout(m))};return()=>(p=a.setTimeout(m),()=>{p()})}function vhe(e,t,n,r,i,a,s){var c=null,d=i.reduce((m,g)=>Ar(Ar({},m),{},{[g]:[e[g],t[g]]}),{}),f,p=m=>{f||(f=m);var g=(m-f)/r,v=eg((C,j)=>Gb(...j,n(g)),d);if(a(Ar(Ar(Ar({},e),t),v)),g<1)c=s.setTimeout(p);else{var b=eg((C,j)=>Gb(...j,n(1)),d);a(Ar(Ar(Ar({},e),t),b))}};return()=>(c=s.setTimeout(p),()=>{c()})}const HU=(e,t,n,r,i,a)=>{var s=phe(e,t);return n.isStepper===!0?yhe(e,t,n,s,i,a):vhe(e,t,n,r,s,i,a)};function bhe(e){var t,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var c=s,[d,...f]=c;if(typeof d=="number"){i=e.setTimeout(a.bind(null,f),d);return}a(d),i=e.setTimeout(a.bind(null,f));return}typeof s=="string"&&(t=s,n(t)),typeof s=="object"&&(t=s,n(t)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>e}}class xhe{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function whe(){return bhe(new xhe)}var She=w.createContext(whe);function VU(e,t){var n=w.useContext(She);return w.useMemo(()=>t??n(e),[e,t,n])}var Che=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function J8(){return J8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},J8.apply(null,arguments)}function jhe(e,t){if(e==null)return{};var n,r,i=The(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function The(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function VD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $l(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VD(Object(n),!0).forEach(function(r){ju(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ju(e,t,n){return(t=Ahe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ahe(e){var t=khe(e,"string");return typeof t=="symbol"?t:t+""}function khe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Gj extends w.PureComponent{constructor(t,n){super(t,n),ju(this,"mounted",!1),ju(this,"manager",void 0),ju(this,"stopJSAnimation",null),ju(this,"unSubscribe",null);var{isActive:r,attributeName:i,from:a,to:s,children:c,duration:d,animationManager:f}=this.props;if(this.manager=f,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||d<=0){this.state={style:{}},typeof c=="function"&&(this.state={style:s});return}if(a){if(typeof c=="function"){this.state={style:a};return}this.state={style:i?{[i]:a}:a}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:n}=this.props;this.mounted=!0,!(!t||!n)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:n,canBegin:r,attributeName:i,shouldReAnimate:a,to:s,from:c}=this.props,{style:d}=this.state;if(r){if(!n){var f={style:i?{[i]:s}:s};this.state&&d&&(i&&d[i]!==s||!i&&d!==s)&&this.setState(f);return}if(!(ahe(t.to,s)&&t.canBegin&&t.isActive)){var p=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=p||a?c:t.to;if(this.state&&d){var g={style:i?{[i]:m}:m};(i&&d[i]!==m||!i&&d!==m)&&this.setState(g)}this.runAnimation($l($l({},this.props),{},{from:m,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:n,to:r,duration:i,easing:a,begin:s,onAnimationEnd:c,onAnimationStart:d}=t,f=HU(n,r,zU(a),i,this.changeStyle,this.manager.getTimeoutController()),p=()=>{this.stopJSAnimation=f()};this.manager.start([d,s,p,i,c])}runAnimation(t){var{begin:n,duration:r,attributeName:i,to:a,easing:s,onAnimationStart:c,onAnimationEnd:d,children:f}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof s=="function"||typeof f=="function"||s==="spring"){this.runJSAnimation(t);return}var p=i?{[i]:a}:a,m=fhe(Object.keys(p),r,s);this.manager.start([c,n,$l($l({},p),{},{transition:m}),r,d])}render(){var t=this.props,{children:n,begin:r,duration:i,attributeName:a,easing:s,isActive:c,from:d,to:f,canBegin:p,onAnimationEnd:m,shouldReAnimate:g,onAnimationReStart:v,animationManager:b}=t,C=jhe(t,Che),j=w.Children.count(n),A=this.state.style;if(typeof n=="function")return n(A);if(!c||j===0||i<=0)return n;var k=E=>{var{style:P={},className:$}=E.props,F=w.cloneElement(E,$l($l({},C),{},{style:$l($l({},P),A),className:$}));return F};return j===1?k(w.Children.only(n)):w.createElement("div",null,w.Children.map(n,E=>k(E)))}}ju(Gj,"displayName","Animate");ju(Gj,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function Kb(e){var t,n=VU((t=e.attributeName)!==null&&t!==void 0?t:Object.keys(e.to).join(","),e.animationManager);return w.createElement(Gj,J8({},e,{animationManager:n}))}function Xb(){return Xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xb.apply(null,arguments)}var qD=(e,t,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,c=n>=0?1:-1,d=r>=0&&n>=0||r<0&&n<0?1:0,f;if(a>0&&i instanceof Array){for(var p=[0,0,0,0],m=0,g=4;m<g;m++)p[m]=i[m]>a?a:i[m];f="M".concat(e,",").concat(t+s*p[0]),p[0]>0&&(f+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(d,",").concat(e+c*p[0],",").concat(t)),f+="L ".concat(e+n-c*p[1],",").concat(t),p[1]>0&&(f+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(d,`,
        `).concat(e+n,",").concat(t+s*p[1])),f+="L ".concat(e+n,",").concat(t+r-s*p[2]),p[2]>0&&(f+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(d,`,
        `).concat(e+n-c*p[2],",").concat(t+r)),f+="L ".concat(e+c*p[3],",").concat(t+r),p[3]>0&&(f+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(t+r-s*p[3])),f+="Z"}else if(a>0&&i===+i&&i>0){var v=Math.min(a,i);f="M ".concat(e,",").concat(t+s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(e+c*v,",").concat(t,`
            L `).concat(e+n-c*v,",").concat(t,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(e+n,",").concat(t+s*v,`
            L `).concat(e+n,",").concat(t+r-s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(e+n-c*v,",").concat(t+r,`
            L `).concat(e+c*v,",").concat(t+r,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(e,",").concat(t+r-s*v," Z")}else f="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return f},Ehe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},qU=e=>{var t=Fi(e,Ehe),n=w.useRef(null),[r,i]=w.useState(-1);w.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var A=n.current.getTotalLength();A&&i(A)}catch{}},[]);var{x:a,y:s,width:c,height:d,radius:f,className:p}=t,{animationEasing:m,animationDuration:g,animationBegin:v,isAnimationActive:b,isUpdateAnimationActive:C}=t;if(a!==+a||s!==+s||c!==+c||d!==+d||c===0||d===0)return null;var j=ct("recharts-rectangle",p);return C?w.createElement(Kb,{canBegin:r>0,from:{width:c,height:d,x:a,y:s},to:{width:c,height:d,x:a,y:s},duration:g,animationEasing:m,isActive:C},A=>{var{width:k,height:E,x:P,y:$}=A;return w.createElement(Kb,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:b,easing:m},w.createElement("path",Xb({},xn(t,!0),{className:j,d:qD(P,$,k,E,f),ref:n})))}):w.createElement("path",Xb({},xn(t,!0),{className:j,d:qD(a,s,c,d,f)}))};function YU(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,s=tr(t,n,r,i),c=tr(t,n,r,a);return{points:[s,c],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function eC(){return eC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eC.apply(null,arguments)}var Nhe=(e,t)=>{var n=br(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},t1=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:c,cornerIsExternal:d}=e,f=c*(s?1:-1)+r,p=Math.asin(c/f)/Yb,m=d?i:i+a*p,g=tr(t,n,f,m),v=tr(t,n,r,m),b=d?i-a*p:i,C=tr(t,n,f*Math.cos(p*Yb),b);return{center:g,circleTangency:v,lineTangency:C,theta:p}},WU=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=e,c=Nhe(a,s),d=a+c,f=tr(t,n,i,a),p=tr(t,n,i,d),m="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(a>d),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(r>0){var g=tr(t,n,r,a),v=tr(t,n,r,d);m+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(a<=d),`,
            `).concat(g.x,",").concat(g.y," Z")}else m+="L ".concat(t,",").concat(n," Z");return m},_he=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:c,startAngle:d,endAngle:f}=e,p=br(f-d),{circleTangency:m,lineTangency:g,theta:v}=t1({cx:t,cy:n,radius:i,angle:d,sign:p,cornerRadius:a,cornerIsExternal:c}),{circleTangency:b,lineTangency:C,theta:j}=t1({cx:t,cy:n,radius:i,angle:f,sign:-p,cornerRadius:a,cornerIsExternal:c}),A=c?Math.abs(d-f):Math.abs(d-f)-v-j;if(A<0)return s?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):WU({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:d,endAngle:f});var k="M ".concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(A>180),",").concat(+(p<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(C.x,",").concat(C.y,`
  `);if(r>0){var{circleTangency:E,lineTangency:P,theta:$}=t1({cx:t,cy:n,radius:r,angle:d,sign:p,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),{circleTangency:F,lineTangency:O,theta:_}=t1({cx:t,cy:n,radius:r,angle:f,sign:-p,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),D=c?Math.abs(d-f):Math.abs(d-f)-$-_;if(D<0&&a===0)return"".concat(k,"L").concat(t,",").concat(n,"Z");k+="L".concat(O.x,",").concat(O.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(F.x,",").concat(F.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(D>180),",").concat(+(p>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(P.x,",").concat(P.y,"Z")}else k+="L".concat(t,",").concat(n,"Z");return k},Phe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},GU=e=>{var t=Fi(e,Phe),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:p,className:m}=t;if(a<i||f===p)return null;var g=ct("recharts-sector",m),v=a-i,b=Xr(s,v,0,!0),C;return b>0&&Math.abs(f-p)<360?C=_he({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(b,v/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:p}):C=WU({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:f,endAngle:p}),w.createElement("path",eC({},xn(t,!0),{className:g,d:C}))};function Dhe(e,t,n){var r,i,a,s;if(e==="horizontal")r=t.x,a=r,i=n.top,s=n.top+n.height;else if(e==="vertical")i=t.y,s=i,r=n.left,a=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:c,cy:d,innerRadius:f,outerRadius:p,angle:m}=t,g=tr(c,d,f,m),v=tr(c,d,p,m);r=g.x,i=g.y,a=v.x,s=v.y}else return YU(t);return[{x:r,y:i},{x:a,y:s}]}var L6={},F6={},B6={},YD;function Ohe(){return YD||(YD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wU();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(B6)),B6}var WD;function $he(){return WD||(WD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ohe();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(F6)),F6}var GD;function Ihe(){return GD||(GD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SU(),n=$he();function r(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const c=Math.max(Math.ceil((a-i)/(s||1)),0),d=new Array(c);for(let f=0;f<c;f++)d[f]=i,i+=s;return d}e.range=r})(L6)),L6}var z6,KD;function Rhe(){return KD||(KD=1,z6=Ihe().range),z6}var Mhe=Rhe();const KU=di(Mhe);function Wl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Lhe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Kj(e){let t,n,r;e.length!==2?(t=Wl,n=(c,d)=>Wl(e(c),d),r=(c,d)=>e(c)-d):(t=e===Wl||e===Lhe?e:Fhe,n=e,r=e);function i(c,d,f=0,p=c.length){if(f<p){if(t(d,d)!==0)return p;do{const m=f+p>>>1;n(c[m],d)<0?f=m+1:p=m}while(f<p)}return f}function a(c,d,f=0,p=c.length){if(f<p){if(t(d,d)!==0)return p;do{const m=f+p>>>1;n(c[m],d)<=0?f=m+1:p=m}while(f<p)}return f}function s(c,d,f=0,p=c.length){const m=i(c,d,f,p-1);return m>f&&r(c[m-1],d)>-r(c[m],d)?m-1:m}return{left:i,center:s,right:a}}function Fhe(){return 0}function XU(e){return e===null?NaN:+e}function*Bhe(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const zhe=Kj(Wl),e0=zhe.right;Kj(XU).center;class XD extends Map{constructor(t,n=Vhe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(QD(this,t))}has(t){return super.has(QD(this,t))}set(t,n){return super.set(Uhe(this,t),n)}delete(t){return super.delete(Hhe(this,t))}}function QD({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Uhe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Hhe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Vhe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function qhe(e=Wl){if(e===Wl)return QU;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function QU(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Yhe=Math.sqrt(50),Whe=Math.sqrt(10),Ghe=Math.sqrt(2);function Qb(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=Yhe?10:a>=Whe?5:a>=Ghe?2:1;let c,d,f;return i<0?(f=Math.pow(10,-i)/s,c=Math.round(e*f),d=Math.round(t*f),c/f<e&&++c,d/f>t&&--d,f=-f):(f=Math.pow(10,i)*s,c=Math.round(e/f),d=Math.round(t/f),c*f<e&&++c,d*f>t&&--d),d<c&&.5<=n&&n<2?Qb(e,t,n*2):[c,d,f]}function tC(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,s]=r?Qb(t,e,n):Qb(e,t,n);if(!(a>=i))return[];const c=a-i+1,d=new Array(c);if(r)if(s<0)for(let f=0;f<c;++f)d[f]=(a-f)/-s;else for(let f=0;f<c;++f)d[f]=(a-f)*s;else if(s<0)for(let f=0;f<c;++f)d[f]=(i+f)/-s;else for(let f=0;f<c;++f)d[f]=(i+f)*s;return d}function nC(e,t,n){return t=+t,e=+e,n=+n,Qb(e,t,n)[2]}function rC(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?nC(t,e,n):nC(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function ZD(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function JD(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function ZU(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?QU:qhe(i);r>n;){if(r-n>600){const d=r-n+1,f=t-n+1,p=Math.log(d),m=.5*Math.exp(2*p/3),g=.5*Math.sqrt(p*m*(d-m)/d)*(f-d/2<0?-1:1),v=Math.max(n,Math.floor(t-f*m/d+g)),b=Math.min(r,Math.floor(t+(d-f)*m/d+g));ZU(e,t,v,b,i)}const a=e[t];let s=n,c=r;for(Wh(e,n,t),i(e[r],a)>0&&Wh(e,n,r);s<c;){for(Wh(e,s,c),++s,--c;i(e[s],a)<0;)++s;for(;i(e[c],a)>0;)--c}i(e[n],a)===0?Wh(e,n,c):(++c,Wh(e,c,r)),c<=t&&(n=c+1),t<=c&&(r=c-1)}return e}function Wh(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Khe(e,t,n){if(e=Float64Array.from(Bhe(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return JD(e);if(t>=1)return ZD(e);var r,i=(r-1)*t,a=Math.floor(i),s=ZD(ZU(e,a).subarray(0,a+1)),c=JD(e.subarray(a+1));return s+(c-s)*(i-a)}}function Xhe(e,t,n=XU){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e),c=+n(e[a+1],a+1,e);return s+(c-s)*(i-a)}}function Qhe(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function ha(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ks(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const iC=Symbol("implicit");function Xj(){var e=new XD,t=[],n=[],r=iC;function i(a){let s=e.get(a);if(s===void 0){if(r!==iC)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new XD;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Xj(t,n).unknown(r)},ha.apply(i,arguments),i}function Qj(){var e=Xj().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,s,c=!1,d=0,f=0,p=.5;delete e.unknown;function m(){var g=t().length,v=i<r,b=v?i:r,C=v?r:i;a=(C-b)/Math.max(1,g-d+f*2),c&&(a=Math.floor(a)),b+=(C-b-a*(g-d))*p,s=a*(1-d),c&&(b=Math.round(b),s=Math.round(s));var j=Qhe(g).map(function(A){return b+a*A});return n(v?j.reverse():j)}return e.domain=function(g){return arguments.length?(t(g),m()):t()},e.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,m()):[r,i]},e.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,c=!0,m()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(g){return arguments.length?(c=!!g,m()):c},e.padding=function(g){return arguments.length?(d=Math.min(1,f=+g),m()):d},e.paddingInner=function(g){return arguments.length?(d=Math.min(1,g),m()):d},e.paddingOuter=function(g){return arguments.length?(f=+g,m()):f},e.align=function(g){return arguments.length?(p=Math.max(0,Math.min(1,g)),m()):p},e.copy=function(){return Qj(t(),[r,i]).round(c).paddingInner(d).paddingOuter(f).align(p)},ha.apply(m(),arguments)}function JU(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return JU(t())},e}function Zhe(){return JU(Qj.apply(null,arguments).paddingInner(1))}function Zj(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function eH(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function t0(){}var tg=.7,Zb=1/tg,Df="\\s*([+-]?\\d+)\\s*",ng="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",No="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Jhe=/^#([0-9a-f]{3,8})$/,eme=new RegExp(`^rgb\\(${Df},${Df},${Df}\\)$`),tme=new RegExp(`^rgb\\(${No},${No},${No}\\)$`),nme=new RegExp(`^rgba\\(${Df},${Df},${Df},${ng}\\)$`),rme=new RegExp(`^rgba\\(${No},${No},${No},${ng}\\)$`),ime=new RegExp(`^hsl\\(${ng},${No},${No}\\)$`),ame=new RegExp(`^hsla\\(${ng},${No},${No},${ng}\\)$`),eO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Zj(t0,rg,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:tO,formatHex:tO,formatHex8:ome,formatHsl:sme,formatRgb:nO,toString:nO});function tO(){return this.rgb().formatHex()}function ome(){return this.rgb().formatHex8()}function sme(){return tH(this).formatHsl()}function nO(){return this.rgb().formatRgb()}function rg(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Jhe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?rO(t):n===3?new si(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?n1(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?n1(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=eme.exec(e))?new si(t[1],t[2],t[3],1):(t=tme.exec(e))?new si(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=nme.exec(e))?n1(t[1],t[2],t[3],t[4]):(t=rme.exec(e))?n1(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ime.exec(e))?oO(t[1],t[2]/100,t[3]/100,1):(t=ame.exec(e))?oO(t[1],t[2]/100,t[3]/100,t[4]):eO.hasOwnProperty(e)?rO(eO[e]):e==="transparent"?new si(NaN,NaN,NaN,0):null}function rO(e){return new si(e>>16&255,e>>8&255,e&255,1)}function n1(e,t,n,r){return r<=0&&(e=t=n=NaN),new si(e,t,n,r)}function lme(e){return e instanceof t0||(e=rg(e)),e?(e=e.rgb(),new si(e.r,e.g,e.b,e.opacity)):new si}function aC(e,t,n,r){return arguments.length===1?lme(e):new si(e,t,n,r??1)}function si(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Zj(si,aC,eH(t0,{brighter(e){return e=e==null?Zb:Math.pow(Zb,e),new si(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?tg:Math.pow(tg,e),new si(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new si(Fu(this.r),Fu(this.g),Fu(this.b),Jb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:iO,formatHex:iO,formatHex8:cme,formatRgb:aO,toString:aO}));function iO(){return`#${Tu(this.r)}${Tu(this.g)}${Tu(this.b)}`}function cme(){return`#${Tu(this.r)}${Tu(this.g)}${Tu(this.b)}${Tu((isNaN(this.opacity)?1:this.opacity)*255)}`}function aO(){const e=Jb(this.opacity);return`${e===1?"rgb(":"rgba("}${Fu(this.r)}, ${Fu(this.g)}, ${Fu(this.b)}${e===1?")":`, ${e})`}`}function Jb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Fu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Tu(e){return e=Fu(e),(e<16?"0":"")+e.toString(16)}function oO(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ma(e,t,n,r)}function tH(e){if(e instanceof Ma)return new Ma(e.h,e.s,e.l,e.opacity);if(e instanceof t0||(e=rg(e)),!e)return new Ma;if(e instanceof Ma)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,c=a-i,d=(a+i)/2;return c?(t===a?s=(n-r)/c+(n<r)*6:n===a?s=(r-t)/c+2:s=(t-n)/c+4,c/=d<.5?a+i:2-a-i,s*=60):c=d>0&&d<1?0:s,new Ma(s,c,d,e.opacity)}function ume(e,t,n,r){return arguments.length===1?tH(e):new Ma(e,t,n,r??1)}function Ma(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Zj(Ma,ume,eH(t0,{brighter(e){return e=e==null?Zb:Math.pow(Zb,e),new Ma(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?tg:Math.pow(tg,e),new Ma(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new si(U6(e>=240?e-240:e+120,i,r),U6(e,i,r),U6(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Ma(sO(this.h),r1(this.s),r1(this.l),Jb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Jb(this.opacity);return`${e===1?"hsl(":"hsla("}${sO(this.h)}, ${r1(this.s)*100}%, ${r1(this.l)*100}%${e===1?")":`, ${e})`}`}}));function sO(e){return e=(e||0)%360,e<0?e+360:e}function r1(e){return Math.max(0,Math.min(1,e||0))}function U6(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Jj=e=>()=>e;function dme(e,t){return function(n){return e+n*t}}function fme(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function pme(e){return(e=+e)==1?nH:function(t,n){return n-t?fme(t,n,e):Jj(isNaN(t)?n:t)}}function nH(e,t){var n=t-e;return n?dme(e,n):Jj(isNaN(e)?t:e)}const lO=(function e(t){var n=pme(t);function r(i,a){var s=n((i=aC(i)).r,(a=aC(a)).r),c=n(i.g,a.g),d=n(i.b,a.b),f=nH(i.opacity,a.opacity);return function(p){return i.r=s(p),i.g=c(p),i.b=d(p),i.opacity=f(p),i+""}}return r.gamma=e,r})(1);function hme(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function mme(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function gme(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=wp(e[s],t[s]);for(;s<n;++s)a[s]=t[s];return function(c){for(s=0;s<r;++s)a[s]=i[s](c);return a}}function yme(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function ex(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function vme(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=wp(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var oC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,H6=new RegExp(oC.source,"g");function bme(e){return function(){return e}}function xme(e){return function(t){return e(t)+""}}function wme(e,t){var n=oC.lastIndex=H6.lastIndex=0,r,i,a,s=-1,c=[],d=[];for(e=e+"",t=t+"";(r=oC.exec(e))&&(i=H6.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),c[s]?c[s]+=a:c[++s]=a),(r=r[0])===(i=i[0])?c[s]?c[s]+=i:c[++s]=i:(c[++s]=null,d.push({i:s,x:ex(r,i)})),n=H6.lastIndex;return n<t.length&&(a=t.slice(n),c[s]?c[s]+=a:c[++s]=a),c.length<2?d[0]?xme(d[0].x):bme(t):(t=d.length,function(f){for(var p=0,m;p<t;++p)c[(m=d[p]).i]=m.x(f);return c.join("")})}function wp(e,t){var n=typeof t,r;return t==null||n==="boolean"?Jj(t):(n==="number"?ex:n==="string"?(r=rg(t))?(t=r,lO):wme:t instanceof rg?lO:t instanceof Date?yme:mme(t)?hme:Array.isArray(t)?gme:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?vme:ex)(e,t)}function eT(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Sme(e,t){t===void 0&&(t=e,e=wp);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(s){var c=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[c](s-c)}}function Cme(e){return function(){return e}}function tx(e){return+e}var cO=[0,1];function qr(e){return e}function sC(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Cme(isNaN(t)?NaN:.5)}function jme(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Tme(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=sC(i,r),a=n(s,a)):(r=sC(r,i),a=n(a,s)),function(c){return a(r(c))}}function Ame(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=sC(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(c){var d=e0(e,c,1,r)-1;return a[d](i[d](c))}}function n0(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function x2(){var e=cO,t=cO,n=wp,r,i,a,s=qr,c,d,f;function p(){var g=Math.min(e.length,t.length);return s!==qr&&(s=jme(e[0],e[g-1])),c=g>2?Ame:Tme,d=f=null,m}function m(g){return g==null||isNaN(g=+g)?a:(d||(d=c(e.map(r),t,n)))(r(s(g)))}return m.invert=function(g){return s(i((f||(f=c(t,e.map(r),ex)))(g)))},m.domain=function(g){return arguments.length?(e=Array.from(g,tx),p()):e.slice()},m.range=function(g){return arguments.length?(t=Array.from(g),p()):t.slice()},m.rangeRound=function(g){return t=Array.from(g),n=eT,p()},m.clamp=function(g){return arguments.length?(s=g?!0:qr,p()):s!==qr},m.interpolate=function(g){return arguments.length?(n=g,p()):n},m.unknown=function(g){return arguments.length?(a=g,m):a},function(g,v){return r=g,i=v,p()}}function tT(){return x2()(qr,qr)}function kme(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function nx(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Wf(e){return e=nx(Math.abs(e)),e?e[1]:NaN}function Eme(e,t){return function(n,r){for(var i=n.length,a=[],s=0,c=e[0],d=0;i>0&&c>0&&(d+c+1>r&&(c=Math.max(1,r-d)),a.push(n.substring(i-=c,i+c)),!((d+=c+1)>r));)c=e[s=(s+1)%e.length];return a.reverse().join(t)}}function Nme(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var _me=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ig(e){if(!(t=_me.exec(e)))throw new Error("invalid format: "+e);var t;return new nT({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ig.prototype=nT.prototype;function nT(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}nT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Pme(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var rH;function Dme(e,t){var n=nx(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(rH=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+nx(e,Math.max(0,t+a-1))[0]}function uO(e,t){var n=nx(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const dO={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:kme,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>uO(e*100,t),r:uO,s:Dme,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function fO(e){return e}var pO=Array.prototype.map,hO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Ome(e){var t=e.grouping===void 0||e.thousands===void 0?fO:Eme(pO.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?fO:Nme(pO.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(m){m=ig(m);var g=m.fill,v=m.align,b=m.sign,C=m.symbol,j=m.zero,A=m.width,k=m.comma,E=m.precision,P=m.trim,$=m.type;$==="n"?(k=!0,$="g"):dO[$]||(E===void 0&&(E=12),P=!0,$="g"),(j||g==="0"&&v==="=")&&(j=!0,g="0",v="=");var F=C==="$"?n:C==="#"&&/[boxX]/.test($)?"0"+$.toLowerCase():"",O=C==="$"?r:/[%p]/.test($)?s:"",_=dO[$],D=/[defgprs%]/.test($);E=E===void 0?6:/[gprs]/.test($)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function L(R){var M=F,H=O,W,fe,q;if($==="c")H=_(R)+H,R="";else{R=+R;var te=R<0||1/R<0;if(R=isNaN(R)?d:_(Math.abs(R),E),P&&(R=Pme(R)),te&&+R==0&&b!=="+"&&(te=!1),M=(te?b==="("?b:c:b==="-"||b==="("?"":b)+M,H=($==="s"?hO[8+rH/3]:"")+H+(te&&b==="("?")":""),D){for(W=-1,fe=R.length;++W<fe;)if(q=R.charCodeAt(W),48>q||q>57){H=(q===46?i+R.slice(W+1):R.slice(W))+H,R=R.slice(0,W);break}}}k&&!j&&(R=t(R,1/0));var K=M.length+R.length+H.length,z=K<A?new Array(A-K+1).join(g):"";switch(k&&j&&(R=t(z+R,z.length?A-H.length:1/0),z=""),v){case"<":R=M+R+H+z;break;case"=":R=M+z+R+H;break;case"^":R=z.slice(0,K=z.length>>1)+M+R+H+z.slice(K);break;default:R=z+M+R+H;break}return a(R)}return L.toString=function(){return m+""},L}function p(m,g){var v=f((m=ig(m),m.type="f",m)),b=Math.max(-8,Math.min(8,Math.floor(Wf(g)/3)))*3,C=Math.pow(10,-b),j=hO[8+b/3];return function(A){return v(C*A)+j}}return{format:f,formatPrefix:p}}var i1,rT,iH;$me({thousands:",",grouping:[3],currency:["$",""]});function $me(e){return i1=Ome(e),rT=i1.format,iH=i1.formatPrefix,i1}function Ime(e){return Math.max(0,-Wf(Math.abs(e)))}function Rme(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Wf(t)/3)))*3-Wf(Math.abs(e)))}function Mme(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Wf(t)-Wf(e))+1}function aH(e,t,n,r){var i=rC(e,t,n),a;switch(r=ig(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=Rme(i,s))&&(r.precision=a),iH(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Mme(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Ime(i))&&(r.precision=a-(r.type==="%")*2);break}}return rT(r)}function gc(e){var t=e.domain;return e.ticks=function(n){var r=t();return tC(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return aH(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,s=r[i],c=r[a],d,f,p=10;for(c<s&&(f=s,s=c,c=f,f=i,i=a,a=f);p-- >0;){if(f=nC(s,c,n),f===d)return r[i]=s,r[a]=c,t(r);if(f>0)s=Math.floor(s/f)*f,c=Math.ceil(c/f)*f;else if(f<0)s=Math.ceil(s*f)/f,c=Math.floor(c*f)/f;else break;d=f}return e},e}function oH(){var e=tT();return e.copy=function(){return n0(e,oH())},ha.apply(e,arguments),gc(e)}function sH(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,tx),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return sH(e).unknown(t)},e=arguments.length?Array.from(e,tx):[0,1],gc(n)}function lH(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),e[n]=t.floor(i),e[r]=t.ceil(a),e}function mO(e){return Math.log(e)}function gO(e){return Math.exp(e)}function Lme(e){return-Math.log(-e)}function Fme(e){return-Math.exp(-e)}function Bme(e){return isFinite(e)?+("1e"+e):e<0?0:e}function zme(e){return e===10?Bme:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Ume(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function yO(e){return(t,n)=>-e(-t,n)}function iT(e){const t=e(mO,gO),n=t.domain;let r=10,i,a;function s(){return i=Ume(r),a=zme(r),n()[0]<0?(i=yO(i),a=yO(a),e(Lme,Fme)):e(mO,gO),t}return t.base=function(c){return arguments.length?(r=+c,s()):r},t.domain=function(c){return arguments.length?(n(c),s()):n()},t.ticks=c=>{const d=n();let f=d[0],p=d[d.length-1];const m=p<f;m&&([f,p]=[p,f]);let g=i(f),v=i(p),b,C;const j=c==null?10:+c;let A=[];if(!(r%1)&&v-g<j){if(g=Math.floor(g),v=Math.ceil(v),f>0){for(;g<=v;++g)for(b=1;b<r;++b)if(C=g<0?b/a(-g):b*a(g),!(C<f)){if(C>p)break;A.push(C)}}else for(;g<=v;++g)for(b=r-1;b>=1;--b)if(C=g>0?b/a(-g):b*a(g),!(C<f)){if(C>p)break;A.push(C)}A.length*2<j&&(A=tC(f,p,j))}else A=tC(g,v,Math.min(v-g,j)).map(a);return m?A.reverse():A},t.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=ig(d)).precision==null&&(d.trim=!0),d=rT(d)),c===1/0)return d;const f=Math.max(1,r*c/t.ticks().length);return p=>{let m=p/a(Math.round(i(p)));return m*r<r-.5&&(m*=r),m<=f?d(p):""}},t.nice=()=>n(lH(n(),{floor:c=>a(Math.floor(i(c))),ceil:c=>a(Math.ceil(i(c)))})),t}function cH(){const e=iT(x2()).domain([1,10]);return e.copy=()=>n0(e,cH()).base(e.base()),ha.apply(e,arguments),e}function vO(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function bO(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function aT(e){var t=1,n=e(vO(t),bO(t));return n.constant=function(r){return arguments.length?e(vO(t=+r),bO(t)):t},gc(n)}function uH(){var e=aT(x2());return e.copy=function(){return n0(e,uH()).constant(e.constant())},ha.apply(e,arguments)}function xO(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Hme(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Vme(e){return e<0?-e*e:e*e}function oT(e){var t=e(qr,qr),n=1;function r(){return n===1?e(qr,qr):n===.5?e(Hme,Vme):e(xO(n),xO(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},gc(t)}function sT(){var e=oT(x2());return e.copy=function(){return n0(e,sT()).exponent(e.exponent())},ha.apply(e,arguments),e}function qme(){return sT.apply(null,arguments).exponent(.5)}function wO(e){return Math.sign(e)*e*e}function Yme(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function dH(){var e=tT(),t=[0,1],n=!1,r;function i(a){var s=Yme(e(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return e.invert(wO(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,tx)).map(wO)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return dH(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},ha.apply(i,arguments),gc(i)}function fH(){var e=[],t=[],n=[],r;function i(){var s=0,c=Math.max(1,t.length);for(n=new Array(c-1);++s<c;)n[s-1]=Xhe(e,s/c);return a}function a(s){return s==null||isNaN(s=+s)?r:t[e0(n,s)]}return a.invertExtent=function(s){var c=t.indexOf(s);return c<0?[NaN,NaN]:[c>0?n[c-1]:e[0],c<n.length?n[c]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let c of s)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(Wl),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return fH().domain(e).range(t).unknown(r)},ha.apply(a,arguments)}function pH(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function s(d){return d!=null&&d<=d?i[e0(r,d,0,n)]:a}function c(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*t-(d-n)*e)/(n+1);return s}return s.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,c()):[e,t]},s.range=function(d){return arguments.length?(n=(i=Array.from(d)).length-1,c()):i.slice()},s.invertExtent=function(d){var f=i.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,r[0]]:f>=n?[r[n-1],t]:[r[f-1],r[f]]},s.unknown=function(d){return arguments.length&&(a=d),s},s.thresholds=function(){return r.slice()},s.copy=function(){return pH().domain([e,t]).range(i).unknown(a)},ha.apply(gc(s),arguments)}function hH(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[e0(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return hH().domain(e).range(t).unknown(n)},ha.apply(i,arguments)}const V6=new Date,q6=new Date;function ur(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),c=i.ceil(a);return a-s<c-a?s:c},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,c)=>{const d=[];if(a=i.ceil(a),c=c==null?1:Math.floor(c),!(a<s)||!(c>0))return d;let f;do d.push(f=new Date(+a)),t(a,c),e(a);while(f<a&&a<s);return d},i.filter=a=>ur(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,c)=>{if(s>=s)if(c<0)for(;++c<=0;)for(;t(s,-1),!a(s););else for(;--c>=0;)for(;t(s,1),!a(s););}),n&&(i.count=(a,s)=>(V6.setTime(+a),q6.setTime(+s),e(V6),e(q6),Math.floor(n(V6,q6))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const rx=ur(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);rx.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ur(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):rx);rx.range;const xs=1e3,aa=xs*60,ws=aa*60,Rs=ws*24,lT=Rs*7,SO=Rs*30,Y6=Rs*365,Au=ur(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*xs)},(e,t)=>(t-e)/xs,e=>e.getUTCSeconds());Au.range;const cT=ur(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*xs)},(e,t)=>{e.setTime(+e+t*aa)},(e,t)=>(t-e)/aa,e=>e.getMinutes());cT.range;const uT=ur(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*aa)},(e,t)=>(t-e)/aa,e=>e.getUTCMinutes());uT.range;const dT=ur(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*xs-e.getMinutes()*aa)},(e,t)=>{e.setTime(+e+t*ws)},(e,t)=>(t-e)/ws,e=>e.getHours());dT.range;const fT=ur(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ws)},(e,t)=>(t-e)/ws,e=>e.getUTCHours());fT.range;const r0=ur(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*aa)/Rs,e=>e.getDate()-1);r0.range;const w2=ur(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Rs,e=>e.getUTCDate()-1);w2.range;const mH=ur(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Rs,e=>Math.floor(e/Rs));mH.range;function sd(e){return ur(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*aa)/lT)}const S2=sd(0),ix=sd(1),Wme=sd(2),Gme=sd(3),Gf=sd(4),Kme=sd(5),Xme=sd(6);S2.range;ix.range;Wme.range;Gme.range;Gf.range;Kme.range;Xme.range;function ld(e){return ur(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/lT)}const C2=ld(0),ax=ld(1),Qme=ld(2),Zme=ld(3),Kf=ld(4),Jme=ld(5),ege=ld(6);C2.range;ax.range;Qme.range;Zme.range;Kf.range;Jme.range;ege.range;const pT=ur(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());pT.range;const hT=ur(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());hT.range;const Ms=ur(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ms.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ur(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ms.range;const Ls=ur(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ls.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ur(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Ls.range;function gH(e,t,n,r,i,a){const s=[[Au,1,xs],[Au,5,5*xs],[Au,15,15*xs],[Au,30,30*xs],[a,1,aa],[a,5,5*aa],[a,15,15*aa],[a,30,30*aa],[i,1,ws],[i,3,3*ws],[i,6,6*ws],[i,12,12*ws],[r,1,Rs],[r,2,2*Rs],[n,1,lT],[t,1,SO],[t,3,3*SO],[e,1,Y6]];function c(f,p,m){const g=p<f;g&&([f,p]=[p,f]);const v=m&&typeof m.range=="function"?m:d(f,p,m),b=v?v.range(f,+p+1):[];return g?b.reverse():b}function d(f,p,m){const g=Math.abs(p-f)/m,v=Kj(([,,j])=>j).right(s,g);if(v===s.length)return e.every(rC(f/Y6,p/Y6,m));if(v===0)return rx.every(Math.max(rC(f,p,m),1));const[b,C]=s[g/s[v-1][2]<s[v][2]/g?v-1:v];return b.every(C)}return[c,d]}const[tge,nge]=gH(Ls,hT,C2,mH,fT,uT),[rge,ige]=gH(Ms,pT,S2,r0,dT,cT);function W6(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function G6(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Gh(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function age(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,c=e.months,d=e.shortMonths,f=Kh(i),p=Xh(i),m=Kh(a),g=Xh(a),v=Kh(s),b=Xh(s),C=Kh(c),j=Xh(c),A=Kh(d),k=Xh(d),E={a:te,A:K,b:z,B:V,c:null,d:EO,e:EO,f:Ege,g:Lge,G:Bge,H:Tge,I:Age,j:kge,L:yH,m:Nge,M:_ge,p:Z,q:re,Q:PO,s:DO,S:Pge,u:Dge,U:Oge,V:$ge,w:Ige,W:Rge,x:null,X:null,y:Mge,Y:Fge,Z:zge,"%":_O},P={a:me,A:ge,b:Pe,B:X,c:null,d:NO,e:NO,f:qge,g:t0e,G:r0e,H:Uge,I:Hge,j:Vge,L:bH,m:Yge,M:Wge,p:J,q:ce,Q:PO,s:DO,S:Gge,u:Kge,U:Xge,V:Qge,w:Zge,W:Jge,x:null,X:null,y:e0e,Y:n0e,Z:i0e,"%":_O},$={a:L,A:R,b:M,B:H,c:W,d:AO,e:AO,f:wge,g:TO,G:jO,H:kO,I:kO,j:yge,L:xge,m:gge,M:vge,p:D,q:mge,Q:Cge,s:jge,S:bge,u:uge,U:dge,V:fge,w:cge,W:pge,x:fe,X:q,y:TO,Y:jO,Z:hge,"%":Sge};E.x=F(n,E),E.X=F(r,E),E.c=F(t,E),P.x=F(n,P),P.X=F(r,P),P.c=F(t,P);function F(ae,ne){return function(G){var ee=[],ue=-1,Ae=0,Ie=ae.length,De,ye,Oe;for(G instanceof Date||(G=new Date(+G));++ue<Ie;)ae.charCodeAt(ue)===37&&(ee.push(ae.slice(Ae,ue)),(ye=CO[De=ae.charAt(++ue)])!=null?De=ae.charAt(++ue):ye=De==="e"?" ":"0",(Oe=ne[De])&&(De=Oe(G,ye)),ee.push(De),Ae=ue+1);return ee.push(ae.slice(Ae,ue)),ee.join("")}}function O(ae,ne){return function(G){var ee=Gh(1900,void 0,1),ue=_(ee,ae,G+="",0),Ae,Ie;if(ue!=G.length)return null;if("Q"in ee)return new Date(ee.Q);if("s"in ee)return new Date(ee.s*1e3+("L"in ee?ee.L:0));if(ne&&!("Z"in ee)&&(ee.Z=0),"p"in ee&&(ee.H=ee.H%12+ee.p*12),ee.m===void 0&&(ee.m="q"in ee?ee.q:0),"V"in ee){if(ee.V<1||ee.V>53)return null;"w"in ee||(ee.w=1),"Z"in ee?(Ae=G6(Gh(ee.y,0,1)),Ie=Ae.getUTCDay(),Ae=Ie>4||Ie===0?ax.ceil(Ae):ax(Ae),Ae=w2.offset(Ae,(ee.V-1)*7),ee.y=Ae.getUTCFullYear(),ee.m=Ae.getUTCMonth(),ee.d=Ae.getUTCDate()+(ee.w+6)%7):(Ae=W6(Gh(ee.y,0,1)),Ie=Ae.getDay(),Ae=Ie>4||Ie===0?ix.ceil(Ae):ix(Ae),Ae=r0.offset(Ae,(ee.V-1)*7),ee.y=Ae.getFullYear(),ee.m=Ae.getMonth(),ee.d=Ae.getDate()+(ee.w+6)%7)}else("W"in ee||"U"in ee)&&("w"in ee||(ee.w="u"in ee?ee.u%7:"W"in ee?1:0),Ie="Z"in ee?G6(Gh(ee.y,0,1)).getUTCDay():W6(Gh(ee.y,0,1)).getDay(),ee.m=0,ee.d="W"in ee?(ee.w+6)%7+ee.W*7-(Ie+5)%7:ee.w+ee.U*7-(Ie+6)%7);return"Z"in ee?(ee.H+=ee.Z/100|0,ee.M+=ee.Z%100,G6(ee)):W6(ee)}}function _(ae,ne,G,ee){for(var ue=0,Ae=ne.length,Ie=G.length,De,ye;ue<Ae;){if(ee>=Ie)return-1;if(De=ne.charCodeAt(ue++),De===37){if(De=ne.charAt(ue++),ye=$[De in CO?ne.charAt(ue++):De],!ye||(ee=ye(ae,G,ee))<0)return-1}else if(De!=G.charCodeAt(ee++))return-1}return ee}function D(ae,ne,G){var ee=f.exec(ne.slice(G));return ee?(ae.p=p.get(ee[0].toLowerCase()),G+ee[0].length):-1}function L(ae,ne,G){var ee=v.exec(ne.slice(G));return ee?(ae.w=b.get(ee[0].toLowerCase()),G+ee[0].length):-1}function R(ae,ne,G){var ee=m.exec(ne.slice(G));return ee?(ae.w=g.get(ee[0].toLowerCase()),G+ee[0].length):-1}function M(ae,ne,G){var ee=A.exec(ne.slice(G));return ee?(ae.m=k.get(ee[0].toLowerCase()),G+ee[0].length):-1}function H(ae,ne,G){var ee=C.exec(ne.slice(G));return ee?(ae.m=j.get(ee[0].toLowerCase()),G+ee[0].length):-1}function W(ae,ne,G){return _(ae,t,ne,G)}function fe(ae,ne,G){return _(ae,n,ne,G)}function q(ae,ne,G){return _(ae,r,ne,G)}function te(ae){return s[ae.getDay()]}function K(ae){return a[ae.getDay()]}function z(ae){return d[ae.getMonth()]}function V(ae){return c[ae.getMonth()]}function Z(ae){return i[+(ae.getHours()>=12)]}function re(ae){return 1+~~(ae.getMonth()/3)}function me(ae){return s[ae.getUTCDay()]}function ge(ae){return a[ae.getUTCDay()]}function Pe(ae){return d[ae.getUTCMonth()]}function X(ae){return c[ae.getUTCMonth()]}function J(ae){return i[+(ae.getUTCHours()>=12)]}function ce(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var ne=F(ae+="",E);return ne.toString=function(){return ae},ne},parse:function(ae){var ne=O(ae+="",!1);return ne.toString=function(){return ae},ne},utcFormat:function(ae){var ne=F(ae+="",P);return ne.toString=function(){return ae},ne},utcParse:function(ae){var ne=O(ae+="",!0);return ne.toString=function(){return ae},ne}}}var CO={"-":"",_:" ",0:"0"},xr=/^\s*\d+/,oge=/^%/,sge=/[\\^$*+?|[\]().{}]/g;function Vt(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function lge(e){return e.replace(sge,"\\$&")}function Kh(e){return new RegExp("^(?:"+e.map(lge).join("|")+")","i")}function Xh(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function cge(e,t,n){var r=xr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function uge(e,t,n){var r=xr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function dge(e,t,n){var r=xr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function fge(e,t,n){var r=xr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function pge(e,t,n){var r=xr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function jO(e,t,n){var r=xr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function TO(e,t,n){var r=xr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function hge(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function mge(e,t,n){var r=xr.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function gge(e,t,n){var r=xr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function AO(e,t,n){var r=xr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function yge(e,t,n){var r=xr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function kO(e,t,n){var r=xr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function vge(e,t,n){var r=xr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function bge(e,t,n){var r=xr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function xge(e,t,n){var r=xr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function wge(e,t,n){var r=xr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Sge(e,t,n){var r=oge.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Cge(e,t,n){var r=xr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function jge(e,t,n){var r=xr.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function EO(e,t){return Vt(e.getDate(),t,2)}function Tge(e,t){return Vt(e.getHours(),t,2)}function Age(e,t){return Vt(e.getHours()%12||12,t,2)}function kge(e,t){return Vt(1+r0.count(Ms(e),e),t,3)}function yH(e,t){return Vt(e.getMilliseconds(),t,3)}function Ege(e,t){return yH(e,t)+"000"}function Nge(e,t){return Vt(e.getMonth()+1,t,2)}function _ge(e,t){return Vt(e.getMinutes(),t,2)}function Pge(e,t){return Vt(e.getSeconds(),t,2)}function Dge(e){var t=e.getDay();return t===0?7:t}function Oge(e,t){return Vt(S2.count(Ms(e)-1,e),t,2)}function vH(e){var t=e.getDay();return t>=4||t===0?Gf(e):Gf.ceil(e)}function $ge(e,t){return e=vH(e),Vt(Gf.count(Ms(e),e)+(Ms(e).getDay()===4),t,2)}function Ige(e){return e.getDay()}function Rge(e,t){return Vt(ix.count(Ms(e)-1,e),t,2)}function Mge(e,t){return Vt(e.getFullYear()%100,t,2)}function Lge(e,t){return e=vH(e),Vt(e.getFullYear()%100,t,2)}function Fge(e,t){return Vt(e.getFullYear()%1e4,t,4)}function Bge(e,t){var n=e.getDay();return e=n>=4||n===0?Gf(e):Gf.ceil(e),Vt(e.getFullYear()%1e4,t,4)}function zge(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Vt(t/60|0,"0",2)+Vt(t%60,"0",2)}function NO(e,t){return Vt(e.getUTCDate(),t,2)}function Uge(e,t){return Vt(e.getUTCHours(),t,2)}function Hge(e,t){return Vt(e.getUTCHours()%12||12,t,2)}function Vge(e,t){return Vt(1+w2.count(Ls(e),e),t,3)}function bH(e,t){return Vt(e.getUTCMilliseconds(),t,3)}function qge(e,t){return bH(e,t)+"000"}function Yge(e,t){return Vt(e.getUTCMonth()+1,t,2)}function Wge(e,t){return Vt(e.getUTCMinutes(),t,2)}function Gge(e,t){return Vt(e.getUTCSeconds(),t,2)}function Kge(e){var t=e.getUTCDay();return t===0?7:t}function Xge(e,t){return Vt(C2.count(Ls(e)-1,e),t,2)}function xH(e){var t=e.getUTCDay();return t>=4||t===0?Kf(e):Kf.ceil(e)}function Qge(e,t){return e=xH(e),Vt(Kf.count(Ls(e),e)+(Ls(e).getUTCDay()===4),t,2)}function Zge(e){return e.getUTCDay()}function Jge(e,t){return Vt(ax.count(Ls(e)-1,e),t,2)}function e0e(e,t){return Vt(e.getUTCFullYear()%100,t,2)}function t0e(e,t){return e=xH(e),Vt(e.getUTCFullYear()%100,t,2)}function n0e(e,t){return Vt(e.getUTCFullYear()%1e4,t,4)}function r0e(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Kf(e):Kf.ceil(e),Vt(e.getUTCFullYear()%1e4,t,4)}function i0e(){return"+0000"}function _O(){return"%"}function PO(e){return+e}function DO(e){return Math.floor(+e/1e3)}var Xd,wH,SH;a0e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function a0e(e){return Xd=age(e),wH=Xd.format,Xd.parse,SH=Xd.utcFormat,Xd.utcParse,Xd}function o0e(e){return new Date(e)}function s0e(e){return e instanceof Date?+e:+new Date(+e)}function mT(e,t,n,r,i,a,s,c,d,f){var p=tT(),m=p.invert,g=p.domain,v=f(".%L"),b=f(":%S"),C=f("%I:%M"),j=f("%I %p"),A=f("%a %d"),k=f("%b %d"),E=f("%B"),P=f("%Y");function $(F){return(d(F)<F?v:c(F)<F?b:s(F)<F?C:a(F)<F?j:r(F)<F?i(F)<F?A:k:n(F)<F?E:P)(F)}return p.invert=function(F){return new Date(m(F))},p.domain=function(F){return arguments.length?g(Array.from(F,s0e)):g().map(o0e)},p.ticks=function(F){var O=g();return e(O[0],O[O.length-1],F??10)},p.tickFormat=function(F,O){return O==null?$:f(O)},p.nice=function(F){var O=g();return(!F||typeof F.range!="function")&&(F=t(O[0],O[O.length-1],F??10)),F?g(lH(O,F)):p},p.copy=function(){return n0(p,mT(e,t,n,r,i,a,s,c,d,f))},p}function l0e(){return ha.apply(mT(rge,ige,Ms,pT,S2,r0,dT,cT,Au,wH).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function c0e(){return ha.apply(mT(tge,nge,Ls,hT,C2,w2,fT,uT,Au,SH).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function j2(){var e=0,t=1,n,r,i,a,s=qr,c=!1,d;function f(m){return m==null||isNaN(m=+m)?d:s(i===0?.5:(m=(a(m)-n)*i,c?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([e,t]=m,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),f):[e,t]},f.clamp=function(m){return arguments.length?(c=!!m,f):c},f.interpolator=function(m){return arguments.length?(s=m,f):s};function p(m){return function(g){var v,b;return arguments.length?([v,b]=g,s=m(v,b),f):[s(0),s(1)]}}return f.range=p(wp),f.rangeRound=p(eT),f.unknown=function(m){return arguments.length?(d=m,f):d},function(m){return a=m,n=m(e),r=m(t),i=n===r?0:1/(r-n),f}}function yc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function CH(){var e=gc(j2()(qr));return e.copy=function(){return yc(e,CH())},Ks.apply(e,arguments)}function jH(){var e=iT(j2()).domain([1,10]);return e.copy=function(){return yc(e,jH()).base(e.base())},Ks.apply(e,arguments)}function TH(){var e=aT(j2());return e.copy=function(){return yc(e,TH()).constant(e.constant())},Ks.apply(e,arguments)}function gT(){var e=oT(j2());return e.copy=function(){return yc(e,gT()).exponent(e.exponent())},Ks.apply(e,arguments)}function u0e(){return gT.apply(null,arguments).exponent(.5)}function AH(){var e=[],t=qr;function n(r){if(r!=null&&!isNaN(r=+r))return t((e0(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Wl),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>Khe(e,a/r))},n.copy=function(){return AH(t).domain(e)},Ks.apply(n,arguments)}function T2(){var e=0,t=.5,n=1,r=1,i,a,s,c,d,f=qr,p,m=!1,g;function v(C){return isNaN(C=+C)?g:(C=.5+((C=+p(C))-a)*(r*C<r*a?c:d),f(m?Math.max(0,Math.min(1,C)):C))}v.domain=function(C){return arguments.length?([e,t,n]=C,i=p(e=+e),a=p(t=+t),s=p(n=+n),c=i===a?0:.5/(a-i),d=a===s?0:.5/(s-a),r=a<i?-1:1,v):[e,t,n]},v.clamp=function(C){return arguments.length?(m=!!C,v):m},v.interpolator=function(C){return arguments.length?(f=C,v):f};function b(C){return function(j){var A,k,E;return arguments.length?([A,k,E]=j,f=Sme(C,[A,k,E]),v):[f(0),f(.5),f(1)]}}return v.range=b(wp),v.rangeRound=b(eT),v.unknown=function(C){return arguments.length?(g=C,v):g},function(C){return p=C,i=C(e),a=C(t),s=C(n),c=i===a?0:.5/(a-i),d=a===s?0:.5/(s-a),r=a<i?-1:1,v}}function kH(){var e=gc(T2()(qr));return e.copy=function(){return yc(e,kH())},Ks.apply(e,arguments)}function EH(){var e=iT(T2()).domain([.1,1,10]);return e.copy=function(){return yc(e,EH()).base(e.base())},Ks.apply(e,arguments)}function NH(){var e=aT(T2());return e.copy=function(){return yc(e,NH()).constant(e.constant())},Ks.apply(e,arguments)}function yT(){var e=oT(T2());return e.copy=function(){return yc(e,yT()).exponent(e.exponent())},Ks.apply(e,arguments)}function d0e(){return yT.apply(null,arguments).exponent(.5)}const om=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Qj,scaleDiverging:kH,scaleDivergingLog:EH,scaleDivergingPow:yT,scaleDivergingSqrt:d0e,scaleDivergingSymlog:NH,scaleIdentity:sH,scaleImplicit:iC,scaleLinear:oH,scaleLog:cH,scaleOrdinal:Xj,scalePoint:Zhe,scalePow:sT,scaleQuantile:fH,scaleQuantize:pH,scaleRadial:dH,scaleSequential:CH,scaleSequentialLog:jH,scaleSequentialPow:gT,scaleSequentialQuantile:AH,scaleSequentialSqrt:u0e,scaleSequentialSymlog:TH,scaleSqrt:qme,scaleSymlog:uH,scaleThreshold:hH,scaleTime:l0e,scaleUtc:c0e,tickFormat:aH},Symbol.toStringTag,{value:"Module"}));var vc=e=>e.chartData,vT=Te([vc],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),A2=(e,t,n,r)=>r?vT(e):vc(e);function Xf(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Li(t)&&Li(n))return!0}return!1}function OO(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function f0e(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(Li(n))i=n;else if(typeof n=="function")return;if(Li(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(Xf(s))return s}}function p0e(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Xf(r))return OO(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,c;if(i==="auto")t!=null&&(s=Math.min(...t));else if(Qe(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t?.[0]))}catch{}else if(typeof i=="string"&&xD.test(i)){var d=xD.exec(i);if(d==null||t==null)s=void 0;else{var f=+d[1];s=t[0]-f}}else s=t?.[0];if(a==="auto")t!=null&&(c=Math.max(...t));else if(Qe(a))c=a;else if(typeof a=="function")try{t!=null&&(c=a(t?.[1]))}catch{}else if(typeof a=="string"&&wD.test(a)){var p=wD.exec(a);if(p==null||t==null)c=void 0;else{var m=+p[1];c=t[1]+m}}else c=t?.[1];var g=[s,c];if(Xf(g))return t==null?g:OO(g,t,n)}}}var Sp=1e9,h0e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},xT,wn=!0,ua="[DecimalError] ",Bu=ua+"Invalid argument: ",bT=ua+"Exponent out of range: ",Cp=Math.floor,fu=Math.pow,m0e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,_i,vr=1e7,gn=7,_H=9007199254740991,ox=Cp(_H/gn),Ze={};Ze.absoluteValue=Ze.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ze.comparedTo=Ze.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Ze.decimalPlaces=Ze.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*gn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Ze.dividedBy=Ze.div=function(e){return Ts(this,new this.constructor(e))};Ze.dividedToIntegerBy=Ze.idiv=function(e){var t=this,n=t.constructor;return dn(Ts(t,new n(e),0,1),n.precision)};Ze.equals=Ze.eq=function(e){return!this.cmp(e)};Ze.exponent=function(){return rr(this)};Ze.greaterThan=Ze.gt=function(e){return this.cmp(e)>0};Ze.greaterThanOrEqualTo=Ze.gte=function(e){return this.cmp(e)>=0};Ze.isInteger=Ze.isint=function(){return this.e>this.d.length-2};Ze.isNegative=Ze.isneg=function(){return this.s<0};Ze.isPositive=Ze.ispos=function(){return this.s>0};Ze.isZero=function(){return this.s===0};Ze.lessThan=Ze.lt=function(e){return this.cmp(e)<0};Ze.lessThanOrEqualTo=Ze.lte=function(e){return this.cmp(e)<1};Ze.logarithm=Ze.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(_i))throw Error(ua+"NaN");if(n.s<1)throw Error(ua+(n.s?"NaN":"-Infinity"));return n.eq(_i)?new r(0):(wn=!1,t=Ts(ag(n,a),ag(e,a),a),wn=!0,dn(t,i))};Ze.minus=Ze.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?OH(t,e):PH(t,(e.s=-e.s,e))};Ze.modulo=Ze.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(ua+"NaN");return n.s?(wn=!1,t=Ts(n,e,0,1).times(e),wn=!0,n.minus(t)):dn(new r(n),i)};Ze.naturalExponential=Ze.exp=function(){return DH(this)};Ze.naturalLogarithm=Ze.ln=function(){return ag(this)};Ze.negated=Ze.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ze.plus=Ze.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?PH(t,e):OH(t,(e.s=-e.s,e))};Ze.precision=Ze.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Bu+e);if(t=rr(i)+1,r=i.d.length-1,n=r*gn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Ze.squareRoot=Ze.sqrt=function(){var e,t,n,r,i,a,s,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(ua+"NaN")}for(e=rr(c),wn=!1,i=Math.sqrt(+c),i==0||i==1/0?(t=jo(c.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Cp((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new d(t)):r=new d(i.toString()),n=d.precision,i=s=n+3;;)if(a=r,r=a.plus(Ts(c,a,s+2)).times(.5),jo(a.d).slice(0,s)===(t=jo(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(dn(a,n+1,0),a.times(a).eq(c)){r=a;break}}else if(t!="9999")break;s+=4}return wn=!0,dn(r,n)};Ze.times=Ze.mul=function(e){var t,n,r,i,a,s,c,d,f,p=this,m=p.constructor,g=p.d,v=(e=new m(e)).d;if(!p.s||!e.s)return new m(0);for(e.s*=p.s,n=p.e+e.e,d=g.length,f=v.length,d<f&&(a=g,g=v,v=a,s=d,d=f,f=s),a=[],s=d+f,r=s;r--;)a.push(0);for(r=f;--r>=0;){for(t=0,i=d+r;i>r;)c=a[i]+v[r]*g[i-r-1]+t,a[i--]=c%vr|0,t=c/vr|0;a[i]=(a[i]+t)%vr|0}for(;!a[--s];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,wn?dn(e,m.precision):e};Ze.toDecimalPlaces=Ze.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Ro(e,0,Sp),t===void 0?t=r.rounding:Ro(t,0,8),dn(n,e+rr(n)+1,t))};Ze.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=ed(r,!0):(Ro(e,0,Sp),t===void 0?t=i.rounding:Ro(t,0,8),r=dn(new i(r),e+1,t),n=ed(r,!0,e+1)),n};Ze.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?ed(i):(Ro(e,0,Sp),t===void 0?t=a.rounding:Ro(t,0,8),r=dn(new a(i),e+rr(i)+1,t),n=ed(r.abs(),!1,e+rr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ze.toInteger=Ze.toint=function(){var e=this,t=e.constructor;return dn(new t(e),rr(e)+1,t.rounding)};Ze.toNumber=function(){return+this};Ze.toPower=Ze.pow=function(e){var t,n,r,i,a,s,c=this,d=c.constructor,f=12,p=+(e=new d(e));if(!e.s)return new d(_i);if(c=new d(c),!c.s){if(e.s<1)throw Error(ua+"Infinity");return c}if(c.eq(_i))return c;if(r=d.precision,e.eq(_i))return dn(c,r);if(t=e.e,n=e.d.length-1,s=t>=n,a=c.s,s){if((n=p<0?-p:p)<=_H){for(i=new d(_i),t=Math.ceil(r/gn+4),wn=!1;n%2&&(i=i.times(c),IO(i.d,t)),n=Cp(n/2),n!==0;)c=c.times(c),IO(c.d,t);return wn=!0,e.s<0?new d(_i).div(i):dn(i,r)}}else if(a<0)throw Error(ua+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,c.s=1,wn=!1,i=e.times(ag(c,r+f)),wn=!0,i=DH(i),i.s=a,i};Ze.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=rr(i),r=ed(i,n<=a.toExpNeg||n>=a.toExpPos)):(Ro(e,1,Sp),t===void 0?t=a.rounding:Ro(t,0,8),i=dn(new a(i),e,t),n=rr(i),r=ed(i,e<=n||n<=a.toExpNeg,e)),r};Ze.toSignificantDigits=Ze.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Ro(e,1,Sp),t===void 0?t=r.rounding:Ro(t,0,8)),dn(new r(n),e,t)};Ze.toString=Ze.valueOf=Ze.val=Ze.toJSON=Ze[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=rr(e),n=e.constructor;return ed(e,t<=n.toExpNeg||t>=n.toExpPos)};function PH(e,t){var n,r,i,a,s,c,d,f,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),wn?dn(t,m):t;if(d=e.d,f=t.d,s=e.e,i=t.e,d=d.slice(),a=s-i,a){for(a<0?(r=d,a=-a,c=f.length):(r=f,i=s,c=d.length),s=Math.ceil(m/gn),c=s>c?s+1:c+1,a>c&&(a=c,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(c=d.length,a=f.length,c-a<0&&(a=c,r=f,f=d,d=r),n=0;a;)n=(d[--a]=d[a]+f[a]+n)/vr|0,d[a]%=vr;for(n&&(d.unshift(n),++i),c=d.length;d[--c]==0;)d.pop();return t.d=d,t.e=i,wn?dn(t,m):t}function Ro(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Bu+e)}function jo(e){var t,n,r,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)r=e[t]+"",n=gn-r.length,n&&(a+=Ll(n)),a+=r;s=e[t],r=s+"",n=gn-r.length,n&&(a+=Ll(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Ts=(function(){function e(r,i){var a,s=0,c=r.length;for(r=r.slice();c--;)a=r[c]*i+s,r[c]=a%vr|0,s=a/vr|0;return s&&r.unshift(s),r}function t(r,i,a,s){var c,d;if(a!=s)d=a>s?1:-1;else for(c=d=0;c<a;c++)if(r[c]!=i[c]){d=r[c]>i[c]?1:-1;break}return d}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*vr+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var c,d,f,p,m,g,v,b,C,j,A,k,E,P,$,F,O,_,D=r.constructor,L=r.s==i.s?1:-1,R=r.d,M=i.d;if(!r.s)return new D(r);if(!i.s)throw Error(ua+"Division by zero");for(d=r.e-i.e,O=M.length,$=R.length,v=new D(L),b=v.d=[],f=0;M[f]==(R[f]||0);)++f;if(M[f]>(R[f]||0)&&--d,a==null?k=a=D.precision:s?k=a+(rr(r)-rr(i))+1:k=a,k<0)return new D(0);if(k=k/gn+2|0,f=0,O==1)for(p=0,M=M[0],k++;(f<$||p)&&k--;f++)E=p*vr+(R[f]||0),b[f]=E/M|0,p=E%M|0;else{for(p=vr/(M[0]+1)|0,p>1&&(M=e(M,p),R=e(R,p),O=M.length,$=R.length),P=O,C=R.slice(0,O),j=C.length;j<O;)C[j++]=0;_=M.slice(),_.unshift(0),F=M[0],M[1]>=vr/2&&++F;do p=0,c=t(M,C,O,j),c<0?(A=C[0],O!=j&&(A=A*vr+(C[1]||0)),p=A/F|0,p>1?(p>=vr&&(p=vr-1),m=e(M,p),g=m.length,j=C.length,c=t(m,C,g,j),c==1&&(p--,n(m,O<g?_:M,g))):(p==0&&(c=p=1),m=M.slice()),g=m.length,g<j&&m.unshift(0),n(C,m,j),c==-1&&(j=C.length,c=t(M,C,O,j),c<1&&(p++,n(C,O<j?_:M,j))),j=C.length):c===0&&(p++,C=[0]),b[f++]=p,c&&C[0]?C[j++]=R[P]||0:(C=[R[P]],j=1);while((P++<$||C[0]!==void 0)&&k--)}return b[0]||b.shift(),v.e=d,dn(v,s?a+rr(v)+1:a)}})();function DH(e,t){var n,r,i,a,s,c,d=0,f=0,p=e.constructor,m=p.precision;if(rr(e)>16)throw Error(bT+rr(e));if(!e.s)return new p(_i);for(wn=!1,c=m,s=new p(.03125);e.abs().gte(.1);)e=e.times(s),f+=5;for(r=Math.log(fu(2,f))/Math.LN10*2+5|0,c+=r,n=i=a=new p(_i),p.precision=c;;){if(i=dn(i.times(e),c),n=n.times(++d),s=a.plus(Ts(i,n,c)),jo(s.d).slice(0,c)===jo(a.d).slice(0,c)){for(;f--;)a=dn(a.times(a),c);return p.precision=m,t==null?(wn=!0,dn(a,m)):a}a=s}}function rr(e){for(var t=e.e*gn,n=e.d[0];n>=10;n/=10)t++;return t}function K6(e,t,n){if(t>e.LN10.sd())throw wn=!0,n&&(e.precision=n),Error(ua+"LN10 precision limit exceeded");return dn(new e(e.LN10),t)}function Ll(e){for(var t="";e--;)t+="0";return t}function ag(e,t){var n,r,i,a,s,c,d,f,p,m=1,g=10,v=e,b=v.d,C=v.constructor,j=C.precision;if(v.s<1)throw Error(ua+(v.s?"NaN":"-Infinity"));if(v.eq(_i))return new C(0);if(t==null?(wn=!1,f=j):f=t,v.eq(10))return t==null&&(wn=!0),K6(C,f);if(f+=g,C.precision=f,n=jo(b),r=n.charAt(0),a=rr(v),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)v=v.times(e),n=jo(v.d),r=n.charAt(0),m++;a=rr(v),r>1?(v=new C("0."+n),a++):v=new C(r+"."+n.slice(1))}else return d=K6(C,f+2,j).times(a+""),v=ag(new C(r+"."+n.slice(1)),f-g).plus(d),C.precision=j,t==null?(wn=!0,dn(v,j)):v;for(c=s=v=Ts(v.minus(_i),v.plus(_i),f),p=dn(v.times(v),f),i=3;;){if(s=dn(s.times(p),f),d=c.plus(Ts(s,new C(i),f)),jo(d.d).slice(0,f)===jo(c.d).slice(0,f))return c=c.times(2),a!==0&&(c=c.plus(K6(C,f+2,j).times(a+""))),c=Ts(c,new C(m),f),C.precision=j,t==null?(wn=!0,dn(c,j)):c;c=d,i+=2}}function $O(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Cp(n/gn),e.d=[],r=(n+1)%gn,n<0&&(r+=gn),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=gn;r<i;)e.d.push(+t.slice(r,r+=gn));t=t.slice(r),r=gn-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),wn&&(e.e>ox||e.e<-ox))throw Error(bT+n)}else e.s=0,e.e=0,e.d=[0];return e}function dn(e,t,n){var r,i,a,s,c,d,f,p,m=e.d;for(s=1,a=m[0];a>=10;a/=10)s++;if(r=t-s,r<0)r+=gn,i=t,f=m[p=0];else{if(p=Math.ceil((r+1)/gn),a=m.length,p>=a)return e;for(f=a=m[p],s=1;a>=10;a/=10)s++;r%=gn,i=r-gn+s}if(n!==void 0&&(a=fu(10,s-i-1),c=f/a%10|0,d=t<0||m[p+1]!==void 0||f%a,d=n<4?(c||d)&&(n==0||n==(e.s<0?3:2)):c>5||c==5&&(n==4||d||n==6&&(r>0?i>0?f/fu(10,s-i):0:m[p-1])%10&1||n==(e.s<0?8:7))),t<1||!m[0])return d?(a=rr(e),m.length=1,t=t-a-1,m[0]=fu(10,(gn-t%gn)%gn),e.e=Cp(-t/gn)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(r==0?(m.length=p,a=1,p--):(m.length=p+1,a=fu(10,gn-r),m[p]=i>0?(f/fu(10,s-i)%fu(10,i)|0)*a:0),d)for(;;)if(p==0){(m[0]+=a)==vr&&(m[0]=1,++e.e);break}else{if(m[p]+=a,m[p]!=vr)break;m[p--]=0,a=1}for(r=m.length;m[--r]===0;)m.pop();if(wn&&(e.e>ox||e.e<-ox))throw Error(bT+rr(e));return e}function OH(e,t){var n,r,i,a,s,c,d,f,p,m,g=e.constructor,v=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),wn?dn(t,v):t;if(d=e.d,m=t.d,r=t.e,f=e.e,d=d.slice(),s=f-r,s){for(p=s<0,p?(n=d,s=-s,c=m.length):(n=m,r=f,c=d.length),i=Math.max(Math.ceil(v/gn),c)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=d.length,c=m.length,p=i<c,p&&(c=i),i=0;i<c;i++)if(d[i]!=m[i]){p=d[i]<m[i];break}s=0}for(p&&(n=d,d=m,m=n,t.s=-t.s),c=d.length,i=m.length-c;i>0;--i)d[c++]=0;for(i=m.length;i>s;){if(d[--i]<m[i]){for(a=i;a&&d[--a]===0;)d[a]=vr-1;--d[a],d[i]+=vr}d[i]-=m[i]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(t.d=d,t.e=r,wn?dn(t,v):t):new g(0)}function ed(e,t,n){var r,i=rr(e),a=jo(e.d),s=a.length;return t?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+Ll(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ll(-i-1)+a,n&&(r=n-s)>0&&(a+=Ll(r))):i>=s?(a+=Ll(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+Ll(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=Ll(r))),e.s<0?"-"+a:a}function IO(e,t){if(e.length>t)return e.length=t,!0}function $H(e){var t,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Bu+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return $O(s,a.toString())}else if(typeof a!="string")throw Error(Bu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,m0e.test(a))$O(s,a);else throw Error(Bu+a)}if(i.prototype=Ze,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=$H,i.config=i.set=g0e,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function g0e(e){if(!e||typeof e!="object")throw Error(ua+"Object expected");var t,n,r,i=["precision",1,Sp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Cp(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Bu+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Bu+n+": "+r);return this}var xT=$H(h0e);_i=new xT(1);const Jt=xT;var y0e=e=>e,IH={},RH=e=>e===IH,RO=e=>function t(){return arguments.length===0||arguments.length===1&&RH(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},MH=(e,t)=>e===1?t:RO(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(s=>s!==IH).length;return a>=e?t(...r):MH(e-a,RO(function(){for(var s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];var f=r.map(p=>RH(p)?c.shift():p);return t(...f,...c)}))}),k2=e=>MH(e.length,e),lC=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},v0e=k2((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),b0e=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return y0e;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((c,d)=>d(c),a(...arguments))}},cC=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),LH=e=>{var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t&&i.every((s,c)=>{var d;return s===((d=t)===null||d===void 0?void 0:d[c])})||(t=i,n=e(...i)),n}};function FH(e){var t;return e===0?t=1:t=Math.floor(new Jt(e).abs().log(10).toNumber())+1,t}function BH(e,t,n){for(var r=new Jt(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}k2((e,t,n)=>{var r=+e,i=+t;return r+n*(i-r)});k2((e,t,n)=>{var r=t-+e;return r=r||1/0,(n-e)/r});k2((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var zH=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},UH=(e,t,n)=>{if(e.lte(0))return new Jt(0);var r=FH(e.toNumber()),i=new Jt(10).pow(r),a=e.div(i),s=r!==1?.05:.1,c=new Jt(Math.ceil(a.div(s).toNumber())).add(n).mul(s),d=c.mul(i);return t?new Jt(d.toNumber()):new Jt(Math.ceil(d.toNumber()))},x0e=(e,t,n)=>{var r=new Jt(1),i=new Jt(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new Jt(10).pow(FH(e)-1),i=new Jt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Jt(Math.floor(e)))}else e===0?i=new Jt(Math.floor((t-1)/2)):n||(i=new Jt(Math.floor(e)));var s=Math.floor((t-1)/2),c=b0e(v0e(d=>i.add(new Jt(d-s).mul(r)).toNumber()),lC);return c(0,t)},HH=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Jt(0),tickMin:new Jt(0),tickMax:new Jt(0)};var s=UH(new Jt(n).sub(t).div(r-1),i,a),c;t<=0&&n>=0?c=new Jt(0):(c=new Jt(t).add(n).div(2),c=c.sub(new Jt(c).mod(s)));var d=Math.ceil(c.sub(t).div(s).toNumber()),f=Math.ceil(new Jt(n).sub(c).div(s).toNumber()),p=d+f+1;return p>r?HH(t,n,r,i,a+1):(p<r&&(f=n>0?f+(r-p):f,d=n>0?d:d+(r-p)),{step:s,tickMin:c.sub(new Jt(d).mul(s)),tickMax:c.add(new Jt(f).mul(s))})};function w0e(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(r,2),[s,c]=zH([t,n]);if(s===-1/0||c===1/0){var d=c===1/0?[s,...lC(0,r-1).map(()=>1/0)]:[...lC(0,r-1).map(()=>-1/0),c];return t>n?cC(d):d}if(s===c)return x0e(s,r,i);var{step:f,tickMin:p,tickMax:m}=HH(s,c,a,i,0),g=BH(p,m.add(new Jt(.1).mul(f)),f);return t>n?cC(g):g}function S0e(e,t){var[n,r]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,s]=zH([n,r]);if(a===-1/0||s===1/0)return[n,r];if(a===s)return[a];var c=Math.max(t,2),d=UH(new Jt(s).sub(a).div(c-1),i,0),f=[...BH(new Jt(a),new Jt(s),d),s];return i===!1&&(f=f.map(p=>Math.round(p))),n>r?cC(f):f}var C0e=LH(w0e),j0e=LH(S0e),VH=e=>e.rootProps.maxBarSize,T0e=e=>e.rootProps.barGap,qH=e=>e.rootProps.barCategoryGap,A0e=e=>e.rootProps.barSize,i0=e=>e.rootProps.stackOffset,wT=e=>e.options.chartName,ST=e=>e.rootProps.syncId,YH=e=>e.rootProps.syncMethod,CT=e=>e.options.eventEmitter,ms={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Ei={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},E2=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},k0e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ms.angleAxisId,includeHidden:!1,name:void 0,reversed:ms.reversed,scale:ms.scale,tick:ms.tick,tickCount:void 0,ticks:void 0,type:ms.type,unit:void 0},E0e={allowDataOverflow:Ei.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ei.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ei.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ei.scale,tick:Ei.tick,tickCount:Ei.tickCount,ticks:void 0,type:Ei.type,unit:void 0},N0e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ms.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ms.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ms.scale,tick:ms.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},_0e={allowDataOverflow:Ei.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ei.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ei.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ei.scale,tick:Ei.tick,tickCount:Ei.tickCount,ticks:void 0,type:"category",unit:void 0},jT=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?N0e:k0e,TT=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?_0e:E0e,N2=e=>e.polarOptions,AT=Te([Ws,Gs,cr],AU),WH=Te([N2,AT],(e,t)=>{if(e!=null)return Xr(e.innerRadius,t,0)}),GH=Te([N2,AT],(e,t)=>{if(e!=null)return Xr(e.outerRadius,t,t*.8)}),P0e=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},KH=Te([N2],P0e);Te([jT,KH],E2);var XH=Te([AT,WH,GH],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});Te([TT,XH],E2);var QH=Te([Mt,N2,WH,GH,Ws,Gs],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:s,cy:c,startAngle:d,endAngle:f}=t;return{cx:Xr(s,i,i/2),cy:Xr(c,a,a/2),innerRadius:n,outerRadius:r,startAngle:d,endAngle:f,clockWise:!1}}}),jn=(e,t)=>t,a0=(e,t,n)=>n;function kT(e){return e?.id}var dr=e=>{var t=Mt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},jp=e=>e.tooltip.settings.axisId,fr=e=>{var t=dr(e),n=jp(e);return o0(e,t,n)};function ZH(e,t,n){var{chartData:r=[]}=t,i=n?.dataKey,a=new Map;return e.forEach(s=>{var c,d=(c=s.data)!==null&&c!==void 0?c:r;if(!(d==null||d.length===0)){var f=kT(s);d.forEach((p,m)=>{var g=i==null?m:String(un(p,i,null)),v=un(p,s.dataKey,0),b;a.has(g)?b=a.get(g):b={},Object.assign(b,{[f]:v}),a.set(g,b)})}}),Array.from(a.values())}function _2(e){return e.stackId!=null&&e.dataKey!=null}function MO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MO(Object(n),!0).forEach(function(r){D0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function D0e(e,t,n){return(t=O0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O0e(e){var t=$0e(e,"string");return typeof t=="symbol"?t:t+""}function $0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uC=[0,"auto"],ji={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Xs=(e,t)=>{var n=e.cartesianAxis.xAxis[t];return n??ji},Ti={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:uC,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:g2},bc=(e,t)=>{var n=e.cartesianAxis.yAxis[t];return n??Ti},I0e={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},ET=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??I0e},Wn=(e,t,n)=>{switch(t){case"xAxis":return Xs(e,n);case"yAxis":return bc(e,n);case"zAxis":return ET(e,n);case"angleAxis":return jT(e,n);case"radiusAxis":return TT(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},R0e=(e,t,n)=>{switch(t){case"xAxis":return Xs(e,n);case"yAxis":return bc(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},o0=(e,t,n)=>{switch(t){case"xAxis":return Xs(e,n);case"yAxis":return bc(e,n);case"angleAxis":return jT(e,n);case"radiusAxis":return TT(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},JH=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function NT(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var P2=e=>e.graphicalItems.cartesianItems,M0e=Te([jn,a0],NT),_T=(e,t,n)=>e.filter(n).filter(r=>t?.includeHidden===!0?!0:!r.hide),s0=Te([P2,Wn,M0e],_T),eV=Te([s0],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(_2)),tV=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),nV=Te([s0],tV),PT=e=>e.map(t=>t.data).filter(Boolean).flat(1),L0e=Te([s0],PT),DT=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},OT=Te([L0e,A2],DT),$T=(e,t,n)=>t?.dataKey!=null?e.map(r=>({value:un(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:un(i,r)}))):e.map(r=>({value:r})),D2=Te([OT,Wn,s0],$T);function rV(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function cd(e){return e.filter(t=>Io(t)||t instanceof Date).map(Number).filter(t=>Mi(t)===!1)}function F0e(e,t,n){return!n||typeof t!="number"||Mi(t)?[]:n.length?cd(n.flatMap(r=>{var i=un(e,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!Li(a)||!Li(s)))return[t-a,t+s]})):[]}var B0e=Te([eV,A2,fr],ZH),iV=(e,t,n)=>{var r={},i=t.reduce((a,s)=>(s.stackId==null||(a[s.stackId]==null&&(a[s.stackId]=[]),a[s.stackId].push(s)),a),r);return Object.fromEntries(Object.entries(i).map(a=>{var[s,c]=a,d=c.map(kT);return[s,{stackedData:Ufe(e,d,n),graphicalItems:c}]}))},dC=Te([B0e,eV,i0],iV),aV=(e,t,n)=>{var{dataStartIndex:r,dataEndIndex:i}=t;if(n!=="zAxis"){var a=Wfe(e,r,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},z0e=Te([dC,vc,jn],aV),oV=(e,t,n,r,i)=>n.length>0?e.flatMap(a=>n.flatMap(s=>{var c,d,f=(c=r[s.id])===null||c===void 0?void 0:c.filter(m=>rV(i,m)),p=un(a,(d=t.dataKey)!==null&&d!==void 0?d:s.dataKey);return{value:p,errorDomain:F0e(a,p,f)}})).filter(Boolean):t?.dataKey!=null?e.map(a=>({value:un(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]})),O2=e=>e.errorBars,sV=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>rV(n,r));Te([nV,O2,jn],sV);var U0e=Te([OT,Wn,nV,O2,jn],oV);function H0e(e){var{value:t}=e;if(Io(t)||t instanceof Date)return t}var LO=e=>{var t=e.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=cd(t);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},V0e=(e,t,n)=>{var r=e.map(H0e).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&qz(r))?KU(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},IT=e=>{var t;if(e==null||!("domain"in e))return uC;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=cd(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:uC},lx=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),c=Math.max(...a);return[s,c]}},lV=e=>e.referenceElements.dots,Tp=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),q0e=Te([lV,jn,a0],Tp),cV=e=>e.referenceElements.areas,Y0e=Te([cV,jn,a0],Tp),uV=e=>e.referenceElements.lines,W0e=Te([uV,jn,a0],Tp),dV=(e,t)=>{var n=cd(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},G0e=Te(q0e,jn,dV),fV=(e,t)=>{var n=cd(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},K0e=Te([Y0e,jn],fV),pV=(e,t)=>{var n=cd(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},X0e=Te(W0e,jn,pV),Q0e=Te(G0e,X0e,K0e,(e,t,n)=>lx(e,n,t)),hV=Te([Wn],IT),RT=(e,t,n,r,i,a,s)=>{var c=f0e(t,e.allowDataOverflow);if(c!=null)return c;var d=a==="vertical"&&s==="xAxis"||a==="horizontal"&&s==="yAxis",f=d?lx(n,i,LO(r)):lx(i,LO(r));return p0e(t,f,e.allowDataOverflow)},Z0e=Te([Wn,hV,z0e,U0e,Q0e,Mt,jn],RT),J0e=[0,1],MT=(e,t,n,r,i,a,s)=>{if(!((e==null||n==null||n.length===0)&&s===void 0)){var{dataKey:c,type:d}=e,f=mc(t,a);return f&&c==null?KU(0,n.length):d==="category"?V0e(r,e,f):i==="expand"?J0e:s}},LT=Te([Wn,Mt,OT,D2,i0,jn,Z0e],MT),mV=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:s}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var c="scale".concat(Qg(a));return c in om?c:"point"}}},Ap=Te([Wn,Mt,JH,wT,jn],mV);function eye(e){if(e!=null){if(e in om)return om[e]();var t="scale".concat(Qg(e));if(t in om)return om[t]()}}function FT(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=eye(t);if(i!=null){var a=i.domain(n).range(r);return Mfe(a),a}}}var BT=(e,t,n)=>{var r=IT(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Xf(e))return C0e(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Xf(e))return j0e(e,t.tickCount,t.allowDecimals)}},zT=Te([LT,o0,Ap],BT),UT=(e,t,n,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&Xf(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],s=t[1],c=n[n.length-1];return[Math.min(i,a),Math.max(s,c)]}return t},tye=Te([Wn,LT,zT,jn],UT),nye=Te(D2,Wn,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(cd(e.map(c=>c.value))).sort((c,d)=>c-d);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var s=r[a+1]-r[a];n=Math.min(n,s)}return n/i}}),gV=Te(nye,Mt,qH,cr,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!Li(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=Xr(n,e*a),c=e*a/2;return c-s-(c-s)/a*s}return 0}),rye=(e,t)=>{var n=Xs(e,t);return n==null||typeof n.padding!="string"?0:gV(e,"xAxis",t,n.padding)},iye=(e,t)=>{var n=bc(e,t);return n==null||typeof n.padding!="string"?0:gV(e,"yAxis",t,n.padding)},aye=Te(Xs,rye,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),oye=Te(bc,iye,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),sye=Te([cr,aye,v2,y2,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),lye=Te([cr,Mt,oye,v2,y2,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),l0=(e,t,n,r)=>{var i;switch(t){case"xAxis":return sye(e,n,r);case"yAxis":return lye(e,n,r);case"zAxis":return(i=ET(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return KH(e);case"radiusAxis":return XH(e,n);default:return}},yV=Te([Wn,l0],E2),kp=Te([Wn,Ap,tye,yV],FT);Te([s0,O2,jn],sV);function vV(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var $2=(e,t)=>t,I2=(e,t,n)=>n,cye=Te(zj,$2,I2,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(vV)),uye=Te(Uj,$2,I2,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(vV)),bV=(e,t)=>({width:e.width,height:t.height}),dye=(e,t)=>{var n=typeof t.width=="number"?t.width:g2;return{width:n,height:e.height}},xV=Te(cr,Xs,bV),fye=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},pye=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},hye=Te(Gs,cr,cye,$2,I2,(e,t,n,r,i)=>{var a={},s;return n.forEach(c=>{var d=bV(t,c);s==null&&(s=fye(t,r,e));var f=r==="top"&&!i||r==="bottom"&&i;a[c.id]=s-Number(f)*d.height,s+=(f?-1:1)*d.height}),a}),mye=Te(Ws,cr,uye,$2,I2,(e,t,n,r,i)=>{var a={},s;return n.forEach(c=>{var d=dye(t,c);s==null&&(s=pye(t,r,e));var f=r==="left"&&!i||r==="right"&&i;a[c.id]=s-Number(f)*d.width,s+=(f?-1:1)*d.width}),a}),gye=(e,t)=>{var n=cr(e),r=Xs(e,t);if(r!=null){var i=hye(e,r.orientation,r.mirror),a=i[t];return a==null?{x:n.left,y:0}:{x:n.left,y:a}}},yye=(e,t)=>{var n=cr(e),r=bc(e,t);if(r!=null){var i=mye(e,r.orientation,r.mirror),a=i[t];return a==null?{x:0,y:n.top}:{x:a,y:n.top}}},wV=Te(cr,bc,(e,t)=>{var n=typeof t.width=="number"?t.width:g2;return{width:n,height:e.height}}),FO=(e,t,n)=>{switch(t){case"xAxis":return xV(e,n).width;case"yAxis":return wV(e,n).height;default:return}},SV=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,c=mc(e,r),d=t.map(f=>f.value);if(s&&c&&a==="category"&&i&&qz(d))return d}},HT=Te([Mt,D2,Wn,jn],SV),CV=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=mc(e,r);if(s&&(i==="number"||a!=="auto"))return t.map(c=>c.value)}},VT=Te([Mt,D2,o0,jn],CV),BO=Te([Mt,R0e,Ap,kp,HT,VT,l0,zT,jn],(e,t,n,r,i,a,s,c,d)=>{if(t==null)return null;var f=mc(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:a,duplicateDomain:i,isCategorical:f,niceTicks:c,range:s,realScaleType:n,scale:r}}),vye=(e,t,n,r,i,a,s,c,d)=>{if(!(t==null||r==null)){var f=mc(e,d),{type:p,ticks:m,tickCount:g}=t,v=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,b=p==="category"&&r.bandwidth?r.bandwidth()/v:0;b=d==="angleAxis"&&a!=null&&a.length>=2?br(a[0]-a[1])*2*b:b;var C=m||i;if(C){var j=C.map((A,k)=>{var E=s?s.indexOf(A):A;return{index:k,coordinate:r(E)+b,value:A,offset:b}});return j.filter(A=>!Mi(A.coordinate))}return f&&c?c.map((A,k)=>({coordinate:r(A)+b,value:A,index:k,offset:b})):r.ticks?r.ticks(g).map(A=>({coordinate:r(A)+b,value:A,offset:b})):r.domain().map((A,k)=>({coordinate:r(A)+b,value:s?s[A]:A,index:k,offset:b}))}},jV=Te([Mt,o0,Ap,kp,zT,l0,HT,VT,jn],vye),bye=(e,t,n,r,i,a,s)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var c=mc(e,s),{tickCount:d}=t,f=0;return f=s==="angleAxis"&&r?.length>=2?br(r[0]-r[1])*2*f:f,c&&a?a.map((p,m)=>({coordinate:n(p)+f,value:p,index:m,offset:f})):n.ticks?n.ticks(d).map(p=>({coordinate:n(p)+f,value:p,offset:f})):n.domain().map((p,m)=>({coordinate:n(p)+f,value:i?i[p]:p,index:m,offset:f}))}},nc=Te([Mt,o0,kp,l0,HT,VT,jn],bye),rc=Te(Wn,kp,(e,t)=>{if(!(e==null||t==null))return sx(sx({},e),{},{scale:t})}),xye=Te([Wn,Ap,LT,yV],FT);Te((e,t,n)=>ET(e,n),xye,(e,t)=>{if(!(e==null||t==null))return sx(sx({},e),{},{scale:t})});var wye=Te([Mt,zj,Uj],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),TV=e=>e.options.defaultTooltipEventType,AV=e=>e.options.validateTooltipEventTypes;function kV(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function qT(e,t){var n=TV(e),r=AV(e);return kV(t,n,r)}function Sye(e){return at(t=>qT(t,e))}var EV=(e,t)=>{var n,r=Number(t);if(!(Mi(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},Cye=e=>e.tooltip.settings,Ul={active:!1,index:null,dataKey:void 0,coordinate:void 0},jye={itemInteraction:{click:Ul,hover:Ul},axisInteraction:{click:Ul,hover:Ul},keyboardInteraction:Ul,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},NV=qt({name:"tooltip",initialState:jye,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=Cs(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Tye,removeTooltipEntrySettings:Aye,setTooltipSettingsState:kye,setActiveMouseOverItemIndex:_V,mouseLeaveItem:Eye,mouseLeaveChart:PV,setActiveClickItemIndex:Nye,setMouseOverAxisIndex:DV,setMouseClickAxisIndex:_ye,setSyncInteraction:fC,setKeyboardInteraction:pC}=NV.actions,Pye=NV.reducer;function zO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function a1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zO(Object(n),!0).forEach(function(r){Dye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dye(e,t,n){return(t=Oye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oye(e){var t=$ye(e,"string");return typeof t=="symbol"?t:t+""}function $ye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Iye(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Rye(e){return e.index!=null}var OV=(e,t,n,r)=>{if(t==null)return Ul;var i=Iye(e,t,n);if(i==null)return Ul;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(Rye(i)){if(a)return a1(a1({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return a1(a1({},Ul),{},{coordinate:i.coordinate})},YT=(e,t)=>{var n=e?.index;if(n==null)return null;var r=Number(n);if(!Li(r))return n;var i=0,a=1/0;return t.length>0&&(a=t.length-1),String(Math.max(i,Math.min(r,a)))},$V=(e,t,n,r,i,a,s,c)=>{if(!(a==null||c==null)){var d=s[0],f=d==null?void 0:c(d.positions,a);if(f!=null)return f;var p=i?.[Number(a)];if(p)switch(n){case"horizontal":return{x:p.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:p.coordinate}}}},IV=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.dataKey)===i})},c0=e=>e.options.tooltipPayloadSearcher,Ep=e=>e.tooltip;function UO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function HO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UO(Object(n),!0).forEach(function(r){Mye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mye(e,t,n){return(t=Lye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lye(e){var t=Fye(e,"string");return typeof t=="symbol"?t:t+""}function Fye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bye(e,t){return e??t}var RV=(e,t,n,r,i,a,s)=>{if(!(t==null||a==null)){var{chartData:c,computedData:d,dataStartIndex:f,dataEndIndex:p}=n,m=[];return e.reduce((g,v)=>{var b,{dataDefinedOnItem:C,settings:j}=v,A=Bye(C,c),k=Array.isArray(A)?kU(A,f,p):A,E=(b=j?.dataKey)!==null&&b!==void 0?b:r?.dataKey,P=j?.nameKey,$;if(r!=null&&r.dataKey&&Array.isArray(k)&&!Array.isArray(k[0])&&s==="axis"?$=Yz(k,r.dataKey,i):$=a(k,t,d,P),Array.isArray($))$.forEach(O=>{var _=HO(HO({},j),{},{name:O.name,unit:O.unit,color:void 0,fill:void 0});g.push(SD({tooltipEntrySettings:_,dataKey:O.dataKey,payload:O.payload,value:un(O.payload,O.dataKey),name:O.name}))});else{var F;g.push(SD({tooltipEntrySettings:j,dataKey:E,payload:$,value:un($,E),name:(F=un($,P))!==null&&F!==void 0?F:j?.name}))}return g},m)}},WT=Te([fr,Mt,JH,wT,dr],mV),zye=Te([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Uye=Te([dr,jp],NT),u0=Te([zye,fr,Uye],_T),Hye=Te([u0],e=>e.filter(_2)),Vye=Te([u0],PT),Np=Te([Vye,vc],DT),qye=Te([Hye,vc,fr],ZH),GT=Te([Np,fr,u0],$T),Yye=Te([fr],IT),Wye=Te([u0],e=>e.filter(_2)),Gye=Te([qye,Wye,i0],iV),Kye=Te([Gye,vc,dr],aV),Xye=Te([u0],tV),Qye=Te([Np,fr,Xye,O2,dr],oV),Zye=Te([lV,dr,jp],Tp),Jye=Te([Zye,dr],dV),e1e=Te([cV,dr,jp],Tp),t1e=Te([e1e,dr],fV),n1e=Te([uV,dr,jp],Tp),r1e=Te([n1e,dr],pV),i1e=Te([Jye,r1e,t1e],lx),a1e=Te([fr,Yye,Kye,Qye,i1e,Mt,dr],RT),MV=Te([fr,Mt,Np,GT,i0,dr,a1e],MT),o1e=Te([MV,fr,WT],BT),s1e=Te([fr,MV,o1e,dr],UT),LV=e=>{var t=dr(e),n=jp(e),r=!1;return l0(e,t,n,r)},FV=Te([fr,LV],E2),BV=Te([fr,WT,s1e,FV],FT),l1e=Te([Mt,GT,fr,dr],SV),c1e=Te([Mt,GT,fr,dr],CV),u1e=(e,t,n,r,i,a,s,c)=>{if(t){var{type:d}=t,f=mc(e,c);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,m=d==="category"&&r.bandwidth?r.bandwidth()/p:0;return m=c==="angleAxis"&&i!=null&&i?.length>=2?br(i[0]-i[1])*2*m:m,f&&s?s.map((g,v)=>({coordinate:r(g)+m,value:g,index:v,offset:m})):r.domain().map((g,v)=>({coordinate:r(g)+m,value:a?a[g]:g,index:v,offset:m}))}}},Qs=Te([Mt,fr,WT,BV,LV,l1e,c1e,dr],u1e),KT=Te([TV,AV,Cye],(e,t,n)=>kV(n.shared,e,t)),zV=e=>e.tooltip.settings.trigger,XT=e=>e.tooltip.settings.defaultIndex,R2=Te([Ep,KT,zV,XT],OV),ic=Te([R2,Np],YT),UV=Te([Qs,ic],EV),HV=Te([R2],e=>{if(e)return e.dataKey}),VV=Te([Ep,KT,zV,XT],IV),d1e=Te([Ws,Gs,Mt,cr,Qs,XT,VV,c0],$V),f1e=Te([R2,d1e],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),p1e=Te([R2],e=>e.active),h1e=Te([VV,ic,vc,fr,UV,c0,KT],RV),m1e=Te([h1e],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function VO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VO(Object(n),!0).forEach(function(r){g1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function g1e(e,t,n){return(t=y1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y1e(e){var t=v1e(e,"string");return typeof t=="symbol"?t:t+""}function v1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var b1e=()=>at(fr),x1e=()=>{var e=b1e(),t=at(Qs),n=at(BV);return Jm(qO(qO({},e),{},{scale:n}),t)},w1e=()=>at(wT),QT=(e,t)=>t,qV=(e,t,n)=>n,ZT=(e,t,n,r)=>r,S1e=Te(Qs,e=>m2(e,t=>t.coordinate)),JT=Te([Ep,QT,qV,ZT],OV),YV=Te([JT,Np],YT),C1e=(e,t,n)=>{if(t!=null){var r=Ep(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},WV=Te([Ep,QT,qV,ZT],IV),cx=Te([Ws,Gs,Mt,cr,Qs,ZT,WV,c0],$V),j1e=Te([JT,cx],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),GV=Te(Qs,YV,EV),T1e=Te([WV,YV,vc,fr,GV,c0,QT],RV),A1e=Te([JT],e=>({isActive:e.active,activeIndex:e.index})),k1e=(e,t,n,r,i,a,s,c)=>{if(!(!e||!t||!r||!i||!a)){var d=Gfe(e.chartX,e.chartY,t,n,c);if(d){var f=Xfe(d,t),p=Ife(f,s,a,r,i),m=Kfe(t,a,p,d);return{activeIndex:String(p),activeCoordinate:m}}}};function hC(){return hC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hC.apply(null,arguments)}function YO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function o1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YO(Object(n),!0).forEach(function(r){E1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function E1e(e,t,n){return(t=N1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N1e(e){var t=_1e(e,"string");return typeof t=="symbol"?t:t+""}function _1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P1e(e){var{coordinate:t,payload:n,index:r,offset:i,tooltipAxisBandSize:a,layout:s,cursor:c,tooltipEventType:d,chartName:f}=e,p=t,m=n,g=r;if(!c||!p||f!=="ScatterChart"&&d!=="axis")return null;var v,b;if(f==="ScatterChart")v=p,b=Wpe;else if(f==="BarChart")v=Gpe(s,p,i,a),b=qU;else if(s==="radial"){var{cx:C,cy:j,radius:A,startAngle:k,endAngle:E}=YU(p);v={cx:C,cy:j,startAngle:k,endAngle:E,innerRadius:A,outerRadius:A},b=GU}else v={points:Dhe(s,p,i)},b=Wj;var P=typeof c=="object"&&"className"in c?c.className:void 0,$=o1(o1(o1(o1({stroke:"#ccc",pointerEvents:"none"},i),v),xn(c,!1)),{},{payload:m,payloadIndex:g,className:ct("recharts-tooltip-cursor",P)});return w.isValidElement(c)?w.cloneElement(c,$):w.createElement(b,$)}function D1e(e){var t=x1e(),n=$U(),r=b2(),i=w1e();return w.createElement(P1e,hC({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var KV=w.createContext(null),O1e=()=>w.useContext(KV),X6={exports:{}},WO;function $1e(){return WO||(WO=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,f,p){this.fn=d,this.context=f,this.once=p||!1}function a(d,f,p,m,g){if(typeof p!="function")throw new TypeError("The listener must be a function");var v=new i(p,m||d,g),b=n?n+f:f;return d._events[b]?d._events[b].fn?d._events[b]=[d._events[b],v]:d._events[b].push(v):(d._events[b]=v,d._eventsCount++),d}function s(d,f){--d._eventsCount===0?d._events=new r:delete d._events[f]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],p,m;if(this._eventsCount===0)return f;for(m in p=this._events)t.call(p,m)&&f.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},c.prototype.listeners=function(f){var p=n?n+f:f,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var g=0,v=m.length,b=new Array(v);g<v;g++)b[g]=m[g].fn;return b},c.prototype.listenerCount=function(f){var p=n?n+f:f,m=this._events[p];return m?m.fn?1:m.length:0},c.prototype.emit=function(f,p,m,g,v,b){var C=n?n+f:f;if(!this._events[C])return!1;var j=this._events[C],A=arguments.length,k,E;if(j.fn){switch(j.once&&this.removeListener(f,j.fn,void 0,!0),A){case 1:return j.fn.call(j.context),!0;case 2:return j.fn.call(j.context,p),!0;case 3:return j.fn.call(j.context,p,m),!0;case 4:return j.fn.call(j.context,p,m,g),!0;case 5:return j.fn.call(j.context,p,m,g,v),!0;case 6:return j.fn.call(j.context,p,m,g,v,b),!0}for(E=1,k=new Array(A-1);E<A;E++)k[E-1]=arguments[E];j.fn.apply(j.context,k)}else{var P=j.length,$;for(E=0;E<P;E++)switch(j[E].once&&this.removeListener(f,j[E].fn,void 0,!0),A){case 1:j[E].fn.call(j[E].context);break;case 2:j[E].fn.call(j[E].context,p);break;case 3:j[E].fn.call(j[E].context,p,m);break;case 4:j[E].fn.call(j[E].context,p,m,g);break;default:if(!k)for($=1,k=new Array(A-1);$<A;$++)k[$-1]=arguments[$];j[E].fn.apply(j[E].context,k)}}return!0},c.prototype.on=function(f,p,m){return a(this,f,p,m,!1)},c.prototype.once=function(f,p,m){return a(this,f,p,m,!0)},c.prototype.removeListener=function(f,p,m,g){var v=n?n+f:f;if(!this._events[v])return this;if(!p)return s(this,v),this;var b=this._events[v];if(b.fn)b.fn===p&&(!g||b.once)&&(!m||b.context===m)&&s(this,v);else{for(var C=0,j=[],A=b.length;C<A;C++)(b[C].fn!==p||g&&!b[C].once||m&&b[C].context!==m)&&j.push(b[C]);j.length?this._events[v]=j.length===1?j[0]:j:s(this,v)}return this},c.prototype.removeAllListeners=function(f){var p;return f?(p=n?n+f:f,this._events[p]&&s(this,p)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,e.exports=c})(X6)),X6.exports}var I1e=$1e();const R1e=di(I1e);var og=new R1e,mC="recharts.syncEvent.tooltip",GO="recharts.syncEvent.brush";function eA(e,t){if(t){var n=Number.parseInt(t,10);if(!Mi(n))return e?.[n]}}var M1e={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},XV=qt({name:"options",initialState:M1e,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),L1e=XV.reducer,{createEventEmitter:F1e}=XV.actions;function B1e(e){return e.tooltip.syncInteraction}var z1e={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},QV=qt({name:"chartData",initialState:z1e,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:KO,setDataStartEndIndexes:U1e,setComputedData:CIe}=QV.actions,H1e=QV.reducer,ZV=()=>{};function V1e(){var e=at(ST),t=at(CT),n=Pn(),r=at(YH),i=at(Qs),a=b2(),s=Hj(),c=at(d=>d.rootProps.className);w.useEffect(()=>{if(e==null)return ZV;var d=(f,p,m)=>{if(t!==m&&e===f){if(r==="index"){n(p);return}if(i!=null){var g;if(typeof r=="function"){var v={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},b=r(i,v);g=i[b]}else r==="value"&&(g=i.find(F=>String(F.value)===p.payload.label));var{coordinate:C}=p.payload;if(g==null||p.payload.active===!1||C==null||s==null){n(fC({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:j,y:A}=C,k=Math.min(j,s.x+s.width),E=Math.min(A,s.y+s.height),P={x:a==="horizontal"?g.coordinate:k,y:a==="horizontal"?E:g.coordinate},$=fC({active:p.payload.active,coordinate:P,dataKey:p.payload.dataKey,index:String(g.index),label:p.payload.label});n($)}}};return og.on(mC,d),()=>{og.off(mC,d)}},[c,n,t,e,r,i,a,s])}function q1e(){var e=at(ST),t=at(CT),n=Pn();w.useEffect(()=>{if(e==null)return ZV;var r=(i,a,s)=>{t!==s&&e===i&&n(U1e(a))};return og.on(GO,r),()=>{og.off(GO,r)}},[n,t,e])}function Y1e(){var e=Pn();w.useEffect(()=>{e(F1e())},[e]),V1e(),q1e()}function W1e(e,t,n,r,i,a){var s=at(g=>C1e(g,e,t)),c=at(CT),d=at(ST),f=at(YH),p=at(B1e),m=p?.active;w.useEffect(()=>{if(!m&&d!=null&&c!=null){var g=fC({active:a,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r});og.emit(mC,d,g,c)}},[m,n,s,i,r,c,d,f,a])}function XO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function QO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XO(Object(n),!0).forEach(function(r){G1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function G1e(e,t,n){return(t=K1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K1e(e){var t=X1e(e,"string");return typeof t=="symbol"?t:t+""}function X1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Q1e(e){return e.dataKey}function Z1e(e,t){return w.isValidElement(e)?w.cloneElement(e,t):typeof e=="function"?w.createElement(e,t):w.createElement(Tpe,t)}var ZO=[],J1e={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!od.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function ja(e){var t=Fi(e,J1e),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:a,content:s,filterNull:c,isAnimationActive:d,offset:f,payloadUniqBy:p,position:m,reverseDirection:g,useTranslate3d:v,wrapperStyle:b,cursor:C,shared:j,trigger:A,defaultIndex:k,portal:E,axisId:P}=t,$=Pn(),F=typeof k=="number"?String(k):k;w.useEffect(()=>{$(kye({shared:j,trigger:A,axisId:P,active:n,defaultIndex:F}))},[$,j,A,P,n,F]);var O=Hj(),_=LU(),D=Sye(j),{activeIndex:L,isActive:R}=at(Pe=>A1e(Pe,D,A,F)),M=at(Pe=>T1e(Pe,D,A,F)),H=at(Pe=>GV(Pe,D,A,F)),W=at(Pe=>j1e(Pe,D,A,F)),fe=M,q=O1e(),te=n??R,[K,z]=jU([fe,te]),V=D==="axis"?H:void 0;W1e(D,A,W,V,L,te);var Z=E??q;if(Z==null)return null;var re=fe??ZO;te||(re=ZO),c&&re.length&&(re=xU(fe.filter(Pe=>Pe.value!=null&&(Pe.hide!==!0||t.includeHidden)),p,Q1e));var me=re.length>0,ge=w.createElement(Dpe,{allowEscapeViewBox:r,animationDuration:i,animationEasing:a,isAnimationActive:d,active:te,coordinate:W,hasPayload:me,offset:f,position:m,reverseDirection:g,useTranslate3d:v,viewBox:O,wrapperStyle:b,lastBoundingBox:K,innerRef:z,hasPortalFromProps:!!E},Z1e(s,QO(QO({},t),{},{payload:re,label:V,active:te,coordinate:W,accessibilityLayer:_})));return w.createElement(w.Fragment,null,n2.createPortal(ge,Z),te&&w.createElement(D1e,{cursor:C,tooltipEventType:D,coordinate:W,payload:fe,index:L}))}var Q6={},Z6={},J6={},JO;function eve(){return JO||(JO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let s,c=null;const d=a!=null&&a.includes("leading"),f=a==null||a.includes("trailing"),p=()=>{c!==null&&(n.apply(s,c),s=void 0,c=null)},m=()=>{f&&p(),C()};let g=null;const v=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,m()},r)},b=()=>{g!==null&&(clearTimeout(g),g=null)},C=()=>{b(),s=void 0,c=null},j=()=>{p()},A=function(...k){if(i?.aborted)return;s=this,c=k;const E=g==null;v(),d&&E&&p()};return A.schedule=v,A.cancel=C,A.flush=j,i?.addEventListener("abort",C,{once:!0}),A}e.debounce=t})(J6)),J6}var e$;function tve(){return e$||(e$=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eve();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:c=!0,maxWait:d}=a,f=Array(2);s&&(f[0]="leading"),c&&(f[1]="trailing");let p,m=null;const g=t.debounce(function(...C){p=r.apply(this,C),m=null},i,{edges:f}),v=function(...C){return d!=null&&(m===null&&(m=Date.now()),Date.now()-m>=d)?(p=r.apply(this,C),m=Date.now(),g.cancel(),g.schedule(),p):(g.apply(this,C),p)},b=()=>(g.flush(),p);return v.cancel=g.cancel,v.flush=b,v}e.debounce=n})(Z6)),Z6}var t$;function nve(){return t$||(t$=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tve();function n(r,i=0,a={}){const{leading:s=!0,trailing:c=!0}=a;return t.debounce(r,i,{leading:s,maxWait:i,trailing:c})}e.throttle=n})(Q6)),Q6}var eS,n$;function rve(){return n$||(n$=1,eS=nve().throttle),eS}var ive=rve();const ave=di(ive);var Rm=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function r$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r$(Object(n),!0).forEach(function(r){ove(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ove(e,t,n){return(t=sve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sve(e){var t=lve(e,"string");return typeof t=="symbol"?t:t+""}function lve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ta=w.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:s=0,minHeight:c,maxHeight:d,children:f,debounce:p=0,id:m,className:g,onResize:v,style:b={}}=e,C=w.useRef(null),j=w.useRef();j.current=v,w.useImperativeHandle(t,()=>C.current);var[A,k]=w.useState({containerWidth:r.width,containerHeight:r.height}),E=w.useCallback(($,F)=>{k(O=>{var _=Math.round($),D=Math.round(F);return O.containerWidth===_&&O.containerHeight===D?O:{containerWidth:_,containerHeight:D}})},[]);w.useEffect(()=>{var $=D=>{var L,{width:R,height:M}=D[0].contentRect;E(R,M),(L=j.current)===null||L===void 0||L.call(j,R,M)};p>0&&($=ave($,p,{trailing:!0,leading:!1}));var F=new ResizeObserver($),{width:O,height:_}=C.current.getBoundingClientRect();return E(O,_),F.observe(C.current),()=>{F.disconnect()}},[E,p]);var P=w.useMemo(()=>{var{containerWidth:$,containerHeight:F}=A;if($<0||F<0)return null;Rm(Cu(i)||Cu(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),Rm(!n||n>0,"The aspect(%s) must be greater than zero.",n);var O=Cu(i)?$:i,_=Cu(a)?F:a;return n&&n>0&&(O?_=O/n:_&&(O=_*n),d&&_>d&&(_=d)),Rm(O>0||_>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,_,i,a,s,c,n),w.Children.map(f,D=>w.cloneElement(D,{width:O,height:_,style:tS({width:O,height:_},D.props.style)}))},[n,f,a,d,c,s,A,i]);return w.createElement("div",{id:m?"".concat(m):void 0,className:ct("recharts-responsive-container",g),style:tS(tS({},b),{},{width:i,height:a,minWidth:s,minHeight:c,maxHeight:d}),ref:C},w.createElement("div",{style:{width:0,height:0,overflow:"visible"}},P))}),Qf=e=>null;Qf.displayName="Cell";function cve(e,t,n){return(t=uve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uve(e){var t=dve(e,"string");return typeof t=="symbol"?t:t+""}function dve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class fve{constructor(t){cve(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function i$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pve(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?i$(Object(n),!0).forEach(function(r){hve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hve(e,t,n){return(t=mve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mve(e){var t=gve(e,"string");return typeof t=="symbol"?t:t+""}function gve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yve={cacheSize:2e3,enableCache:!0},JV=pve({},yve),a$=new fve(JV.cacheSize),vve={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},o$="recharts_measurement_span";function bve(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",c=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(c)}var s$=(e,t)=>{try{var n=document.getElementById(o$);n||(n=document.createElement("span"),n.setAttribute("id",o$),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,vve,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Mm=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||od.isSsr)return{width:0,height:0};if(!JV.enableCache)return s$(t,n);var r=bve(t,n),i=a$.get(r);if(i)return i;var a=s$(t,n);return a$.set(r,a),a},l$=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,c$=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xve=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,wve=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,eq={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Sve=Object.keys(eq),cf="NaN";function Cve(e,t){return e*eq[t]}class ai{static parse(t){var n,[,r,i]=(n=wve.exec(t))!==null&&n!==void 0?n:[];return new ai(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Mi(t)&&(this.unit=""),n!==""&&!xve.test(n)&&(this.num=NaN,this.unit=""),Sve.includes(n)&&(this.num=Cve(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new ai(NaN,""):new ai(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new ai(NaN,""):new ai(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ai(NaN,""):new ai(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ai(NaN,""):new ai(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Mi(this.num)}}function tq(e){if(e.includes(cf))return cf;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=l$.exec(t))!==null&&n!==void 0?n:[],s=ai.parse(r??""),c=ai.parse(a??""),d=i==="*"?s.multiply(c):s.divide(c);if(d.isNaN())return cf;t=t.replace(l$,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,p,m,g]=(f=c$.exec(t))!==null&&f!==void 0?f:[],v=ai.parse(p??""),b=ai.parse(g??""),C=m==="+"?v.add(b):v.subtract(b);if(C.isNaN())return cf;t=t.replace(c$,C.toString())}return t}var u$=/\(([^()]*)\)/;function jve(e){for(var t=e,n;(n=u$.exec(t))!=null;){var[,r]=n;t=t.replace(u$,tq(r))}return t}function Tve(e){var t=e.replace(/\s+/g,"");return t=jve(t),t=tq(t),t}function Ave(e){try{return Tve(e)}catch{return cf}}function nS(e){var t=Ave(e.slice(5,-1));return t===cf?"":t}var kve=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Eve=["dx","dy","angle","className","breakAll"];function gC(){return gC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gC.apply(null,arguments)}function d$(e,t){if(e==null)return{};var n,r,i=Nve(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Nve(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var nq=/[ \f\n\r\t\v\u2028\u2029]+/,rq=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];vn(t)||(n?i=t.toString().split(""):i=t.toString().split(nq));var a=i.map(c=>({word:c,width:Mm(c,r).width})),s=n?0:Mm("",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},_ve=(e,t,n,r,i)=>{var{maxLines:a,children:s,style:c,breakAll:d}=e,f=Qe(a),p=s,m=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return R.reduce((M,H)=>{var{word:W,width:fe}=H,q=M[M.length-1];if(q&&(r==null||i||q.width+fe+n<Number(r)))q.words.push(W),q.width+=fe+n;else{var te={words:[W],width:fe};M.push(te)}return M},[])},g=m(t),v=L=>L.reduce((R,M)=>R.width>M.width?R:M);if(!f||i)return g;var b=g.length>a||v(g).width>Number(r);if(!b)return g;for(var C="",j=L=>{var R=p.slice(0,L),M=rq({breakAll:d,style:c,children:R+C}).wordsWithComputedWidth,H=m(M),W=H.length>a||v(H).width>Number(r);return[W,H]},A=0,k=p.length-1,E=0,P;A<=k&&E<=p.length-1;){var $=Math.floor((A+k)/2),F=$-1,[O,_]=j(F),[D]=j($);if(!O&&!D&&(A=$+1),O&&D&&(k=$-1),!O&&D){P=_;break}E++}return P||g},f$=e=>{var t=vn(e)?[]:e.toString().split(nq);return[{words:t}]},Pve=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=e;if((t||n)&&!od.isSsr){var c,d,f=rq({breakAll:a,children:r,style:i});if(f){var{wordsWithComputedWidth:p,spaceWidth:m}=f;c=p,d=m}else return f$(r);return _ve({breakAll:a,children:r,maxLines:s,style:i},c,d,t,n)}return f$(r)},p$="#808080",M2=w.forwardRef((e,t)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:s=!1,textAnchor:c="start",verticalAnchor:d="end",fill:f=p$}=e,p=d$(e,kve),m=w.useMemo(()=>Pve({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:s,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,s,p.style,p.width]),{dx:g,dy:v,angle:b,className:C,breakAll:j}=p,A=d$(p,Eve);if(!Io(n)||!Io(r))return null;var k=n+(Qe(g)?g:0),E=r+(Qe(v)?v:0),P;switch(d){case"start":P=nS("calc(".concat(a,")"));break;case"middle":P=nS("calc(".concat((m.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:P=nS("calc(".concat(m.length-1," * -").concat(i,")"));break}var $=[];if(s){var F=m[0].width,{width:O}=p;$.push("scale(".concat(Qe(O)?O/F:1,")"))}return b&&$.push("rotate(".concat(b,", ").concat(k,", ").concat(E,")")),$.length&&(A.transform=$.join(" ")),w.createElement("text",gC({},xn(A,!0),{ref:t,x:k,y:E,className:ct("recharts-text",C),textAnchor:c,fill:f.includes("url")?p$:f}),m.map((_,D)=>{var L=_.words.join(j?"":" ");return w.createElement("tspan",{x:k,dy:D===0?P:i,key:"".concat(L,"-").concat(D)},L)}))});M2.displayName="Text";var Dve=["offset"],Ove=["labelRef"];function h$(e,t){if(e==null)return{};var n,r,i=$ve(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $ve(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function m$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function In(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?m$(Object(n),!0).forEach(function(r){Ive(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ive(e,t,n){return(t=Rve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rve(e){var t=Mve(e,"string");return typeof t=="symbol"?t:t+""}function Mve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gs(){return gs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gs.apply(null,arguments)}var Lve=e=>{var{value:t,formatter:n}=e,r=vn(e.children)?t:e.children;return typeof n=="function"?n(r):r},tA=e=>e!=null&&typeof e=="function",Fve=(e,t)=>{var n=br(t-e),r=Math.min(Math.abs(t-e),360);return n*r},Bve=(e,t,n,r)=>{var{position:i,offset:a,className:s}=e,{cx:c,cy:d,innerRadius:f,outerRadius:p,startAngle:m,endAngle:g,clockWise:v}=r,b=(f+p)/2,C=Fve(m,g),j=C>=0?1:-1,A,k;i==="insideStart"?(A=m+j*a,k=v):i==="insideEnd"?(A=g-j*a,k=!v):i==="end"&&(A=g+j*a,k=v),k=C<=0?k:!k;var E=tr(c,d,b,A),P=tr(c,d,b,A+(k?1:-1)*359),$="M".concat(E.x,",").concat(E.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(k?0:1,`,
    `).concat(P.x,",").concat(P.y),F=vn(e.id)?Zm("recharts-radial-line-"):e.id;return w.createElement("text",gs({},n,{dominantBaseline:"central",className:ct("recharts-radial-bar-label",s)}),w.createElement("defs",null,w.createElement("path",{id:F,d:$})),w.createElement("textPath",{xlinkHref:"#".concat(F)},t))},zve=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:c,endAngle:d}=e,f=(c+d)/2;if(n==="outside"){var{x:p,y:m}=tr(r,i,s+t,f);return{x:p,y:m,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var g=(a+s)/2,{x:v,y:b}=tr(r,i,g,f);return{x:v,y:b,textAnchor:"middle",verticalAnchor:"middle"}},Uve=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,{x:a,y:s,width:c,height:d}=t,f=d>=0?1:-1,p=f*r,m=f>0?"end":"start",g=f>0?"start":"end",v=c>=0?1:-1,b=v*r,C=v>0?"end":"start",j=v>0?"start":"end";if(i==="top"){var A={x:a+c/2,y:s-f*r,textAnchor:"middle",verticalAnchor:m};return In(In({},A),n?{height:Math.max(s-n.y,0),width:c}:{})}if(i==="bottom"){var k={x:a+c/2,y:s+d+p,textAnchor:"middle",verticalAnchor:g};return In(In({},k),n?{height:Math.max(n.y+n.height-(s+d),0),width:c}:{})}if(i==="left"){var E={x:a-b,y:s+d/2,textAnchor:C,verticalAnchor:"middle"};return In(In({},E),n?{width:Math.max(E.x-n.x,0),height:d}:{})}if(i==="right"){var P={x:a+c+b,y:s+d/2,textAnchor:j,verticalAnchor:"middle"};return In(In({},P),n?{width:Math.max(n.x+n.width-P.x,0),height:d}:{})}var $=n?{width:c,height:d}:{};return i==="insideLeft"?In({x:a+b,y:s+d/2,textAnchor:j,verticalAnchor:"middle"},$):i==="insideRight"?In({x:a+c-b,y:s+d/2,textAnchor:C,verticalAnchor:"middle"},$):i==="insideTop"?In({x:a+c/2,y:s+p,textAnchor:"middle",verticalAnchor:g},$):i==="insideBottom"?In({x:a+c/2,y:s+d-p,textAnchor:"middle",verticalAnchor:m},$):i==="insideTopLeft"?In({x:a+b,y:s+p,textAnchor:j,verticalAnchor:g},$):i==="insideTopRight"?In({x:a+c-b,y:s+p,textAnchor:C,verticalAnchor:g},$):i==="insideBottomLeft"?In({x:a+b,y:s+d-p,textAnchor:j,verticalAnchor:m},$):i==="insideBottomRight"?In({x:a+c-b,y:s+d-p,textAnchor:C,verticalAnchor:m},$):i&&typeof i=="object"&&(Qe(i.x)||Cu(i.x))&&(Qe(i.y)||Cu(i.y))?In({x:a+Xr(i.x,c),y:s+Xr(i.y,d),textAnchor:"end",verticalAnchor:"end"},$):In({x:a+c/2,y:s+d/2,textAnchor:"middle",verticalAnchor:"middle"},$)},Hve=e=>"cx"in e&&Qe(e.cx);function Ni(e){var{offset:t=5}=e,n=h$(e,Dve),r=In({offset:t},n),{viewBox:i,position:a,value:s,children:c,content:d,className:f="",textBreakAll:p,labelRef:m}=r,g=at(QH),v=Hj(),b=a==="center"?v:g??v,C=i||b;if(!C||vn(s)&&vn(c)&&!w.isValidElement(d)&&typeof d!="function")return null;var j=In(In({},r),{},{viewBox:C});if(w.isValidElement(d)){var{labelRef:A}=j,k=h$(j,Ove);return w.cloneElement(d,k)}var E;if(typeof d=="function"){if(E=w.createElement(d,j),w.isValidElement(E))return E}else E=Lve(r);var P=Hve(C),$=xn(r,!0);if(P&&(a==="insideStart"||a==="insideEnd"||a==="end"))return Bve(r,E,$,C);var F=P?zve(C,r.offset,r.position):Uve(r,C);return w.createElement(M2,gs({ref:m,className:ct("recharts-label",f)},$,F,{breakAll:p}),E)}Ni.displayName="Label";var iq=e=>{var{cx:t,cy:n,angle:r,startAngle:i,endAngle:a,r:s,radius:c,innerRadius:d,outerRadius:f,x:p,y:m,top:g,left:v,width:b,height:C,clockWise:j,labelViewBox:A}=e;if(A)return A;if(Qe(b)&&Qe(C)){if(Qe(p)&&Qe(m))return{x:p,y:m,width:b,height:C};if(Qe(g)&&Qe(v))return{x:g,y:v,width:b,height:C}}if(Qe(p)&&Qe(m))return{x:p,y:m,width:0,height:0};if(Qe(t)&&Qe(n))return{cx:t,cy:n,startAngle:i||r||0,endAngle:a||r||0,innerRadius:d||0,outerRadius:f||c||s||0,clockWise:j};if(e.viewBox)return e.viewBox},Vve=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?w.createElement(Ni,gs({key:"label-implicit"},r)):Io(e)?w.createElement(Ni,gs({key:"label-implicit",value:e},r)):w.isValidElement(e)?e.type===Ni?w.cloneElement(e,In({key:"label-implicit"},r)):w.createElement(Ni,gs({key:"label-implicit",content:e},r)):tA(e)?w.createElement(Ni,gs({key:"label-implicit",content:e},r)):e&&typeof e=="object"?w.createElement(Ni,gs({},e,{key:"label-implicit"},r)):null},qve=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var{children:i,labelRef:a}=t,s=iq(t),c=Jg(i,Ni).map((f,p)=>w.cloneElement(f,{viewBox:n||s,key:"label-".concat(p)}));if(!r)return c;var d=Vve(t.label,n||s,a);return[d,...c]};Ni.parseViewBox=iq;Ni.renderCallByParent=qve;var rS={},iS={},g$;function Yve(){return g$||(g$=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(iS)),iS}var aS={},y$;function Wve(){return y$||(y$=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(aS)),aS}var v$;function Gve(){return v$||(v$=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yve(),n=Wve(),r=Ij();function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(rS)),rS}var oS,b$;function Kve(){return b$||(b$=1,oS=Gve().last),oS}var Xve=Kve();const Qve=di(Xve);var Zve=["valueAccessor"],Jve=["data","dataKey","clockWise","id","textBreakAll"];function ux(){return ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ux.apply(null,arguments)}function x$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function w$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?x$(Object(n),!0).forEach(function(r){ebe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ebe(e,t,n){return(t=tbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tbe(e){var t=nbe(e,"string");return typeof t=="symbol"?t:t+""}function nbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function S$(e,t){if(e==null)return{};var n,r,i=rbe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function rbe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ibe=e=>Array.isArray(e.value)?Qve(e.value):e.value;function Gl(e){var{valueAccessor:t=ibe}=e,n=S$(e,Zve),{data:r,dataKey:i,clockWise:a,id:s,textBreakAll:c}=n,d=S$(n,Jve);return!r||!r.length?null:w.createElement(Lr,{className:"recharts-label-list"},r.map((f,p)=>{var m=vn(i)?t(f,p):un(f&&f.payload,i),g=vn(s)?{}:{id:"".concat(s,"-").concat(p)};return w.createElement(Ni,ux({},xn(f,!0),d,g,{parentViewBox:f.parentViewBox,value:m,textBreakAll:c,viewBox:Ni.parseViewBox(vn(a)?f:w$(w$({},f),{},{clockWise:a})),key:"label-".concat(p),index:p}))}))}Gl.displayName="LabelList";function abe(e,t){return e?e===!0?w.createElement(Gl,{key:"labelList-implicit",data:t}):w.isValidElement(e)||tA(e)?w.createElement(Gl,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?w.createElement(Gl,ux({data:t},e,{key:"labelList-implicit"})):null:null}function obe(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var{children:r}=e,i=Jg(r,Gl).map((s,c)=>w.cloneElement(s,{data:t,key:"labelList-".concat(c)}));if(!n)return i;var a=abe(e.label,t);return[a,...i]}Gl.renderCallByParent=obe;function yC(){return yC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yC.apply(null,arguments)}var aq=e=>{var{cx:t,cy:n,r,className:i}=e,a=ct("recharts-dot",i);return t===+t&&n===+n&&r===+r?w.createElement("circle",yC({},Ys(e),kj(e),{className:a,cx:t,cy:n,r})):null},oq=e=>e.graphicalItems.polarItems,sbe=Te([jn,a0],NT),nA=Te([oq,Wn,sbe],_T),lbe=Te([nA],PT),rA=Te([lbe,vT],DT),cbe=Te([rA,Wn,nA],$T),ube=Te([rA,Wn,nA],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var a,s=un(r,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(r=>({value:un(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]}))),C$=()=>{},dbe=Te([Wn,hV,C$,ube,C$,Mt,jn],RT),sq=Te([Wn,Mt,rA,cbe,i0,jn,dbe],MT),fbe=Te([sq,Wn,Ap],BT);Te([Wn,sq,fbe,jn],UT);var pbe={radiusAxis:{},angleAxis:{}},lq=qt({name:"polarAxis",initialState:pbe,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:jIe,removeRadiusAxis:TIe,addAngleAxis:AIe,removeAngleAxis:kIe}=lq.actions,hbe=lq.reducer;function j$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function T$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?j$(Object(n),!0).forEach(function(r){mbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mbe(e,t,n){return(t=gbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gbe(e){var t=ybe(e,"string");return typeof t=="symbol"?t:t+""}function ybe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vbe=(e,t)=>t,iA=Te([oq,vbe],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),bbe=[],aA=(e,t,n)=>n?.length===0?bbe:n,cq=Te([vT,iA,aA],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var i;if(t?.data!=null&&t.data.length>0?i=t.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>T$(T$({},t.presentationProps),a.props))),i!=null)return i}}),xbe=Te([cq,iA,aA],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,i)=>{var a,s=un(r,t.nameKey,t.name),c;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?c=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?c=r.fill:c=t.fill,{value:xp(s,t.dataKey),color:c,payload:r,type:t.legendType}})}),wbe=Te([cq,iA,aA,cr],(e,t,n,r)=>{if(!(t==null||e==null))return hxe({offset:r,pieSettings:t,displayedData:e,cells:n})}),sS={},A$;function Sbe(){return A$||(A$=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(sS)),sS}var lS,k$;function Cbe(){return k$||(k$=1,lS=Sbe().isPlainObject),lS}var jbe=Cbe();const Tbe=di(jbe);function dx(){return dx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dx.apply(null,arguments)}var E$=(e,t,n,r,i)=>{var a=n-r,s;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+n,",").concat(t),s+="L ".concat(e+n-a/2,",").concat(t+i),s+="L ".concat(e+n-a/2-r,",").concat(t+i),s+="L ".concat(e,",").concat(t," Z"),s},Abe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},kbe=e=>{var t=Fi(e,Abe),n=w.useRef(),[r,i]=w.useState(-1);w.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&i(j)}catch{}},[]);var{x:a,y:s,upperWidth:c,lowerWidth:d,height:f,className:p}=t,{animationEasing:m,animationDuration:g,animationBegin:v,isUpdateAnimationActive:b}=t;if(a!==+a||s!==+s||c!==+c||d!==+d||f!==+f||c===0&&d===0||f===0)return null;var C=ct("recharts-trapezoid",p);return b?w.createElement(Kb,{canBegin:r>0,from:{upperWidth:0,lowerWidth:0,height:f,x:a,y:s},to:{upperWidth:c,lowerWidth:d,height:f,x:a,y:s},duration:g,animationEasing:m,isActive:b},j=>{var{upperWidth:A,lowerWidth:k,height:E,x:P,y:$}=j;return w.createElement(Kb,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:m},w.createElement("path",dx({},xn(t,!0),{className:C,d:E$(P,$,A,k,E),ref:n})))}):w.createElement("g",null,w.createElement("path",dx({},xn(t,!0),{className:C,d:E$(a,s,c,d,f)})))},Ebe=["option","shapeType","propTransformer","activeClassName","isActive"];function Nbe(e,t){if(e==null)return{};var n,r,i=_be(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _be(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function N$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N$(Object(n),!0).forEach(function(r){Pbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pbe(e,t,n){return(t=Dbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dbe(e){var t=Obe(e,"string");return typeof t=="symbol"?t:t+""}function Obe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $be(e,t){return fx(fx({},t),e)}function Ibe(e,t){return e==="symbols"}function _$(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return w.createElement(qU,n);case"trapezoid":return w.createElement(kbe,n);case"sector":return w.createElement(GU,n);case"symbols":if(Ibe(t))return w.createElement(Dj,n);break;default:return null}}function Rbe(e){return w.isValidElement(e)?e.props:e}function uq(e){var{option:t,shapeType:n,propTransformer:r=$be,activeClassName:i="recharts-active-shape",isActive:a}=e,s=Nbe(e,Ebe),c;if(w.isValidElement(t))c=w.cloneElement(t,fx(fx({},s),Rbe(t)));else if(typeof t=="function")c=t(s);else if(Tbe(t)&&typeof t!="boolean"){var d=r(t,s);c=w.createElement(_$,{shapeType:n,elementProps:d})}else{var f=s;c=w.createElement(_$,{shapeType:n,elementProps:f})}return a?w.createElement(Lr,{className:i},c):c}var oA=(e,t)=>{var n=Pn();return(r,i)=>a=>{e?.(r,i,a),n(_V({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},sA=e=>{var t=Pn();return(n,r)=>i=>{e?.(n,r,i),t(Eye())}},lA=(e,t)=>{var n=Pn();return(r,i)=>a=>{e?.(r,i,a),n(Nye({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function cA(e){var{fn:t,args:n}=e,r=Pn(),i=fi();return w.useEffect(()=>{if(!i){var a=t(n);return r(Tye(a)),()=>{r(Aye(a))}}},[t,n,r,i]),null}var dq=()=>{};function fq(e){var{legendPayload:t}=e,n=Pn(),r=fi();return w.useEffect(()=>r?dq:(n(RU(t)),()=>{n(MU(t))}),[n,r,t]),null}function Mbe(e){var{legendPayload:t}=e,n=Pn(),r=at(Mt);return w.useEffect(()=>r!=="centric"&&r!=="radial"?dq:(n(RU(t)),()=>{n(MU(t))}),[n,r,t]),null}function uA(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=w.useRef(Zm(t)),r=w.useRef(e);return r.current!==e&&(n.current=Zm(t),r.current=e),n.current}var cS,Lbe=()=>{var[e]=w.useState(()=>Zm("uid-"));return e},Fbe=(cS=A5.useId)!==null&&cS!==void 0?cS:Lbe;function Bbe(e,t){var n=Fbe();return t||(e?"".concat(e,"-").concat(n):n)}var zbe=w.createContext(void 0),dA=e=>{var{id:t,type:n,children:r}=e,i=Bbe("recharts-".concat(n),t);return w.createElement(zbe.Provider,{value:i},r(i))},Ube={cartesianItems:[],polarItems:[]},pq=qt({name:"graphicalItems",initialState:Ube,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:r}=t.payload,i=Cs(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},removeCartesianGraphicalItem(e,t){var n=Cs(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=Cs(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:Hbe,replaceCartesianGraphicalItem:Vbe,removeCartesianGraphicalItem:qbe,addPolarGraphicalItem:Ybe,removePolarGraphicalItem:Wbe}=pq.actions,Gbe=pq.reducer;function hq(e){var t=Pn(),n=w.useRef(null);return w.useEffect(()=>{n.current===null?t(Hbe(e)):n.current!==e&&t(Vbe({prev:n.current,next:e})),n.current=e},[t,e]),w.useEffect(()=>()=>{n.current&&(t(qbe(n.current)),n.current=null)},[t]),null}function Kbe(e){var t=Pn();return w.useEffect(()=>(t(Ybe(e)),()=>{t(Wbe(e))}),[t,e]),null}function Xbe(){}var Qbe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},P$={t:0},uS={t:1};function fA(e){var t=Fi(e,Qbe),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:c,onAnimationStart:d,children:f}=t,p=VU("JavascriptAnimate",t.animationManager),[m,g]=w.useState(n?P$:uS),v=w.useRef(null);return w.useEffect(()=>{n||g(uS)},[n]),w.useEffect(()=>{if(!n||!r)return Xbe;var b=HU(P$,uS,zU(a),i,g,p.getTimeoutController()),C=()=>{v.current=b()};return p.start([d,s,C,i,c]),()=>{p.stop(),v.current&&v.current(),c()}},[n,r,i,a,s,d,c,p]),f(m.t)}var Zbe=["onMouseEnter","onClick","onMouseLeave"],Jbe=["id"],exe=["id"];function pA(e,t){if(e==null)return{};var n,r,i=txe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function txe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function D$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?D$(Object(n),!0).forEach(function(r){nxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nxe(e,t,n){return(t=rxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rxe(e){var t=ixe(e,"string");return typeof t=="symbol"?t:t+""}function ixe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fs(){return Fs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fs.apply(null,arguments)}function axe(e){var t=w.useMemo(()=>Jg(e.children,Qf),[e.children]),n=at(r=>xbe(r,e.id,t));return n==null?null:w.createElement(Mbe,{legendPayload:n})}function oxe(e){var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:s,name:c,hide:d,tooltipType:f}=e;return{dataDefinedOnItem:r?.map(p=>p.tooltipPayload),positions:r?.map(p=>p.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:s,dataKey:t,nameKey:n,name:xp(c,t),hide:d,type:f,color:s,unit:""}}}var sxe=(e,t)=>e>t?"start":e<t?"end":"middle",lxe=(e,t,n)=>typeof t=="function"?t(e):Xr(t,n,n*.8),cxe=(e,t,n)=>{var{top:r,left:i,width:a,height:s}=t,c=AU(a,s),d=i+Xr(e.cx,a,a/2),f=r+Xr(e.cy,s,s/2),p=Xr(e.innerRadius,c,0),m=lxe(n,e.outerRadius,c),g=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:d,cy:f,innerRadius:p,outerRadius:m,maxRadius:g}},uxe=(e,t)=>{var n=br(t-e),r=Math.min(Math.abs(t-e),360);return n*r},dxe=(e,t)=>{if(w.isValidElement(e))return w.cloneElement(e,t);if(typeof e=="function")return e(t);var n=ct("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return w.createElement(Wj,Fs({},t,{type:"linear",className:n}))},fxe=(e,t,n)=>{if(w.isValidElement(e))return w.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),w.isValidElement(r)))return r;var i=ct("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return w.createElement(M2,Fs({},t,{alignmentBaseline:"middle",className:i}),r)};function pxe(e){var{sectors:t,props:n,showLabels:r}=e,{label:i,labelLine:a,dataKey:s}=n;if(!r||!i||!t)return null;var c=Ys(n),d=xn(i,!1),f=xn(a,!1),p=typeof i=="object"&&"offsetRadius"in i&&i.offsetRadius||20,m=t.map((g,v)=>{var b=(g.startAngle+g.endAngle)/2,C=tr(g.cx,g.cy,g.outerRadius+p,b),j=Mn(Mn(Mn(Mn({},c),g),{},{stroke:"none"},d),{},{index:v,textAnchor:sxe(C.x,g.cx)},C),A=Mn(Mn(Mn(Mn({},c),g),{},{fill:"none",stroke:g.fill},f),{},{index:v,points:[tr(g.cx,g.cy,g.outerRadius,b),C],key:"line"});return w.createElement(Lr,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(v)},a&&dxe(a,A),fxe(i,j,un(g,s)))});return w.createElement(Lr,{className:"recharts-pie-labels"},m)}function mq(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:i,showLabels:a}=e,s=at(ic),{onMouseEnter:c,onClick:d,onMouseLeave:f}=i,p=pA(i,Zbe),m=oA(c,i.dataKey),g=sA(f),v=lA(d,i.dataKey);return t==null?null:w.createElement(w.Fragment,null,t.map((b,C)=>{if(b?.startAngle===0&&b?.endAngle===0&&t.length!==1)return null;var j=n&&String(C)===s,A=s?r:null,k=j?n:A,E=Mn(Mn({},b),{},{stroke:b.stroke,tabIndex:-1,[PU]:C,[DU]:i.dataKey});return w.createElement(Lr,Fs({tabIndex:-1,className:"recharts-pie-sector"},Zg(p,b,C),{onMouseEnter:m(b,C),onMouseLeave:g(b,C),onClick:v(b,C),key:"sector-".concat(b?.startAngle,"-").concat(b?.endAngle,"-").concat(b.midAngle,"-").concat(C)}),w.createElement(uq,Fs({option:k,isActive:j,shapeType:"sector"},E)))}),w.createElement(pxe,{sectors:t,props:i,showLabels:a}))}function hxe(e){var t,{pieSettings:n,displayedData:r,cells:i,offset:a}=e,{cornerRadius:s,startAngle:c,endAngle:d,dataKey:f,nameKey:p,tooltipType:m}=n,g=Math.abs(n.minAngle),v=uxe(c,d),b=Math.abs(v),C=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,j=r.filter(F=>un(F,f,0)!==0).length,A=(b>=360?j:j-1)*C,k=b-j*g-A,E=r.reduce((F,O)=>{var _=un(O,f,0);return F+(Qe(_)?_:0)},0),P;if(E>0){var $;P=r.map((F,O)=>{var _=un(F,f,0),D=un(F,p,O),L=cxe(n,a,F),R=(Qe(_)?_:0)/E,M,H=Mn(Mn({},F),i&&i[O]&&i[O].props);O?M=$.endAngle+br(v)*C*(_!==0?1:0):M=c;var W=M+br(v)*((_!==0?g:0)+R*k),fe=(M+W)/2,q=(L.innerRadius+L.outerRadius)/2,te=[{name:D,value:_,payload:H,dataKey:f,type:m}],K=tr(L.cx,L.cy,q,fe);return $=Mn(Mn(Mn(Mn({},n.presentationProps),{},{percent:R,cornerRadius:s,name:D,tooltipPayload:te,midAngle:fe,middleRadius:q,tooltipPosition:K},H),L),{},{value:un(F,f),startAngle:M,endAngle:W,payload:H,paddingAngle:br(v)*C}),$})}return P}function mxe(e){var{props:t,previousSectorsRef:n}=e,{sectors:r,isAnimationActive:i,animationBegin:a,animationDuration:s,animationEasing:c,activeShape:d,inactiveShape:f,onAnimationStart:p,onAnimationEnd:m}=t,g=uA(t,"recharts-pie-"),v=n.current,[b,C]=w.useState(!0),j=w.useCallback(()=>{typeof m=="function"&&m(),C(!1)},[m]),A=w.useCallback(()=>{typeof p=="function"&&p(),C(!0)},[p]);return w.createElement(fA,{begin:a,duration:s,isActive:i,easing:c,onAnimationStart:A,onAnimationEnd:j,key:g},k=>{var E=[],P=r&&r[0],$=P.startAngle;return r.forEach((F,O)=>{var _=v&&v[O],D=O>0?tc(F,"paddingAngle",0):0;if(_){var L=g7(_.endAngle-_.startAngle,F.endAngle-F.startAngle),R=Mn(Mn({},F),{},{startAngle:$+D,endAngle:$+L(k)+D});E.push(R),$=R.endAngle}else{var{endAngle:M,startAngle:H}=F,W=g7(0,M-H),fe=W(k),q=Mn(Mn({},F),{},{startAngle:$+D,endAngle:$+fe+D});E.push(q),$=q.endAngle}}),n.current=E,w.createElement(Lr,null,w.createElement(mq,{sectors:E,activeShape:d,inactiveShape:f,allOtherPieProps:t,showLabels:!b}))})}function gxe(e){var{sectors:t,isAnimationActive:n,activeShape:r,inactiveShape:i}=e,a=w.useRef(null),s=a.current;return n&&t&&t.length&&(!s||s!==t)?w.createElement(mxe,{props:e,previousSectorsRef:a}):w.createElement(mq,{sectors:t,activeShape:r,inactiveShape:i,allOtherPieProps:e,showLabels:!0})}function yxe(e){var{hide:t,className:n,rootTabIndex:r}=e,i=ct("recharts-pie",n);return t?null:w.createElement(Lr,{tabIndex:r,className:i},w.createElement(gxe,e))}var vxe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!od.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function bxe(e){var{id:t}=e,n=pA(e,Jbe),r=w.useMemo(()=>Jg(e.children,Qf),[e.children]),i=at(a=>wbe(a,t,r));return w.createElement(w.Fragment,null,w.createElement(cA,{fn:oxe,args:Mn(Mn({},e),{},{sectors:i})}),w.createElement(yxe,Fs({},n,{sectors:i})))}function vC(e){var t=Fi(e,vxe),{id:n}=t,r=pA(t,exe),i=Ys(r);return w.createElement(dA,{id:n,type:"pie"},a=>w.createElement(w.Fragment,null,w.createElement(Kbe,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i}),w.createElement(axe,Fs({},r,{id:a})),w.createElement(bxe,Fs({},r,{id:a})),r.children))}vC.displayName="Pie";var xxe=Te([cr],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),wxe=Te([xxe,Ws,Gs],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),hA=()=>at(wxe),Sxe=()=>at(m1e);function O$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O$(Object(n),!0).forEach(function(r){Cxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cxe(e,t,n){return(t=jxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jxe(e){var t=Txe(e,"string");return typeof t=="symbol"?t:t+""}function Txe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Axe=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a}=e;if(i===!1||t.x==null||t.y==null)return null;var s=$$($$({index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},xn(i,!1)),kj(i)),c;return w.isValidElement(i)?c=w.cloneElement(i,s):typeof i=="function"?c=i(s):c=w.createElement(aq,s),w.createElement(Lr,{className:"recharts-active-dot"},c)};function kxe(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i}=e,a=at(ic),s=Sxe();if(t==null||s==null)return null;var c=t.find(d=>s.includes(d.payload));return vn(c)?null:Axe({point:c,childIndex:Number(a),mainColor:n,dataKey:i,activeDot:r})}var Exe="Invariant failed";function Nxe(e,t){throw new Error(Exe)}var _xe=["x","y"];function bC(){return bC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bC.apply(null,arguments)}function I$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?I$(Object(n),!0).forEach(function(r){Pxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pxe(e,t,n){return(t=Dxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dxe(e){var t=Oxe(e,"string");return typeof t=="symbol"?t:t+""}function Oxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $xe(e,t){if(e==null)return{};var n,r,i=Ixe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ixe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Rxe(e,t){var{x:n,y:r}=e,i=$xe(e,_xe),a="".concat(n),s=parseInt(a,10),c="".concat(r),d=parseInt(c,10),f="".concat(t.height||i.height),p=parseInt(f,10),m="".concat(t.width||i.width),g=parseInt(m,10);return Qh(Qh(Qh(Qh(Qh({},t),i),s?{x:s}:{}),d?{y:d}:{}),{},{height:p,width:g,name:t.name,radius:t.radius})}function gq(e){return w.createElement(uq,bC({shapeType:"rectangle",propTransformer:Rxe,activeClassName:"recharts-active-bar"},e))}var Mxe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Qe(t))return t;var a=Qe(r)||vn(r);return a?t(r,i):(a||Nxe(),n)}},Lxe={},yq=qt({name:"errorBars",initialState:Lxe,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:EIe,removeErrorBar:NIe}=yq.actions,Fxe=yq.reducer,Bxe=["children"];function zxe(e,t){if(e==null)return{};var n,r,i=Uxe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Uxe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Hxe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Vxe=w.createContext(Hxe);function vq(e){var{children:t}=e,n=zxe(e,Bxe);return w.createElement(Vxe.Provider,{value:n},t)}function mA(e,t){var n,r,i=at(f=>Xs(f,e)),a=at(f=>bc(f,t)),s=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:ji.allowDataOverflow,c=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:Ti.allowDataOverflow,d=s||c;return{needClip:d,needClipX:s,needClipY:c}}function bq(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=hA(),{needClipX:a,needClipY:s,needClip:c}=mA(t,n);if(!c)return null;var{x:d,y:f,width:p,height:m}=i;return w.createElement("clipPath",{id:"clipPath-".concat(r)},w.createElement("rect",{x:a?d:d-p/2,y:s?f:f-m/2,width:a?p:p*2,height:s?m:m*2}))}var qxe=["onMouseEnter","onMouseLeave","onClick"],Yxe=["value","background","tooltipPosition"],Wxe=["id"],Gxe=["onMouseEnter","onClick","onMouseLeave"];function Zf(){return Zf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zf.apply(null,arguments)}function R$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R$(Object(n),!0).forEach(function(r){Kxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kxe(e,t,n){return(t=Xxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xxe(e){var t=Qxe(e,"string");return typeof t=="symbol"?t:t+""}function Qxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function px(e,t){if(e==null)return{};var n,r,i=Zxe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Zxe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Jxe=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:xp(n,t),payload:e}]};function e2e(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:a,hide:s,unit:c}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:xp(a,t),hide:s,type:e.tooltipType,color:e.fill,unit:c}}}function t2e(e){var t=at(ic),{data:n,dataKey:r,background:i,allOtherBarProps:a}=e,{onMouseEnter:s,onMouseLeave:c,onClick:d}=a,f=px(a,qxe),p=oA(s,r),m=sA(c),g=lA(d,r);if(!i||n==null)return null;var v=xn(i,!1);return w.createElement(w.Fragment,null,n.map((b,C)=>{var{value:j,background:A,tooltipPosition:k}=b,E=px(b,Yxe);if(!A)return null;var P=p(b,C),$=m(b,C),F=g(b,C),O=$r($r($r($r($r({option:i,isActive:String(C)===t},E),{},{fill:"#eee"},A),v),Zg(f,b,C)),{},{onMouseEnter:P,onMouseLeave:$,onClick:F,dataKey:r,index:C,className:"recharts-bar-background-rectangle"});return w.createElement(gq,Zf({key:"background-bar-".concat(C)},O))}))}function xq(e){var{data:t,props:n,showLabels:r}=e,i=Ys(n),{id:a}=i,s=px(i,Wxe),{shape:c,dataKey:d,activeBar:f}=n,p=at(ic),m=at(HV),{onMouseEnter:g,onClick:v,onMouseLeave:b}=n,C=px(n,Gxe),j=oA(g,d),A=sA(b),k=lA(v,d);return t?w.createElement(w.Fragment,null,t.map((E,P)=>{var $=f&&String(P)===p&&(m==null||d===m),F=$?f:c,O=$r($r($r({},s),E),{},{isActive:$,option:F,index:P,dataKey:d});return w.createElement(Lr,Zf({className:"recharts-bar-rectangle"},Zg(C,E,P),{onMouseEnter:j(E,P),onMouseLeave:A(E,P),onClick:k(E,P),key:"rectangle-".concat(E?.x,"-").concat(E?.y,"-").concat(E?.value,"-").concat(P)}),w.createElement(gq,O))}),r&&Gl.renderCallByParent(n,t)):null}function n2e(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:a,animationBegin:s,animationDuration:c,animationEasing:d,onAnimationEnd:f,onAnimationStart:p}=t,m=n.current,g=uA(t,"recharts-bar-"),[v,b]=w.useState(!1),C=w.useCallback(()=>{typeof f=="function"&&f(),b(!1)},[f]),j=w.useCallback(()=>{typeof p=="function"&&p(),b(!0)},[p]);return w.createElement(fA,{begin:s,duration:c,isActive:a,easing:d,onAnimationEnd:C,onAnimationStart:j,key:g},A=>{var k=A===1?r:r?.map((E,P)=>{var $=m&&m[P];if($)return $r($r({},E),{},{x:Oa($.x,E.x,A),y:Oa($.y,E.y,A),width:Oa($.width,E.width,A),height:Oa($.height,E.height,A)});if(i==="horizontal"){var F=Oa(0,E.height,A);return $r($r({},E),{},{y:E.y+E.height-F,height:F})}var O=Oa(0,E.width,A);return $r($r({},E),{},{width:O})});return A>0&&(n.current=k??null),k==null?null:w.createElement(Lr,null,w.createElement(xq,{props:t,data:k,showLabels:!v}))})}function r2e(e){var{data:t,isAnimationActive:n}=e,r=w.useRef(null);return n&&t&&t.length&&(r.current==null||r.current!==t)?w.createElement(n2e,{previousRectanglesRef:r,props:e}):w.createElement(xq,{props:e,data:t,showLabels:!0})}var wq=0,i2e=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:un(e,t)}};class a2e extends w.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:s,needClip:c,background:d,id:f}=this.props;if(t)return null;var p=ct("recharts-bar",i),m=f;return w.createElement(Lr,{className:p,id:f},c&&w.createElement("defs",null,w.createElement(bq,{clipPathId:m,xAxisId:a,yAxisId:s})),w.createElement(Lr,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(m,")"):void 0},w.createElement(t2e,{data:n,dataKey:r,background:d,allOtherBarProps:this.props}),w.createElement(r2e,this.props)),this.props.children)}}var o2e={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!od.isSsr,legendType:"rect",minPointSize:wq,xAxisId:0,yAxisId:0};function s2e(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:s,animationBegin:c,animationDuration:d,animationEasing:f,isAnimationActive:p}=e,{needClip:m}=mA(t,n),g=b2(),v=fi(),b=Jg(e.children,Qf),C=at(k=>$2e(k,t,n,v,e.id,b));if(g!=="vertical"&&g!=="horizontal")return null;var j,A=C?.[0];return A==null||A.height==null||A.width==null?j=0:j=g==="vertical"?A.height/2:A.width/2,w.createElement(vq,{xAxisId:t,yAxisId:n,data:C,dataPointFormatter:i2e,errorBarOffset:j},w.createElement(a2e,Zf({},e,{layout:g,needClip:m,data:C,xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:s,animationBegin:c,animationDuration:d,animationEasing:f,isAnimationActive:p})))}function l2e(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:s,yAxis:c,xAxisTicks:d,yAxisTicks:f,stackedData:p,displayedData:m,offset:g,cells:v}=e,b=t==="horizontal"?c:s,C=p?b.scale.domain():null,j=Vfe({numericAxis:b});return m.map((A,k)=>{var E,P,$,F,O,_;p?E=Lfe(p[k],C):(E=un(A,n),Array.isArray(E)||(E=[j,E]));var D=Mxe(r,wq)(E[1],k);if(t==="horizontal"){var L,[R,M]=[c.scale(E[0]),c.scale(E[1])];P=bD({axis:s,ticks:d,bandSize:a,offset:i.offset,entry:A,index:k}),$=(L=M??R)!==null&&L!==void 0?L:void 0,F=i.size;var H=R-M;if(O=Mi(H)?0:H,_={x:P,y:g.top,width:F,height:g.height},Math.abs(D)>0&&Math.abs(O)<Math.abs(D)){var W=br(O||D)*(Math.abs(D)-Math.abs(O));$-=W,O+=W}}else{var[fe,q]=[s.scale(E[0]),s.scale(E[1])];if(P=fe,$=bD({axis:c,ticks:f,bandSize:a,offset:i.offset,entry:A,index:k}),F=q-fe,O=i.size,_={x:g.left,y:$,width:g.width,height:O},Math.abs(D)>0&&Math.abs(F)<Math.abs(D)){var te=br(F||D)*(Math.abs(D)-Math.abs(F));F+=te}}if(P==null||$==null||F==null||O==null)return null;var K=$r($r({},A),{},{x:P,y:$,width:F,height:O,value:p?E:E[1],payload:A,background:_,tooltipPosition:{x:P+F/2,y:$+O/2}},v&&v[k]&&v[k].props);return K}).filter(Boolean)}function pu(e){var t=Fi(e,o2e),n=fi();return w.createElement(dA,{id:t.id,type:"bar"},r=>w.createElement(w.Fragment,null,w.createElement(fq,{legendPayload:Jxe(t)}),w.createElement(cA,{fn:e2e,args:t}),w.createElement(hq,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:Hfe(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),w.createElement(s2e,Zf({},t,{id:r}))))}pu.displayName="Bar";function M$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function s1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?M$(Object(n),!0).forEach(function(r){c2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function c2e(e,t,n){return(t=u2e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u2e(e){var t=d2e(e,"string");return typeof t=="symbol"?t:t+""}function d2e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var f2e=(e,t)=>t,p2e=(e,t,n)=>n,h2e=(e,t,n,r)=>r,m2e=(e,t,n,r,i)=>i,d0=Te([P2,m2e],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),g2e=Te([d0],e=>e?.maxBarSize),y2e=(e,t,n,r,i,a)=>a,L$=(e,t,n)=>{var r=n??e;if(!vn(r))return Xr(r,t,0)},v2e=Te([Mt,P2,f2e,p2e,h2e],(e,t,n,r,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),b2e=(e,t,n,r)=>{var i=Mt(e);return i==="horizontal"?dC(e,"yAxis",n,r):dC(e,"xAxis",t,r)},x2e=(e,t,n)=>{var r=Mt(e);return r==="horizontal"?FO(e,"xAxis",t):FO(e,"yAxis",n)},w2e=(e,t,n)=>{var r={},i=e.filter(_2),a=e.filter(f=>f.stackId==null),s=i.reduce((f,p)=>(f[p.stackId]||(f[p.stackId]=[]),f[p.stackId].push(p),f),r),c=Object.entries(s).map(f=>{var[p,m]=f,g=m.map(b=>b.dataKey),v=L$(t,n,m[0].barSize);return{stackId:p,dataKeys:g,barSize:v}}),d=a.map(f=>{var p=[f.dataKey].filter(g=>g!=null),m=L$(t,n,f.barSize);return{stackId:void 0,dataKeys:p,barSize:m}});return[...c,...d]},S2e=Te([v2e,A0e,x2e],w2e),C2e=(e,t,n,r,i)=>{var a,s,c=d0(e,t,n,r,i);if(c!=null){var d=Mt(e),f=VH(e),{maxBarSize:p}=c,m=vn(p)?f:p,g,v;return d==="horizontal"?(g=rc(e,"xAxis",t,r),v=nc(e,"xAxis",t,r)):(g=rc(e,"yAxis",n,r),v=nc(e,"yAxis",n,r)),(a=(s=Jm(g,v,!0))!==null&&s!==void 0?s:m)!==null&&a!==void 0?a:0}},Sq=(e,t,n,r)=>{var i=Mt(e),a,s;return i==="horizontal"?(a=rc(e,"xAxis",t,r),s=nc(e,"xAxis",t,r)):(a=rc(e,"yAxis",n,r),s=nc(e,"yAxis",n,r)),Jm(a,s)};function j2e(e,t,n,r,i){var a=r.length;if(!(a<1)){var s=Xr(e,n,0,!0),c,d=[];if(Li(r[0].barSize)){var f=!1,p=n/a,m=r.reduce((A,k)=>A+(k.barSize||0),0);m+=(a-1)*s,m>=n&&(m-=(a-1)*s,s=0),m>=n&&p>0&&(f=!0,p*=.9,m=a*p);var g=(n-m)/2>>0,v={offset:g-s,size:0};c=r.reduce((A,k)=>{var E,P={stackId:k.stackId,dataKeys:k.dataKeys,position:{offset:v.offset+v.size+s,size:f?p:(E=k.barSize)!==null&&E!==void 0?E:0}},$=[...A,P];return v=$[$.length-1].position,$},d)}else{var b=Xr(t,n,0,!0);n-2*b-(a-1)*s<=0&&(s=0);var C=(n-2*b-(a-1)*s)/a;C>1&&(C>>=0);var j=Li(i)?Math.min(C,i):C;c=r.reduce((A,k,E)=>[...A,{stackId:k.stackId,dataKeys:k.dataKeys,position:{offset:b+(C+s)*E+(C-j)/2,size:j}}],d)}return c}}var T2e=(e,t,n,r,i,a,s)=>{var c=vn(s)?t:s,d=j2e(n,r,i!==a?i:a,e,c);return i!==a&&d!=null&&(d=d.map(f=>s1(s1({},f),{},{position:s1(s1({},f.position),{},{offset:f.position.offset-i/2})}))),d},A2e=Te([S2e,VH,T0e,qH,C2e,Sq,g2e],T2e),k2e=(e,t,n,r)=>rc(e,"xAxis",t,r),E2e=(e,t,n,r)=>rc(e,"yAxis",n,r),N2e=(e,t,n,r)=>nc(e,"xAxis",t,r),_2e=(e,t,n,r)=>nc(e,"yAxis",n,r),P2e=Te([A2e,d0],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),D2e=(e,t)=>{var n=kT(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var i=e[r];if(i){var{stackedData:a}=i;if(a)return a.find(s=>s.key===n)}}}},O2e=Te([b2e,d0],D2e),$2e=Te([cr,k2e,E2e,N2e,_2e,P2e,Mt,A2,Sq,O2e,d0,y2e],(e,t,n,r,i,a,s,c,d,f,p,m)=>{var{chartData:g,dataStartIndex:v,dataEndIndex:b}=c;if(!(p==null||a==null||s!=="horizontal"&&s!=="vertical"||t==null||n==null||r==null||i==null||d==null)){var{data:C}=p,j;if(C!=null&&C.length>0?j=C:j=g?.slice(v,b+1),j!=null)return l2e({layout:s,barSettings:p,pos:a,bandSize:d,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,stackedData:f,displayedData:j,offset:e,cells:m})}}),Cq=e=>{var{chartData:t}=e,n=Pn(),r=fi();return w.useEffect(()=>r?()=>{}:(n(KO(t)),()=>{n(KO(void 0))}),[t,n,r]),null},F$={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},jq=qt({name:"brush",initialState:F$,reducers:{setBrushSettings(e,t){return t.payload==null?F$:t.payload}}}),{setBrushSettings:_Ie}=jq.actions,I2e=jq.reducer;function R2e(e,t,n){return(t=M2e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M2e(e){var t=L2e(e,"string");return typeof t=="symbol"?t:t+""}function L2e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class gA{static create(t){return new gA(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}R2e(gA,"EPS",1e-4);function F2e(e){return(e%180+180)%180}var B2e=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=F2e(i),s=a*Math.PI/180,c=Math.atan(r/n),d=s>c&&s<Math.PI-c?r/Math.sin(s):n/Math.cos(s);return Math.abs(d)},z2e={dots:[],areas:[],lines:[]},Tq=qt({name:"referenceElements",initialState:z2e,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Cs(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Cs(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Cs(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:PIe,removeDot:DIe,addArea:OIe,removeArea:$Ie,addLine:IIe,removeLine:RIe}=Tq.actions,U2e=Tq.reducer,H2e=w.createContext(void 0),V2e=e=>{var{children:t}=e,[n]=w.useState("".concat(Zm("recharts"),"-clip")),r=hA();if(r==null)return null;var{x:i,y:a,width:s,height:c}=r;return w.createElement(H2e.Provider,{value:n},w.createElement("defs",null,w.createElement("clipPath",{id:n},w.createElement("rect",{x:i,y:a,height:c,width:s}))),t)};function dS(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function Aq(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function q2e(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return B2e(r,n)}function Y2e(e,t,n){var r=n==="width",{x:i,y:a,width:s,height:c}=e;return t===1?{start:r?i:a,end:r?i+s:a+c}:{start:r?i+s:a+c,end:r?i:a}}function hx(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function W2e(e,t){return Aq(e,t+1)}function G2e(e,t,n,r,i){for(var a=(r||[]).slice(),{start:s,end:c}=t,d=0,f=1,p=s,m=function(){var b=r?.[d];if(b===void 0)return{v:Aq(r,f)};var C=d,j,A=()=>(j===void 0&&(j=n(b,C)),j),k=b.coordinate,E=d===0||hx(e,k,A,p,c);E||(d=0,p=s,f+=1),E&&(p=k+e*(A()/2+i),d+=f)},g;f<=a.length;)if(g=m(),g)return g.v;return[]}function B$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Or(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?B$(Object(n),!0).forEach(function(r){K2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function K2e(e,t,n){return(t=X2e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X2e(e){var t=Q2e(e,"string");return typeof t=="symbol"?t:t+""}function Q2e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z2e(e,t,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:c}=t,{end:d}=t,f=function(g){var v=a[g],b,C=()=>(b===void 0&&(b=n(v,g)),b);if(g===s-1){var j=e*(v.coordinate+e*C()/2-d);a[g]=v=Or(Or({},v),{},{tickCoord:j>0?v.coordinate-j*e:v.coordinate})}else a[g]=v=Or(Or({},v),{},{tickCoord:v.coordinate});var A=hx(e,v.tickCoord,C,c,d);A&&(d=v.tickCoord-e*(C()/2+i),a[g]=Or(Or({},v),{},{isShow:!0}))},p=s-1;p>=0;p--)f(p);return a}function J2e(e,t,n,r,i,a){var s=(r||[]).slice(),c=s.length,{start:d,end:f}=t;if(a){var p=r[c-1],m=n(p,c-1),g=e*(p.coordinate+e*m/2-f);s[c-1]=p=Or(Or({},p),{},{tickCoord:g>0?p.coordinate-g*e:p.coordinate});var v=hx(e,p.tickCoord,()=>m,d,f);v&&(f=p.tickCoord-e*(m/2+i),s[c-1]=Or(Or({},p),{},{isShow:!0}))}for(var b=a?c-1:c,C=function(k){var E=s[k],P,$=()=>(P===void 0&&(P=n(E,k)),P);if(k===0){var F=e*(E.coordinate-e*$()/2-d);s[k]=E=Or(Or({},E),{},{tickCoord:F<0?E.coordinate-F*e:E.coordinate})}else s[k]=E=Or(Or({},E),{},{tickCoord:E.coordinate});var O=hx(e,E.tickCoord,$,d,f);O&&(d=E.tickCoord+e*($()/2+i),s[k]=Or(Or({},E),{},{isShow:!0}))},j=0;j<b;j++)C(j);return s}function yA(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:c,interval:d,tickFormatter:f,unit:p,angle:m}=e;if(!i||!i.length||!r)return[];if(Qe(d)||od.isSsr){var g;return(g=W2e(i,Qe(d)?d:0))!==null&&g!==void 0?g:[]}var v=[],b=c==="top"||c==="bottom"?"width":"height",C=p&&b==="width"?Mm(p,{fontSize:t,letterSpacing:n}):{width:0,height:0},j=(E,P)=>{var $=typeof f=="function"?f(E.value,P):E.value;return b==="width"?q2e(Mm($,{fontSize:t,letterSpacing:n}),C,m):Mm($,{fontSize:t,letterSpacing:n})[b]},A=i.length>=2?br(i[1].coordinate-i[0].coordinate):1,k=Y2e(a,A,b);return d==="equidistantPreserveStart"?G2e(A,k,j,i,s):(d==="preserveStart"||d==="preserveStartEnd"?v=J2e(A,k,j,i,s,d==="preserveStartEnd"):v=Z2e(A,k,j,i,s),v.filter(E=>E.isShow))}var ewe=["viewBox"],twe=["viewBox"];function uf(){return uf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uf.apply(null,arguments)}function z$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z$(Object(n),!0).forEach(function(r){vA(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function U$(e,t){if(e==null)return{};var n,r,i=nwe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function nwe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function vA(e,t,n){return(t=rwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rwe(e){var t=iwe(e,"string");return typeof t=="symbol"?t:t+""}function iwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class xc extends w.Component{constructor(t){super(t),this.tickRefs=w.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,n){var{viewBox:r}=t,i=U$(t,ewe),a=this.props,{viewBox:s}=a,c=U$(a,twe);return!dS(r,s)||!dS(i,c)||!dS(n,this.state)}getTickLineCoord(t){var{x:n,y:r,width:i,height:a,orientation:s,tickSize:c,mirror:d,tickMargin:f}=this.props,p,m,g,v,b,C,j=d?-1:1,A=t.tickSize||c,k=Qe(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":p=m=t.coordinate,v=r+ +!d*a,g=v-j*A,C=g-j*f,b=k;break;case"left":g=v=t.coordinate,m=n+ +!d*i,p=m-j*A,b=p-j*f,C=k;break;case"right":g=v=t.coordinate,m=n+ +d*i,p=m+j*A,b=p+j*f,C=k;break;default:p=m=t.coordinate,v=r+ +d*a,g=v+j*A,C=g+j*f,b=k;break}return{line:{x1:p,y1:g,x2:m,y2:v},tick:{x:b,y:C}}}getTickTextAnchor(){var{orientation:t,mirror:n}=this.props,r;switch(t){case"left":r=n?"start":"end";break;case"right":r=n?"end":"start";break;default:r="middle";break}return r}getTickVerticalAnchor(){var{orientation:t,mirror:n}=this.props;switch(t){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}renderAxisLine(){var{x:t,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:c}=this.props,d=lr(lr(lr({},xn(this.props,!1)),xn(c,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var f=+(a==="top"&&!s||a==="bottom"&&s);d=lr(lr({},d),{},{x1:t,y1:n+f*i,x2:t+r,y2:n+f*i})}else{var p=+(a==="left"&&!s||a==="right"&&s);d=lr(lr({},d),{},{x1:t+p*r,y1:n,x2:t+p*r,y2:n+i})}return w.createElement("line",uf({},d,{className:ct("recharts-cartesian-axis-line",tc(c,"className"))}))}static renderTickItem(t,n,r){var i,a=ct(n.className,"recharts-cartesian-axis-tick-value");if(w.isValidElement(t))i=w.cloneElement(t,lr(lr({},n),{},{className:a}));else if(typeof t=="function")i=t(lr(lr({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=ct(s,t.className)),i=w.createElement(M2,uf({},n,{className:s}),r)}return i}renderTicks(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:a,tick:s,tickFormatter:c,unit:d,padding:f}=this.props,p=yA(lr(lr({},this.props),{},{ticks:r}),t,n),m=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=Ys(this.props),b=xn(s,!1),C=lr(lr({},v),{},{fill:"none"},xn(i,!1)),j=p.map((A,k)=>{var{line:E,tick:P}=this.getTickLineCoord(A),$=lr(lr(lr(lr({textAnchor:m,verticalAnchor:g},v),{},{stroke:"none",fill:a},b),P),{},{index:k,payload:A,visibleTicksCount:p.length,tickFormatter:c,padding:f});return w.createElement(Lr,uf({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},Zg(this.props,A,k)),i&&w.createElement("line",uf({},C,E,{className:ct("recharts-cartesian-axis-tick-line",tc(i,"className"))})),s&&xc.renderTickItem(s,$,"".concat(typeof c=="function"?c(A.value,k):A.value).concat(d||"")))});return j.length>0?w.createElement("g",{className:"recharts-cartesian-axis-ticks"},j):null}render(){var{axisLine:t,width:n,height:r,className:i,hide:a}=this.props;if(a)return null;var{ticks:s}=this.props;return n!=null&&n<=0||r!=null&&r<=0?null:w.createElement(Lr,{className:ct("recharts-cartesian-axis",i),ref:c=>{if(c){var d=c.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(d);var f=d[0];if(f){var p=window.getComputedStyle(f).fontSize,m=window.getComputedStyle(f).letterSpacing;(p!==this.state.fontSize||m!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(f).fontSize,letterSpacing:window.getComputedStyle(f).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,s),Ni.renderCallByParent(this.props))}}vA(xc,"displayName","CartesianAxis");vA(xc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var awe=["x1","y1","x2","y2","key"],owe=["offset"],swe=["xAxisId","yAxisId"],lwe=["xAxisId","yAxisId"];function H$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ir(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?H$(Object(n),!0).forEach(function(r){cwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cwe(e,t,n){return(t=uwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uwe(e){var t=dwe(e,"string");return typeof t=="symbol"?t:t+""}function dwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ku(){return ku=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ku.apply(null,arguments)}function mx(e,t){if(e==null)return{};var n,r,i=fwe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function fwe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var pwe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:s,ry:c}=e;return w.createElement("rect",{x:r,y:i,ry:c,width:a,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function kq(e,t){var n;if(w.isValidElement(e))n=w.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:r,y1:i,x2:a,y2:s,key:c}=t,d=mx(t,awe),f=Ys(d),{offset:p}=f,m=mx(f,owe);n=w.createElement("line",ku({},m,{x1:r,y1:i,x2:a,y2:s,fill:"none",key:c}))}return n}function hwe(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,c=mx(e,swe),d=i.map((f,p)=>{var m=Ir(Ir({},c),{},{x1:t,y1:f,x2:t+n,y2:f,key:"line-".concat(p),index:p});return kq(r,m)});return w.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function mwe(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,c=mx(e,lwe),d=i.map((f,p)=>{var m=Ir(Ir({},c),{},{x1:f,y1:t,x2:f,y2:t+n,key:"line-".concat(p),index:p});return kq(r,m)});return w.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function gwe(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:s,horizontalPoints:c,horizontal:d=!0}=e;if(!d||!t||!t.length)return null;var f=c.map(m=>Math.round(m+i-i)).sort((m,g)=>m-g);i!==f[0]&&f.unshift(0);var p=f.map((m,g)=>{var v=!f[g+1],b=v?i+s-m:f[g+1]-m;if(b<=0)return null;var C=g%t.length;return w.createElement("rect",{key:"react-".concat(g),y:m,x:r,height:b,width:a,stroke:"none",fill:t[C],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function ywe(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:s,height:c,verticalPoints:d}=e;if(!t||!n||!n.length)return null;var f=d.map(m=>Math.round(m+i-i)).sort((m,g)=>m-g);i!==f[0]&&f.unshift(0);var p=f.map((m,g)=>{var v=!f[g+1],b=v?i+s-m:f[g+1]-m;if(b<=0)return null;var C=g%n.length;return w.createElement("rect",{key:"react-".concat(g),x:m,y:a,width:b,height:c,stroke:"none",fill:n[C],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var vwe=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return EU(yA(Ir(Ir(Ir({},xc.defaultProps),n),{},{ticks:NU(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},bwe=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return EU(yA(Ir(Ir(Ir({},xc.defaultProps),n),{},{ticks:NU(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},xwe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function go(e){var t=Vj(),n=qj(),r=$U(),i=Ir(Ir({},Fi(e,xwe)),{},{x:Qe(e.x)?e.x:r.left,y:Qe(e.y)?e.y:r.top,width:Qe(e.width)?e.width:r.width,height:Qe(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:s,x:c,y:d,width:f,height:p,syncWithTicks:m,horizontalValues:g,verticalValues:v}=i,b=fi(),C=at(D=>BO(D,"xAxis",a,b)),j=at(D=>BO(D,"yAxis",s,b));if(!Qe(f)||f<=0||!Qe(p)||p<=0||!Qe(c)||c!==+c||!Qe(d)||d!==+d)return null;var A=i.verticalCoordinatesGenerator||vwe,k=i.horizontalCoordinatesGenerator||bwe,{horizontalPoints:E,verticalPoints:P}=i;if((!E||!E.length)&&typeof k=="function"){var $=g&&g.length,F=k({yAxis:j?Ir(Ir({},j),{},{ticks:$?g:j.ticks}):void 0,width:t,height:n,offset:r},$?!0:m);Rm(Array.isArray(F),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof F,"]")),Array.isArray(F)&&(E=F)}if((!P||!P.length)&&typeof A=="function"){var O=v&&v.length,_=A({xAxis:C?Ir(Ir({},C),{},{ticks:O?v:C.ticks}):void 0,width:t,height:n,offset:r},O?!0:m);Rm(Array.isArray(_),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof _,"]")),Array.isArray(_)&&(P=_)}return w.createElement("g",{className:"recharts-cartesian-grid"},w.createElement(pwe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),w.createElement(gwe,ku({},i,{horizontalPoints:E})),w.createElement(ywe,ku({},i,{verticalPoints:P})),w.createElement(hwe,ku({},i,{offset:r,horizontalPoints:E,xAxis:C,yAxis:j})),w.createElement(mwe,ku({},i,{offset:r,verticalPoints:P,xAxis:C,yAxis:j})))}go.displayName="CartesianGrid";var Eq=(e,t,n,r)=>rc(e,"xAxis",t,r),Nq=(e,t,n,r)=>nc(e,"xAxis",t,r),_q=(e,t,n,r)=>rc(e,"yAxis",n,r),Pq=(e,t,n,r)=>nc(e,"yAxis",n,r),wwe=Te([Mt,Eq,_q,Nq,Pq],(e,t,n,r,i)=>mc(e,"xAxis")?Jm(t,r,!1):Jm(n,i,!1)),Swe=(e,t,n,r,i)=>i;function Cwe(e){return e.type==="line"}var jwe=Te([P2,Swe],(e,t)=>e.filter(Cwe).find(n=>n.id===t)),Twe=Te([Mt,Eq,_q,Nq,Pq,jwe,wwe,A2],(e,t,n,r,i,a,s,c)=>{var{chartData:d,dataStartIndex:f,dataEndIndex:p}=c;if(!(a==null||t==null||n==null||r==null||i==null||r.length===0||i.length===0||s==null)){var{dataKey:m,data:g}=a,v;if(g!=null&&g.length>0?v=g:v=d?.slice(f,p+1),v!=null)return Ywe({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:m,bandSize:s,displayedData:v})}}),Awe=["id"],kwe=["type","layout","connectNulls","needClip"],Ewe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function V$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $a(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V$(Object(n),!0).forEach(function(r){Nwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nwe(e,t,n){return(t=_we(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _we(e){var t=Pwe(e,"string");return typeof t=="symbol"?t:t+""}function Pwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bA(e,t){if(e==null)return{};var n,r,i=Dwe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Dwe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function td(){return td=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},td.apply(null,arguments)}var Owe=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:xp(n,t),payload:e}]};function $we(e){var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:c,unit:d}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:xp(s,t),hide:c,type:e.tooltipType,color:e.stroke,unit:d}}}var Dq=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Iwe(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}var Rwe=(e,t,n)=>{var r=n.reduce((m,g)=>m+g);if(!r)return Dq(t,e);for(var i=Math.floor(e/r),a=e%r,s=t-e,c=[],d=0,f=0;d<n.length;f+=n[d],++d)if(f+n[d]>a){c=[...n.slice(0,d),a-f];break}var p=c.length%2===0?[0,s]:[s];return[...Iwe(n,i),...c,...p].map(m=>"".concat(m,"px")).join(", ")};function Mwe(e,t){var n;if(w.isValidElement(e))n=w.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var r=ct("recharts-line-dot",typeof e!="boolean"?e.className:"");n=w.createElement(aq,td({},t,{className:r}))}return n}function Lwe(e,t){return e==null?!1:t?!0:e.length===1}function Fwe(e){var{clipPathId:t,points:n,props:r}=e,{dot:i,dataKey:a,needClip:s}=r;if(!Lwe(n,i))return null;var{id:c}=r,d=bA(r,Awe),f=Kz(i),p=Ys(d),m=xn(i,!0),g=n.map((b,C)=>{var j=$a($a($a({key:"dot-".concat(C),r:3},p),m),{},{index:C,cx:b.x,cy:b.y,dataKey:a,value:b.value,payload:b.payload,points:n});return Mwe(i,j)}),v={clipPath:s?"url(#clipPath-".concat(f?"":"dots-").concat(t,")"):void 0};return w.createElement(Lr,td({className:"recharts-line-dots",key:"dots"},v),g)}function xC(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:i,props:a,showLabels:s}=e,{type:c,layout:d,connectNulls:f,needClip:p}=a,m=bA(a,kwe),g=$a($a({},xn(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:p?"url(#clipPath-".concat(t,")"):void 0,points:r,type:c,layout:d,connectNulls:f,strokeDasharray:i??a.strokeDasharray});return w.createElement(w.Fragment,null,r?.length>1&&w.createElement(Wj,td({},g,{pathRef:n})),w.createElement(Fwe,{points:r,clipPathId:t,props:a}),s&&Gl.renderCallByParent(a,r))}function Bwe(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function zwe(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=e,{points:s,strokeDasharray:c,isAnimationActive:d,animationBegin:f,animationDuration:p,animationEasing:m,animateNewValues:g,width:v,height:b,onAnimationEnd:C,onAnimationStart:j}=n,A=i.current,k=uA(n,"recharts-line-"),[E,P]=w.useState(!1),$=w.useCallback(()=>{typeof C=="function"&&C(),P(!1)},[C]),F=w.useCallback(()=>{typeof j=="function"&&j(),P(!0)},[j]),O=Bwe(r.current),_=a.current;return w.createElement(fA,{begin:f,duration:p,isActive:d,easing:m,onAnimationEnd:$,onAnimationStart:F,key:k},D=>{var L=Oa(_,O+_,D),R=Math.min(L,O),M;if(c){var H="".concat(c).split(/[,\s]+/gim).map(q=>parseFloat(q));M=Rwe(R,O,H)}else M=Dq(O,R);if(A){var W=A.length/s.length,fe=D===1?s:s.map((q,te)=>{var K=Math.floor(te*W);if(A[K]){var z=A[K];return $a($a({},q),{},{x:Oa(z.x,q.x,D),y:Oa(z.y,q.y,D)})}return g?$a($a({},q),{},{x:Oa(v*2,q.x,D),y:Oa(b/2,q.y,D)}):$a($a({},q),{},{x:q.x,y:q.y})});return i.current=fe,w.createElement(xC,{props:n,points:fe,clipPathId:t,pathRef:r,showLabels:!E,strokeDasharray:M})}return D>0&&O>0&&(i.current=s,a.current=R),w.createElement(xC,{props:n,points:s,clipPathId:t,pathRef:r,showLabels:!E,strokeDasharray:M})})}function Uwe(e){var{clipPathId:t,props:n}=e,{points:r,isAnimationActive:i}=n,a=w.useRef(null),s=w.useRef(0),c=w.useRef(null),d=a.current;return i&&r&&r.length&&d!==r?w.createElement(zwe,{props:n,clipPathId:t,previousPointsRef:a,longestAnimatedLengthRef:s,pathRef:c}):w.createElement(xC,{props:n,points:r,clipPathId:t,pathRef:c,showLabels:!0})}var Hwe=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:un(e.payload,t)});class Vwe extends w.Component{render(){var t,{hide:n,dot:r,points:i,className:a,xAxisId:s,yAxisId:c,top:d,left:f,width:p,height:m,id:g,needClip:v}=this.props;if(n)return null;var b=ct("recharts-line",a),C=g,{r:j=3,strokeWidth:A=2}=(t=xn(r,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},k=Kz(r),E=j*2+A;return w.createElement(w.Fragment,null,w.createElement(Lr,{className:b},v&&w.createElement("defs",null,w.createElement(bq,{clipPathId:C,xAxisId:s,yAxisId:c}),!k&&w.createElement("clipPath",{id:"clipPath-dots-".concat(C)},w.createElement("rect",{x:f-E/2,y:d-E/2,width:p+E,height:m+E}))),w.createElement(Uwe,{props:this.props,clipPathId:C}),w.createElement(vq,{xAxisId:s,yAxisId:c,data:i,dataPointFormatter:Hwe,errorBarOffset:0},this.props.children)),w.createElement(kxe,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var Oq={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!od.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function qwe(e){var t=Fi(e,Oq),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:c,dot:d,hide:f,isAnimationActive:p,label:m,legendType:g,xAxisId:v,yAxisId:b,id:C}=t,j=bA(t,Ewe),{needClip:A}=mA(v,b),k=hA(),E=b2(),P=fi(),$=at(L=>Twe(L,v,b,P,C));if(E!=="horizontal"&&E!=="vertical"||$==null||k==null)return null;var{height:F,width:O,x:_,y:D}=k;return w.createElement(Vwe,td({},j,{id:C,connectNulls:c,dot:d,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,isAnimationActive:p,hide:f,label:m,legendType:g,xAxisId:v,yAxisId:b,points:$,layout:E,height:F,width:O,left:_,top:D,needClip:A}))}function Ywe(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:c,displayedData:d}=e;return d.map((f,p)=>{var m=un(f,s);if(t==="horizontal"){var g=vD({axis:n,ticks:i,bandSize:c,entry:f,index:p}),v=vn(m)?null:r.scale(m);return{x:g,y:v,value:m,payload:f}}var b=vn(m)?null:n.scale(m),C=vD({axis:r,ticks:a,bandSize:c,entry:f,index:p});return b==null||C==null?null:{x:b,y:C,value:m,payload:f}}).filter(Boolean)}function qv(e){var t=Fi(e,Oq),n=fi();return w.createElement(dA,{id:t.id,type:"line"},r=>w.createElement(w.Fragment,null,w.createElement(fq,{legendPayload:Owe(t)}),w.createElement(cA,{fn:$we,args:t}),w.createElement(hq,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),w.createElement(qwe,td({},t,{id:r}))))}qv.displayName="Line";function q$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Y$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?q$(Object(n),!0).forEach(function(r){Wwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wwe(e,t,n){return(t=Gwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gwe(e){var t=Kwe(e,"string");return typeof t=="symbol"?t:t+""}function Kwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xwe={xAxis:{},yAxis:{},zAxis:{}},$q=qt({name:"cartesianAxis",initialState:Xwe,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload;e.yAxis[n]&&(e.yAxis[n]=Y$(Y$({},e.yAxis[n]),{},{width:r}))}}}),{addXAxis:Qwe,removeXAxis:Zwe,addYAxis:Jwe,removeYAxis:e4e,addZAxis:MIe,removeZAxis:LIe,updateYAxisWidth:t4e}=$q.actions,n4e=$q.reducer,r4e=["children"],i4e=["dangerouslySetInnerHTML","ticks"];function Iq(e,t,n){return(t=a4e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a4e(e){var t=o4e(e,"string");return typeof t=="symbol"?t:t+""}function o4e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wC(){return wC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wC.apply(null,arguments)}function Rq(e,t){if(e==null)return{};var n,r,i=s4e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function s4e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function l4e(e){var t=Pn(),n=w.useMemo(()=>{var{children:a}=e,s=Rq(e,r4e);return s},[e]),r=at(a=>Xs(a,n.id)),i=n===r;return w.useEffect(()=>(t(Qwe(n)),()=>{t(Zwe(n))}),[n,t]),i?e.children:null}var c4e=e=>{var{xAxisId:t,className:n}=e,r=at(OU),i=fi(),a="xAxis",s=at(v=>kp(v,a,t,i)),c=at(v=>jV(v,a,t,i)),d=at(v=>xV(v,t)),f=at(v=>gye(v,t));if(d==null||f==null)return null;var{dangerouslySetInnerHTML:p,ticks:m}=e,g=Rq(e,i4e);return w.createElement(xc,wC({},g,{scale:s,x:f.x,y:f.y,width:d.width,height:d.height,className:ct("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:c}))},u4e=e=>{var t,n,r,i,a;return w.createElement(l4e,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(n=e.includeHidden)!==null&&n!==void 0?n:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(r=e.angle)!==null&&r!==void 0?r:0,minTickGap:(i=e.minTickGap)!==null&&i!==void 0?i:5,tick:(a=e.tick)!==null&&a!==void 0?a:!0,tickFormatter:e.tickFormatter},w.createElement(c4e,e))};class ka extends w.Component{render(){return w.createElement(u4e,this.props)}}Iq(ka,"displayName","XAxis");Iq(ka,"defaultProps",{allowDataOverflow:ji.allowDataOverflow,allowDecimals:ji.allowDecimals,allowDuplicatedCategory:ji.allowDuplicatedCategory,height:ji.height,hide:!1,mirror:ji.mirror,orientation:ji.orientation,padding:ji.padding,reversed:ji.reversed,scale:ji.scale,tickCount:ji.tickCount,type:ji.type,xAxisId:0});var d4e=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){t.forEach(p=>{if(p){var m=p.getBoundingClientRect();m.width>s&&(s=m.width)}});var c=n?n.getBoundingClientRect().width:0,d=i+a,f=s+d+c+(n?r:0);return Math.round(f)}return 0},f4e=["dangerouslySetInnerHTML","ticks"];function Mq(e,t,n){return(t=p4e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p4e(e){var t=h4e(e,"string");return typeof t=="symbol"?t:t+""}function h4e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SC(){return SC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SC.apply(null,arguments)}function m4e(e,t){if(e==null)return{};var n,r,i=g4e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function g4e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function y4e(e){var t=Pn();return w.useEffect(()=>(t(Jwe(e)),()=>{t(e4e(e))}),[e,t]),null}var v4e=e=>{var t,{yAxisId:n,className:r,width:i,label:a}=e,s=w.useRef(null),c=w.useRef(null),d=at(OU),f=fi(),p=Pn(),m="yAxis",g=at(E=>kp(E,m,n,f)),v=at(E=>wV(E,n)),b=at(E=>yye(E,n)),C=at(E=>jV(E,m,n,f));if(w.useLayoutEffect(()=>{var E;if(!(i!=="auto"||!v||tA(a)||w.isValidElement(a))){var P=s.current,$=P==null||(E=P.tickRefs)===null||E===void 0?void 0:E.current,{tickSize:F,tickMargin:O}=P.props,_=d4e({ticks:$,label:c.current,labelGapWithTick:5,tickSize:F,tickMargin:O});Math.round(v.width)!==Math.round(_)&&p(t4e({id:n,width:_}))}},[s,s==null||(t=s.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,v?.width,v,p,a,n,i]),v==null||b==null)return null;var{dangerouslySetInnerHTML:j,ticks:A}=e,k=m4e(e,f4e);return w.createElement(xc,SC({},k,{ref:s,labelRef:c,scale:g,x:b.x,y:b.y,width:v.width,height:v.height,className:ct("recharts-".concat(m," ").concat(m),r),viewBox:d,ticks:C}))},b4e=e=>{var t,n,r,i,a;return w.createElement(w.Fragment,null,w.createElement(y4e,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(n=e.includeHidden)!==null&&n!==void 0?n:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(r=e.angle)!==null&&r!==void 0?r:0,minTickGap:(i=e.minTickGap)!==null&&i!==void 0?i:5,tick:(a=e.tick)!==null&&a!==void 0?a:!0,tickFormatter:e.tickFormatter}),w.createElement(v4e,e))},x4e={allowDataOverflow:Ti.allowDataOverflow,allowDecimals:Ti.allowDecimals,allowDuplicatedCategory:Ti.allowDuplicatedCategory,hide:!1,mirror:Ti.mirror,orientation:Ti.orientation,padding:Ti.padding,reversed:Ti.reversed,scale:Ti.scale,tickCount:Ti.tickCount,type:Ti.type,width:Ti.width,yAxisId:0};class Ea extends w.Component{render(){return w.createElement(b4e,this.props)}}Mq(Ea,"displayName","YAxis");Mq(Ea,"defaultProps",x4e);var w4e=(e,t)=>t,xA=Te([w4e,Mt,QH,dr,FV,Qs,S1e,cr],k1e),wA=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},Lq=Gr("mouseClick"),Fq=Dg();Fq.startListening({actionCreator:Lq,effect:(e,t)=>{var n=e.payload,r=xA(t.getState(),wA(n));r?.activeIndex!=null&&t.dispatch(_ye({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var CC=Gr("mouseMove"),Bq=Dg();Bq.startListening({actionCreator:CC,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=qT(r,r.tooltip.settings.shared),a=xA(r,wA(n));i==="axis"&&(a?.activeIndex!=null?t.dispatch(DV({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(PV()))}});function S4e(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var W$={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},zq=qt({name:"rootProps",initialState:W$,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:W$.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),C4e=zq.reducer,{updateOptions:j4e}=zq.actions,Uq=qt({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:T4e}=Uq.actions,A4e=Uq.reducer,Hq=Gr("keyDown"),Vq=Gr("focus"),SA=Dg();SA.startListening({actionCreator:Hq,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=Number(YT(i,Np(n))),c=Qs(n);if(a==="Enter"){var d=cx(n,"axis","hover",String(i.index));t.dispatch(pC({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var f=wye(n),p=f==="left-to-right"?1:-1,m=a==="ArrowRight"?1:-1,g=s+m*p;if(!(c==null||g>=c.length||g<0)){var v=cx(n,"axis","hover",String(g));t.dispatch(pC({active:!0,activeIndex:g.toString(),activeDataKey:void 0,activeCoordinate:v}))}}}}});SA.startListening({actionCreator:Vq,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=cx(n,"axis","hover",String(a));t.dispatch(pC({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:s}))}}}});var ea=Gr("externalEvent"),qq=Dg();qq.startListening({actionCreator:ea,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),r={activeCoordinate:f1e(n),activeDataKey:HV(n),activeIndex:ic(n),activeLabel:UV(n),activeTooltipIndex:ic(n),isTooltipActive:p1e(n)};e.payload.handler(r,e.payload.reactEvent)}}});var k4e=Te([Ep],e=>e.tooltipItemPayloads),E4e=Te([k4e,c0,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(c=>c.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var s=t(a,n);return s}}}),Yq=Gr("touchMove"),Wq=Dg();Wq.startListening({actionCreator:Yq,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=qT(r,r.tooltip.settings.shared);if(i==="axis"){var a=xA(r,wA({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&t.dispatch(DV({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,c=n.touches[0],d=document.elementFromPoint(c.clientX,c.clientY);if(!d||!d.getAttribute)return;var f=d.getAttribute(PU),p=(s=d.getAttribute(DU))!==null&&s!==void 0?s:void 0,m=E4e(t.getState(),f,p);t.dispatch(_V({activeDataKey:p,activeIndex:f,activeCoordinate:m}))}}});var N4e=_5({brush:I2e,cartesianAxis:n4e,chartData:H1e,errorBars:Fxe,graphicalItems:Gbe,layout:Sfe,legend:cpe,options:L1e,polarAxis:hbe,polarOptions:A4e,referenceElements:U2e,rootProps:C4e,tooltip:Pye}),_4e=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return PL({reducer:N4e,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([Fq.middleware,Bq.middleware,SA.middleware,qq.middleware,Wq.middleware]),devTools:{serialize:{replacer:S4e},name:"recharts-".concat(n)}})};function Gq(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=fi(),a=w.useRef(null);if(i)return n;a.current==null&&(a.current=_4e(t,r));var s=Bj;return w.createElement(yL,{context:s,store:a.current},n)}function Kq(e){var{layout:t,width:n,height:r,margin:i}=e,a=Pn(),s=fi();return w.useEffect(()=>{s||(a(bfe(t)),a(xfe({width:n,height:r})),a(vfe(i)))},[a,s,t,n,r,i]),null}function Xq(e){var t=Pn();return w.useEffect(()=>{t(j4e(e))},[t,e]),null}var P4e=["children"];function D4e(e,t){if(e==null)return{};var n,r,i=O4e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function O4e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function gx(){return gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gx.apply(null,arguments)}var $4e={width:"100%",height:"100%"},I4e=w.forwardRef((e,t)=>{var n=Vj(),r=qj(),i=LU();if(!Yf(n)||!Yf(r))return null;var{children:a,otherAttributes:s,title:c,desc:d}=e,f,p;return typeof s.tabIndex=="number"?f=s.tabIndex:f=i?0:void 0,typeof s.role=="string"?p=s.role:p=i?"application":void 0,w.createElement(Ej,gx({},s,{title:c,desc:d,role:p,tabIndex:f,width:n,height:r,style:$4e,ref:t}),a)}),R4e=e=>{var{children:t}=e,n=at(v2);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return w.createElement(Ej,{width:r,height:i,x:s,y:a},t)},G$=w.forwardRef((e,t)=>{var{children:n}=e,r=D4e(e,P4e),i=fi();return i?w.createElement(R4e,null,n):w.createElement(I4e,gx({ref:t},r),n)});function M4e(){var e=Pn(),[t,n]=w.useState(null),r=at(Qfe);return w.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;Li(a)&&a!==r&&e(wfe(a))}},[t,e,r]),n}function K$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function L4e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K$(Object(n),!0).forEach(function(r){F4e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function F4e(e,t,n){return(t=B4e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B4e(e){var t=z4e(e,"string");return typeof t=="symbol"?t:t+""}function z4e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var U4e=w.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:c,onMouseDown:d,onMouseEnter:f,onMouseLeave:p,onMouseMove:m,onMouseUp:g,onTouchEnd:v,onTouchMove:b,onTouchStart:C,style:j,width:A}=e,k=Pn(),[E,P]=w.useState(null),[$,F]=w.useState(null);Y1e();var O=M4e(),_=w.useCallback(re=>{O(re),typeof t=="function"&&t(re),P(re),F(re)},[O,t,P,F]),D=w.useCallback(re=>{k(Lq(re)),k(ea({handler:a,reactEvent:re}))},[k,a]),L=w.useCallback(re=>{k(CC(re)),k(ea({handler:f,reactEvent:re}))},[k,f]),R=w.useCallback(re=>{k(PV()),k(ea({handler:p,reactEvent:re}))},[k,p]),M=w.useCallback(re=>{k(CC(re)),k(ea({handler:m,reactEvent:re}))},[k,m]),H=w.useCallback(()=>{k(Vq())},[k]),W=w.useCallback(re=>{k(Hq(re.key))},[k]),fe=w.useCallback(re=>{k(ea({handler:s,reactEvent:re}))},[k,s]),q=w.useCallback(re=>{k(ea({handler:c,reactEvent:re}))},[k,c]),te=w.useCallback(re=>{k(ea({handler:d,reactEvent:re}))},[k,d]),K=w.useCallback(re=>{k(ea({handler:g,reactEvent:re}))},[k,g]),z=w.useCallback(re=>{k(ea({handler:C,reactEvent:re}))},[k,C]),V=w.useCallback(re=>{k(Yq(re)),k(ea({handler:b,reactEvent:re}))},[k,b]),Z=w.useCallback(re=>{k(ea({handler:v,reactEvent:re}))},[k,v]);return w.createElement(KV.Provider,{value:E},w.createElement(Xz.Provider,{value:$},w.createElement("div",{className:ct("recharts-wrapper",r),style:L4e({position:"relative",cursor:"default",width:A,height:i},j),onClick:D,onContextMenu:fe,onDoubleClick:q,onFocus:H,onKeyDown:W,onMouseDown:te,onMouseEnter:L,onMouseLeave:R,onMouseMove:M,onMouseUp:K,onTouchEnd:Z,onTouchMove:V,onTouchStart:z,ref:_},n)))}),H4e=["children","className","width","height","style","compact","title","desc"];function V4e(e,t){if(e==null)return{};var n,r,i=q4e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function q4e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Qq=w.forwardRef((e,t)=>{var{children:n,className:r,width:i,height:a,style:s,compact:c,title:d,desc:f}=e,p=V4e(e,H4e),m=Ys(p);return c?w.createElement(G$,{otherAttributes:m,title:d,desc:f},n):w.createElement(U4e,{className:r,style:s,width:i,height:a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},w.createElement(G$,{otherAttributes:m,title:d,desc:f,ref:t},w.createElement(V2e,null,n)))}),Y4e=["width","height"];function jC(){return jC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jC.apply(null,arguments)}function W4e(e,t){if(e==null)return{};var n,r,i=G4e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function G4e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var K4e={top:5,right:5,bottom:5,left:5},X4e={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:K4e,reverseStackOrder:!1,syncMethod:"index"},Zq=w.forwardRef(function(t,n){var r,i=Fi(t.categoricalChartProps,X4e),{width:a,height:s}=i,c=W4e(i,Y4e);if(!Yf(a)||!Yf(s))return null;var{chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:p,tooltipPayloadSearcher:m,categoricalChartProps:g}=t,v={chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:p,tooltipPayloadSearcher:m,eventEmitter:void 0};return w.createElement(Gq,{preloadedState:{options:v},reduxStoreName:(r=g.id)!==null&&r!==void 0?r:d},w.createElement(Cq,{chartData:g.data}),w.createElement(Kq,{width:a,height:s,layout:i.layout,margin:i.margin}),w.createElement(Xq,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),w.createElement(Qq,jC({},c,{width:a,height:s,ref:n})))}),Q4e=["axis"],fS=w.forwardRef((e,t)=>w.createElement(Zq,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Q4e,tooltipPayloadSearcher:eA,categoricalChartProps:e,ref:t})),Z4e=["axis","item"],Qd=w.forwardRef((e,t)=>w.createElement(Zq,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Z4e,tooltipPayloadSearcher:eA,categoricalChartProps:e,ref:t}));function J4e(e){var t=Pn();return w.useEffect(()=>{t(T4e(e))},[t,e]),null}var e3e=["width","height","layout"];function TC(){return TC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TC.apply(null,arguments)}function t3e(e,t){if(e==null)return{};var n,r,i=n3e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function n3e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var r3e={top:5,right:5,bottom:5,left:5},i3e={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:r3e,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},a3e=w.forwardRef(function(t,n){var r,i=Fi(t.categoricalChartProps,i3e),{width:a,height:s,layout:c}=i,d=t3e(i,e3e);if(!Yf(a)||!Yf(s))return null;var{chartName:f,defaultTooltipEventType:p,validateTooltipEventTypes:m,tooltipPayloadSearcher:g}=t,v={chartName:f,defaultTooltipEventType:p,validateTooltipEventTypes:m,tooltipPayloadSearcher:g,eventEmitter:void 0};return w.createElement(Gq,{preloadedState:{options:v},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:f},w.createElement(Cq,{chartData:i.data}),w.createElement(Kq,{width:a,height:s,layout:c,margin:i.margin}),w.createElement(Xq,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),w.createElement(J4e,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),w.createElement(Qq,TC({width:a,height:s},d,{ref:n})))}),o3e=["item"],s3e={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},X$=w.forwardRef((e,t)=>{var n=Fi(e,s3e);return w.createElement(a3e,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:o3e,tooltipPayloadSearcher:eA,categoricalChartProps:n,ref:t})});const Fo=()=>{const e=wt(),t=Fn(),{doctorProfile:n,loading:r}=qe(d=>d.backup),{loading:i}=qe(d=>d.auth||{});w.useEffect(()=>{e(jf())},[e]);const a=n,s=a?.profilePhotoUrl||"https://via.placeholder.com/150?text=Dr",c=async()=>{try{await e(vf()).unwrap(),t("/login")}catch(d){Ee.error(d||"Logout failed. Please try again.")}};return o.jsx("div",{style:Zn.layout,children:o.jsxs("div",{style:Zn.sidebar,children:[o.jsx("div",{style:Zn.logoSection,children:o.jsx("img",{src:Om,alt:"Hospital Logo",style:Zn.logo})}),o.jsxs("div",{style:Zn.profileCard,children:[o.jsx("div",{style:Zn.imageWrapper,children:r?o.jsx("div",{style:Zn.skeletonImage}):o.jsx("img",{src:s,alt:"Doctor Profile",style:Zn.profileImage,onError:d=>{d.target.src="https://via.placeholder.com/150?text=Dr"}})}),r?o.jsxs("div",{style:{textAlign:"center"},children:[o.jsx("div",{style:Zn.skeletonText}),o.jsx("div",{style:{...Zn.skeletonText,width:"80%",margin:"8px auto"}}),o.jsx("div",{style:{...Zn.skeletonText,width:"60%",margin:"8px auto"}})]}):a?o.jsxs(o.Fragment,{children:[o.jsxs("h3",{style:Zn.profileName,children:["Dr. ",a.name||"Name"]}),o.jsx("p",{style:Zn.profileDetail,children:a.email||"No email"}),o.jsxs("p",{style:Zn.profileSub,children:[a.degree||"MBBS","  ",a.specialization||"General"]}),o.jsx("p",{style:{fontSize:"0.8rem",opacity:.7,marginTop:"8px"},children:a.subscription?.status==="active"?`Active till ${new Date(a.subscription.endDate).toLocaleDateString()}`:"No active plan"})]}):o.jsx("p",{style:{opacity:.8},children:"No profile data"})]}),o.jsxs("div",{style:Zn.bottomMenu,children:[o.jsxs("button",{style:Zn.navButton,onClick:()=>t("/doctor-profile"),children:[o.jsx(Kg,{style:Zn.icon})," Profile"]}),o.jsxs("button",{style:{...Zn.navButton,...Zn.logout},onClick:c,disabled:i,children:[o.jsx(iue,{style:Zn.icon})," ",i?"Logging out...":"Logout"]})]})]})})},Zn={layout:{display:"flex",minHeight:"100vh"},sidebar:{width:"210px",background:"linear-gradient(135deg, #186476, #3fa3b9)",padding:"1.5rem",color:"white",boxShadow:"2px 0 20px rgba(0, 0, 0, 0.15)",display:"flex",flexDirection:"column",justifyContent:"space-between",position:"fixed",top:0,left:0,bottom:0,zIndex:1e3},logoSection:{display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#ffffff",padding:"0.75rem",borderRadius:"8px",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.1)",marginBottom:"1.5rem"},logo:{width:"150px",height:"50px",objectFit:"contain"},profileCard:{textAlign:"center",marginBottom:"1.5rem"},imageWrapper:{width:"100px",height:"100px",borderRadius:"50%",border:"4px solid #ffffff",padding:"3px",background:"#bbdefb",margin:"0 auto 0.75rem auto",boxShadow:"0 6px 15px rgba(0, 0, 0, 0.25)",overflow:"hidden"},profileImage:{width:"100%",height:"100%",borderRadius:"50%",objectFit:"cover",backgroundColor:"#fff"},skeletonImage:{width:"100%",height:"100%",borderRadius:"50%",background:"rgba(255,255,255,0.2)",animation:"pulse 1.5s ease-in-out infinite"},skeletonText:{height:"12px",background:"rgba(255,255,255,0.2)",borderRadius:"4px",margin:"8px auto",width:"70%",animation:"pulse 1.5s ease-in-out infinite"},profileName:{fontSize:"1.25rem",fontWeight:"600",marginBottom:"0.5rem"},profileDetail:{fontSize:"0.9rem",opacity:.95,marginBottom:"0.25rem"},profileSub:{fontSize:"0.85rem",opacity:.85,fontStyle:"italic"},bottomMenu:{display:"flex",flexDirection:"column",gap:"0.75rem"},navButton:{display:"flex",alignItems:"center",justifyContent:"flex-start",gap:"0.5rem",background:"#ffffff",color:"#186476",fontWeight:"600",fontSize:"0.9rem",padding:"0.75rem 1rem",borderRadius:"8px",cursor:"pointer",border:"none",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.1)",transition:"all 0.3s ease"},logout:{background:"#e74c3c",color:"white"},icon:{fontSize:"1rem"}},Jq=document.createElement("style");Jq.textContent=`
  button:hover:not(:disabled) { 
    transform: translateY(-2px); 
    background-color: #3fa3b9 !important; 
    color: #ffffff !important; 
    box-shadow: 0 8px 20px rgba(0,0,0,0.2);
  }
  button:disabled { opacity: 0.6; cursor: not-allowed; }
  @keyframes pulse {
    0% { opacity: 0.6; }
    50% { opacity: 1; }
    100% { opacity: 0.6; }
  }
`;document.head.appendChild(Jq);const eY=w.createContext({});function l3e(e){const t=w.useRef(null);return t.current===null&&(t.current=e()),t.current}const CA=typeof window<"u",c3e=CA?w.useLayoutEffect:w.useEffect,jA=w.createContext(null);function TA(e,t){e.indexOf(t)===-1&&e.push(t)}function AA(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Bs=(e,t,n)=>n>t?t:n<e?e:n;let kA=()=>{};const zs={},tY=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function nY(e){return typeof e=="object"&&e!==null}const rY=e=>/^0[^.\s]+$/u.test(e);function EA(e){let t;return()=>(t===void 0&&(t=e()),t)}const la=e=>e,u3e=(e,t)=>n=>t(e(n)),f0=(...e)=>e.reduce(u3e),sg=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class NA{constructor(){this.subscriptions=[]}add(t){return TA(this.subscriptions,t),()=>AA(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let a=0;a<i;a++){const s=this.subscriptions[a];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const _o=e=>e*1e3,oa=e=>e/1e3;function iY(e,t){return t?e*(1e3/t):0}const aY=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,d3e=1e-7,f3e=12;function p3e(e,t,n,r,i){let a,s,c=0;do s=t+(n-t)/2,a=aY(s,r,i)-e,a>0?n=s:t=s;while(Math.abs(a)>d3e&&++c<f3e);return s}function p0(e,t,n,r){if(e===t&&n===r)return la;const i=a=>p3e(a,0,1,e,n);return a=>a===0||a===1?a:aY(i(a),t,r)}const oY=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,sY=e=>t=>1-e(1-t),lY=p0(.33,1.53,.69,.99),_A=sY(lY),cY=oY(_A),uY=e=>(e*=2)<1?.5*_A(e):.5*(2-Math.pow(2,-10*(e-1))),PA=e=>1-Math.sin(Math.acos(e)),dY=sY(PA),fY=oY(PA),h3e=p0(.42,0,1,1),m3e=p0(0,0,.58,1),pY=p0(.42,0,.58,1),g3e=e=>Array.isArray(e)&&typeof e[0]!="number",hY=e=>Array.isArray(e)&&typeof e[0]=="number",y3e={linear:la,easeIn:h3e,easeInOut:pY,easeOut:m3e,circIn:PA,circInOut:fY,circOut:dY,backIn:_A,backInOut:cY,backOut:lY,anticipate:uY},v3e=e=>typeof e=="string",Q$=e=>{if(hY(e)){kA(e.length===4);const[t,n,r,i]=e;return p0(t,n,r,i)}else if(v3e(e))return y3e[e];return e},l1=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function b3e(e,t){let n=new Set,r=new Set,i=!1,a=!1;const s=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(p){s.has(p)&&(f.schedule(p),e()),p(c)}const f={schedule:(p,m=!1,g=!1)=>{const b=g&&i?n:r;return m&&s.add(p),b.has(p)||b.add(p),p},cancel:p=>{r.delete(p),s.delete(p)},process:p=>{if(c=p,i){a=!0;return}i=!0,[n,r]=[r,n],n.forEach(d),n.clear(),i=!1,a&&(a=!1,f.process(p))}};return f}const x3e=40;function mY(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,s=l1.reduce((E,P)=>(E[P]=b3e(a),E),{}),{setup:c,read:d,resolveKeyframes:f,preUpdate:p,update:m,preRender:g,render:v,postRender:b}=s,C=()=>{const E=zs.useManualTiming?i.timestamp:performance.now();n=!1,zs.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(E-i.timestamp,x3e),1)),i.timestamp=E,i.isProcessing=!0,c.process(i),d.process(i),f.process(i),p.process(i),m.process(i),g.process(i),v.process(i),b.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(C))},j=()=>{n=!0,r=!0,i.isProcessing||e(C)};return{schedule:l1.reduce((E,P)=>{const $=s[P];return E[P]=(F,O=!1,_=!1)=>(n||j(),$.schedule(F,O,_)),E},{}),cancel:E=>{for(let P=0;P<l1.length;P++)s[l1[P]].cancel(E)},state:i,steps:s}}const{schedule:Sn,cancel:ac,state:Tr,steps:pS}=mY(typeof requestAnimationFrame<"u"?requestAnimationFrame:la,!0);let Yv;function w3e(){Yv=void 0}const li={now:()=>(Yv===void 0&&li.set(Tr.isProcessing||zs.useManualTiming?Tr.timestamp:performance.now()),Yv),set:e=>{Yv=e,queueMicrotask(w3e)}},gY=e=>t=>typeof t=="string"&&t.startsWith(e),DA=gY("--"),S3e=gY("var(--"),OA=e=>S3e(e)?C3e.test(e.split("/*")[0].trim()):!1,C3e=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,_p={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},lg={..._p,transform:e=>Bs(0,1,e)},c1={..._p,default:1},Lm=e=>Math.round(e*1e5)/1e5,$A=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function j3e(e){return e==null}const T3e=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,IA=(e,t)=>n=>!!(typeof n=="string"&&T3e.test(n)&&n.startsWith(e)||t&&!j3e(n)&&Object.prototype.hasOwnProperty.call(n,t)),yY=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,a,s,c]=r.match($A);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(s),alpha:c!==void 0?parseFloat(c):1}},A3e=e=>Bs(0,255,e),hS={..._p,transform:e=>Math.round(A3e(e))},Eu={test:IA("rgb","red"),parse:yY("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+hS.transform(e)+", "+hS.transform(t)+", "+hS.transform(n)+", "+Lm(lg.transform(r))+")"};function k3e(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const AC={test:IA("#"),parse:k3e,transform:Eu.transform},h0=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ml=h0("deg"),Po=h0("%"),ht=h0("px"),E3e=h0("vh"),N3e=h0("vw"),Z$={...Po,parse:e=>Po.parse(e)/100,transform:e=>Po.transform(e*100)},df={test:IA("hsl","hue"),parse:yY("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Po.transform(Lm(t))+", "+Po.transform(Lm(n))+", "+Lm(lg.transform(r))+")"},Jn={test:e=>Eu.test(e)||AC.test(e)||df.test(e),parse:e=>Eu.test(e)?Eu.parse(e):df.test(e)?df.parse(e):AC.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Eu.transform(e):df.transform(e),getAnimatableNone:e=>{const t=Jn.parse(e);return t.alpha=0,Jn.transform(t)}},_3e=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function P3e(e){return isNaN(e)&&typeof e=="string"&&(e.match($A)?.length||0)+(e.match(_3e)?.length||0)>0}const vY="number",bY="color",D3e="var",O3e="var(",J$="${}",$3e=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function cg(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const c=t.replace($3e,d=>(Jn.test(d)?(r.color.push(a),i.push(bY),n.push(Jn.parse(d))):d.startsWith(O3e)?(r.var.push(a),i.push(D3e),n.push(d)):(r.number.push(a),i.push(vY),n.push(parseFloat(d))),++a,J$)).split(J$);return{values:n,split:c,indexes:r,types:i}}function xY(e){return cg(e).values}function wY(e){const{split:t,types:n}=cg(e),r=t.length;return i=>{let a="";for(let s=0;s<r;s++)if(a+=t[s],i[s]!==void 0){const c=n[s];c===vY?a+=Lm(i[s]):c===bY?a+=Jn.transform(i[s]):a+=i[s]}return a}}const I3e=e=>typeof e=="number"?0:Jn.test(e)?Jn.getAnimatableNone(e):e;function R3e(e){const t=xY(e);return wY(e)(t.map(I3e))}const oc={test:P3e,parse:xY,createTransformer:wY,getAnimatableNone:R3e};function mS(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function M3e({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,a=0,s=0;if(!t)i=a=s=n;else{const c=n<.5?n*(1+t):n+t-n*t,d=2*n-c;i=mS(d,c,e+1/3),a=mS(d,c,e),s=mS(d,c,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:r}}function yx(e,t){return n=>n>0?t:e}const Nn=(e,t,n)=>e+(t-e)*n,gS=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},L3e=[AC,Eu,df],F3e=e=>L3e.find(t=>t.test(e));function eI(e){const t=F3e(e);if(!t)return!1;let n=t.parse(e);return t===df&&(n=M3e(n)),n}const tI=(e,t)=>{const n=eI(e),r=eI(t);if(!n||!r)return yx(e,t);const i={...n};return a=>(i.red=gS(n.red,r.red,a),i.green=gS(n.green,r.green,a),i.blue=gS(n.blue,r.blue,a),i.alpha=Nn(n.alpha,r.alpha,a),Eu.transform(i))},kC=new Set(["none","hidden"]);function B3e(e,t){return kC.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function z3e(e,t){return n=>Nn(e,t,n)}function RA(e){return typeof e=="number"?z3e:typeof e=="string"?OA(e)?yx:Jn.test(e)?tI:V3e:Array.isArray(e)?SY:typeof e=="object"?Jn.test(e)?tI:U3e:yx}function SY(e,t){const n=[...e],r=n.length,i=e.map((a,s)=>RA(a)(a,t[s]));return a=>{for(let s=0;s<r;s++)n[s]=i[s](a);return n}}function U3e(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=RA(e[i])(e[i],t[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function H3e(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],s=e.indexes[a][r[a]],c=e.values[s]??0;n[i]=c,r[a]++}return n}const V3e=(e,t)=>{const n=oc.createTransformer(t),r=cg(e),i=cg(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?kC.has(e)&&!i.values.length||kC.has(t)&&!r.values.length?B3e(e,t):f0(SY(H3e(r,i),i.values),n):yx(e,t)};function CY(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Nn(e,t,n):RA(e)(e,t)}const q3e=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Sn.update(t,n),stop:()=>ac(t),now:()=>Tr.isProcessing?Tr.timestamp:li.now()}},jY=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let a=0;a<i;a++)r+=Math.round(e(a/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},vx=2e4;function MA(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<vx;)t+=n,r=e.next(t);return t>=vx?1/0:t}function Y3e(e,t=100,n){const r=n({...e,keyframes:[0,t]}),i=Math.min(MA(r),vx);return{type:"keyframes",ease:a=>r.next(i*a).value/t,duration:oa(i)}}const W3e=5;function TY(e,t,n){const r=Math.max(t-W3e,0);return iY(n-e(r),t-r)}const Rn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},yS=.001;function G3e({duration:e=Rn.duration,bounce:t=Rn.bounce,velocity:n=Rn.velocity,mass:r=Rn.mass}){let i,a,s=1-t;s=Bs(Rn.minDamping,Rn.maxDamping,s),e=Bs(Rn.minDuration,Rn.maxDuration,oa(e)),s<1?(i=f=>{const p=f*s,m=p*e,g=p-n,v=EC(f,s),b=Math.exp(-m);return yS-g/v*b},a=f=>{const m=f*s*e,g=m*n+n,v=Math.pow(s,2)*Math.pow(f,2)*e,b=Math.exp(-m),C=EC(Math.pow(f,2),s);return(-i(f)+yS>0?-1:1)*((g-v)*b)/C}):(i=f=>{const p=Math.exp(-f*e),m=(f-n)*e+1;return-yS+p*m},a=f=>{const p=Math.exp(-f*e),m=(n-f)*(e*e);return p*m});const c=5/e,d=X3e(i,a,c);if(e=_o(e),isNaN(d))return{stiffness:Rn.stiffness,damping:Rn.damping,duration:e};{const f=Math.pow(d,2)*r;return{stiffness:f,damping:s*2*Math.sqrt(r*f),duration:e}}}const K3e=12;function X3e(e,t,n){let r=n;for(let i=1;i<K3e;i++)r=r-e(r)/t(r);return r}function EC(e,t){return e*Math.sqrt(1-t*t)}const Q3e=["duration","bounce"],Z3e=["stiffness","damping","mass"];function nI(e,t){return t.some(n=>e[n]!==void 0)}function J3e(e){let t={velocity:Rn.velocity,stiffness:Rn.stiffness,damping:Rn.damping,mass:Rn.mass,isResolvedFromDuration:!1,...e};if(!nI(e,Z3e)&&nI(e,Q3e))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*Bs(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Rn.mass,stiffness:i,damping:a}}else{const n=G3e(e);t={...t,...n,mass:Rn.mass},t.isResolvedFromDuration=!0}return t}function bx(e=Rn.visualDuration,t=Rn.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],c={done:!1,value:a},{stiffness:d,damping:f,mass:p,duration:m,velocity:g,isResolvedFromDuration:v}=J3e({...n,velocity:-oa(n.velocity||0)}),b=g||0,C=f/(2*Math.sqrt(d*p)),j=s-a,A=oa(Math.sqrt(d/p)),k=Math.abs(j)<5;r||(r=k?Rn.restSpeed.granular:Rn.restSpeed.default),i||(i=k?Rn.restDelta.granular:Rn.restDelta.default);let E;if(C<1){const $=EC(A,C);E=F=>{const O=Math.exp(-C*A*F);return s-O*((b+C*A*j)/$*Math.sin($*F)+j*Math.cos($*F))}}else if(C===1)E=$=>s-Math.exp(-A*$)*(j+(b+A*j)*$);else{const $=A*Math.sqrt(C*C-1);E=F=>{const O=Math.exp(-C*A*F),_=Math.min($*F,300);return s-O*((b+C*A*j)*Math.sinh(_)+$*j*Math.cosh(_))/$}}const P={calculatedDuration:v&&m||null,next:$=>{const F=E($);if(v)c.done=$>=m;else{let O=$===0?b:0;C<1&&(O=$===0?_o(b):TY(E,$,F));const _=Math.abs(O)<=r,D=Math.abs(s-F)<=i;c.done=_&&D}return c.value=c.done?s:F,c},toString:()=>{const $=Math.min(MA(P),vx),F=jY(O=>P.next($*O).value,$,30);return $+"ms "+F},toTransition:()=>{}};return P}bx.applyToOptions=e=>{const t=Y3e(e,100,bx);return e.ease=t.ease,e.duration=_o(t.duration),e.type="keyframes",e};function NC({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:c,max:d,restDelta:f=.5,restSpeed:p}){const m=e[0],g={done:!1,value:m},v=_=>c!==void 0&&_<c||d!==void 0&&_>d,b=_=>c===void 0?d:d===void 0||Math.abs(c-_)<Math.abs(d-_)?c:d;let C=n*t;const j=m+C,A=s===void 0?j:s(j);A!==j&&(C=A-m);const k=_=>-C*Math.exp(-_/r),E=_=>A+k(_),P=_=>{const D=k(_),L=E(_);g.done=Math.abs(D)<=f,g.value=g.done?A:L};let $,F;const O=_=>{v(g.value)&&($=_,F=bx({keyframes:[g.value,b(g.value)],velocity:TY(E,_,g.value),damping:i,stiffness:a,restDelta:f,restSpeed:p}))};return O(0),{calculatedDuration:null,next:_=>{let D=!1;return!F&&$===void 0&&(D=!0,P(_),O(_)),$!==void 0&&_>=$?F.next(_-$):(!D&&P(_),g)}}}function e6e(e,t,n){const r=[],i=n||zs.mix||CY,a=e.length-1;for(let s=0;s<a;s++){let c=i(e[s],e[s+1]);if(t){const d=Array.isArray(t)?t[s]||la:t;c=f0(d,c)}r.push(c)}return r}function t6e(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const a=e.length;if(kA(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const c=e6e(t,r,i),d=c.length,f=p=>{if(s&&p<e[0])return t[0];let m=0;if(d>1)for(;m<e.length-2&&!(p<e[m+1]);m++);const g=sg(e[m],e[m+1],p);return c[m](g)};return n?p=>f(Bs(e[0],e[a-1],p)):f}function n6e(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=sg(0,t,r);e.push(Nn(n,1,i))}}function r6e(e){const t=[0];return n6e(t,e.length-1),t}function i6e(e,t){return e.map(n=>n*t)}function a6e(e,t){return e.map(()=>t||pY).splice(0,e.length-1)}function Fm({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=g3e(r)?r.map(Q$):Q$(r),a={done:!1,value:t[0]},s=i6e(n&&n.length===t.length?n:r6e(t),e),c=t6e(s,t,{ease:Array.isArray(i)?i:a6e(t,i)});return{calculatedDuration:e,next:d=>(a.value=c(d),a.done=d>=e,a)}}const o6e=e=>e!==null;function LA(e,{repeat:t,repeatType:n="loop"},r,i=1){const a=e.filter(o6e),c=i<0||t&&n!=="loop"&&t%2===1?0:a.length-1;return!c||r===void 0?a[c]:r}const s6e={decay:NC,inertia:NC,tween:Fm,keyframes:Fm,spring:bx};function AY(e){typeof e.type=="string"&&(e.type=s6e[e.type])}class FA{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const l6e=e=>e/100;class BA extends FA{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==li.now()&&this.tick(li.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;AY(t);const{type:n=Fm,repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:s=0}=t;let{keyframes:c}=t;const d=n||Fm;d!==Fm&&typeof c[0]!="number"&&(this.mixKeyframes=f0(l6e,CY(c[0],c[1])),c=[0,100]);const f=d({...t,keyframes:c});a==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...c].reverse(),velocity:-s})),f.calculatedDuration===null&&(f.calculatedDuration=MA(f));const{calculatedDuration:p}=f;this.calculatedDuration=p,this.resolvedDuration=p+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=f}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:i,mixKeyframes:a,mirroredGenerator:s,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:f=0,keyframes:p,repeat:m,repeatType:g,repeatDelay:v,type:b,onUpdate:C,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const A=this.currentTime-f*(this.playbackSpeed>=0?1:-1),k=this.playbackSpeed>=0?A<0:A>i;this.currentTime=Math.max(A,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let E=this.currentTime,P=r;if(m){const _=Math.min(this.currentTime,i)/c;let D=Math.floor(_),L=_%1;!L&&_>=1&&(L=1),L===1&&D--,D=Math.min(D,m+1),!!(D%2)&&(g==="reverse"?(L=1-L,v&&(L-=v/c)):g==="mirror"&&(P=s)),E=Bs(0,1,L)*c}const $=k?{done:!1,value:p[0]}:P.next(E);a&&($.value=a($.value));let{done:F}=$;!k&&d!==null&&(F=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&F);return O&&b!==NC&&($.value=LA(p,this.options,j,this.speed)),C&&C($.value),O&&this.finish(),$}then(t,n){return this.finished.then(t,n)}get duration(){return oa(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+oa(t)}get time(){return oa(this.currentTime)}set time(t){t=_o(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(li.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=oa(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=q3e,startTime:n}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(li.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function c6e(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Nu=e=>e*180/Math.PI,_C=e=>{const t=Nu(Math.atan2(e[1],e[0]));return PC(t)},u6e={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:_C,rotateZ:_C,skewX:e=>Nu(Math.atan(e[1])),skewY:e=>Nu(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},PC=e=>(e=e%360,e<0&&(e+=360),e),rI=_C,iI=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),aI=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),d6e={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:iI,scaleY:aI,scale:e=>(iI(e)+aI(e))/2,rotateX:e=>PC(Nu(Math.atan2(e[6],e[5]))),rotateY:e=>PC(Nu(Math.atan2(-e[2],e[0]))),rotateZ:rI,rotate:rI,skewX:e=>Nu(Math.atan(e[4])),skewY:e=>Nu(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function DC(e){return e.includes("scale")?1:0}function OC(e,t){if(!e||e==="none")return DC(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=d6e,i=n;else{const c=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=u6e,i=c}if(!i)return DC(t);const a=r[t],s=i[1].split(",").map(p6e);return typeof a=="function"?a(s):s[a]}const f6e=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return OC(n,t)};function p6e(e){return parseFloat(e.trim())}const Pp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Dp=new Set(Pp),oI=e=>e===_p||e===ht,h6e=new Set(["x","y","z"]),m6e=Pp.filter(e=>!h6e.has(e));function g6e(e){const t=[];return m6e.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const zu={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>OC(t,"x"),y:(e,{transform:t})=>OC(t,"y")};zu.translateX=zu.x;zu.translateY=zu.y;const Uu=new Set;let $C=!1,IC=!1,RC=!1;function kY(){if(IC){const e=Array.from(Uu).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=g6e(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,s])=>{r.getValue(a)?.set(s)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}IC=!1,$C=!1,Uu.forEach(e=>e.complete(RC)),Uu.clear()}function EY(){Uu.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(IC=!0)})}function y6e(){RC=!0,EY(),kY(),RC=!1}class zA{constructor(t,n,r,i,a,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(Uu.add(this),$C||($C=!0,Sn.read(EY),Sn.resolveKeyframes(kY))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;if(t[0]===null){const a=i?.get(),s=t[t.length-1];if(a!==void 0)t[0]=a;else if(r&&n){const c=r.readValue(n,s);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=s),i&&a===void 0&&i.set(t[0])}c6e(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Uu.delete(this)}cancel(){this.state==="scheduled"&&(Uu.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const v6e=e=>e.startsWith("--");function b6e(e,t,n){v6e(t)?e.style.setProperty(t,n):e.style[t]=n}const x6e=EA(()=>window.ScrollTimeline!==void 0),w6e={};function S6e(e,t){const n=EA(e);return()=>w6e[t]??n()}const NY=S6e(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),sm=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,sI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:sm([0,.65,.55,1]),circOut:sm([.55,0,1,.45]),backIn:sm([.31,.01,.66,-.59]),backOut:sm([.33,1.53,.69,.99])};function _Y(e,t){if(e)return typeof e=="function"?NY()?jY(e,t):"ease-out":hY(e)?sm(e):Array.isArray(e)?e.map(n=>_Y(n,t)||sI.easeOut):sI[e]}function C6e(e,t,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:s="loop",ease:c="easeOut",times:d}={},f=void 0){const p={[t]:n};d&&(p.offset=d);const m=_Y(c,i);Array.isArray(m)&&(p.easing=m);const g={delay:r,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"};return f&&(g.pseudoElement=f),e.animate(p,g)}function PY(e){return typeof e=="function"&&"applyToOptions"in e}function j6e({type:e,...t}){return PY(e)&&NY()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class T6e extends FA{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:i,pseudoElement:a,allowFlatten:s=!1,finalKeyframe:c,onComplete:d}=t;this.isPseudoElement=!!a,this.allowFlatten=s,this.options=t,kA(typeof t.type!="string");const f=j6e(t);this.animation=C6e(n,r,i,f,a),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const p=LA(i,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(p):b6e(n,r,p),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return oa(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+oa(t)}get time(){return oa(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=_o(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&x6e()?(this.animation.timeline=t,la):n(this)}}const DY={anticipate:uY,backInOut:cY,circInOut:fY};function A6e(e){return e in DY}function k6e(e){typeof e.ease=="string"&&A6e(e.ease)&&(e.ease=DY[e.ease])}const lI=10;class E6e extends T6e{constructor(t){k6e(t),AY(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:i,element:a,...s}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const c=new BA({...s,autoplay:!1}),d=_o(this.finishedTime??this.time);n.setWithVelocity(c.sample(d-lI).value,c.sample(d).value,lI),c.stop()}}const cI=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(oc.test(e)||e==="0")&&!e.startsWith("url("));function N6e(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function _6e(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],s=cI(i,t),c=cI(a,t);return!s||!c?!1:N6e(e)||(n==="spring"||PY(n))&&r}function MC(e){e.duration=0,e.type="keyframes"}const P6e=new Set(["opacity","clipPath","filter","transform"]),D6e=EA(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function O6e(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:a,type:s}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:f}=t.owner.getProps();return D6e()&&n&&P6e.has(n)&&(n!=="transform"||!f)&&!d&&!r&&i!=="mirror"&&a!==0&&s!=="inertia"}const $6e=40;class I6e extends FA{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:s="loop",keyframes:c,name:d,motionValue:f,element:p,...m}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=li.now();const g={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:s,name:d,motionValue:f,element:p,...m},v=p?.KeyframeResolver||zA;this.keyframeResolver=new v(c,(b,C,j)=>this.onKeyframesResolved(b,C,g,!j),d,f,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,r,i){this.keyframeResolver=void 0;const{name:a,type:s,velocity:c,delay:d,isHandoff:f,onUpdate:p}=r;this.resolvedAt=li.now(),_6e(t,a,s,c)||((zs.instantAnimations||!d)&&p?.(LA(t,r,n)),t[0]=t[t.length-1],MC(r),r.repeat=0);const g={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>$6e?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},v=!f&&O6e(g)?new E6e({...g,element:g.motionValue.owner.current}):new BA(g);v.finished.then(()=>this.notifyFinished()).catch(la),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),y6e()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const R6e=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function M6e(e){const t=R6e.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function OY(e,t,n=1){const[r,i]=M6e(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const s=a.trim();return tY(s)?parseFloat(s):s}return OA(i)?OY(i,t,n+1):i}function UA(e,t){return e?.[t]??e?.default??e}const $Y=new Set(["width","height","top","left","right","bottom",...Pp]),L6e={test:e=>e==="auto",parse:e=>e},IY=e=>t=>t.test(e),RY=[_p,ht,Po,Ml,N3e,E3e,L6e],uI=e=>RY.find(IY(e));function F6e(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||rY(e):!0}const B6e=new Set(["brightness","contrast","saturate","opacity"]);function z6e(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match($A)||[];if(!r)return e;const i=n.replace(r,"");let a=B6e.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+i+")"}const U6e=/\b([a-z-]*)\(.*?\)/gu,LC={...oc,getAnimatableNone:e=>{const t=e.match(U6e);return t?t.map(z6e).join(" "):e}},dI={..._p,transform:Math.round},H6e={rotate:Ml,rotateX:Ml,rotateY:Ml,rotateZ:Ml,scale:c1,scaleX:c1,scaleY:c1,scaleZ:c1,skew:Ml,skewX:Ml,skewY:Ml,distance:ht,translateX:ht,translateY:ht,translateZ:ht,x:ht,y:ht,z:ht,perspective:ht,transformPerspective:ht,opacity:lg,originX:Z$,originY:Z$,originZ:ht},HA={borderWidth:ht,borderTopWidth:ht,borderRightWidth:ht,borderBottomWidth:ht,borderLeftWidth:ht,borderRadius:ht,radius:ht,borderTopLeftRadius:ht,borderTopRightRadius:ht,borderBottomRightRadius:ht,borderBottomLeftRadius:ht,width:ht,maxWidth:ht,height:ht,maxHeight:ht,top:ht,right:ht,bottom:ht,left:ht,padding:ht,paddingTop:ht,paddingRight:ht,paddingBottom:ht,paddingLeft:ht,margin:ht,marginTop:ht,marginRight:ht,marginBottom:ht,marginLeft:ht,backgroundPositionX:ht,backgroundPositionY:ht,...H6e,zIndex:dI,fillOpacity:lg,strokeOpacity:lg,numOctaves:dI},V6e={...HA,color:Jn,backgroundColor:Jn,outlineColor:Jn,fill:Jn,stroke:Jn,borderColor:Jn,borderTopColor:Jn,borderRightColor:Jn,borderBottomColor:Jn,borderLeftColor:Jn,filter:LC,WebkitFilter:LC},MY=e=>V6e[e];function LY(e,t){let n=MY(e);return n!==LC&&(n=oc),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const q6e=new Set(["auto","none","0"]);function Y6e(e,t,n){let r=0,i;for(;r<e.length&&!i;){const a=e[r];typeof a=="string"&&!q6e.has(a)&&cg(a).values.length&&(i=e[r]),r++}if(i&&n)for(const a of t)e[a]=LY(n,i)}class W6e extends zA{constructor(t,n,r,i,a){super(t,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let f=t[d];if(typeof f=="string"&&(f=f.trim(),OA(f))){const p=OY(f,n.current);p!==void 0&&(t[d]=p),d===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!$Y.has(r)||t.length!==2)return;const[i,a]=t,s=uI(i),c=uI(a);if(s!==c)if(oI(s)&&oI(c))for(let d=0;d<t.length;d++){const f=t[d];typeof f=="string"&&(t[d]=parseFloat(f))}else zu[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)(t[i]===null||F6e(t[i]))&&r.push(i);r.length&&Y6e(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=zu[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,s=r[a];r[a]=zu[n](t.measureViewportBox(),window.getComputedStyle(t.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,d])=>{t.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function G6e(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const i=n?.[e]??r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const FY=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function K6e(e){return nY(e)&&"offsetHeight"in e}const fI=30,X6e=e=>!isNaN(parseFloat(e));class Q6e{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=li.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=li.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=X6e(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new NA);const r=this.events[t].add(n);return t==="change"?()=>{r(),Sn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=li.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>fI)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,fI);return iY(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Jf(e,t){return new Q6e(e,t)}const{schedule:VA}=mY(queueMicrotask,!1),Na={x:!1,y:!1};function BY(){return Na.x||Na.y}function Z6e(e){return e==="x"||e==="y"?Na[e]?null:(Na[e]=!0,()=>{Na[e]=!1}):Na.x||Na.y?null:(Na.x=Na.y=!0,()=>{Na.x=Na.y=!1})}function zY(e,t){const n=G6e(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function pI(e){return!(e.pointerType==="touch"||BY())}function J6e(e,t,n={}){const[r,i,a]=zY(e,n),s=c=>{if(!pI(c))return;const{target:d}=c,f=t(d,c);if(typeof f!="function"||!d)return;const p=m=>{pI(m)&&(f(m),d.removeEventListener("pointerleave",p))};d.addEventListener("pointerleave",p,i)};return r.forEach(c=>{c.addEventListener("pointerenter",s,i)}),a}const UY=(e,t)=>t?e===t?!0:UY(e,t.parentElement):!1,qA=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,eSe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function tSe(e){return eSe.has(e.tagName)||e.tabIndex!==-1}const Wv=new WeakSet;function hI(e){return t=>{t.key==="Enter"&&e(t)}}function vS(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const nSe=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=hI(()=>{if(Wv.has(n))return;vS(n,"down");const i=hI(()=>{vS(n,"up")}),a=()=>vS(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function mI(e){return qA(e)&&!BY()}function rSe(e,t,n={}){const[r,i,a]=zY(e,n),s=c=>{const d=c.currentTarget;if(!mI(c))return;Wv.add(d);const f=t(d,c),p=(v,b)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",g),Wv.has(d)&&Wv.delete(d),mI(v)&&typeof f=="function"&&f(v,{success:b})},m=v=>{p(v,d===window||d===document||n.useGlobalTarget||UY(d,v.target))},g=v=>{p(v,!1)};window.addEventListener("pointerup",m,i),window.addEventListener("pointercancel",g,i)};return r.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",s,i),K6e(c)&&(c.addEventListener("focus",f=>nSe(f,i)),!tSe(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),a}function HY(e){return nY(e)&&"ownerSVGElement"in e}function iSe(e){return HY(e)&&e.tagName==="svg"}const Mr=e=>!!(e&&e.getVelocity),aSe=[...RY,Jn,oc],oSe=e=>aSe.find(IY(e)),VY=w.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function sSe(e=!0){const t=w.useContext(jA);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,a=w.useId();w.useEffect(()=>{if(e)return i(a)},[e]);const s=w.useCallback(()=>e&&r&&r(a),[a,r,e]);return!n&&r?[!1,s]:[!0]}const qY=w.createContext({strict:!1}),gI={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ep={};for(const e in gI)ep[e]={isEnabled:t=>gI[e].some(n=>!!t[n])};function lSe(e){for(const t in e)ep[t]={...ep[t],...e[t]}}const cSe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function xx(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||cSe.has(e)}let YY=e=>!xx(e);function uSe(e){typeof e=="function"&&(YY=t=>t.startsWith("on")?!xx(t):e(t))}try{uSe(require("@emotion/is-prop-valid").default)}catch{}function dSe(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(YY(i)||n===!0&&xx(i)||!t&&!xx(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}const L2=w.createContext({});function F2(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function ug(e){return typeof e=="string"||Array.isArray(e)}const YA=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],WA=["initial",...YA];function B2(e){return F2(e.animate)||WA.some(t=>ug(e[t]))}function WY(e){return!!(B2(e)||e.variants)}function fSe(e,t){if(B2(e)){const{initial:n,animate:r}=e;return{initial:n===!1||ug(n)?n:void 0,animate:ug(r)?r:void 0}}return e.inherit!==!1?t:{}}function pSe(e){const{initial:t,animate:n}=fSe(e,w.useContext(L2));return w.useMemo(()=>({initial:t,animate:n}),[yI(t),yI(n)])}function yI(e){return Array.isArray(e)?e.join(" "):e}const dg={};function hSe(e){for(const t in e)dg[t]=e[t],DA(t)&&(dg[t].isCSSVariable=!0)}function GY(e,{layout:t,layoutId:n}){return Dp.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!dg[e]||e==="opacity")}const mSe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},gSe=Pp.length;function ySe(e,t,n){let r="",i=!0;for(let a=0;a<gSe;a++){const s=Pp[a],c=e[s];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(s.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||n){const f=FY(c,HA[s]);if(!d){i=!1;const p=mSe[s]||s;r+=`${p}(${f}) `}n&&(t[s]=f)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function GA(e,t,n){const{style:r,vars:i,transformOrigin:a}=e;let s=!1,c=!1;for(const d in t){const f=t[d];if(Dp.has(d)){s=!0;continue}else if(DA(d)){i[d]=f;continue}else{const p=FY(f,HA[d]);d.startsWith("origin")?(c=!0,a[d]=p):r[d]=p}}if(t.transform||(s||n?r.transform=ySe(t,e.transform,n):r.transform&&(r.transform="none")),c){const{originX:d="50%",originY:f="50%",originZ:p=0}=a;r.transformOrigin=`${d} ${f} ${p}`}}const KA=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function KY(e,t,n){for(const r in t)!Mr(t[r])&&!GY(r,n)&&(e[r]=t[r])}function vSe({transformTemplate:e},t){return w.useMemo(()=>{const n=KA();return GA(n,t,e),Object.assign({},n.vars,n.style)},[t])}function bSe(e,t){const n=e.style||{},r={};return KY(r,n,e),Object.assign(r,vSe(e,t)),r}function xSe(e,t){const n={},r=bSe(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const wSe={offset:"stroke-dashoffset",array:"stroke-dasharray"},SSe={offset:"strokeDashoffset",array:"strokeDasharray"};function CSe(e,t,n=1,r=0,i=!0){e.pathLength=1;const a=i?wSe:SSe;e[a.offset]=ht.transform(-r);const s=ht.transform(t),c=ht.transform(n);e[a.array]=`${s} ${c}`}function XY(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:s=0,...c},d,f,p){if(GA(e,c,f),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:g}=e;m.transform&&(g.transform=m.transform,delete m.transform),(g.transform||m.transformOrigin)&&(g.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),g.transform&&(g.transformBox=p?.transformBox??"fill-box",delete m.transformBox),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),i!==void 0&&CSe(m,i,a,s,!1)}const QY=()=>({...KA(),attrs:{}}),ZY=e=>typeof e=="string"&&e.toLowerCase()==="svg";function jSe(e,t,n,r){const i=w.useMemo(()=>{const a=QY();return XY(a,t,ZY(r),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};KY(a,e.style,e),i.style={...a,...i.style}}return i}const TSe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function XA(e){return typeof e!="string"||e.includes("-")?!1:!!(TSe.indexOf(e)>-1||/[A-Z]/u.test(e))}function ASe(e,t,n,{latestValues:r},i,a=!1){const c=(XA(e)?jSe:xSe)(t,r,i,e),d=dSe(t,typeof e=="string",a),f=e!==w.Fragment?{...d,...c,ref:n}:{},{children:p}=t,m=w.useMemo(()=>Mr(p)?p.get():p,[p]);return w.createElement(e,{...f,children:m})}function vI(e){const t=[{},{}];return e?.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function QA(e,t,n,r){if(typeof t=="function"){const[i,a]=vI(r);t=t(n!==void 0?n:e.custom,i,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,a]=vI(r);t=t(n!==void 0?n:e.custom,i,a)}return t}function Gv(e){return Mr(e)?e.get():e}function kSe({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:ESe(n,r,i,e),renderState:t()}}function ESe(e,t,n,r){const i={},a=r(e,{});for(const g in a)i[g]=Gv(a[g]);let{initial:s,animate:c}=e;const d=B2(e),f=WY(e);t&&f&&!d&&e.inherit!==!1&&(s===void 0&&(s=t.initial),c===void 0&&(c=t.animate));let p=n?n.initial===!1:!1;p=p||s===!1;const m=p?c:s;if(m&&typeof m!="boolean"&&!F2(m)){const g=Array.isArray(m)?m:[m];for(let v=0;v<g.length;v++){const b=QA(e,g[v]);if(b){const{transitionEnd:C,transition:j,...A}=b;for(const k in A){let E=A[k];if(Array.isArray(E)){const P=p?E.length-1:0;E=E[P]}E!==null&&(i[k]=E)}for(const k in C)i[k]=C[k]}}}return i}const JY=e=>(t,n)=>{const r=w.useContext(L2),i=w.useContext(jA),a=()=>kSe(e,t,r,i);return n?a():l3e(a)};function ZA(e,t,n){const{style:r}=e,i={};for(const a in r)(Mr(r[a])||t.style&&Mr(t.style[a])||GY(a,e)||n?.getValue(a)?.liveStyle!==void 0)&&(i[a]=r[a]);return i}const NSe=JY({scrapeMotionValuesFromProps:ZA,createRenderState:KA});function eW(e,t,n){const r=ZA(e,t,n);for(const i in e)if(Mr(e[i])||Mr(t[i])){const a=Pp.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=e[i]}return r}const _Se=JY({scrapeMotionValuesFromProps:eW,createRenderState:QY}),PSe=Symbol.for("motionComponentSymbol");function ff(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function DSe(e,t,n){return w.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):ff(n)&&(n.current=r))},[t])}const JA=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),OSe="framerAppearId",tW="data-"+JA(OSe),nW=w.createContext({});function $Se(e,t,n,r,i){const{visualElement:a}=w.useContext(L2),s=w.useContext(qY),c=w.useContext(jA),d=w.useContext(VY).reducedMotion,f=w.useRef(null);r=r||s.renderer,!f.current&&r&&(f.current=r(e,{visualState:t,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const p=f.current,m=w.useContext(nW);p&&!p.projection&&i&&(p.type==="html"||p.type==="svg")&&ISe(f.current,n,i,m);const g=w.useRef(!1);w.useInsertionEffect(()=>{p&&g.current&&p.update(n,c)});const v=n[tW],b=w.useRef(!!v&&!window.MotionHandoffIsComplete?.(v)&&window.MotionHasOptimisedAnimation?.(v));return c3e(()=>{p&&(g.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),b.current&&p.animationState&&p.animationState.animateChanges())}),w.useEffect(()=>{p&&(!b.current&&p.animationState&&p.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(v)}),b.current=!1),p.enteringChildren=void 0)}),p}function ISe(e,t,n,r){const{layoutId:i,layout:a,drag:s,dragConstraints:c,layoutScroll:d,layoutRoot:f,layoutCrossfade:p}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:rW(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!s||c&&ff(c),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:p,layoutScroll:d,layoutRoot:f})}function rW(e){if(e)return e.options.allowProjection!==!1?e.projection:rW(e.parent)}function bS(e,{forwardMotionProps:t=!1}={},n,r){n&&lSe(n);const i=XA(e)?_Se:NSe;function a(c,d){let f;const p={...w.useContext(VY),...c,layoutId:RSe(c)},{isStatic:m}=p,g=pSe(c),v=i(c,m);if(!m&&CA){MSe();const b=LSe(p);f=b.MeasureLayout,g.visualElement=$Se(e,v,p,r,b.ProjectionNode)}return o.jsxs(L2.Provider,{value:g,children:[f&&g.visualElement?o.jsx(f,{visualElement:g.visualElement,...p}):null,ASe(e,c,DSe(v,g.visualElement,d),v,m,t)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const s=w.forwardRef(a);return s[PSe]=e,s}function RSe({layoutId:e}){const t=w.useContext(eY).id;return t&&e!==void 0?t+"-"+e:e}function MSe(e,t){w.useContext(qY).strict}function LSe(e){const{drag:t,layout:n}=ep;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function FSe(e,t){if(typeof Proxy>"u")return bS;const n=new Map,r=(a,s)=>bS(a,s,e,t),i=(a,s)=>r(a,s);return new Proxy(i,{get:(a,s)=>s==="create"?r:(n.has(s)||n.set(s,bS(s,void 0,e,t)),n.get(s))})}function iW({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function BSe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function zSe(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function xS(e){return e===void 0||e===1}function FC({scale:e,scaleX:t,scaleY:n}){return!xS(e)||!xS(t)||!xS(n)}function hu(e){return FC(e)||aW(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function aW(e){return bI(e.x)||bI(e.y)}function bI(e){return e&&e!=="0%"}function wx(e,t,n){const r=e-n,i=t*r;return n+i}function xI(e,t,n,r,i){return i!==void 0&&(e=wx(e,i,r)),wx(e,n,r)+t}function BC(e,t=0,n=1,r,i){e.min=xI(e.min,t,n,r,i),e.max=xI(e.max,t,n,r,i)}function oW(e,{x:t,y:n}){BC(e.x,t.translate,t.scale,t.originPoint),BC(e.y,n.translate,n.scale,n.originPoint)}const wI=.999999999999,SI=1.0000000000001;function USe(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let a,s;for(let c=0;c<i;c++){a=n[c],s=a.projectionDelta;const{visualElement:d}=a.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&hf(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,oW(e,s)),r&&hu(a.latestValues)&&hf(e,a.latestValues))}t.x<SI&&t.x>wI&&(t.x=1),t.y<SI&&t.y>wI&&(t.y=1)}function pf(e,t){e.min=e.min+t,e.max=e.max+t}function CI(e,t,n,r,i=.5){const a=Nn(e.min,e.max,i);BC(e,t,n,a,r)}function hf(e,t){CI(e.x,t.x,t.scaleX,t.scale,t.originX),CI(e.y,t.y,t.scaleY,t.scale,t.originY)}function sW(e,t){return iW(zSe(e.getBoundingClientRect(),t))}function HSe(e,t,n){const r=sW(e,n),{scroll:i}=t;return i&&(pf(r.x,i.offset.x),pf(r.y,i.offset.y)),r}const jI=()=>({translate:0,scale:1,origin:0,originPoint:0}),mf=()=>({x:jI(),y:jI()}),TI=()=>({min:0,max:0}),Vn=()=>({x:TI(),y:TI()}),zC={current:null},lW={current:!1};function VSe(){if(lW.current=!0,!!CA)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>zC.current=e.matches;e.addEventListener("change",t),t()}else zC.current=!1}const qSe=new WeakMap;function YSe(e,t,n){for(const r in t){const i=t[r],a=n[r];if(Mr(i))e.addValue(r,i);else if(Mr(a))e.addValue(r,Jf(i,{owner:e}));else if(a!==i)if(e.hasValue(r)){const s=e.getValue(r);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=e.getStaticValue(r);e.addValue(r,Jf(s!==void 0?s:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const AI=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class WSe{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:s},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=zA,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=li.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,Sn.render(this.render,!1,!0))};const{latestValues:d,renderState:f}=s;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=f,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=B2(n),this.isVariantNode=WY(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in m){const v=m[g];d[g]!==void 0&&Mr(v)&&v.set(d[g])}}mount(t){this.current=t,qSe.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),lW.current||VSe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:zC.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ac(this.notifyUpdate),ac(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Dp.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&Sn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ep){const n=ep[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Vn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<AI.length;r++){const i=AI[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,s=t[a];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=YSe(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Jf(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(tY(r)||rY(r))?r=parseFloat(r):!oSe(r)&&oc.test(n)&&(r=LY(t,n)),this.setBaseTarget(t,Mr(r)?r.get():r)),Mr(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=QA(this.props,n,this.presenceContext?.custom);a&&(r=a[t])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Mr(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new NA),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){VA.render(this.render)}}class cW extends WSe{constructor(){super(...arguments),this.KeyframeResolver=W6e}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Mr(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function uW(e,{style:t,vars:n},r,i){const a=e.style;let s;for(s in t)a[s]=t[s];i?.applyProjectionStyles(a,r);for(s in n)a.setProperty(s,n[s])}function GSe(e){return window.getComputedStyle(e)}class KSe extends cW{constructor(){super(...arguments),this.type="html",this.renderInstance=uW}readValueFromInstance(t,n){if(Dp.has(n))return this.projection?.isProjecting?DC(n):f6e(t,n);{const r=GSe(t),i=(DA(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return sW(t,n)}build(t,n,r){GA(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return ZA(t,n,r)}}const dW=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function XSe(e,t,n,r){uW(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(dW.has(i)?i:JA(i),t.attrs[i])}class QSe extends cW{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Vn}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Dp.has(n)){const r=MY(n);return r&&r.default||0}return n=dW.has(n)?n:JA(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return eW(t,n,r)}build(t,n,r){XY(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,i){XSe(t,n,r,i)}mount(t){this.isSVGTag=ZY(t.tagName),super.mount(t)}}const ZSe=(e,t)=>XA(e)?new QSe(t):new KSe(t,{allowProjection:e!==w.Fragment});function Of(e,t,n){const r=e.getProps();return QA(r,t,n!==void 0?n:r.custom,e)}const UC=e=>Array.isArray(e);function JSe(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Jf(n))}function e8e(e){return UC(e)?e[e.length-1]||0:e}function t8e(e,t){const n=Of(e,t);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const s in a){const c=e8e(a[s]);JSe(e,s,c)}}function n8e(e){return!!(Mr(e)&&e.add)}function HC(e,t){const n=e.getValue("willChange");if(n8e(n))return n.add(t);if(!n&&zs.WillChange){const r=new zs.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function fW(e){return e.props[tW]}const r8e=e=>e!==null;function i8e(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(r8e),a=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[a]}const a8e={type:"spring",stiffness:500,damping:25,restSpeed:10},o8e=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),s8e={type:"keyframes",duration:.8},l8e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},c8e=(e,{keyframes:t})=>t.length>2?s8e:Dp.has(e)?e.startsWith("scale")?o8e(t[1]):a8e:l8e;function u8e({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:c,from:d,elapsed:f,...p}){return!!Object.keys(p).length}const ek=(e,t,n,r={},i,a)=>s=>{const c=UA(r,e)||{},d=c.delay||r.delay||0;let{elapsed:f=0}=r;f=f-_o(d);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-f,onUpdate:g=>{t.set(g),c.onUpdate&&c.onUpdate(g)},onComplete:()=>{s(),c.onComplete&&c.onComplete()},name:e,motionValue:t,element:a?void 0:i};u8e(c)||Object.assign(p,c8e(e,p)),p.duration&&(p.duration=_o(p.duration)),p.repeatDelay&&(p.repeatDelay=_o(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let m=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(MC(p),p.delay===0&&(m=!0)),(zs.instantAnimations||zs.skipAnimations)&&(m=!0,MC(p),p.delay=0),p.allowFlatten=!c.type&&!c.ease,m&&!a&&t.get()!==void 0){const g=i8e(p.keyframes,c);if(g!==void 0){Sn.update(()=>{p.onUpdate(g),p.onComplete()});return}}return c.isSync?new BA(p):new I6e(p)};function d8e({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function pW(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:s,...c}=t;r&&(a=r);const d=[],f=i&&e.animationState&&e.animationState.getState()[i];for(const p in c){const m=e.getValue(p,e.latestValues[p]??null),g=c[p];if(g===void 0||f&&d8e(f,p))continue;const v={delay:n,...UA(a||{},p)},b=m.get();if(b!==void 0&&!m.isAnimating&&!Array.isArray(g)&&g===b&&!v.velocity)continue;let C=!1;if(window.MotionHandoffAnimation){const A=fW(e);if(A){const k=window.MotionHandoffAnimation(A,p,Sn);k!==null&&(v.startTime=k,C=!0)}}HC(e,p),m.start(ek(p,m,g,e.shouldReduceMotion&&$Y.has(p)?{type:!1}:v,e,C));const j=m.animation;j&&d.push(j)}return s&&Promise.all(d).then(()=>{Sn.update(()=>{s&&t8e(e,s)})}),d}function hW(e,t,n,r=0,i=1){const a=Array.from(e).sort((f,p)=>f.sortNodePosition(p)).indexOf(t),s=e.size,c=(s-1)*r;return typeof n=="function"?n(a,s):i===1?a*r:c-a*r}function VC(e,t,n={}){const r=Of(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(pW(e,r,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:m}=i;return f8e(e,t,d,f,p,m,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[d,f]=c==="beforeChildren"?[a,s]:[s,a];return d().then(()=>f())}else return Promise.all([a(),s(n.delay)])}function f8e(e,t,n=0,r=0,i=0,a=1,s){const c=[];for(const d of e.variantChildren)d.notify("AnimationStart",t),c.push(VC(d,t,{...s,delay:n+(typeof r=="function"?0:r)+hW(e.variantChildren,d,r,i,a)}).then(()=>d.notify("AnimationComplete",t)));return Promise.all(c)}function p8e(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(a=>VC(e,a,n));r=Promise.all(i)}else if(typeof t=="string")r=VC(e,t,n);else{const i=typeof t=="function"?Of(e,t,n.custom):t;r=Promise.all(pW(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function mW(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const h8e=WA.length;function gW(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?gW(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<h8e;n++){const r=WA[n],i=e.props[r];(ug(i)||i===!1)&&(t[r]=i)}return t}const m8e=[...YA].reverse(),g8e=YA.length;function y8e(e){return t=>Promise.all(t.map(({animation:n,options:r})=>p8e(e,n,r)))}function v8e(e){let t=y8e(e),n=kI(),r=!0;const i=d=>(f,p)=>{const m=Of(e,p,d==="exit"?e.presenceContext?.custom:void 0);if(m){const{transition:g,transitionEnd:v,...b}=m;f={...f,...b,...v}}return f};function a(d){t=d(e)}function s(d){const{props:f}=e,p=gW(e.parent)||{},m=[],g=new Set;let v={},b=1/0;for(let j=0;j<g8e;j++){const A=m8e[j],k=n[A],E=f[A]!==void 0?f[A]:p[A],P=ug(E),$=A===d?k.isActive:null;$===!1&&(b=j);let F=E===p[A]&&E!==f[A]&&P;if(F&&r&&e.manuallyAnimateOnMount&&(F=!1),k.protectedKeys={...v},!k.isActive&&$===null||!E&&!k.prevProp||F2(E)||typeof E=="boolean")continue;const O=b8e(k.prevProp,E);let _=O||A===d&&k.isActive&&!F&&P||j>b&&P,D=!1;const L=Array.isArray(E)?E:[E];let R=L.reduce(i(A),{});$===!1&&(R={});const{prevResolvedValues:M={}}=k,H={...M,...R},W=te=>{_=!0,g.has(te)&&(D=!0,g.delete(te)),k.needsAnimating[te]=!0;const K=e.getValue(te);K&&(K.liveStyle=!1)};for(const te in H){const K=R[te],z=M[te];if(v.hasOwnProperty(te))continue;let V=!1;UC(K)&&UC(z)?V=!mW(K,z):V=K!==z,V?K!=null?W(te):g.add(te):K!==void 0&&g.has(te)?W(te):k.protectedKeys[te]=!0}k.prevProp=E,k.prevResolvedValues=R,k.isActive&&(v={...v,...R}),r&&e.blockInitialAnimation&&(_=!1);const fe=F&&O;_&&(!fe||D)&&m.push(...L.map(te=>{const K={type:A};if(typeof te=="string"&&r&&!fe&&e.manuallyAnimateOnMount&&e.parent){const{parent:z}=e,V=Of(z,te);if(z.enteringChildren&&V){const{delayChildren:Z}=V.transition||{};K.delay=hW(z.enteringChildren,e,Z)}}return{animation:te,options:K}}))}if(g.size){const j={};if(typeof f.initial!="boolean"){const A=Of(e,Array.isArray(f.initial)?f.initial[0]:f.initial);A&&A.transition&&(j.transition=A.transition)}g.forEach(A=>{const k=e.getBaseTarget(A),E=e.getValue(A);E&&(E.liveStyle=!0),j[A]=k??null}),m.push({animation:j})}let C=!!m.length;return r&&(f.initial===!1||f.initial===f.animate)&&!e.manuallyAnimateOnMount&&(C=!1),r=!1,C?t(m):Promise.resolve()}function c(d,f){if(n[d].isActive===f)return Promise.resolve();e.variantChildren?.forEach(m=>m.animationState?.setActive(d,f)),n[d].isActive=f;const p=s(d);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:s,setActive:c,setAnimateFunction:a,getState:()=>n,reset:()=>{n=kI()}}}function b8e(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!mW(t,e):!1}function su(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function kI(){return{animate:su(!0),whileInView:su(),whileHover:su(),whileTap:su(),whileDrag:su(),whileFocus:su(),exit:su()}}class wc{constructor(t){this.isMounted=!1,this.node=t}update(){}}class x8e extends wc{constructor(t){super(t),t.animationState||(t.animationState=v8e(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();F2(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let w8e=0;class S8e extends wc{constructor(){super(...arguments),this.id=w8e++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const C8e={animation:{Feature:x8e},exit:{Feature:S8e}};function fg(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function m0(e){return{point:{x:e.pageX,y:e.pageY}}}const j8e=e=>t=>qA(t)&&e(t,m0(t));function Bm(e,t,n,r){return fg(e,t,j8e(n),r)}const yW=1e-4,T8e=1-yW,A8e=1+yW,vW=.01,k8e=0-vW,E8e=0+vW;function Yr(e){return e.max-e.min}function N8e(e,t,n){return Math.abs(e-t)<=n}function EI(e,t,n,r=.5){e.origin=r,e.originPoint=Nn(t.min,t.max,e.origin),e.scale=Yr(n)/Yr(t),e.translate=Nn(n.min,n.max,e.origin)-e.originPoint,(e.scale>=T8e&&e.scale<=A8e||isNaN(e.scale))&&(e.scale=1),(e.translate>=k8e&&e.translate<=E8e||isNaN(e.translate))&&(e.translate=0)}function zm(e,t,n,r){EI(e.x,t.x,n.x,r?r.originX:void 0),EI(e.y,t.y,n.y,r?r.originY:void 0)}function NI(e,t,n){e.min=n.min+t.min,e.max=e.min+Yr(t)}function _8e(e,t,n){NI(e.x,t.x,n.x),NI(e.y,t.y,n.y)}function _I(e,t,n){e.min=t.min-n.min,e.max=e.min+Yr(t)}function Um(e,t,n){_I(e.x,t.x,n.x),_I(e.y,t.y,n.y)}function ta(e){return[e("x"),e("y")]}const bW=({current:e})=>e?e.ownerDocument.defaultView:null,PI=(e,t)=>Math.abs(e-t);function P8e(e,t){const n=PI(e.x,t.x),r=PI(e.y,t.y);return Math.sqrt(n**2+r**2)}class xW{constructor(t,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:s=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=SS(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,b=P8e(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!b)return;const{point:C}=g,{timestamp:j}=Tr;this.history.push({...C,timestamp:j});const{onStart:A,onMove:k}=this.handlers;v||(A&&A(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,g)},this.handlePointerMove=(g,v)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=wS(v,this.transformPagePoint),Sn.update(this.updatePoint,!0)},this.handlePointerUp=(g,v)=>{this.end();const{onEnd:b,onSessionEnd:C,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=SS(g.type==="pointercancel"?this.lastMoveEventInfo:wS(v,this.transformPagePoint),this.history);this.startEvent&&b&&b(g,A),C&&C(g,A)},!qA(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=s,this.contextWindow=i||window;const c=m0(t),d=wS(c,this.transformPagePoint),{point:f}=d,{timestamp:p}=Tr;this.history=[{...f,timestamp:p}];const{onSessionStart:m}=n;m&&m(t,SS(d,this.history)),this.removeListeners=f0(Bm(this.contextWindow,"pointermove",this.handlePointerMove),Bm(this.contextWindow,"pointerup",this.handlePointerUp),Bm(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ac(this.updatePoint)}}function wS(e,t){return t?{point:t(e.point)}:e}function DI(e,t){return{x:e.x-t.x,y:e.y-t.y}}function SS({point:e},t){return{point:e,delta:DI(e,wW(t)),offset:DI(e,D8e(t)),velocity:O8e(t,.1)}}function D8e(e){return e[0]}function wW(e){return e[e.length-1]}function O8e(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=wW(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>_o(t)));)n--;if(!r)return{x:0,y:0};const a=oa(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const s={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function $8e(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Nn(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Nn(n,e,r.max):Math.min(e,n)),e}function OI(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function I8e(e,{top:t,left:n,bottom:r,right:i}){return{x:OI(e.x,n,i),y:OI(e.y,t,r)}}function $I(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function R8e(e,t){return{x:$I(e.x,t.x),y:$I(e.y,t.y)}}function M8e(e,t){let n=.5;const r=Yr(e),i=Yr(t);return i>r?n=sg(t.min,t.max-r,e.min):r>i&&(n=sg(e.min,e.max-i,t.min)),Bs(0,1,n)}function L8e(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const qC=.35;function F8e(e=qC){return e===!1?e=0:e===!0&&(e=qC),{x:II(e,"left","right"),y:II(e,"top","bottom")}}function II(e,t,n){return{min:RI(e,t),max:RI(e,n)}}function RI(e,t){return typeof e=="number"?e:e[t]||0}const B8e=new WeakMap;class z8e{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Vn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=m=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(m0(m).point)},s=(m,g)=>{const{drag:v,dragPropagation:b,onDragStart:C}=this.getProps();if(v&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Z6e(v),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ta(A=>{let k=this.getAxisMotionValue(A).get()||0;if(Po.test(k)){const{projection:E}=this.visualElement;if(E&&E.layout){const P=E.layout.layoutBox[A];P&&(k=Yr(P)*(parseFloat(k)/100))}}this.originPoint[A]=k}),C&&Sn.postRender(()=>C(m,g)),HC(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},c=(m,g)=>{this.latestPointerEvent=m,this.latestPanInfo=g;const{dragPropagation:v,dragDirectionLock:b,onDirectionLock:C,onDrag:j}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:A}=g;if(b&&this.currentDirection===null){this.currentDirection=U8e(A),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",g.point,A),this.updateAxis("y",g.point,A),this.visualElement.render(),j&&j(m,g)},d=(m,g)=>{this.latestPointerEvent=m,this.latestPanInfo=g,this.stop(m,g),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>ta(m=>this.getAnimationState(m)==="paused"&&this.getAxisMotionValue(m).animation?.play()),{dragSnapToOrigin:p}=this.getProps();this.panSession=new xW(t,{onSessionStart:a,onStart:s,onMove:c,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:r,contextWindow:bW(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,i=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!r)return;const{velocity:s}=i;this.startAnimation(s);const{onDragEnd:c}=this.getProps();c&&Sn.postRender(()=>c(r,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!u1(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=$8e(s,this.constraints[t],this.elastic[t])),a.set(s)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;t&&ff(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=I8e(r.layoutBox,t):this.constraints=!1,this.elastic=F8e(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ta(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=L8e(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!ff(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=HSe(r,i.root,this.visualElement.getTransformPagePoint());let s=R8e(i.layout.layoutBox,a);if(n){const c=n(BSe(s));this.hasMutatedConstraints=!!c,c&&(s=iW(c))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},f=ta(p=>{if(!u1(p,n,this.currentDirection))return;let m=d&&d[p]||{};s&&(m={min:0,max:0});const g=i?200:1e6,v=i?40:1e7,b={type:"inertia",velocity:r?t[p]:0,bounceStiffness:g,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...a,...m};return this.startAxisValueAnimation(p,b)});return Promise.all(f).then(c)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return HC(this.visualElement,t),r.start(ek(t,r,0,n,this.visualElement,!1))}stopAnimation(){ta(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ta(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){ta(n=>{const{drag:r}=this.getProps();if(!u1(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:c}=i.layout.layoutBox[n];a.set(t[n]-Nn(s,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ff(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ta(s=>{const c=this.getAxisMotionValue(s);if(c&&this.constraints!==!1){const d=c.get();i[s]=M8e({min:d,max:d},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ta(s=>{if(!u1(s,t,null))return;const c=this.getAxisMotionValue(s),{min:d,max:f}=this.constraints[s];c.set(Nn(d,f,i[s]))})}addListeners(){if(!this.visualElement.current)return;B8e.set(this.visualElement,this);const t=this.visualElement.current,n=Bm(t,"pointerdown",d=>{const{drag:f,dragListener:p=!0}=this.getProps();f&&p&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();ff(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Sn.read(r);const s=fg(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(ta(p=>{const m=this.getAxisMotionValue(p);m&&(this.originPoint[p]+=d[p].translate,m.set(m.get()+d[p].translate))}),this.visualElement.render())}));return()=>{s(),n(),a(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:s=qC,dragMomentum:c=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:s,dragMomentum:c}}}function u1(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function U8e(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class H8e extends wc{constructor(t){super(t),this.removeGroupControls=la,this.removeListeners=la,this.controls=new z8e(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||la}unmount(){this.removeGroupControls(),this.removeListeners()}}const MI=e=>(t,n)=>{e&&Sn.postRender(()=>e(t,n))};class V8e extends wc{constructor(){super(...arguments),this.removePointerDownListener=la}onPointerDown(t){this.session=new xW(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:bW(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:MI(t),onStart:MI(n),onMove:r,onEnd:(a,s)=>{delete this.session,i&&Sn.postRender(()=>i(a,s))}}}mount(){this.removePointerDownListener=Bm(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Kv={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function LI(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Zh={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ht.test(e))e=parseFloat(e);else return e;const n=LI(e,t.target.x),r=LI(e,t.target.y);return`${n}% ${r}%`}},q8e={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=oc.parse(e);if(i.length>5)return r;const a=oc.createTransformer(e),s=typeof i[0]!="number"?1:0,c=n.x.scale*t.x,d=n.y.scale*t.y;i[0+s]/=c,i[1+s]/=d;const f=Nn(c,d,.5);return typeof i[2+s]=="number"&&(i[2+s]/=f),typeof i[3+s]=="number"&&(i[3+s]/=f),a(i)}};let CS=!1;class Y8e extends w.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=t;hSe(W8e),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),CS&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Kv.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,{projection:s}=r;return s&&(s.isPresent=a,CS=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==a?s.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?s.promote():s.relegate()||Sn.postRender(()=>{const c=s.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),VA.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;CS=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function SW(e){const[t,n]=sSe(),r=w.useContext(eY);return o.jsx(Y8e,{...e,layoutGroup:r,switchLayoutGroup:w.useContext(nW),isPresent:t,safeToRemove:n})}const W8e={borderRadius:{...Zh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Zh,borderTopRightRadius:Zh,borderBottomLeftRadius:Zh,borderBottomRightRadius:Zh,boxShadow:q8e};function G8e(e,t,n){const r=Mr(e)?e:Jf(e);return r.start(ek("",r,t,n)),r.animation}const K8e=(e,t)=>e.depth-t.depth;class X8e{constructor(){this.children=[],this.isDirty=!1}add(t){TA(this.children,t),this.isDirty=!0}remove(t){AA(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(K8e),this.isDirty=!1,this.children.forEach(t)}}function Q8e(e,t){const n=li.now(),r=({timestamp:i})=>{const a=i-n;a>=t&&(ac(r),e(a-t))};return Sn.setup(r,!0),()=>ac(r)}const CW=["TopLeft","TopRight","BottomLeft","BottomRight"],Z8e=CW.length,FI=e=>typeof e=="string"?parseFloat(e):e,BI=e=>typeof e=="number"||ht.test(e);function J8e(e,t,n,r,i,a){i?(e.opacity=Nn(0,n.opacity??1,eCe(r)),e.opacityExit=Nn(t.opacity??1,0,tCe(r))):a&&(e.opacity=Nn(t.opacity??1,n.opacity??1,r));for(let s=0;s<Z8e;s++){const c=`border${CW[s]}Radius`;let d=zI(t,c),f=zI(n,c);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||BI(d)===BI(f)?(e[c]=Math.max(Nn(FI(d),FI(f),r),0),(Po.test(f)||Po.test(d))&&(e[c]+="%")):e[c]=f}(t.rotate||n.rotate)&&(e.rotate=Nn(t.rotate||0,n.rotate||0,r))}function zI(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const eCe=jW(0,.5,dY),tCe=jW(.5,.95,la);function jW(e,t,n){return r=>r<e?0:r>t?1:n(sg(e,t,r))}function UI(e,t){e.min=t.min,e.max=t.max}function Ji(e,t){UI(e.x,t.x),UI(e.y,t.y)}function HI(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function VI(e,t,n,r,i){return e-=t,e=wx(e,1/n,r),i!==void 0&&(e=wx(e,1/i,r)),e}function nCe(e,t=0,n=1,r=.5,i,a=e,s=e){if(Po.test(t)&&(t=parseFloat(t),t=Nn(s.min,s.max,t/100)-s.min),typeof t!="number")return;let c=Nn(a.min,a.max,r);e===a&&(c-=t),e.min=VI(e.min,t,n,c,i),e.max=VI(e.max,t,n,c,i)}function qI(e,t,[n,r,i],a,s){nCe(e,t[n],t[r],t[i],t.scale,a,s)}const rCe=["x","scaleX","originX"],iCe=["y","scaleY","originY"];function YI(e,t,n,r){qI(e.x,t,rCe,n?n.x:void 0,r?r.x:void 0),qI(e.y,t,iCe,n?n.y:void 0,r?r.y:void 0)}function WI(e){return e.translate===0&&e.scale===1}function TW(e){return WI(e.x)&&WI(e.y)}function GI(e,t){return e.min===t.min&&e.max===t.max}function aCe(e,t){return GI(e.x,t.x)&&GI(e.y,t.y)}function KI(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function AW(e,t){return KI(e.x,t.x)&&KI(e.y,t.y)}function XI(e){return Yr(e.x)/Yr(e.y)}function QI(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class oCe{constructor(){this.members=[]}add(t){TA(this.members,t),t.scheduleRender()}remove(t){if(AA(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function sCe(e,t,n){let r="";const i=e.x.translate/t.x,a=e.y.translate/t.y,s=n?.z||0;if((i||a||s)&&(r=`translate3d(${i}px, ${a}px, ${s}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:f,rotate:p,rotateX:m,rotateY:g,skewX:v,skewY:b}=n;f&&(r=`perspective(${f}px) ${r}`),p&&(r+=`rotate(${p}deg) `),m&&(r+=`rotateX(${m}deg) `),g&&(r+=`rotateY(${g}deg) `),v&&(r+=`skewX(${v}deg) `),b&&(r+=`skewY(${b}deg) `)}const c=e.x.scale*t.x,d=e.y.scale*t.y;return(c!==1||d!==1)&&(r+=`scale(${c}, ${d})`),r||"none"}const jS=["","X","Y","Z"],lCe=1e3;let cCe=0;function TS(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function kW(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=fW(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Sn,!(i||a))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&kW(r)}function EW({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},c=t?.()){this.id=cCe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(fCe),this.nodes.forEach(gCe),this.nodes.forEach(yCe),this.nodes.forEach(pCe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new X8e)}addEventListener(s,c){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new NA),this.eventHandlers.get(s).add(c)}notifyListeners(s,...c){const d=this.eventHandlers.get(s);d&&d.notify(...c)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=HY(s)&&!iSe(s),this.instance=s;const{layoutId:c,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),e){let p,m=0;const g=()=>this.root.updateBlockedByResize=!1;Sn.read(()=>{m=window.innerWidth}),e(s,()=>{const v=window.innerWidth;v!==m&&(m=v,this.root.updateBlockedByResize=!0,p&&p(),p=Q8e(g,250),Kv.hasAnimatedSinceResize&&(Kv.hasAnimatedSinceResize=!1,this.nodes.forEach(eR)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&f&&(c||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:m,hasRelativeLayoutChanged:g,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||f.getDefaultTransition()||SCe,{onLayoutAnimationStart:C,onLayoutAnimationComplete:j}=f.getProps(),A=!this.targetLayout||!AW(this.targetLayout,v),k=!m&&g;if(this.options.layoutRoot||this.resumeFrom||k||m&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...UA(b,"layout"),onPlay:C,onComplete:j};(f.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(p,k)}else m||eR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ac(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(vCe),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&kW(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const m=this.path[p];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ZI);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(JI);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(mCe),this.nodes.forEach(uCe),this.nodes.forEach(dCe)):this.nodes.forEach(JI),this.clearAllSnapshots();const c=li.now();Tr.delta=Bs(0,1e3/60,c-Tr.timestamp),Tr.timestamp=c,Tr.isProcessing=!0,pS.update.process(Tr),pS.preRender.process(Tr),pS.render.process(Tr),Tr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,VA.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(hCe),this.sharedNodes.forEach(bCe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Sn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Sn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Yr(this.snapshot.measuredBox.x)&&!Yr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Vn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(c=!1),c&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!TW(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,p=f!==this.prevTransformTemplateValue;s&&this.instance&&(c||hu(this.latestValues)||p)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return s&&(d=this.removeTransform(d)),CCe(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return Vn();const c=s.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(jCe))){const{scroll:f}=this.root;f&&(pf(c.x,f.offset.x),pf(c.y,f.offset.y))}return c}removeElementScroll(s){const c=Vn();if(Ji(c,s),this.scroll?.wasRoot)return c;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:p,options:m}=f;f!==this.root&&p&&m.layoutScroll&&(p.wasRoot&&Ji(c,s),pf(c.x,p.offset.x),pf(c.y,p.offset.y))}return c}applyTransform(s,c=!1){const d=Vn();Ji(d,s);for(let f=0;f<this.path.length;f++){const p=this.path[f];!c&&p.options.layoutScroll&&p.scroll&&p!==p.root&&hf(d,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),hu(p.latestValues)&&hf(d,p.latestValues)}return hu(this.latestValues)&&hf(d,this.latestValues),d}removeTransform(s){const c=Vn();Ji(c,s);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!hu(f.latestValues))continue;FC(f.latestValues)&&f.updateSnapshot();const p=Vn(),m=f.measurePageBox();Ji(p,m),YI(c,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,p)}return hu(this.latestValues)&&YI(c,this.latestValues),c}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Tr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(s||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:m}=this.options;if(!(!this.layout||!(p||m))){if(this.resolvedRelativeTargetAt=Tr.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Vn(),this.relativeTargetOrigin=Vn(),Um(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Ji(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Vn(),this.targetWithTransforms=Vn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_8e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ji(this.target,this.layout.layoutBox),oW(this.target,this.targetDelta)):Ji(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Vn(),this.relativeTargetOrigin=Vn(),Um(this.relativeTargetOrigin,this.target,g.target),Ji(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||FC(this.parent.latestValues)||aW(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const s=this.getLead(),c=!!this.resumingFrom||this!==s;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Tr.timestamp&&(d=!1),d)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;Ji(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,g=this.treeScale.y;USe(this.layoutCorrected,this.treeScale,this.path,c),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=Vn());const{target:v}=s;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(HI(this.prevProjectionDelta.x,this.projectionDelta.x),HI(this.prevProjectionDelta.y,this.projectionDelta.y)),zm(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==g||!QI(this.projectionDelta.x,this.prevProjectionDelta.x)||!QI(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.visualElement?.scheduleRender(),s){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=mf(),this.projectionDelta=mf(),this.projectionDeltaWithTransform=mf()}setAnimationOrigin(s,c=!1){const d=this.snapshot,f=d?d.latestValues:{},p={...this.latestValues},m=mf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const g=Vn(),v=d?d.source:void 0,b=this.layout?this.layout.source:void 0,C=v!==b,j=this.getStack(),A=!j||j.members.length<=1,k=!!(C&&!A&&this.options.crossfade===!0&&!this.path.some(wCe));this.animationProgress=0;let E;this.mixTargetDelta=P=>{const $=P/1e3;tR(m.x,s.x,$),tR(m.y,s.y,$),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Um(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),xCe(this.relativeTarget,this.relativeTargetOrigin,g,$),E&&aCe(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Vn()),Ji(E,this.relativeTarget)),C&&(this.animationValues=p,J8e(p,f,this.latestValues,$,k,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=$},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ac(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Sn.update(()=>{Kv.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Jf(0)),this.currentAnimation=G8e(this.motionValue,[0,1e3],{...s,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),s.onUpdate&&s.onUpdate(c)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(lCe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:c,target:d,layout:f,latestValues:p}=s;if(!(!c||!d||!f)){if(this!==s&&this.layout&&f&&NW(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||Vn();const m=Yr(this.layout.layoutBox.x);d.x.min=s.target.x.min,d.x.max=d.x.min+m;const g=Yr(this.layout.layoutBox.y);d.y.min=s.target.y.min,d.y.max=d.y.min+g}Ji(c,d),hf(c,p),zm(this.projectionDeltaWithTransform,this.layoutCorrected,c,p)}}registerSharedNode(s,c){this.sharedNodes.has(s)||this.sharedNodes.set(s,new oCe),this.sharedNodes.get(s).add(c);const f=c.options.initialPromotionConfig;c.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(c):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){const{layoutId:s}=this.options;return s?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:s}=this.options;return s?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:c,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),s&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let c=!1;const{latestValues:d}=s;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const f={};d.z&&TS("z",s,f,this.animationValues);for(let p=0;p<jS.length;p++)TS(`rotate${jS[p]}`,s,f,this.animationValues),TS(`skew${jS[p]}`,s,f,this.animationValues);s.render();for(const p in f)s.setStaticValue(p,f[p]),this.animationValues&&(this.animationValues[p]=f[p]);s.scheduleRender()}applyProjectionStyles(s,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){s.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,s.visibility="",s.opacity="",s.pointerEvents=Gv(c?.pointerEvents)||"",s.transform=d?d(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(s.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,s.pointerEvents=Gv(c?.pointerEvents)||""),this.hasProjected&&!hu(this.latestValues)&&(s.transform=d?d({},""):"none",this.hasProjected=!1);return}s.visibility="";const p=f.animationValues||f.latestValues;this.applyTransformsToTarget();let m=sCe(this.projectionDeltaWithTransform,this.treeScale,p);d&&(m=d(p,m)),s.transform=m;const{x:g,y:v}=this.projectionDelta;s.transformOrigin=`${g.origin*100}% ${v.origin*100}% 0`,f.animationValues?s.opacity=f===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:s.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const b in dg){if(p[b]===void 0)continue;const{correct:C,applyTo:j,isCSSVariable:A}=dg[b],k=m==="none"?p[b]:C(p[b],f);if(j){const E=j.length;for(let P=0;P<E;P++)s[j[P]]=k}else A?this.options.visualElement.renderState.vars[b]=k:s[b]=k}this.options.layoutId&&(s.pointerEvents=f===this?Gv(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>s.currentAnimation?.stop()),this.root.nodes.forEach(ZI),this.root.sharedNodes.clear()}}}function uCe(e){e.updateLayout()}function dCe(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:i}=e.options,a=t.source!==e.layout.source;i==="size"?ta(p=>{const m=a?t.measuredBox[p]:t.layoutBox[p],g=Yr(m);m.min=n[p].min,m.max=m.min+g}):NW(i,t.layoutBox,n)&&ta(p=>{const m=a?t.measuredBox[p]:t.layoutBox[p],g=Yr(n[p]);m.max=m.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[p].max=e.relativeTarget[p].min+g)});const s=mf();zm(s,n,t.layoutBox);const c=mf();a?zm(c,e.applyTransform(r,!0),t.measuredBox):zm(c,n,t.layoutBox);const d=!TW(s);let f=!1;if(!e.resumeFrom){const p=e.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:m,layout:g}=p;if(m&&g){const v=Vn();Um(v,t.layoutBox,m.layoutBox);const b=Vn();Um(b,n,g.layoutBox),AW(v,b)||(f=!0),p.options.layoutRoot&&(e.relativeTarget=b,e.relativeTargetOrigin=v,e.relativeParent=p)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:s,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function fCe(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function pCe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function hCe(e){e.clearSnapshot()}function ZI(e){e.clearMeasurements()}function JI(e){e.isLayoutDirty=!1}function mCe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function eR(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function gCe(e){e.resolveTargetDelta()}function yCe(e){e.calcProjection()}function vCe(e){e.resetSkewAndRotation()}function bCe(e){e.removeLeadSnapshot()}function tR(e,t,n){e.translate=Nn(t.translate,0,n),e.scale=Nn(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function nR(e,t,n,r){e.min=Nn(t.min,n.min,r),e.max=Nn(t.max,n.max,r)}function xCe(e,t,n,r){nR(e.x,t.x,n.x,r),nR(e.y,t.y,n.y,r)}function wCe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const SCe={duration:.45,ease:[.4,0,.1,1]},rR=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),iR=rR("applewebkit/")&&!rR("chrome/")?Math.round:la;function aR(e){e.min=iR(e.min),e.max=iR(e.max)}function CCe(e){aR(e.x),aR(e.y)}function NW(e,t,n){return e==="position"||e==="preserve-aspect"&&!N8e(XI(t),XI(n),.2)}function jCe(e){return e!==e.root&&e.scroll?.wasRoot}const TCe=EW({attachResizeListener:(e,t)=>fg(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),AS={current:void 0},_W=EW({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!AS.current){const e=new TCe({});e.mount(window),e.setOptions({layoutScroll:!0}),AS.current=e}return AS.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),ACe={pan:{Feature:V8e},drag:{Feature:H8e,ProjectionNode:_W,MeasureLayout:SW}};function oR(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&Sn.postRender(()=>a(t,m0(t)))}class kCe extends wc{mount(){const{current:t}=this.node;t&&(this.unmount=J6e(t,(n,r)=>(oR(this.node,r,"Start"),i=>oR(this.node,i,"End"))))}unmount(){}}class ECe extends wc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=f0(fg(this.node.current,"focus",()=>this.onFocus()),fg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function sR(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&Sn.postRender(()=>a(t,m0(t)))}class NCe extends wc{mount(){const{current:t}=this.node;t&&(this.unmount=rSe(t,(n,r)=>(sR(this.node,r,"Start"),(i,{success:a})=>sR(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const YC=new WeakMap,kS=new WeakMap,_Ce=e=>{const t=YC.get(e.target);t&&t(e)},PCe=e=>{e.forEach(_Ce)};function DCe({root:e,...t}){const n=e||document;kS.has(n)||kS.set(n,{});const r=kS.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(PCe,{root:e,...t})),r[i]}function OCe(e,t,n){const r=DCe(t);return YC.set(e,n),r.observe(e),()=>{YC.delete(e),r.unobserve(e)}}const $Ce={some:0,all:1};class ICe extends wc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:$Ce[i]},c=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,a&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:p,onViewportLeave:m}=this.node.getProps(),g=f?p:m;g&&g(d)};return OCe(this.node.current,s,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(RCe(t,n))&&this.startObserver()}unmount(){}}function RCe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const MCe={inView:{Feature:ICe},tap:{Feature:NCe},focus:{Feature:ECe},hover:{Feature:kCe}},LCe={layout:{ProjectionNode:_W,MeasureLayout:SW}},FCe={...C8e,...MCe,...ACe,...LCe},BCe=FSe(FCe,ZSe),zCe=()=>{const e=wt(),{timeFrame:t,metrics:n,advancedMetrics:r,clinicAnalytics:i,prescriptionAnalytics:a,financeAnalytics:s,certificateAnalytics:c,feedbackAnalytics:d,growthAnalytics:f}=qe(le=>le.analytics);Fn();const p=localStorage.getItem("selectedClinicId");w.useEffect(()=>{p&&(e(dv({clinicId:p,timeFrame:t})),e(fv({clinicId:p,mode:t,limit:7})))},[p,t]),w.useEffect(()=>{if(!p)return;const le=setTimeout(()=>{e(pv({clinicId:p,mode:t,limit:7})),e(hv({clinicId:p,mode:t,limit:7})),e(mv({clinicId:p,mode:t,limit:7})),e(gv({clinicId:p,mode:t,limit:7})),e(yv({clinicId:p,mode:t,limit:7}))},600);return()=>clearTimeout(le)},[p,t]);const m=i?.trends||[],g=i?.peakHours||[],v=i?.newVsFollowUp||{};i?.seasonal;const b=i?.genderRatio||[],C=i?.followCompliance||[],j=i?.investigations||[],A=i?.ageWise||[],E=(n[t]||{}).data||{},{totalPatients:P=0,appointments:$=0,newPatients:F=0,followUpPatients:O=0,rating:_=0,revenue:D=0}=E||{},L=Math.floor(Number($||0)),R=r[t]||{};console.log("Advanced Metrics for",t,":",R);const H={Monthly:m.map(le=>({date:le.label,patients:le.count}))}.Monthly||[],W=g.map(le=>({time:le._id,patients:le.count}));console.log("Mapped consultation hours:",W);const fe=[{type:"New",percentage:v.newPatients||0,count:v.newPatients||0},{type:"Follow-up",percentage:v.followUpPatients||0,count:v.followUpPatients||0}],te=(r[t]?.diseaseTrends||[]).map(le=>({name:le._id,patients:le.count})),K=A.map(le=>({ageGroup:le._id,patients:le.count})),z=b.reduce((le,et)=>le+et.count,0),V=b.map(le=>({gender:le._id.charAt(0).toUpperCase()+le._id.slice(1),count:le.count,percentage:z?le.count/z*100:0}));console.log("Gender ratio data for chart:",V),C.map(le=>({interval:le._id,compliance:le.percentage||le.count}));const Z=j.map(le=>({test:le._id,count:le.count}));console.log("Investigation data for chart:",Z);const re=a?.mostPrescribedDrugs?.data||[],me=a?.doctorPrescriptionCount?.data||[],ge=a?.avgDrugsPerPrescription?.data||[],Pe=a?.genericVsBrand?.data||[],X=a?.costPerPrescription?.data||[],J=a?.drugSafetyAlerts?.data||[],ce=s?.revenueTrends?.data||[],ae=s?.doctorRevenue?.data||[],ne=s?.outstandingPayments?.data||[],G=s?.expenseReports?.data||[],ee=s?.profitLoss?.data||[];re.map(le=>({drug:le._id||le.drugName||"Unknown",count:le.count||0})),me.map(le=>({doctor:le._id||le.doctorName||"Unknown",prescriptions:le.count||0}));const ue=Pe.reduce((le,et)=>le+(et.count||0),0);Pe.map(le=>({type:le._id||"Unknown",percentage:ue?le.count/ue*100:0})),i?.revenueByService?.map(le=>({service:le._id||"Unknown",revenue:le.totalRevenue||0})),ge.map(le=>({department:le._id||le.doctorName||"Unknown",avgDrugs:le.count||0})),X.map(le=>({doctor:le._id||le.doctorName||"Unknown",cost:le.count||0})),J.map(le=>({alert:le._id||"Unknown",count:le.count||0}));const Ae={Monthly:ce.map(le=>({date:le.label||"Unknown",revenue:le.revenue||0}))},Ie=ae.map(le=>({doctor:le._id||"Unknown",revenue:le.revenue||0}));ne.map(le=>({entity:le._id||le.label||"Unknown",amount:le.pendingAmount||le.amount||0}));const De=G.map(le=>({type:le._id||le.type||"Unknown",amount:le.amount||0})),ye=ee.map(le=>({period:le.label||"Unknown",profit:le.netProfit||0})),Oe=c?.certificateTrends?.[0]?.data||[],Re=c?.turnaroundTrends?.[0]?.data||[];Oe.map(le=>({type:le.type||"Unknown",count:le.count||0})),Re.map(le=>({type:le.type||"Unknown",time:le.avgMinutes||0}));const it=d||[],ut=it.filter(le=>le.metric==="averageRating"||le.type==="rating").map(le=>({doctor:le.doctorName||le._id||"Unknown",rating:le.value||le.rating||0}))||[],ze=it.filter(le=>le.metric==="complaints"||le.type==="complaint").map(le=>({category:le.category||le._id||"Other",count:le.count||le.value||0}))||[],pe=it.filter(le=>le.metric==="nps"||le.type==="nps").map(le=>({category:le.category||le.label||"N/A",percentage:le.percentage||le.value||0}))||[];console.log(" Feedback Data Used in Charts:",ut,ze,pe),f?.yearOnYearPatientGrowth?.data?.map(le=>({year:le.year||"Unknown",growth:le.growthPercent||0})),f?.revenueGrowth?.data?.map(le=>({period:le.period||"Unknown",growth:le.growthPercent||0})),f?.newFollowupConversion?.data?.map(le=>({year:le.year||"Unknown",conversion:le.conversionPercent||0}));const ke=Ae[t]||Ae.Monthly||[],[st,ie]=w.useState(!1),we=()=>{ie(!st)},Ue=["#186476","#25bfdb","#ff9800","#6c757d"];return o.jsxs(o.Fragment,{children:[o.jsx("style",{jsx:!0,children:`
        .layout {
          display: flex;
          min-height: 100vh;
          overflow: hidden;
        }

        .page {
          padding: 40px 24px;
          font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
          background: linear-gradient(to right, #f8fbfd, #eef6fa);
          color: #2c3e50;
          min-height: 100vh;
          transition: margin-left 0.3s ease;
          margin-left: ${st?"250px":"0"};
          width: 100%;
        }

        .toggle-button {
          position: fixed;
          top: 20px;
          right: 20px;
          background: #186476;
          color: white;
          border: none;
          border-radius: 8px;
          padding: 10px;
          cursor: pointer;
          z-index: 1000;
          display: flex;
          align-items: center;
          justify-content: center;
          box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        .toggle-button:hover {
          background: #3fa3b9;
        }

        h1 {
          font-size: 2.5rem;
          font-weight: 700;
          text-align: center;
          margin-bottom: 40px;
          color: #03678f;
          letter-spacing: 0.03em;
          text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.08);
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 10px;
        }

        .card-container {
          display: flex;
          flex-wrap: wrap;
          gap: 22px;
          margin-bottom: 30px;
          justify-content: center;
        }

        .card {
          background: white;
          padding: 18px 25px;
          border-radius: 12px;
          box-shadow: 0 6px 16px rgba(0, 0, 0, 0.08);
          transition: all 0.35s ease;
          flex: 1 1 220px;
          text-align: center;
          min-width: 140px;
        }

        .card:hover {
          transform: translateY(-8px);
          box-shadow: 0 14px 26px rgba(0, 0, 0, 0.15);
        }

        .card-icon {
          font-size: 28px;
          color: #186476;
          margin-bottom: 10px;
        }

        .card-title {
          font-size: 13px;
          color: #666;
          margin-bottom: 8px;
        }

        .card-value {
          font-size: 22px;
          font-weight: 700;
          color: #003049;
        }

        .button-group {
          display: flex;
          gap: 10px;
          margin-bottom: 20px;
          justify-content: center;
        }

        .button {
          padding: 10px 15px;
          border-radius: 6px;
          border: none;
          background-color: #186476;
          color: white;
          cursor: pointer;
          font-size: 1rem;
        }

        .button:hover {
          background-color: #3fa3b9;
        }

        .button-active {
          background-color: #05668d;
        }

        .section {
          background: white;
          padding: 25px;
          border-radius: 12px;
          margin-bottom: 25px;
          box-shadow: 0 6px 16px rgba(0, 0, 0, 0.08);
          transition: all 0.35s ease;
        }

        .section:hover {
          transform: translateY(-8px);
          box-shadow: 0 14px 26px rgba(0, 0, 0, 0.15);
        }

        .section-header {
          font-size: 20px;
          font-weight: 600;
          margin-bottom: 15px;
          color: #05668d;
        }

        .chart-title {
          font-size: 16px;
          font-weight: 600;
          margin-bottom: 15px;
          color: #05668d;
        }

        .chart-container {
          width: 100%;
          height: 300px;
          margin-bottom: 20px;
        }

        .export-btn {
          padding: 10px 20px;
          border-radius: 6px;
          border: none;
          background-color: #6c757d;
          color: white;
          cursor: pointer;
          margin: 10px 5px 0 5px;
          font-size: 1rem;
        }

        .export-btn:hover {
          background-color: #5a6268;
        }

        .email-btn {
          padding: 10px 20px;
          border-radius: 6px;
          border: none;
          background-color: #ff9800;
          color: white;
          cursor: pointer;
          margin: 10px 5px 0 5px;
          font-size: 1rem;
        }

        .email-btn:hover {
          background-color: #e68900;
        }

        @media (max-width: 768px) {
          .page {
            margin-left: 0;
            padding: 24px 16px;
          }

          h1 {
            font-size: 2.2rem;
            margin-bottom: 30px;
          }

          .toggle-button {
            left: 10px;
            top: 10px;
          }

          .card-container {
            flex-direction: column;
            align-items: center;
          }

          .card {
            width: 100%;
            max-width: 300px;
          }

          .button-group {
            flex-direction: column;
            align-items: center;
          }

          .button {
            width: 100%;
            max-width: 200px;
          }
        }
      `}),o.jsxs("div",{className:"layout",children:[st&&o.jsx(Fo,{}),o.jsxs("div",{className:"page",role:"main","aria-label":"Clinical Analytics Dashboard",children:[o.jsx("button",{className:"toggle-button",onClick:we,"aria-label":st?"Close sidebar":"Open sidebar",children:o.jsx(pc,{size:10})}),o.jsxs("h1",{children:[o.jsx(Qm,{size:28})," Clinical Analytics Dashboard"]}),o.jsxs("div",{className:"card-container",children:[o.jsxs("div",{className:"card",children:[o.jsx(mue,{className:"card-icon"}),o.jsxs("div",{className:"card-title",children:["Total Patients (",t,")"]}),o.jsx("div",{className:"card-value",children:P})]}),o.jsxs("div",{className:"card",children:[o.jsx(qce,{className:"card-icon"}),o.jsxs("div",{className:"card-title",children:["Appointments (",t,")"]}),o.jsx("div",{className:"card-value",children:L})]}),o.jsxs("div",{className:"card",children:[o.jsx(gue,{className:"card-icon"}),o.jsx("div",{className:"card-title",children:"New Patients"}),o.jsx("div",{className:"card-value",children:F})]}),o.jsxs("div",{className:"card",children:[o.jsx(due,{className:"card-icon"}),o.jsx("div",{className:"card-title",children:"Follow-up Patients"}),o.jsx("div",{className:"card-value",children:O})]}),o.jsxs("div",{className:"card",children:[o.jsx(L8,{className:"card-icon"}),o.jsx("div",{className:"card-title",children:"Average Rating"}),o.jsxs("div",{className:"card-value",children:[Number(_||0).toFixed(1)," / 5"]})]}),o.jsxs("div",{className:"card",children:[o.jsx(Zce,{className:"card-icon"}),o.jsxs("div",{className:"card-title",children:["Revenue (",t,")"]}),o.jsxs("div",{className:"card-value",children:["",Number(D||0).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),o.jsx("div",{className:"button-group",children:["Daily","Weekly","Monthly"].map(le=>o.jsx("button",{className:`button ${t===le.toLowerCase()?"button-active":""}`,onClick:()=>e(ste(le.toLowerCase())),children:le},le))}),o.jsxs("div",{className:"section",children:[o.jsx("div",{className:"section-header",children:"Clinical Analytics"}),o.jsx("div",{className:"chart-title",children:"Patient Volume Trends"}),o.jsx("div",{className:"chart-container",children:o.jsx(Ta,{children:o.jsxs(fS,{data:H,children:[o.jsx(go,{strokeDasharray:"3 3",stroke:"#ccc"}),o.jsx(ka,{dataKey:"date",fontSize:14,stroke:"#2c3e50"}),o.jsx(Ea,{fontSize:14,stroke:"#2c3e50"}),o.jsx(ja,{contentStyle:{backgroundColor:"#fff",border:"1px solid #ccc",borderRadius:"6px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"}}),o.jsx(ii,{}),o.jsx(qv,{type:"monotone",dataKey:"patients",stroke:"#05668d",strokeWidth:3})]})})}),o.jsx("div",{className:"chart-title",children:"Peak Consultation Hours"}),o.jsx("div",{className:"chart-container",children:o.jsx(Ta,{children:o.jsxs(Qd,{data:W,children:[o.jsx(go,{strokeDasharray:"3 3",stroke:"#ccc"}),o.jsx(ka,{dataKey:"time",fontSize:14,stroke:"#2c3e50"}),o.jsx(Ea,{fontSize:14,stroke:"#2c3e50"}),o.jsx(ja,{contentStyle:{backgroundColor:"#fff",border:"1px solid #ccc",borderRadius:"6px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"}}),o.jsx(ii,{}),o.jsx(pu,{dataKey:"patients",fill:"#186476"})]})})}),o.jsx("div",{className:"chart-title",children:"New vs Follow-up Ratio"}),o.jsx("div",{className:"chart-container",children:o.jsx(Ta,{children:o.jsxs(X$,{children:[o.jsx(vC,{data:fe,dataKey:"percentage",nameKey:"type",outerRadius:80,label:!0,children:fe.map((le,et)=>o.jsx(Qf,{fill:Ue[et%Ue.length]},`cell-${et}`))}),o.jsx(ja,{formatter:le=>`${le}%`,contentStyle:{backgroundColor:"#fff",border:"1px solid #ccc",borderRadius:"6px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"}}),o.jsx(ii,{})]})})}),o.jsx("div",{className:"chart-title",children:"Disease Trends"}),o.jsx("div",{className:"chart-container",children:o.jsx(Ta,{children:o.jsxs(Qd,{data:te,children:[o.jsx(go,{strokeDasharray:"3 3",stroke:"#ccc"}),o.jsx(ka,{dataKey:"name",fontSize:14,stroke:"#2c3e50"}),o.jsx(Ea,{fontSize:14,stroke:"#2c3e50"}),o.jsx(ja,{contentStyle:{backgroundColor:"#fff",border:"1px solid #ccc",borderRadius:"6px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"}}),o.jsx(ii,{}),o.jsx(pu,{dataKey:"patients",fill:"#186476"})]})})}),o.jsx("div",{className:"chart-title",children:"Age-wise Disease Distribution"}),o.jsx("div",{className:"chart-container",children:o.jsx(Ta,{children:o.jsxs(Qd,{data:K,children:[o.jsx(go,{strokeDasharray:"3 3",stroke:"#ccc"}),o.jsx(ka,{dataKey:"ageGroup",fontSize:14,stroke:"#2c3e50"}),o.jsx(Ea,{fontSize:14,stroke:"#2c3e50"}),o.jsx(ja,{contentStyle:{backgroundColor:"#fff",border:"1px solid #ccc",borderRadius:"6px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"}}),o.jsx(ii,{}),o.jsx(pu,{dataKey:"patients",fill:"#186476"})]})})}),o.jsx("div",{className:"chart-title",children:"Gender Ratio"}),o.jsx("div",{className:"chart-container",children:o.jsx(Ta,{children:o.jsxs(X$,{children:[o.jsx(vC,{data:V,dataKey:"percentage",nameKey:"gender",outerRadius:80,label:!0,children:V.map((le,et)=>o.jsx(Qf,{fill:Ue[et%Ue.length]},`cell-${et}`))}),o.jsx(ja,{formatter:le=>`${le}%`,contentStyle:{backgroundColor:"#fff",border:"1px solid #ccc",borderRadius:"6px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"}}),o.jsx(ii,{})]})})}),o.jsx("div",{className:"chart-title",children:"Investigation Utilization"}),o.jsx("div",{className:"chart-container",children:o.jsx(Ta,{children:o.jsxs(Qd,{data:Z,children:[o.jsx(go,{strokeDasharray:"3 3",stroke:"#ccc"}),o.jsx(ka,{dataKey:"test",fontSize:14,stroke:"#2c3e50"}),o.jsx(Ea,{fontSize:14,stroke:"#2c3e50"}),o.jsx(ja,{contentStyle:{backgroundColor:"#fff",border:"1px solid #ccc",borderRadius:"6px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"}}),o.jsx(ii,{}),o.jsx(pu,{dataKey:"count",fill:"#186476"})]})})})]}),o.jsxs("div",{className:"section",children:[o.jsx("div",{className:"section-header",children:"Financial Analytics"}),o.jsx("div",{className:"chart-title",children:"Revenue Trends"}),o.jsx("div",{className:"chart-container",children:o.jsx(Ta,{children:o.jsxs(fS,{data:ke,children:[o.jsx(go,{strokeDasharray:"3 3",stroke:"#ccc"}),o.jsx(ka,{dataKey:"date",fontSize:14,stroke:"#2c3e50"}),o.jsx(Ea,{fontSize:14,stroke:"#2c3e50"}),o.jsx(ja,{formatter:le=>`${le.toLocaleString()}`,contentStyle:{backgroundColor:"#fff",border:"1px solid #ccc",borderRadius:"6px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"}}),o.jsx(ii,{}),o.jsx(qv,{type:"monotone",dataKey:"revenue",stroke:"#05668d",strokeWidth:3})]})})}),o.jsx("div",{className:"chart-title",children:"Doctor-wise Revenue"}),o.jsx("div",{className:"chart-container",children:o.jsx(Ta,{children:o.jsxs(Qd,{data:Ie,children:[o.jsx(go,{strokeDasharray:"3 3",stroke:"#ccc"}),o.jsx(ka,{dataKey:"doctor",fontSize:14,stroke:"#2c3e50"}),o.jsx(Ea,{fontSize:14,stroke:"#2c3e50"}),o.jsx(ja,{formatter:le=>`${le.toLocaleString()}`,contentStyle:{backgroundColor:"#fff",border:"1px solid #ccc",borderRadius:"6px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"}}),o.jsx(ii,{}),o.jsx(pu,{dataKey:"revenue",fill:"#186476"})]})})}),o.jsx("div",{className:"chart-title",children:"Expense Reports"}),o.jsx("div",{className:"chart-container",children:o.jsx(Ta,{children:o.jsxs(Qd,{data:De,children:[o.jsx(go,{strokeDasharray:"3 3",stroke:"#ccc"}),o.jsx(ka,{dataKey:"type",fontSize:14,stroke:"#2c3e50"}),o.jsx(Ea,{fontSize:14,stroke:"#2c3e50"}),o.jsx(ja,{formatter:le=>`${le.toLocaleString()}`,contentStyle:{backgroundColor:"#fff",border:"1px solid #ccc",borderRadius:"6px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"}}),o.jsx(ii,{}),o.jsx(pu,{dataKey:"amount",fill:"#186476"})]})})}),o.jsx("div",{className:"chart-title",children:"Profit & Loss Snapshot"}),o.jsx("div",{className:"chart-container",children:o.jsx(Ta,{children:o.jsxs(fS,{data:ye,children:[o.jsx(go,{strokeDasharray:"3 3",stroke:"#ccc"}),o.jsx(ka,{dataKey:"period",fontSize:14,stroke:"#2c3e50"}),o.jsx(Ea,{fontSize:14,stroke:"#2c3e50"}),o.jsx(ja,{formatter:le=>`${le.toLocaleString()}`,contentStyle:{backgroundColor:"#fff",border:"1px solid #ccc",borderRadius:"6px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"}}),o.jsx(ii,{}),o.jsx(qv,{type:"monotone",dataKey:"profit",stroke:"#05668d",strokeWidth:3})]})})})]})]})]})]})},UCe=()=>{const e=Fn(),t=wt(),[n,r]=w.useState(""),i=localStorage.getItem("selectedClinicId"),[a,s]=w.useState([]);w.useEffect(()=>{const C=setTimeout(()=>{c()},400);return()=>clearTimeout(C)},[]);const c=async()=>{try{const C=await $e.get(`/api/reception/patient/all?clinicId=${i}`);s(C?.patients||[]),console.log("Patientsss",C?.patients)}catch(C){console.log("error",C)}},{currentClinic:d}=qe(C=>C.clinic),{notifications:f,searchResults:p}=qe(C=>C.notifications);w.useEffect(()=>{d?._id&&t(Tf({clinicId:d._id}))},[t,d]);const m=f?.filter(C=>!C.read).length||0,g=C=>{if(r(C),!C||C.length<2)return;const j=C.trim(),A=/[0-9]/.test(j),k={clinicId:d?._id,name:A?"":j,uhid:A?j:""};t(Nv(k))},v={header:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"15px 30px",background:"#fff",position:"sticky",top:0,zIndex:1e3,flexWrap:"wrap",gap:"10px"},logo:{fontSize:"22px",fontWeight:"bold",color:"#035b69ff"},subText:{fontSize:"12px",color:"#777"},searchBar:{flex:1,maxWidth:"500px",display:"flex",alignItems:"center",background:"#f4f6f8",borderRadius:"25px",padding:"8px 15px",margin:"0 20px",position:"relative"},searchInput:{border:"none",outline:"none",background:"transparent",flex:1,fontSize:"14px",marginLeft:"10px"},icons:{display:"flex",alignItems:"center",gap:"20px",fontSize:"22px",cursor:"pointer",color:"#333",position:"relative"},notificationBadge:{position:"absolute",top:"-5px",right:"-5px",background:"red",color:"#fff",borderRadius:"50%",padding:"2px 6px",fontSize:"12px",fontWeight:"bold"},mainContent:{padding:"20px"},grid:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"20px"},card:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"25px",borderRadius:"20px",color:"#fff",fontWeight:"600",fontSize:"16px",cursor:"pointer",minHeight:"120px",boxShadow:"0 6px 15px rgba(0,0,0,0.08)",transition:"0.3s",textAlign:"center"},icon:{fontSize:"36px",marginBottom:"12px",transition:"transform 0.3s ease"},myClinic:{background:"linear-gradient(135deg, #186476ff, #3fa3b9ff)"},doctorSuite:{background:"linear-gradient(135deg, #52a4a7ff, #1b7169ff)"},reception:{background:"linear-gradient(135deg, #1facc5a9, #07a5ada1)"},patients:{background:"linear-gradient(135deg, #347297ff, #24a18ab5)"},certificates:{background:"linear-gradient(135deg, #fceabb, #f8b500)",color:"#444"},accountBilling:{background:"linear-gradient(135deg, #4c9c8dff, #4b89a2ff)"},prescriptionLibrary:{background:"linear-gradient(135deg, #43cea2, #185a9d)"},analytics:{background:"linear-gradient(135deg, #2980b9, #6dd5fa)"}},b=[{title:"My Clinic",icon:o.jsx(Gce,{}),style:v.myClinic,path:"/my-clinic"},{title:"Doctor Suite",icon:o.jsx(Kg,{}),style:v.doctorSuite,path:"/doctor-suite"},{title:"Reception",icon:o.jsx(pue,{}),style:v.reception,path:"/receptionist-dashboard"},{title:"Patients",icon:o.jsx(yue,{}),style:v.patients,path:"/patients",wide:!0},{title:"Certificates",icon:o.jsx(wj,{}),style:v.certificates,path:"/certificates"},{title:"Account Billing",icon:o.jsx(zz,{}),style:v.accountBilling,path:"/account-billing"},{title:"Prescription Library",icon:o.jsx(u2,{}),style:v.prescriptionLibrary,path:"/library"},{title:"Analytics & Reports",icon:o.jsx(Dce,{}),style:v.analytics,path:"/analytics"}];return o.jsxs(o.Fragment,{children:[o.jsx("style",{children:`
        @media (max-width: 1200px) { .grid { grid-template-columns: repeat(2, 1fr) !important; } }
        @media (max-width: 768px) {
          .grid { grid-template-columns: repeat(2, 1fr) !important; }
          .searchBar { flex: 100% !important; order: 2; margin: 10px 0 !important; }
          .icons { order: 1; }
        }
        @media (max-width: 480px) {
          .grid { grid-template-columns: repeat(2, 1fr) !important; gap: 10px !important; }
          .card { padding: 15px !important; font-size: 14px !important; }
          .icon { font-size: 28px !important; }
        }
      `}),o.jsxs("div",{style:v.header,children:[o.jsxs("div",{children:[o.jsx("div",{style:v.logo,children:"MediScript"}),o.jsx("div",{style:v.subText,children:"Medical Software for Clinics"})]}),o.jsxs("div",{className:"search-bar",style:v.searchBar,children:[o.jsx(d2,{style:{color:"#666"}}),o.jsx("input",{type:"text",placeholder:"Search Patient by Name or UHID",className:"search-input",value:n,onChange:C=>g(C.target.value),style:v.searchInput}),n.length>1&&p.length>0&&o.jsx("div",{style:{position:"absolute",top:"48px",left:"0",width:"100%",maxHeight:"260px",overflowY:"auto",background:"#fff",borderRadius:"10px",boxShadow:"0 8px 20px rgba(0,0,0,0.15)",zIndex:2e3},children:p.map(C=>o.jsxs("div",{style:{padding:"12px 14px",borderBottom:"1px solid #eee",cursor:"pointer",display:"flex",flexDirection:"column"},onClick:()=>{e(`/patients/${d?._id}/${C._id}`),r("")},children:[o.jsx("strong",{children:C.name}),o.jsxs("span",{style:{fontSize:"13px",color:"#777"},children:["UHID: ",C.uhid]}),o.jsxs("span",{style:{fontSize:"13px",color:"#777"},children:["Age: ",C.age," | Gender: ",C.gender]})]},C._id))})]}),o.jsxs("div",{style:v.icons,children:[o.jsxs("div",{style:{position:"relative",cursor:"pointer"},onClick:()=>e("/chat"),children:[o.jsx(Ice,{style:{color:"#2563eb"}}),(()=>{const C=f?f.filter(j=>j.type==="message"&&!j.read).length:0;return C>0?o.jsx("span",{style:v.notificationBadge,children:C}):null})()]}),o.jsxs("div",{style:{position:"relative",cursor:"pointer"},onClick:()=>e("/notifications"),children:[o.jsx(Ece,{style:{color:"#ef4444"}}),m>0&&o.jsx("span",{style:v.notificationBadge,children:m})]})]})]}),o.jsx("div",{style:v.mainContent,children:o.jsx("div",{className:"grid",style:v.grid,children:b.map(C=>o.jsxs("div",{className:"card",style:{...v.card,...C.style,gridColumn:C.wide?"span 2":"span 1"},onClick:()=>e(C.path),children:[o.jsx("div",{style:v.icon,children:C.icon}),C.title]},C.title))})}),o.jsx("style",{children:`
  /* input focus ring remove */
  .search-input {
    outline: none;
    border: none;
  }

  .search-input:focus,
  .search-input:focus-visible {
    outline: none !important;
    box-shadow: none !important;
  }

  /* search bar focus effect (recommended UX) */
  .search-bar:focus-within {
    background: #ffffff;
    box-shadow: 0 0 0 2px rgba(3, 91, 105, 0.25);
  }
`})]})},PW=6048e5,HCe=864e5,z2=6e4,U2=36e5,VCe=1e3,d1=43200,lR=1440,cR=Symbol.for("constructDateFrom");function Kt(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&cR in e?e[cR](t):e instanceof Date?new e.constructor(t):new Date(t)}function Je(e,t){return Kt(t||e,e)}function Ha(e,t,n){const r=Je(e,n?.in);return isNaN(t)?Kt(n?.in||e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Ya(e,t,n){const r=Je(e,n?.in);if(isNaN(t))return Kt(e,NaN);if(!t)return r;const i=r.getDate(),a=Kt(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const s=a.getDate();return i>=s?a:(r.setFullYear(a.getFullYear(),a.getMonth(),i),r)}function DW(e,t,n){return Kt(e,+Je(e)+t)}function qCe(e,t,n){return DW(e,t*U2)}let YCe={};function Sc(){return YCe}function Us(e,t){const n=Sc(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=Je(e,t?.in),a=i.getDay(),s=(a<r?7:0)+a-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function tp(e,t){return Us(e,{...t,weekStartsOn:1})}function OW(e,t){const n=Je(e,t?.in),r=n.getFullYear(),i=Kt(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const a=tp(i),s=Kt(n,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const c=tp(s);return n.getTime()>=a.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function np(e){const t=Je(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Za(e,...t){const n=Kt.bind(null,e||t.find(r=>typeof r=="object"));return t.map(n)}function nd(e,t){const n=Je(e,t?.in);return n.setHours(0,0,0,0),n}function rp(e,t,n){const[r,i]=Za(n?.in,e,t),a=nd(r),s=nd(i),c=+a-np(a),d=+s-np(s);return Math.round((c-d)/HCe)}function WCe(e,t){const n=OW(e,t),r=Kt(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),tp(r)}function pg(e,t,n){const r=Je(e,n?.in);return r.setTime(r.getTime()+t*z2),r}function tk(e,t,n){return Ya(e,t*3,n)}function GCe(e,t,n){return DW(e,t*1e3)}function Sx(e,t,n){return Ha(e,t*7,n)}function As(e,t,n){return Ya(e,t*12,n)}function uR(e,t){let n,r=t?.in;return e.forEach(i=>{!r&&typeof i=="object"&&(r=Kt.bind(null,i));const a=Je(i,r);(!n||n<a||isNaN(+a))&&(n=a)}),Kt(r,n||NaN)}function dR(e,t){let n,r=t?.in;return e.forEach(i=>{!r&&typeof i=="object"&&(r=Kt.bind(null,i));const a=Je(i,r);(!n||n>a||isNaN(+a))&&(n=a)}),Kt(r,n||NaN)}function Xv(e,t){const n=+Je(e)-+Je(t);return n<0?-1:n>0?1:n}function KCe(e){return Kt(e,Date.now())}function XCe(e,t,n){const[r,i]=Za(n?.in,e,t);return+nd(r)==+nd(i)}function ks(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Cx(e){return!(!ks(e)&&typeof e!="number"||isNaN(+Je(e)))}function hg(e,t,n){const[r,i]=Za(n?.in,e,t),a=r.getFullYear()-i.getFullYear(),s=r.getMonth()-i.getMonth();return a*12+s}function Vl(e,t){const n=Je(e,t?.in);return Math.trunc(n.getMonth()/3)+1}function jx(e,t,n){const[r,i]=Za(n?.in,e,t),a=r.getFullYear()-i.getFullYear(),s=Vl(r)-Vl(i);return a*4+s}function Tx(e,t,n){const[r,i]=Za(n?.in,e,t);return r.getFullYear()-i.getFullYear()}function QCe(e,t,n){const[r,i]=Za(n?.in,e,t),a=fR(r,i),s=Math.abs(rp(r,i));r.setDate(r.getDate()-a*s);const c=+(fR(r,i)===-a),d=a*(s-c);return d===0?0:d}function fR(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function ZCe(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function JCe(e,t){return+Je(e)-+Je(t)}function nk(e,t){const n=Je(e,t?.in);return n.setHours(23,59,59,999),n}function rk(e,t){const n=Je(e,t?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function e5e(e,t){const n=Je(e,t?.in);return+nk(n,t)==+rk(n,t)}function t5e(e,t,n){const[r,i,a]=Za(n?.in,e,e,t),s=Xv(i,a),c=Math.abs(hg(i,a));if(c<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-s*c);let d=Xv(i,a)===-s;e5e(r)&&c===1&&Xv(r,a)===1&&(d=!1);const f=s*(c-+d);return f===0?0:f}function n5e(e,t,n){const r=JCe(e,t)/1e3;return ZCe(n?.roundingMethod)(r)}function WC(e,t){const n=Je(e,t?.in),r=n.getMonth(),i=r-r%3;return n.setMonth(i,1),n.setHours(0,0,0,0),n}function $W(e,t){const n=Je(e,t?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function IW(e,t){const n=Je(e,t?.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function H2(e,t){const n=Je(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function r5e(e,t){const n=Sc(),r=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=Je(e,t?.in),a=i.getDay(),s=(a<r?-7:0)+6-(a-r);return i.setDate(i.getDate()+s),i.setHours(23,59,59,999),i}const i5e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},a5e=(e,t,n)=>{let r;const i=i5e[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function ES(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const o5e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},s5e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},l5e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},c5e={date:ES({formats:o5e,defaultWidth:"full"}),time:ES({formats:s5e,defaultWidth:"full"}),dateTime:ES({formats:l5e,defaultWidth:"full"})},u5e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},d5e=(e,t,n,r)=>u5e[e];function Jh(e){return(t,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const s=e.defaultFormattingWidth||e.defaultWidth,c=n?.width?String(n.width):s;i=e.formattingValues[c]||e.formattingValues[s]}else{const s=e.defaultWidth,c=n?.width?String(n.width):e.defaultWidth;i=e.values[c]||e.values[s]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const f5e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},p5e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},h5e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},m5e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},g5e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},y5e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},v5e=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},b5e={ordinalNumber:v5e,era:Jh({values:f5e,defaultWidth:"wide"}),quarter:Jh({values:p5e,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Jh({values:h5e,defaultWidth:"wide"}),day:Jh({values:m5e,defaultWidth:"wide"}),dayPeriod:Jh({values:g5e,defaultWidth:"wide",formattingValues:y5e,defaultFormattingWidth:"wide"})};function em(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const s=a[0],c=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(c)?w5e(c,m=>m.test(s)):x5e(c,m=>m.test(s));let f;f=e.valueCallback?e.valueCallback(d):d,f=n.valueCallback?n.valueCallback(f):f;const p=t.slice(s.length);return{value:f,rest:p}}}function x5e(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function w5e(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function S5e(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],a=t.match(e.parsePattern);if(!a)return null;let s=e.valueCallback?e.valueCallback(a[0]):a[0];s=n.valueCallback?n.valueCallback(s):s;const c=t.slice(i.length);return{value:s,rest:c}}}const C5e=/^(\d+)(th|st|nd|rd)?/i,j5e=/\d+/i,T5e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},A5e={any:[/^b/i,/^(a|c)/i]},k5e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},E5e={any:[/1/i,/2/i,/3/i,/4/i]},N5e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},_5e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},P5e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},D5e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},O5e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},$5e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},I5e={ordinalNumber:S5e({matchPattern:C5e,parsePattern:j5e,valueCallback:e=>parseInt(e,10)}),era:em({matchPatterns:T5e,defaultMatchWidth:"wide",parsePatterns:A5e,defaultParseWidth:"any"}),quarter:em({matchPatterns:k5e,defaultMatchWidth:"wide",parsePatterns:E5e,defaultParseWidth:"any",valueCallback:e=>e+1}),month:em({matchPatterns:N5e,defaultMatchWidth:"wide",parsePatterns:_5e,defaultParseWidth:"any"}),day:em({matchPatterns:P5e,defaultMatchWidth:"wide",parsePatterns:D5e,defaultParseWidth:"any"}),dayPeriod:em({matchPatterns:O5e,defaultMatchWidth:"any",parsePatterns:$5e,defaultParseWidth:"any"})},ik={code:"en-US",formatDistance:a5e,formatLong:c5e,formatRelative:d5e,localize:b5e,match:I5e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function R5e(e,t){const n=Je(e,t?.in);return rp(n,H2(n))+1}function ak(e,t){const n=Je(e,t?.in),r=+tp(n)-+WCe(n);return Math.round(r/PW)+1}function ok(e,t){const n=Je(e,t?.in),r=n.getFullYear(),i=Sc(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,s=Kt(t?.in||e,0);s.setFullYear(r+1,0,a),s.setHours(0,0,0,0);const c=Us(s,t),d=Kt(t?.in||e,0);d.setFullYear(r,0,a),d.setHours(0,0,0,0);const f=Us(d,t);return+n>=+c?r+1:+n>=+f?r:r-1}function M5e(e,t){const n=Sc(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=ok(e,t),a=Kt(t?.in||e,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),Us(a,t)}function RW(e,t){const n=Je(e,t?.in),r=+Us(n,t)-+M5e(n,t);return Math.round(r/PW)+1}function Zt(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Il={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Zt(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Zt(n+1,2)},d(e,t){return Zt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Zt(e.getHours()%12||12,t.length)},H(e,t){return Zt(e.getHours(),t.length)},m(e,t){return Zt(e.getMinutes(),t.length)},s(e,t){return Zt(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Zt(i,t.length)}},Zd={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},pR={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Il.y(e,t)},Y:function(e,t,n,r){const i=ok(e,r),a=i>0?i:1-i;if(t==="YY"){const s=a%100;return Zt(s,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):Zt(a,t.length)},R:function(e,t){const n=OW(e);return Zt(n,t.length)},u:function(e,t){const n=e.getFullYear();return Zt(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Zt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Zt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Il.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Zt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=RW(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):Zt(i,t.length)},I:function(e,t,n){const r=ak(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Zt(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Il.d(e,t)},D:function(e,t,n){const r=R5e(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Zt(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Zt(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Zt(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return Zt(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=Zd.noon:r===0?i=Zd.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=Zd.evening:r>=12?i=Zd.afternoon:r>=4?i=Zd.morning:i=Zd.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Il.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Il.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Zt(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Zt(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Il.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Il.s(e,t)},S:function(e,t){return Il.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return mR(r);case"XXXX":case"XX":return mu(r);case"XXXXX":case"XXX":default:return mu(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return mR(r);case"xxxx":case"xx":return mu(r);case"xxxxx":case"xxx":default:return mu(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+hR(r,":");case"OOOO":default:return"GMT"+mu(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+hR(r,":");case"zzzz":default:return"GMT"+mu(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return Zt(r,t.length)},T:function(e,t,n){return Zt(+e,t.length)}};function hR(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+t+Zt(a,2)}function mR(e,t){return e%60===0?(e>0?"-":"+")+Zt(Math.abs(e)/60,2):mu(e,t)}function mu(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Zt(Math.trunc(r/60),2),a=Zt(r%60,2);return n+i+t+a}const gR=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},MW=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},L5e=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return gR(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",gR(r,t)).replace("{{time}}",MW(i,t))},GC={p:MW,P:L5e},F5e=/^D+$/,B5e=/^Y+$/,z5e=["D","DD","YY","YYYY"];function U5e(e){return F5e.test(e)}function H5e(e){return B5e.test(e)}function V5e(e,t,n){const r=q5e(e,t,n);if(console.warn(r),z5e.includes(e))throw new RangeError(r)}function q5e(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Y5e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,W5e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,G5e=/^'([^]*?)'?$/,K5e=/''/g,X5e=/[a-zA-Z]/;function mg(e,t,n){const r=Sc(),i=n?.locale??r.locale??ik,a=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,s=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,c=Je(e,n?.in);if(!Cx(c))throw new RangeError("Invalid time value");let d=t.match(W5e).map(p=>{const m=p[0];if(m==="p"||m==="P"){const g=GC[m];return g(p,i.formatLong)}return p}).join("").match(Y5e).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const m=p[0];if(m==="'")return{isToken:!1,value:Q5e(p)};if(pR[m])return{isToken:!0,value:p};if(m.match(X5e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:p}});i.localize.preprocessor&&(d=i.localize.preprocessor(c,d));const f={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return d.map(p=>{if(!p.isToken)return p.value;const m=p.value;(!n?.useAdditionalWeekYearTokens&&H5e(m)||!n?.useAdditionalDayOfYearTokens&&U5e(m))&&V5e(m,t,String(e));const g=pR[m[0]];return g(c,m,i.localize,f)}).join("")}function Q5e(e){const t=e.match(G5e);return t?t[1].replace(K5e,"'"):e}function Z5e(e,t,n){const r=Sc(),i=n?.locale??r.locale??ik,a=2520,s=Xv(e,t);if(isNaN(s))throw new RangeError("Invalid time value");const c=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:s}),[d,f]=Za(n?.in,...s>0?[t,e]:[e,t]),p=n5e(f,d),m=(np(f)-np(d))/1e3,g=Math.round((p-m)/60);let v;if(g<2)return n?.includeSeconds?p<5?i.formatDistance("lessThanXSeconds",5,c):p<10?i.formatDistance("lessThanXSeconds",10,c):p<20?i.formatDistance("lessThanXSeconds",20,c):p<40?i.formatDistance("halfAMinute",0,c):p<60?i.formatDistance("lessThanXMinutes",1,c):i.formatDistance("xMinutes",1,c):g===0?i.formatDistance("lessThanXMinutes",1,c):i.formatDistance("xMinutes",g,c);if(g<45)return i.formatDistance("xMinutes",g,c);if(g<90)return i.formatDistance("aboutXHours",1,c);if(g<lR){const b=Math.round(g/60);return i.formatDistance("aboutXHours",b,c)}else{if(g<a)return i.formatDistance("xDays",1,c);if(g<d1){const b=Math.round(g/lR);return i.formatDistance("xDays",b,c)}else if(g<d1*2)return v=Math.round(g/d1),i.formatDistance("aboutXMonths",v,c)}if(v=t5e(f,d),v<12){const b=Math.round(g/d1);return i.formatDistance("xMonths",b,c)}else{const b=v%12,C=Math.trunc(v/12);return b<3?i.formatDistance("aboutXYears",C,c):b<9?i.formatDistance("overXYears",C,c):i.formatDistance("almostXYears",C+1,c)}}function J5e(e,t){return Z5e(e,KCe(e),t)}function yR(e,t){return Je(e,t?.in).getDate()}function eje(e,t){return Je(e,t?.in).getDay()}function tje(e,t){const n=Je(e,t?.in),r=n.getFullYear(),i=n.getMonth(),a=Kt(n,0);return a.setFullYear(r,i+1,0),a.setHours(0,0,0,0),a.getDate()}function nje(){return Object.assign({},Sc())}function Ba(e,t){return Je(e,t?.in).getHours()}function rje(e,t){const n=Je(e,t?.in).getDay();return n===0?7:n}function za(e,t){return Je(e,t?.in).getMinutes()}function oi(e,t){return Je(e,t?.in).getMonth()}function Kl(e){return Je(e).getSeconds()}function KC(e){return+Je(e)}function Et(e,t){return Je(e,t?.in).getFullYear()}function sc(e,t){return+Je(e)>+Je(t)}function To(e,t){return+Je(e)<+Je(t)}function ije(e,t){return+Je(e)==+Je(t)}function aje(e,t){const n=oje(t)?new t(0):Kt(t,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}function oje(e){return typeof e=="function"&&e.prototype?.constructor===e}const sje=10;class LW{subPriority=0;validate(t,n){return!0}}class lje extends LW{constructor(t,n,r,i,a){super(),this.value=t,this.validateValue=n,this.setValue=r,this.priority=i,a&&(this.subPriority=a)}validate(t,n){return this.validateValue(t,this.value,n)}set(t,n,r){return this.setValue(t,n,this.value,r)}}class cje extends LW{priority=sje;subPriority=-1;constructor(t,n){super(),this.context=t||(r=>Kt(n,r))}set(t,n){return n.timestampIsSet?t:Kt(t,aje(t,this.context))}}class Wt{run(t,n,r,i){const a=this.parse(t,n,r,i);return a?{setter:new lje(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(t,n,r){return!0}}class uje extends Wt{priority=140;parse(t,n,r){switch(n){case"G":case"GG":case"GGG":return r.era(t,{width:"abbreviated"})||r.era(t,{width:"narrow"});case"GGGGG":return r.era(t,{width:"narrow"});case"GGGG":default:return r.era(t,{width:"wide"})||r.era(t,{width:"abbreviated"})||r.era(t,{width:"narrow"})}}set(t,n,r){return n.era=r,t.setFullYear(r,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["R","u","t","T"]}const qn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},wo={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Yn(e,t){return e&&{value:t(e.value),rest:e.rest}}function _n(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function So(e,t){const n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};const r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,a=n[3]?parseInt(n[3],10):0,s=n[5]?parseInt(n[5],10):0;return{value:r*(i*U2+a*z2+s*VCe),rest:t.slice(n[0].length)}}function FW(e){return _n(qn.anyDigitsSigned,e)}function Ln(e,t){switch(e){case 1:return _n(qn.singleDigit,t);case 2:return _n(qn.twoDigits,t);case 3:return _n(qn.threeDigits,t);case 4:return _n(qn.fourDigits,t);default:return _n(new RegExp("^\\d{1,"+e+"}"),t)}}function Ax(e,t){switch(e){case 1:return _n(qn.singleDigitSigned,t);case 2:return _n(qn.twoDigitsSigned,t);case 3:return _n(qn.threeDigitsSigned,t);case 4:return _n(qn.fourDigitsSigned,t);default:return _n(new RegExp("^-?\\d{1,"+e+"}"),t)}}function sk(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function BW(e,t){const n=t>0,r=n?t:1-t;let i;if(r<=50)i=e||100;else{const a=r+50,s=Math.trunc(a/100)*100,c=e>=a%100;i=e+s-(c?100:0)}return n?i:1-i}function zW(e){return e%400===0||e%4===0&&e%100!==0}class dje extends Wt{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(t,n,r){const i=a=>({year:a,isTwoDigitYear:n==="yy"});switch(n){case"y":return Yn(Ln(4,t),i);case"yo":return Yn(r.ordinalNumber(t,{unit:"year"}),i);default:return Yn(Ln(n.length,t),i)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,r){const i=t.getFullYear();if(r.isTwoDigitYear){const s=BW(r.year,i);return t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}const a=!("era"in n)||n.era===1?r.year:1-r.year;return t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}}class fje extends Wt{priority=130;parse(t,n,r){const i=a=>({year:a,isTwoDigitYear:n==="YY"});switch(n){case"Y":return Yn(Ln(4,t),i);case"Yo":return Yn(r.ordinalNumber(t,{unit:"year"}),i);default:return Yn(Ln(n.length,t),i)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,r,i){const a=ok(t,i);if(r.isTwoDigitYear){const c=BW(r.year,a);return t.setFullYear(c,0,i.firstWeekContainsDate),t.setHours(0,0,0,0),Us(t,i)}const s=!("era"in n)||n.era===1?r.year:1-r.year;return t.setFullYear(s,0,i.firstWeekContainsDate),t.setHours(0,0,0,0),Us(t,i)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class pje extends Wt{priority=130;parse(t,n){return Ax(n==="R"?4:n.length,t)}set(t,n,r){const i=Kt(t,0);return i.setFullYear(r,0,4),i.setHours(0,0,0,0),tp(i)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class hje extends Wt{priority=130;parse(t,n){return Ax(n==="u"?4:n.length,t)}set(t,n,r){return t.setFullYear(r,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class mje extends Wt{priority=120;parse(t,n,r){switch(n){case"Q":case"QQ":return Ln(n.length,t);case"Qo":return r.ordinalNumber(t,{unit:"quarter"});case"QQQ":return r.quarter(t,{width:"abbreviated",context:"formatting"})||r.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(t,{width:"wide",context:"formatting"})||r.quarter(t,{width:"abbreviated",context:"formatting"})||r.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=1&&n<=4}set(t,n,r){return t.setMonth((r-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class gje extends Wt{priority=120;parse(t,n,r){switch(n){case"q":case"qq":return Ln(n.length,t);case"qo":return r.ordinalNumber(t,{unit:"quarter"});case"qqq":return r.quarter(t,{width:"abbreviated",context:"standalone"})||r.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(t,{width:"wide",context:"standalone"})||r.quarter(t,{width:"abbreviated",context:"standalone"})||r.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=1&&n<=4}set(t,n,r){return t.setMonth((r-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class yje extends Wt{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(t,n,r){const i=a=>a-1;switch(n){case"M":return Yn(_n(qn.month,t),i);case"MM":return Yn(Ln(2,t),i);case"Mo":return Yn(r.ordinalNumber(t,{unit:"month"}),i);case"MMM":return r.month(t,{width:"abbreviated",context:"formatting"})||r.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(t,{width:"wide",context:"formatting"})||r.month(t,{width:"abbreviated",context:"formatting"})||r.month(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=11}set(t,n,r){return t.setMonth(r,1),t.setHours(0,0,0,0),t}}class vje extends Wt{priority=110;parse(t,n,r){const i=a=>a-1;switch(n){case"L":return Yn(_n(qn.month,t),i);case"LL":return Yn(Ln(2,t),i);case"Lo":return Yn(r.ordinalNumber(t,{unit:"month"}),i);case"LLL":return r.month(t,{width:"abbreviated",context:"standalone"})||r.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(t,{width:"wide",context:"standalone"})||r.month(t,{width:"abbreviated",context:"standalone"})||r.month(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=11}set(t,n,r){return t.setMonth(r,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function bje(e,t,n){const r=Je(e,n?.in),i=RW(r,n)-t;return r.setDate(r.getDate()-i*7),Je(r,n?.in)}class xje extends Wt{priority=100;parse(t,n,r){switch(n){case"w":return _n(qn.week,t);case"wo":return r.ordinalNumber(t,{unit:"week"});default:return Ln(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,r,i){return Us(bje(t,r,i),i)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function wje(e,t,n){const r=Je(e,n?.in),i=ak(r,n)-t;return r.setDate(r.getDate()-i*7),r}class Sje extends Wt{priority=100;parse(t,n,r){switch(n){case"I":return _n(qn.week,t);case"Io":return r.ordinalNumber(t,{unit:"week"});default:return Ln(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,r){return tp(wje(t,r))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const Cje=[31,28,31,30,31,30,31,31,30,31,30,31],jje=[31,29,31,30,31,30,31,31,30,31,30,31];class Tje extends Wt{priority=90;subPriority=1;parse(t,n,r){switch(n){case"d":return _n(qn.date,t);case"do":return r.ordinalNumber(t,{unit:"date"});default:return Ln(n.length,t)}}validate(t,n){const r=t.getFullYear(),i=zW(r),a=t.getMonth();return i?n>=1&&n<=jje[a]:n>=1&&n<=Cje[a]}set(t,n,r){return t.setDate(r),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class Aje extends Wt{priority=90;subpriority=1;parse(t,n,r){switch(n){case"D":case"DD":return _n(qn.dayOfYear,t);case"Do":return r.ordinalNumber(t,{unit:"date"});default:return Ln(n.length,t)}}validate(t,n){const r=t.getFullYear();return zW(r)?n>=1&&n<=366:n>=1&&n<=365}set(t,n,r){return t.setMonth(0,r),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function lk(e,t,n){const r=Sc(),i=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=Je(e,n?.in),s=a.getDay(),d=(t%7+7)%7,f=7-i,p=t<0||t>6?t-(s+f)%7:(d+f)%7-(s+f)%7;return Ha(a,p,n)}class kje extends Wt{priority=90;parse(t,n,r){switch(n){case"E":case"EE":case"EEE":return r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,r,i){return t=lk(t,r,i),t.setHours(0,0,0,0),t}incompatibleTokens=["D","i","e","c","t","T"]}class Eje extends Wt{priority=90;parse(t,n,r,i){const a=s=>{const c=Math.floor((s-1)/7)*7;return(s+i.weekStartsOn+6)%7+c};switch(n){case"e":case"ee":return Yn(Ln(n.length,t),a);case"eo":return Yn(r.ordinalNumber(t,{unit:"day"}),a);case"eee":return r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"eeeee":return r.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,r,i){return t=lk(t,r,i),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class Nje extends Wt{priority=90;parse(t,n,r,i){const a=s=>{const c=Math.floor((s-1)/7)*7;return(s+i.weekStartsOn+6)%7+c};switch(n){case"c":case"cc":return Yn(Ln(n.length,t),a);case"co":return Yn(r.ordinalNumber(t,{unit:"day"}),a);case"ccc":return r.day(t,{width:"abbreviated",context:"standalone"})||r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"});case"ccccc":return r.day(t,{width:"narrow",context:"standalone"});case"cccccc":return r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return r.day(t,{width:"wide",context:"standalone"})||r.day(t,{width:"abbreviated",context:"standalone"})||r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=6}set(t,n,r,i){return t=lk(t,r,i),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function _je(e,t,n){const r=Je(e,n?.in),i=rje(r,n),a=t-i;return Ha(r,a,n)}class Pje extends Wt{priority=90;parse(t,n,r){const i=a=>a===0?7:a;switch(n){case"i":case"ii":return Ln(n.length,t);case"io":return r.ordinalNumber(t,{unit:"day"});case"iii":return Yn(r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"}),i);case"iiiii":return Yn(r.day(t,{width:"narrow",context:"formatting"}),i);case"iiiiii":return Yn(r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"}),i);case"iiii":default:return Yn(r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"}),i)}}validate(t,n){return n>=1&&n<=7}set(t,n,r){return t=_je(t,r),t.setHours(0,0,0,0),t}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class Dje extends Wt{priority=80;parse(t,n,r){switch(n){case"a":case"aa":case"aaa":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,r){return t.setHours(sk(r),0,0,0),t}incompatibleTokens=["b","B","H","k","t","T"]}class Oje extends Wt{priority=80;parse(t,n,r){switch(n){case"b":case"bb":case"bbb":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,r){return t.setHours(sk(r),0,0,0),t}incompatibleTokens=["a","B","H","k","t","T"]}class $je extends Wt{priority=80;parse(t,n,r){switch(n){case"B":case"BB":case"BBB":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,r){return t.setHours(sk(r),0,0,0),t}incompatibleTokens=["a","b","t","T"]}class Ije extends Wt{priority=70;parse(t,n,r){switch(n){case"h":return _n(qn.hour12h,t);case"ho":return r.ordinalNumber(t,{unit:"hour"});default:return Ln(n.length,t)}}validate(t,n){return n>=1&&n<=12}set(t,n,r){const i=t.getHours()>=12;return i&&r<12?t.setHours(r+12,0,0,0):!i&&r===12?t.setHours(0,0,0,0):t.setHours(r,0,0,0),t}incompatibleTokens=["H","K","k","t","T"]}class Rje extends Wt{priority=70;parse(t,n,r){switch(n){case"H":return _n(qn.hour23h,t);case"Ho":return r.ordinalNumber(t,{unit:"hour"});default:return Ln(n.length,t)}}validate(t,n){return n>=0&&n<=23}set(t,n,r){return t.setHours(r,0,0,0),t}incompatibleTokens=["a","b","h","K","k","t","T"]}class Mje extends Wt{priority=70;parse(t,n,r){switch(n){case"K":return _n(qn.hour11h,t);case"Ko":return r.ordinalNumber(t,{unit:"hour"});default:return Ln(n.length,t)}}validate(t,n){return n>=0&&n<=11}set(t,n,r){return t.getHours()>=12&&r<12?t.setHours(r+12,0,0,0):t.setHours(r,0,0,0),t}incompatibleTokens=["h","H","k","t","T"]}class Lje extends Wt{priority=70;parse(t,n,r){switch(n){case"k":return _n(qn.hour24h,t);case"ko":return r.ordinalNumber(t,{unit:"hour"});default:return Ln(n.length,t)}}validate(t,n){return n>=1&&n<=24}set(t,n,r){const i=r<=24?r%24:r;return t.setHours(i,0,0,0),t}incompatibleTokens=["a","b","h","H","K","t","T"]}class Fje extends Wt{priority=60;parse(t,n,r){switch(n){case"m":return _n(qn.minute,t);case"mo":return r.ordinalNumber(t,{unit:"minute"});default:return Ln(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,r){return t.setMinutes(r,0,0),t}incompatibleTokens=["t","T"]}class Bje extends Wt{priority=50;parse(t,n,r){switch(n){case"s":return _n(qn.second,t);case"so":return r.ordinalNumber(t,{unit:"second"});default:return Ln(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,r){return t.setSeconds(r,0),t}incompatibleTokens=["t","T"]}class zje extends Wt{priority=30;parse(t,n){const r=i=>Math.trunc(i*Math.pow(10,-n.length+3));return Yn(Ln(n.length,t),r)}set(t,n,r){return t.setMilliseconds(r),t}incompatibleTokens=["t","T"]}class Uje extends Wt{priority=10;parse(t,n){switch(n){case"X":return So(wo.basicOptionalMinutes,t);case"XX":return So(wo.basic,t);case"XXXX":return So(wo.basicOptionalSeconds,t);case"XXXXX":return So(wo.extendedOptionalSeconds,t);case"XXX":default:return So(wo.extended,t)}}set(t,n,r){return n.timestampIsSet?t:Kt(t,t.getTime()-np(t)-r)}incompatibleTokens=["t","T","x"]}class Hje extends Wt{priority=10;parse(t,n){switch(n){case"x":return So(wo.basicOptionalMinutes,t);case"xx":return So(wo.basic,t);case"xxxx":return So(wo.basicOptionalSeconds,t);case"xxxxx":return So(wo.extendedOptionalSeconds,t);case"xxx":default:return So(wo.extended,t)}}set(t,n,r){return n.timestampIsSet?t:Kt(t,t.getTime()-np(t)-r)}incompatibleTokens=["t","T","X"]}class Vje extends Wt{priority=40;parse(t){return FW(t)}set(t,n,r){return[Kt(t,r*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class qje extends Wt{priority=20;parse(t){return FW(t)}set(t,n,r){return[Kt(t,r),{timestampIsSet:!0}]}incompatibleTokens="*"}const Yje={G:new uje,y:new dje,Y:new fje,R:new pje,u:new hje,Q:new mje,q:new gje,M:new yje,L:new vje,w:new xje,I:new Sje,d:new Tje,D:new Aje,E:new kje,e:new Eje,c:new Nje,i:new Pje,a:new Dje,b:new Oje,B:new $je,h:new Ije,H:new Rje,K:new Mje,k:new Lje,m:new Fje,s:new Bje,S:new zje,X:new Uje,x:new Hje,t:new Vje,T:new qje},Wje=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Gje=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Kje=/^'([^]*?)'?$/,Xje=/''/g,Qje=/\S/,Zje=/[a-zA-Z]/;function Jje(e,t,n,r){const i=()=>Kt(r?.in||n,NaN),a=nje(),s=r?.locale??a.locale??ik,c=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,d=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0;if(!t)return e?i():Je(n,r?.in);const f={firstWeekContainsDate:c,weekStartsOn:d,locale:s},p=[new cje(r?.in,n)],m=t.match(Gje).map(j=>{const A=j[0];if(A in GC){const k=GC[A];return k(j,s.formatLong)}return j}).join("").match(Wje),g=[];for(let j of m){const A=j[0],k=Yje[A];if(k){const{incompatibleTokens:E}=k;if(Array.isArray(E)){const $=g.find(F=>E.includes(F.token)||F.token===A);if($)throw new RangeError(`The format string mustn't contain \`${$.fullToken}\` and \`${j}\` at the same time`)}else if(k.incompatibleTokens==="*"&&g.length>0)throw new RangeError(`The format string mustn't contain \`${j}\` and any other token at the same time`);g.push({token:A,fullToken:j});const P=k.run(e,j,s.match,f);if(!P)return i();p.push(P.setter),e=P.rest}else{if(A.match(Zje))throw new RangeError("Format string contains an unescaped latin alphabet character `"+A+"`");if(j==="''"?j="'":A==="'"&&(j=eTe(j)),e.indexOf(j)===0)e=e.slice(j.length);else return i()}}if(e.length>0&&Qje.test(e))return i();const v=p.map(j=>j.priority).sort((j,A)=>A-j).filter((j,A,k)=>k.indexOf(j)===A).map(j=>p.filter(A=>A.priority===j).sort((A,k)=>k.subPriority-A.subPriority)).map(j=>j[0]);let b=Je(n,r?.in);if(isNaN(+b))return i();const C={};for(const j of v){if(!j.validate(b,f))return i();const A=j.set(b,C,f);Array.isArray(A)?(b=A[0],Object.assign(C,A[1])):b=A}return b}function eTe(e){return e.match(Kje)[1].replace(Xje,"'")}function tTe(e,t,n){const[r,i]=Za(n?.in,e,t);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function nTe(e,t,n){const[r,i]=Za(n?.in,e,t);return+WC(r)==+WC(i)}function rTe(e,t,n){const[r,i]=Za(n?.in,e,t);return r.getFullYear()===i.getFullYear()}function gg(e,t,n){const r=+Je(e,n?.in),[i,a]=[+Je(t.start,n?.in),+Je(t.end,n?.in)].sort((s,c)=>s-c);return r>=i&&r<=a}function iTe(e,t,n){return Ha(e,-1,n)}function aTe(e,t){const n=()=>Kt(t?.in,NaN),i=cTe(e);let a;if(i.date){const f=uTe(i.date,2);a=dTe(f.restDateString,f.year)}if(!a||isNaN(+a))return n();const s=+a;let c=0,d;if(i.time&&(c=fTe(i.time),isNaN(c)))return n();if(i.timezone){if(d=pTe(i.timezone),isNaN(d))return n()}else{const f=new Date(s+c),p=Je(0,t?.in);return p.setFullYear(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),p.setHours(f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()),p}return Je(s+c+d,t?.in)}const f1={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},oTe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,sTe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,lTe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function cTe(e){const t={},n=e.split(f1.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],f1.timeZoneDelimiter.test(t.date)&&(t.date=e.split(f1.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const i=f1.timezone.exec(r);i?(t.time=r.replace(i[1],""),t.timezone=i[1]):t.time=r}return t}function uTe(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:a===null?i:a*100,restDateString:e.slice((r[1]||r[2]).length)}}function dTe(e,t){if(t===null)return new Date(NaN);const n=e.match(oTe);if(!n)return new Date(NaN);const r=!!n[4],i=tm(n[1]),a=tm(n[2])-1,s=tm(n[3]),c=tm(n[4]),d=tm(n[5])-1;if(r)return vTe(t,c,d)?hTe(t,c,d):new Date(NaN);{const f=new Date(0);return!gTe(t,a,s)||!yTe(t,i)?new Date(NaN):(f.setUTCFullYear(t,a,Math.max(i,s)),f)}}function tm(e){return e?parseInt(e):1}function fTe(e){const t=e.match(sTe);if(!t)return NaN;const n=NS(t[1]),r=NS(t[2]),i=NS(t[3]);return bTe(n,r,i)?n*U2+r*z2+i*1e3:NaN}function NS(e){return e&&parseFloat(e.replace(",","."))||0}function pTe(e){if(e==="Z")return 0;const t=e.match(lTe);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return xTe(r,i)?n*(r*U2+i*z2):NaN}function hTe(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const i=r.getUTCDay()||7,a=(t-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+a),r}const mTe=[31,null,31,30,31,30,31,31,30,31,30,31];function UW(e){return e%400===0||e%4===0&&e%100!==0}function gTe(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(mTe[t]||(UW(e)?29:28))}function yTe(e,t){return t>=1&&t<=(UW(e)?366:365)}function vTe(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function bTe(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function xTe(e,t){return t>=0&&t<=59}function ki(e,t,n){const r=Je(e,n?.in),i=r.getFullYear(),a=r.getDate(),s=Kt(e,0);s.setFullYear(i,t,15),s.setHours(0,0,0,0);const c=tje(s);return r.setMonth(t,Math.min(a,c)),r}function Qv(e,t,n){const r=Je(e,n?.in);return r.setHours(t),r}function Zv(e,t,n){const r=Je(e,n?.in);return r.setMinutes(t),r}function sf(e,t,n){const r=Je(e,n?.in),i=Math.trunc(r.getMonth()/3)+1,a=t-i;return ki(r,r.getMonth()+a*3)}function Jv(e,t,n){const r=Je(e,n?.in);return r.setSeconds(t),r}function vo(e,t,n){const r=Je(e,n?.in);return isNaN(+r)?Kt(e,NaN):(r.setFullYear(t),r)}function Hu(e,t,n){return Ya(e,-t,n)}function HW(e,t,n){return tk(e,-1,n)}function vR(e,t,n){return Sx(e,-1,n)}function ip(e,t,n){return As(e,-t,n)}function V2(){return typeof window<"u"}function Op(e){return VW(e)?(e.nodeName||"").toLowerCase():"#document"}function $i(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Bo(e){var t;return(t=(VW(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function VW(e){return V2()?e instanceof Node||e instanceof $i(e).Node:!1}function Wr(e){return V2()?e instanceof Element||e instanceof $i(e).Element:!1}function Mo(e){return V2()?e instanceof HTMLElement||e instanceof $i(e).HTMLElement:!1}function bR(e){return!V2()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof $i(e).ShadowRoot}const wTe=new Set(["inline","contents"]);function g0(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=da(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!wTe.has(i)}const STe=new Set(["table","td","th"]);function CTe(e){return STe.has(Op(e))}const jTe=[":popover-open",":modal"];function q2(e){return jTe.some(t=>{try{return e.matches(t)}catch{return!1}})}const TTe=["transform","translate","scale","rotate","perspective"],ATe=["transform","translate","scale","rotate","perspective","filter"],kTe=["paint","layout","strict","content"];function ck(e){const t=uk(),n=Wr(e)?da(e):e;return TTe.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||ATe.some(r=>(n.willChange||"").includes(r))||kTe.some(r=>(n.contain||"").includes(r))}function ETe(e){let t=lc(e);for(;Mo(t)&&!ap(t);){if(ck(t))return t;if(q2(t))return null;t=lc(t)}return null}function uk(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const NTe=new Set(["html","body","#document"]);function ap(e){return NTe.has(Op(e))}function da(e){return $i(e).getComputedStyle(e)}function Y2(e){return Wr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function lc(e){if(Op(e)==="html")return e;const t=e.assignedSlot||e.parentNode||bR(e)&&e.host||Bo(e);return bR(t)?t.host:t}function qW(e){const t=lc(e);return ap(t)?e.ownerDocument?e.ownerDocument.body:e.body:Mo(t)&&g0(t)?t:qW(t)}function yg(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=qW(e),a=i===((r=e.ownerDocument)==null?void 0:r.body),s=$i(i);if(a){const c=XC(s);return t.concat(s,s.visualViewport||[],g0(i)?i:[],c&&n?yg(c):[])}return t.concat(i,yg(i,[],n))}function XC(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const op=Math.min,Vu=Math.max,kx=Math.round,p1=Math.floor,Do=e=>({x:e,y:e}),_Te={left:"right",right:"left",bottom:"top",top:"bottom"},PTe={start:"end",end:"start"};function DTe(e,t,n){return Vu(e,op(t,n))}function W2(e,t){return typeof e=="function"?e(t):e}function sp(e){return e.split("-")[0]}function y0(e){return e.split("-")[1]}function OTe(e){return e==="x"?"y":"x"}function dk(e){return e==="y"?"height":"width"}const $Te=new Set(["top","bottom"]);function _u(e){return $Te.has(sp(e))?"y":"x"}function fk(e){return OTe(_u(e))}function ITe(e,t,n){n===void 0&&(n=!1);const r=y0(e),i=fk(e),a=dk(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(s=Ex(s)),[s,Ex(s)]}function RTe(e){const t=Ex(e);return[QC(e),t,QC(t)]}function QC(e){return e.replace(/start|end/g,t=>PTe[t])}const xR=["left","right"],wR=["right","left"],MTe=["top","bottom"],LTe=["bottom","top"];function FTe(e,t,n){switch(e){case"top":case"bottom":return n?t?wR:xR:t?xR:wR;case"left":case"right":return t?MTe:LTe;default:return[]}}function BTe(e,t,n,r){const i=y0(e);let a=FTe(sp(e),n==="start",r);return i&&(a=a.map(s=>s+"-"+i),t&&(a=a.concat(a.map(QC)))),a}function Ex(e){return e.replace(/left|right|bottom|top/g,t=>_Te[t])}function zTe(e){return{top:0,right:0,bottom:0,left:0,...e}}function YW(e){return typeof e!="number"?zTe(e):{top:e,right:e,bottom:e,left:e}}function Nx(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}var UTe=typeof document<"u",HTe=function(){},_x=UTe?w.useLayoutEffect:HTe;const VTe={...A5},qTe=VTe.useInsertionEffect,YTe=qTe||(e=>e());function WTe(e){const t=w.useRef(()=>{});return YTe(()=>{t.current=e}),w.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function SR(e,t,n){let{reference:r,floating:i}=e;const a=_u(t),s=fk(t),c=dk(s),d=sp(t),f=a==="y",p=r.x+r.width/2-i.width/2,m=r.y+r.height/2-i.height/2,g=r[c]/2-i[c]/2;let v;switch(d){case"top":v={x:p,y:r.y-i.height};break;case"bottom":v={x:p,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:m};break;case"left":v={x:r.x-i.width,y:m};break;default:v={x:r.x,y:r.y}}switch(y0(t)){case"start":v[s]-=g*(n&&f?-1:1);break;case"end":v[s]+=g*(n&&f?-1:1);break}return v}const GTe=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:s}=n,c=a.filter(Boolean),d=await(s.isRTL==null?void 0:s.isRTL(t));let f=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:p,y:m}=SR(f,r,d),g=r,v={},b=0;for(let C=0;C<c.length;C++){const{name:j,fn:A}=c[C],{x:k,y:E,data:P,reset:$}=await A({x:p,y:m,initialPlacement:r,placement:g,strategy:i,middlewareData:v,rects:f,platform:s,elements:{reference:e,floating:t}});p=k??p,m=E??m,v={...v,[j]:{...v[j],...P}},$&&b<=50&&(b++,typeof $=="object"&&($.placement&&(g=$.placement),$.rects&&(f=$.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):$.rects),{x:p,y:m}=SR(f,g,d)),C=-1)}return{x:p,y:m,placement:g,strategy:i,middlewareData:v}};async function KTe(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:a,rects:s,elements:c,strategy:d}=e,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:m="floating",altBoundary:g=!1,padding:v=0}=W2(t,e),b=YW(v),j=c[g?m==="floating"?"reference":"floating":m],A=Nx(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(j)))==null||n?j:j.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:f,rootBoundary:p,strategy:d})),k=m==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,E=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),P=await(a.isElement==null?void 0:a.isElement(E))?await(a.getScale==null?void 0:a.getScale(E))||{x:1,y:1}:{x:1,y:1},$=Nx(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:k,offsetParent:E,strategy:d}):k);return{top:(A.top-$.top+b.top)/P.y,bottom:($.bottom-A.bottom+b.bottom)/P.y,left:(A.left-$.left+b.left)/P.x,right:($.right-A.right+b.right)/P.x}}const XTe=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:a,platform:s,elements:c,middlewareData:d}=t,{element:f,padding:p=0}=W2(e,t)||{};if(f==null)return{};const m=YW(p),g={x:n,y:r},v=fk(i),b=dk(v),C=await s.getDimensions(f),j=v==="y",A=j?"top":"left",k=j?"bottom":"right",E=j?"clientHeight":"clientWidth",P=a.reference[b]+a.reference[v]-g[v]-a.floating[b],$=g[v]-a.reference[v],F=await(s.getOffsetParent==null?void 0:s.getOffsetParent(f));let O=F?F[E]:0;(!O||!await(s.isElement==null?void 0:s.isElement(F)))&&(O=c.floating[E]||a.floating[b]);const _=P/2-$/2,D=O/2-C[b]/2-1,L=op(m[A],D),R=op(m[k],D),M=L,H=O-C[b]-R,W=O/2-C[b]/2+_,fe=DTe(M,W,H),q=!d.arrow&&y0(i)!=null&&W!==fe&&a.reference[b]/2-(W<M?L:R)-C[b]/2<0,te=q?W<M?W-M:W-H:0;return{[v]:g[v]+te,data:{[v]:fe,centerOffset:W-fe-te,...q&&{alignmentOffset:te}},reset:q}}}),QTe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:a,rects:s,initialPlacement:c,platform:d,elements:f}=t,{mainAxis:p=!0,crossAxis:m=!0,fallbackPlacements:g,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:C=!0,...j}=W2(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const A=sp(i),k=_u(c),E=sp(c)===c,P=await(d.isRTL==null?void 0:d.isRTL(f.floating)),$=g||(E||!C?[Ex(c)]:RTe(c)),F=b!=="none";!g&&F&&$.push(...BTe(c,C,b,P));const O=[c,...$],_=await KTe(t,j),D=[];let L=((r=a.flip)==null?void 0:r.overflows)||[];if(p&&D.push(_[A]),m){const W=ITe(i,s,P);D.push(_[W[0]],_[W[1]])}if(L=[...L,{placement:i,overflows:D}],!D.every(W=>W<=0)){var R,M;const W=(((R=a.flip)==null?void 0:R.index)||0)+1,fe=O[W];if(fe&&(!(m==="alignment"?k!==_u(fe):!1)||L.every(K=>_u(K.placement)===k?K.overflows[0]>0:!0)))return{data:{index:W,overflows:L},reset:{placement:fe}};let q=(M=L.filter(te=>te.overflows[0]<=0).sort((te,K)=>te.overflows[1]-K.overflows[1])[0])==null?void 0:M.placement;if(!q)switch(v){case"bestFit":{var H;const te=(H=L.filter(K=>{if(F){const z=_u(K.placement);return z===k||z==="y"}return!0}).map(K=>[K.placement,K.overflows.filter(z=>z>0).reduce((z,V)=>z+V,0)]).sort((K,z)=>K[1]-z[1])[0])==null?void 0:H[0];te&&(q=te);break}case"initialPlacement":q=c;break}if(i!==q)return{reset:{placement:q}}}return{}}}},ZTe=new Set(["left","top"]);async function JTe(e,t){const{placement:n,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=sp(n),c=y0(n),d=_u(n)==="y",f=ZTe.has(s)?-1:1,p=a&&d?-1:1,m=W2(t,e);let{mainAxis:g,crossAxis:v,alignmentAxis:b}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return c&&typeof b=="number"&&(v=c==="end"?b*-1:b),d?{x:v*p,y:g*f}:{x:g*f,y:v*p}}const eAe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:a,placement:s,middlewareData:c}=t,d=await JTe(t,e);return s===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:i+d.x,y:a+d.y,data:{...d,placement:s}}}}};function WW(e){const t=da(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Mo(e),a=i?e.offsetWidth:n,s=i?e.offsetHeight:r,c=kx(n)!==a||kx(r)!==s;return c&&(n=a,r=s),{width:n,height:r,$:c}}function pk(e){return Wr(e)?e:e.contextElement}function $f(e){const t=pk(e);if(!Mo(t))return Do(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:a}=WW(t);let s=(a?kx(n.width):n.width)/r,c=(a?kx(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!c||!Number.isFinite(c))&&(c=1),{x:s,y:c}}const tAe=Do(0);function GW(e){const t=$i(e);return!uk()||!t.visualViewport?tAe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function nAe(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==$i(e)?!1:t}function rd(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=pk(e);let s=Do(1);t&&(r?Wr(r)&&(s=$f(r)):s=$f(e));const c=nAe(a,n,r)?GW(a):Do(0);let d=(i.left+c.x)/s.x,f=(i.top+c.y)/s.y,p=i.width/s.x,m=i.height/s.y;if(a){const g=$i(a),v=r&&Wr(r)?$i(r):r;let b=g,C=XC(b);for(;C&&r&&v!==b;){const j=$f(C),A=C.getBoundingClientRect(),k=da(C),E=A.left+(C.clientLeft+parseFloat(k.paddingLeft))*j.x,P=A.top+(C.clientTop+parseFloat(k.paddingTop))*j.y;d*=j.x,f*=j.y,p*=j.x,m*=j.y,d+=E,f+=P,b=$i(C),C=XC(b)}}return Nx({width:p,height:m,x:d,y:f})}function G2(e,t){const n=Y2(e).scrollLeft;return t?t.left+n:rd(Bo(e)).left+n}function KW(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-G2(e,n),i=n.top+t.scrollTop;return{x:r,y:i}}function rAe(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const a=i==="fixed",s=Bo(r),c=t?q2(t.floating):!1;if(r===s||c&&a)return n;let d={scrollLeft:0,scrollTop:0},f=Do(1);const p=Do(0),m=Mo(r);if((m||!m&&!a)&&((Op(r)!=="body"||g0(s))&&(d=Y2(r)),Mo(r))){const v=rd(r);f=$f(r),p.x=v.x+r.clientLeft,p.y=v.y+r.clientTop}const g=s&&!m&&!a?KW(s,d):Do(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-d.scrollLeft*f.x+p.x+g.x,y:n.y*f.y-d.scrollTop*f.y+p.y+g.y}}function iAe(e){return Array.from(e.getClientRects())}function aAe(e){const t=Bo(e),n=Y2(e),r=e.ownerDocument.body,i=Vu(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=Vu(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+G2(e);const c=-n.scrollTop;return da(r).direction==="rtl"&&(s+=Vu(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:s,y:c}}const CR=25;function oAe(e,t){const n=$i(e),r=Bo(e),i=n.visualViewport;let a=r.clientWidth,s=r.clientHeight,c=0,d=0;if(i){a=i.width,s=i.height;const p=uk();(!p||p&&t==="fixed")&&(c=i.offsetLeft,d=i.offsetTop)}const f=G2(r);if(f<=0){const p=r.ownerDocument,m=p.body,g=getComputedStyle(m),v=p.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,b=Math.abs(r.clientWidth-m.clientWidth-v);b<=CR&&(a-=b)}else f<=CR&&(a+=f);return{width:a,height:s,x:c,y:d}}const sAe=new Set(["absolute","fixed"]);function lAe(e,t){const n=rd(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=Mo(e)?$f(e):Do(1),s=e.clientWidth*a.x,c=e.clientHeight*a.y,d=i*a.x,f=r*a.y;return{width:s,height:c,x:d,y:f}}function jR(e,t,n){let r;if(t==="viewport")r=oAe(e,n);else if(t==="document")r=aAe(Bo(e));else if(Wr(t))r=lAe(t,n);else{const i=GW(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Nx(r)}function XW(e,t){const n=lc(e);return n===t||!Wr(n)||ap(n)?!1:da(n).position==="fixed"||XW(n,t)}function cAe(e,t){const n=t.get(e);if(n)return n;let r=yg(e,[],!1).filter(c=>Wr(c)&&Op(c)!=="body"),i=null;const a=da(e).position==="fixed";let s=a?lc(e):e;for(;Wr(s)&&!ap(s);){const c=da(s),d=ck(s);!d&&c.position==="fixed"&&(i=null),(a?!d&&!i:!d&&c.position==="static"&&!!i&&sAe.has(i.position)||g0(s)&&!d&&XW(e,s))?r=r.filter(p=>p!==s):i=c,s=lc(s)}return t.set(e,r),r}function uAe(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const s=[...n==="clippingAncestors"?q2(t)?[]:cAe(t,this._c):[].concat(n),r],c=s[0],d=s.reduce((f,p)=>{const m=jR(t,p,i);return f.top=Vu(m.top,f.top),f.right=op(m.right,f.right),f.bottom=op(m.bottom,f.bottom),f.left=Vu(m.left,f.left),f},jR(t,c,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function dAe(e){const{width:t,height:n}=WW(e);return{width:t,height:n}}function fAe(e,t,n){const r=Mo(t),i=Bo(t),a=n==="fixed",s=rd(e,!0,a,t);let c={scrollLeft:0,scrollTop:0};const d=Do(0);function f(){d.x=G2(i)}if(r||!r&&!a)if((Op(t)!=="body"||g0(i))&&(c=Y2(t)),r){const v=rd(t,!0,a,t);d.x=v.x+t.clientLeft,d.y=v.y+t.clientTop}else i&&f();a&&!r&&i&&f();const p=i&&!r&&!a?KW(i,c):Do(0),m=s.left+c.scrollLeft-d.x-p.x,g=s.top+c.scrollTop-d.y-p.y;return{x:m,y:g,width:s.width,height:s.height}}function _S(e){return da(e).position==="static"}function TR(e,t){if(!Mo(e)||da(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Bo(e)===n&&(n=n.ownerDocument.body),n}function QW(e,t){const n=$i(e);if(q2(e))return n;if(!Mo(e)){let i=lc(e);for(;i&&!ap(i);){if(Wr(i)&&!_S(i))return i;i=lc(i)}return n}let r=TR(e,t);for(;r&&CTe(r)&&_S(r);)r=TR(r,t);return r&&ap(r)&&_S(r)&&!ck(r)?n:r||ETe(e)||n}const pAe=async function(e){const t=this.getOffsetParent||QW,n=this.getDimensions,r=await n(e.floating);return{reference:fAe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function hAe(e){return da(e).direction==="rtl"}const mAe={convertOffsetParentRelativeRectToViewportRelativeRect:rAe,getDocumentElement:Bo,getClippingRect:uAe,getOffsetParent:QW,getElementRects:pAe,getClientRects:iAe,getDimensions:dAe,getScale:$f,isElement:Wr,isRTL:hAe};function ZW(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function gAe(e,t){let n=null,r;const i=Bo(e);function a(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function s(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),a();const f=e.getBoundingClientRect(),{left:p,top:m,width:g,height:v}=f;if(c||t(),!g||!v)return;const b=p1(m),C=p1(i.clientWidth-(p+g)),j=p1(i.clientHeight-(m+v)),A=p1(p),E={rootMargin:-b+"px "+-C+"px "+-j+"px "+-A+"px",threshold:Vu(0,op(1,d))||1};let P=!0;function $(F){const O=F[0].intersectionRatio;if(O!==d){if(!P)return s();O?s(!1,O):r=setTimeout(()=>{s(!1,1e-7)},1e3)}O===1&&!ZW(f,e.getBoundingClientRect())&&s(),P=!1}try{n=new IntersectionObserver($,{...E,root:i.ownerDocument})}catch{n=new IntersectionObserver($,E)}n.observe(e)}return s(!0),a}function yAe(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,f=pk(e),p=i||a?[...f?yg(f):[],...yg(t)]:[];p.forEach(A=>{i&&A.addEventListener("scroll",n,{passive:!0}),a&&A.addEventListener("resize",n)});const m=f&&c?gAe(f,n):null;let g=-1,v=null;s&&(v=new ResizeObserver(A=>{let[k]=A;k&&k.target===f&&v&&(v.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var E;(E=v)==null||E.observe(t)})),n()}),f&&!d&&v.observe(f),v.observe(t));let b,C=d?rd(e):null;d&&j();function j(){const A=rd(e);C&&!ZW(C,A)&&n(),C=A,b=requestAnimationFrame(j)}return n(),()=>{var A;p.forEach(k=>{i&&k.removeEventListener("scroll",n),a&&k.removeEventListener("resize",n)}),m?.(),(A=v)==null||A.disconnect(),v=null,d&&cancelAnimationFrame(b)}}const vAe=eAe,bAe=QTe,AR=XTe,xAe=(e,t,n)=>{const r=new Map,i={platform:mAe,...n},a={...i.platform,_c:r};return GTe(e,t,{...i,platform:a})};var wAe=typeof document<"u",SAe=function(){},eb=wAe?w.useLayoutEffect:SAe;function Px(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Px(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&e.$$typeof)&&!Px(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function JW(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function kR(e,t){const n=JW(e);return Math.round(t*n)/n}function PS(e){const t=w.useRef(e);return eb(()=>{t.current=e}),t}function CAe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:s}={},transform:c=!0,whileElementsMounted:d,open:f}=e,[p,m]=w.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[g,v]=w.useState(r);Px(g,r)||v(r);const[b,C]=w.useState(null),[j,A]=w.useState(null),k=w.useCallback(K=>{K!==F.current&&(F.current=K,C(K))},[]),E=w.useCallback(K=>{K!==O.current&&(O.current=K,A(K))},[]),P=a||b,$=s||j,F=w.useRef(null),O=w.useRef(null),_=w.useRef(p),D=d!=null,L=PS(d),R=PS(i),M=PS(f),H=w.useCallback(()=>{if(!F.current||!O.current)return;const K={placement:t,strategy:n,middleware:g};R.current&&(K.platform=R.current),xAe(F.current,O.current,K).then(z=>{const V={...z,isPositioned:M.current!==!1};W.current&&!Px(_.current,V)&&(_.current=V,n2.flushSync(()=>{m(V)}))})},[g,t,n,R,M]);eb(()=>{f===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,m(K=>({...K,isPositioned:!1})))},[f]);const W=w.useRef(!1);eb(()=>(W.current=!0,()=>{W.current=!1}),[]),eb(()=>{if(P&&(F.current=P),$&&(O.current=$),P&&$){if(L.current)return L.current(P,$,H);H()}},[P,$,H,L,D]);const fe=w.useMemo(()=>({reference:F,floating:O,setReference:k,setFloating:E}),[k,E]),q=w.useMemo(()=>({reference:P,floating:$}),[P,$]),te=w.useMemo(()=>{const K={position:n,left:0,top:0};if(!q.floating)return K;const z=kR(q.floating,p.x),V=kR(q.floating,p.y);return c?{...K,transform:"translate("+z+"px, "+V+"px)",...JW(q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:V}},[n,c,q.floating,p.x,p.y]);return w.useMemo(()=>({...p,update:H,refs:fe,elements:q,floatingStyles:te}),[p,H,fe,q,te])}const jAe=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?AR({element:r.current,padding:i}).fn(n):{}:r?AR({element:r,padding:i}).fn(n):{}}}},TAe=(e,t)=>({...vAe(e),options:[e,t]}),AAe=(e,t)=>({...bAe(e),options:[e,t]}),kAe=(e,t)=>({...jAe(e),options:[e,t]}),EAe={...A5};let ER=!1,NAe=0;const NR=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+NAe++;function _Ae(){const[e,t]=w.useState(()=>ER?NR():void 0);return _x(()=>{e==null&&t(NR())},[]),w.useEffect(()=>{ER=!0},[]),e}const PAe=EAe.useId,eG=PAe||_Ae,DAe=w.forwardRef(function(t,n){const{context:{placement:r,elements:{floating:i},middlewareData:{arrow:a,shift:s}},width:c=14,height:d=7,tipRadius:f=0,strokeWidth:p=0,staticOffset:m,stroke:g,d:v,style:{transform:b,...C}={},...j}=t,A=eG(),[k,E]=w.useState(!1);if(_x(()=>{if(!i)return;da(i).direction==="rtl"&&E(!0)},[i]),!i)return null;const[P,$]=r.split("-"),F=P==="top"||P==="bottom";let O=m;(F&&s!=null&&s.x||!F&&s!=null&&s.y)&&(O=null);const _=p*2,D=_/2,L=c/2*(f/-8+1),R=d/2*f/4,M=!!v,H=O&&$==="end"?"bottom":"top";let W=O&&$==="end"?"right":"left";O&&k&&(W=$==="end"?"left":"right");const fe=a?.x!=null?O||a.x:"",q=a?.y!=null?O||a.y:"",te=v||"M0,0"+(" H"+c)+(" L"+(c-L)+","+(d-R))+(" Q"+c/2+","+d+" "+L+","+(d-R))+" Z",K={top:M?"rotate(180deg)":"",left:M?"rotate(90deg)":"rotate(-90deg)",bottom:M?"":"rotate(180deg)",right:M?"rotate(-90deg)":"rotate(90deg)"}[P];return o.jsxs("svg",{...j,"aria-hidden":!0,ref:n,width:M?c:c+_,height:c,viewBox:"0 0 "+c+" "+(d>c?d:c),style:{position:"absolute",pointerEvents:"none",[W]:fe,[H]:q,[P]:F||M?"100%":"calc(100% - "+_/2+"px)",transform:[K,b].filter(z=>!!z).join(" "),...C},children:[_>0&&o.jsx("path",{clipPath:"url(#"+A+")",fill:"none",stroke:g,strokeWidth:_+(v?0:1),d:te}),o.jsx("path",{stroke:_&&!v?j.fill:"none",d:te}),o.jsx("clipPath",{id:A,children:o.jsx("rect",{x:-D,y:D*(M?-1:1),width:c+_,height:c})})]})});function OAe(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){var r;(r=e.get(t))==null||r.delete(n)}}}const $Ae=w.createContext(null),IAe=w.createContext(null),RAe=()=>{var e;return((e=w.useContext($Ae))==null?void 0:e.id)||null},MAe=()=>w.useContext(IAe);function LAe(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=eG(),a=w.useRef({}),[s]=w.useState(()=>OAe()),c=RAe()!=null,[d,f]=w.useState(r.reference),p=WTe((v,b,C)=>{a.current.openEvent=v?b:void 0,s.emit("openchange",{open:v,event:b,reason:C,nested:c}),n?.(v,b,C)}),m=w.useMemo(()=>({setPositionReference:f}),[]),g=w.useMemo(()=>({reference:d||r.reference||null,floating:r.floating||null,domReference:r.reference}),[d,r.reference,r.floating]);return w.useMemo(()=>({dataRef:a,open:t,onOpenChange:p,elements:g,events:s,floatingId:i,refs:m}),[t,p,g,s,i,m])}function FAe(e){e===void 0&&(e={});const{nodeId:t}=e,n=LAe({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[a,s]=w.useState(null),[c,d]=w.useState(null),p=i?.domReference||a,m=w.useRef(null),g=MAe();_x(()=>{p&&(m.current=p)},[p]);const v=CAe({...e,elements:{...i,...c&&{reference:c}}}),b=w.useCallback(E=>{const P=Wr(E)?{getBoundingClientRect:()=>E.getBoundingClientRect(),getClientRects:()=>E.getClientRects(),contextElement:E}:E;d(P),v.refs.setReference(P)},[v.refs]),C=w.useCallback(E=>{(Wr(E)||E===null)&&(m.current=E,s(E)),(Wr(v.refs.reference.current)||v.refs.reference.current===null||E!==null&&!Wr(E))&&v.refs.setReference(E)},[v.refs]),j=w.useMemo(()=>({...v.refs,setReference:C,setPositionReference:b,domReference:m}),[v.refs,C,b]),A=w.useMemo(()=>({...v.elements,domReference:p}),[v.elements,p]),k=w.useMemo(()=>({...v,...r,refs:j,elements:A,nodeId:t}),[v,j,A,t,r]);return _x(()=>{r.dataRef.current.floatingContext=k;const E=g?.nodesRef.current.find(P=>P.id===t);E&&(E.context=k)}),w.useMemo(()=>({...v,context:k,refs:j,elements:A}),[v,j,A,k])}/*!
  react-datepicker v8.10.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var ZC=function(t,n){return ZC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},ZC(t,n)};function Er(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ZC(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var kt=function(){return kt=Object.assign||function(n){for(var r,i=1,a=arguments.length;i<a;i++){r=arguments[i];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])}return n},kt.apply(this,arguments)};function Ao(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var BAe=function(e){var t=e.showTimeSelectOnly,n=t===void 0?!1:t,r=e.showTime,i=r===void 0?!1:r,a=e.className,s=e.children,c=e.inline,d=n?"Choose Time":"Choose Date".concat(i?" and Time":"");return se.createElement("div",{className:a,"aria-label":d,role:c?void 0:"dialog","aria-modal":c?void 0:"true"},s)},zAe=function(e,t){var n=w.useRef(null),r=w.useRef(e);w.useEffect(function(){r.current=e},[e]);var i=w.useCallback(function(a){var s,c=a.composed&&a.composedPath&&a.composedPath().find(function(d){return d instanceof Node})||a.target;n.current&&!n.current.contains(c)&&(t&&c instanceof HTMLElement&&c.classList.contains(t)||(s=r.current)===null||s===void 0||s.call(r,a))},[t]);return w.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),n},K2=function(e){var t=e.children,n=e.onClickOutside,r=e.className,i=e.containerRef,a=e.style,s=e.ignoreClass,c=zAe(n,s);return se.createElement("div",{className:r,style:a,ref:function(d){c.current=d,i&&(i.current=d)}},t)},Ge;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(Ge||(Ge={}));function tG(){var e=typeof window<"u"?window:globalThis;return e}var v0=12;function Ut(e){if(e==null)return new Date;var t=typeof e=="string"?aTe(e):Je(e);return Pi(t)?t:new Date}function Jd(e,t,n,r,i){i===void 0&&(i=Ut());for(var a=lp(n)||lp(hk()),s=Array.isArray(t)?t:[t],c=0,d=s;c<d.length;c++){var f=d[c],p=Jje(e,f,i,{locale:a});if(Pi(p)&&(!r||e===yn(p,f,n)))return p}return null}function Pi(e,t){return Cx(e)&&!To(e,new Date("1/1/1800"))}function yn(e,t,n){if(n==="en")return mg(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?lp(n):void 0;return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),r=r||lp(hk()),mg(e,t,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Ai(e,t){var n=t.dateFormat,r=t.locale,i=Array.isArray(n)&&n.length>0?n[0]:n;return e&&yn(e,i,r)||""}var nG=" - ";function UAe(e,t,n){if(!e&&!t)return"";var r=e?Ai(e,n):"",i=t?Ai(t,n):"",a=n.rangeSeparator||nG;return"".concat(r).concat(a).concat(i)}function HAe(e,t){if(!e?.length)return"";var n=e[0]?Ai(e[0],t):"";if(e.length===1)return n;if(e.length===2&&e[1]){var r=Ai(e[1],t);return"".concat(n,", ").concat(r)}var i=e.length-1;return"".concat(n," (+").concat(i,")")}function h1(e,t){var n=t.hour,r=n===void 0?0:n,i=t.minute,a=i===void 0?0:i,s=t.second,c=s===void 0?0:s;return Qv(Zv(Jv(e,c),a),r)}function VAe(e){return ak(e)}function qAe(e,t){return yn(e,"ddd",t)}function lm(e){return nd(e)}function Xl(e,t,n){var r=lp(t||hk());return Us(e,{locale:r,weekStartsOn:n})}function Es(e){return $W(e)}function cm(e){return H2(e)}function _R(e){return WC(e)}function PR(){return nd(Ut())}function DR(e){return nk(e)}function YAe(e){return r5e(e)}function WAe(e){return rk(e)}function xo(e,t){return e&&t?rTe(e,t):!e&&!t}function Hr(e,t){return e&&t?tTe(e,t):!e&&!t}function Dx(e,t){return e&&t?nTe(e,t):!e&&!t}function Nt(e,t){return e&&t?XCe(e,t):!e&&!t}function Pu(e,t){return e&&t?ije(e,t):!e&&!t}function gu(e,t,n){var r,i=nd(t),a=nk(n);try{r=gg(e,{start:i,end:a})}catch{r=!1}return r}function hk(){var e=tG();return e.__localeId__}function lp(e){if(typeof e=="string"){var t=tG();return t.__localeData__?t.__localeData__[e]:void 0}else return e}function GAe(e,t,n){return t(yn(e,"EEEE",n))}function KAe(e,t){return yn(e,"EEEEEE",t)}function XAe(e,t){return yn(e,"EEE",t)}function mk(e,t){return yn(ki(Ut(),e),"LLLL",t)}function rG(e,t){return yn(ki(Ut(),e),"LLL",t)}function QAe(e,t){return yn(sf(Ut(),e),"QQQ",t)}function ra(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,a=n.excludeDates,s=n.excludeDateIntervals,c=n.includeDates,d=n.includeDateIntervals,f=n.filterDate,p=n.disabled;return p?!0:b0(e,{minDate:r,maxDate:i})||a&&a.some(function(m){return m instanceof Date?Nt(e,m):Nt(e,m.date)})||s&&s.some(function(m){var g=m.start,v=m.end;return gg(e,{start:g,end:v})})||c&&!c.some(function(m){return Nt(e,m)})||d&&!d.some(function(m){var g=m.start,v=m.end;return gg(e,{start:g,end:v})})||f&&!f(Ut(e))||!1}function gk(e,t){var n=t===void 0?{}:t,r=n.excludeDates,i=n.excludeDateIntervals;return i&&i.length>0?i.some(function(a){var s=a.start,c=a.end;return gg(e,{start:s,end:c})}):r&&r.some(function(a){var s;return a instanceof Date?Nt(e,a):Nt(e,(s=a.date)!==null&&s!==void 0?s:new Date)})||!1}function iG(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,a=n.excludeDates,s=n.includeDates,c=n.filterDate;return b0(e,{minDate:r?$W(r):void 0,maxDate:i?rk(i):void 0})||a?.some(function(d){return Hr(e,d instanceof Date?d:d.date)})||s&&!s.some(function(d){return Hr(e,d)})||c&&!c(Ut(e))||!1}function m1(e,t,n,r){var i=Et(e),a=oi(e),s=Et(t),c=oi(t),d=Et(r);return i===s&&i===d?a<=n&&n<=c:i<s?d===i&&a<=n||d===s&&c>=n||d<s&&d>i:!1}function ZAe(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,a=n.excludeDates,s=n.includeDates;return b0(e,{minDate:r,maxDate:i})||a&&a.some(function(c){return Hr(c instanceof Date?c:c.date,e)})||s&&!s.some(function(c){return Hr(c,e)})||!1}function g1(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,a=n.excludeDates,s=n.includeDates,c=n.filterDate,d=n.disabled;return d?!0:b0(e,{minDate:r,maxDate:i})||a?.some(function(f){return Dx(e,f instanceof Date?f:f.date)})||s&&!s.some(function(f){return Dx(e,f)})||c&&!c(Ut(e))||!1}function y1(e,t,n){if(!t||!n||!Cx(t)||!Cx(n))return!1;var r=Et(t),i=Et(n);return r<=e&&i>=e}function tb(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,a=n.excludeDates,s=n.includeDates,c=n.filterDate,d=n.disabled;if(d)return!0;var f=new Date(e,0,1);return b0(f,{minDate:r?H2(r):void 0,maxDate:i?IW(i):void 0})||a?.some(function(p){return xo(f,p instanceof Date?p:p.date)})||s&&!s.some(function(p){return xo(f,p)})||c&&!c(Ut(f))||!1}function v1(e,t,n,r){var i=Et(e),a=Vl(e),s=Et(t),c=Vl(t),d=Et(r);return i===s&&i===d?a<=n&&n<=c:i<s?d===i&&a<=n||d===s&&c>=n||d<s&&d>i:!1}function b0(e,t){var n,r=t===void 0?{}:t,i=r.minDate,a=r.maxDate;return(n=i&&rp(e,i)<0||a&&rp(e,a)>0)!==null&&n!==void 0?n:!1}function OR(e,t){return t.some(function(n){return Ba(n)===Ba(e)&&za(n)===za(e)&&Kl(n)===Kl(e)})}function $R(e,t){var n=t===void 0?{}:t,r=n.excludeTimes,i=n.includeTimes,a=n.filterTime;return r&&OR(e,r)||i&&!OR(e,i)||a&&!a(e)||!1}function IR(e,t){var n=t.minTime,r=t.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var i=Ut();i=Qv(i,Ba(e)),i=Zv(i,za(e)),i=Jv(i,Kl(e));var a=Ut();a=Qv(a,Ba(n)),a=Zv(a,za(n)),a=Jv(a,Kl(n));var s=Ut();s=Qv(s,Ba(r)),s=Zv(s,za(r)),s=Jv(s,Kl(r));var c;try{c=!gg(i,{start:a,end:s})}catch{c=!1}return c}function RR(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.includeDates,a=Hu(e,1);return r&&hg(r,a)>0||i&&i.every(function(s){return hg(s,a)>0})||!1}function MR(e,t){var n=t===void 0?{}:t,r=n.maxDate,i=n.includeDates,a=Ya(e,1);return r&&hg(a,r)>0||i&&i.every(function(s){return hg(a,s)>0})||!1}function JAe(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.includeDates,a=H2(e),s=HW(a);return r&&jx(r,s)>0||i&&i.every(function(c){return jx(c,s)>0})||!1}function eke(e,t){var n=t===void 0?{}:t,r=n.maxDate,i=n.includeDates,a=IW(e),s=tk(a,1);return r&&jx(s,r)>0||i&&i.every(function(c){return jx(s,c)>0})||!1}function LR(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.includeDates,a=ip(e,1);return r&&Tx(r,a)>0||i&&i.every(function(s){return Tx(s,a)>0})||!1}function tke(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.yearItemNumber,a=i===void 0?v0:i,s=cm(ip(e,a)),c=Ss(s,a).endPeriod,d=r&&Et(r);return d&&d>c||!1}function FR(e,t){var n=t===void 0?{}:t,r=n.maxDate,i=n.includeDates,a=As(e,1);return r&&Tx(a,r)>0||i&&i.every(function(s){return Tx(a,s)>0})||!1}function nke(e,t){var n=t===void 0?{}:t,r=n.maxDate,i=n.yearItemNumber,a=i===void 0?v0:i,s=As(e,a),c=Ss(s,a).startPeriod,d=r&&Et(r);return d&&d<c||!1}function aG(e){var t=e.minDate,n=e.includeDates;if(n&&t){var r=n.filter(function(i){return rp(i,t)>=0});return dR(r)}else return n?dR(n):t}function oG(e){var t=e.maxDate,n=e.includeDates;if(n&&t){var r=n.filter(function(i){return rp(i,t)<=0});return uR(r)}else return n?uR(n):t}function BR(e,t){var n;e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--highlighted");for(var r=new Map,i=0,a=e.length;i<a;i++){var s=e[i];if(ks(s)){var c=yn(s,"MM.dd.yyyy"),d=r.get(c)||[];d.includes(t)||(d.push(t),r.set(c,d))}else if(typeof s=="object"){var f=Object.keys(s),p=(n=f[0])!==null&&n!==void 0?n:"",m=s[p];if(typeof p=="string"&&Array.isArray(m))for(var g=0,v=m.length;g<v;g++){var b=m[g];if(b){var c=yn(b,"MM.dd.yyyy"),d=r.get(c)||[];d.includes(p)||(d.push(p),r.set(c,d))}}}}return r}function rke(e,t){return e.length!==t.length?!1:e.every(function(n,r){return n===t[r]})}function ike(e,t){e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--holidays");var n=new Map;return e.forEach(function(r){var i=r.date,a=r.holidayName;if(ks(i)){var s=yn(i,"MM.dd.yyyy"),c=n.get(s)||{className:"",holidayNames:[]};if(!("className"in c&&c.className===t&&rke(c.holidayNames,[a]))){c.className=t;var d=c.holidayNames;c.holidayNames=d?Ao(Ao([],d,!0),[a],!1):[a],n.set(s,c)}}}),n}function ake(e,t,n,r,i){for(var a=i.length,s=[],c=0;c<a;c++){var d=e,f=i[c];f&&(d=qCe(d,Ba(f)),d=pg(d,za(f)),d=GCe(d,Kl(f)));var p=pg(e,(n+1)*r);sc(d,t)&&To(d,p)&&f!=null&&s.push(f)}return s}function zR(e){return e<10?"0".concat(e):"".concat(e)}function Ss(e,t){t===void 0&&(t=v0);var n=Math.ceil(Et(e)/t)*t,r=n-(t-1);return{startPeriod:r,endPeriod:n}}function oke(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+n-+t)/36e5)}function UR(e){var t=e.getSeconds(),n=e.getMilliseconds();return Je(e.getTime()-t*1e3-n)}function sG(e,t){return UR(e).getTime()===UR(t).getTime()}function HR(e){if(!ks(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function DS(e,t){if(!ks(e)||!ks(t))throw new Error("Invalid date received");var n=HR(e),r=HR(t);return To(n,r)}function lG(e){return e.key===Ge.Space}var ske=(function(e){Er(t,e);function t(n){var r=e.call(this,n)||this;return r.inputRef=se.createRef(),r.onTimeChange=function(i){var a,s;r.setState({time:i});var c=r.props.date,d=c instanceof Date&&!isNaN(+c),f=d?c:new Date;if(i?.includes(":")){var p=i.split(":"),m=p[0],g=p[1];f.setHours(Number(m)),f.setMinutes(Number(g))}(s=(a=r.props).onChange)===null||s===void 0||s.call(a,f)},r.renderTimeInput=function(){var i=r.state.time,a=r.props,s=a.date,c=a.timeString,d=a.customTimeInput;return d?w.cloneElement(d,{date:s,value:i,onChange:r.onTimeChange}):se.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var f;(f=r.inputRef.current)===null||f===void 0||f.focus()},required:!0,value:i,onChange:function(f){r.onTimeChange(f.target.value||c)}})},r.state={time:r.props.timeString},r}return t.getDerivedStateFromProps=function(n,r){return n.timeString!==r.time?{time:n.timeString}:null},t.prototype.render=function(){return se.createElement("div",{className:"react-datepicker__input-time-container"},se.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),se.createElement("div",{className:"react-datepicker-time__input-container"},se.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t})(w.Component),lke=(function(e){Er(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.dayEl=w.createRef(),n.handleClick=function(r){!n.isDisabled()&&n.props.onClick&&n.props.onClick(r)},n.handleMouseEnter=function(r){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(r)},n.handleOnKeyDown=function(r){var i,a,s=r.key;s===Ge.Space&&(r.preventDefault(),r.key=Ge.Enter),(a=(i=n.props).handleOnKeyDown)===null||a===void 0||a.call(i,r)},n.isSameDay=function(r){return Nt(n.props.day,r)},n.isKeyboardSelected=function(){var r;if(n.props.disabledKeyboardNavigation)return!1;var i=n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(s){return n.isSameDayOrWeek(s)}):n.isSameDayOrWeek(n.props.selected),a=n.props.preSelection&&n.isDisabled(n.props.preSelection);return!i&&n.isSameDayOrWeek(n.props.preSelection)&&!a},n.isDisabled=function(r){return r===void 0&&(r=n.props.day),ra(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate,disabled:n.props.disabled})},n.isExcluded=function(){return gk(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return Nt(n.props.day,Xl(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(r){return n.props.showWeekPicker&&Nt(r,Xl(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(r){return n.isSameDay(r)||n.isSameWeek(r)},n.getHighLightedClass=function(){var r=n.props,i=r.day,a=r.highlightDates;if(!a)return!1;var s=yn(i,"MM.dd.yyyy");return a.get(s)},n.getHolidaysClass=function(){var r,i=n.props,a=i.day,s=i.holidays;if(!s)return[void 0];var c=yn(a,"MM.dd.yyyy");return s.has(c)?[(r=s.get(c))===null||r===void 0?void 0:r.className]:[void 0]},n.isInRange=function(){var r=n.props,i=r.day,a=r.startDate,s=r.endDate;return!a||!s?!1:gu(i,a,s)},n.isInSelectingRange=function(){var r,i=n.props,a=i.day,s=i.selectsStart,c=i.selectsEnd,d=i.selectsRange,f=i.selectsDisabledDaysInRange,p=i.startDate,m=i.swapRange,g=i.endDate,v=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;if(!(s||c||d)||!v||!f&&n.isDisabled())return!1;if(s&&g&&(To(v,g)||Pu(v,g)))return gu(a,v,g);if(c&&p&&(sc(v,p)||Pu(v,p)))return gu(a,p,v);if(d&&p&&!g){if(Pu(v,p)||sc(v,p))return gu(a,p,v);if(m&&To(v,p))return gu(a,v,p)}return!1},n.isSelectingRangeStart=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,a=i.day,s=i.startDate,c=i.selectsStart,d=i.swapRange,f=i.selectsRange,p=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return c?Nt(a,p):f&&d&&s&&p?Nt(a,To(p,s)?p:s):Nt(a,s)},n.isSelectingRangeEnd=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,a=i.day,s=i.endDate,c=i.selectsEnd,d=i.selectsRange,f=i.swapRange,p=i.startDate,m=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return c?Nt(a,m):d&&f&&p&&m?Nt(a,To(m,p)?p:m):d?Nt(a,m):Nt(a,s)},n.isRangeStart=function(){var r=n.props,i=r.day,a=r.startDate,s=r.endDate;return!a||!s?!1:Nt(a,i)},n.isRangeEnd=function(){var r=n.props,i=r.day,a=r.startDate,s=r.endDate;return!a||!s?!1:Nt(s,i)},n.isWeekend=function(){var r=eje(n.props.day);return r===0||r===6},n.isAfterMonth=function(){return n.props.month!==void 0&&(n.props.month+1)%12===oi(n.props.day)},n.isBeforeMonth=function(){return n.props.month!==void 0&&(oi(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay(Ut())},n.isSelected=function(){var r;return n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(i){return n.isSameDayOrWeek(i)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(r){var i=n.props.dayClassName?n.props.dayClassName(r):void 0;return ct("react-datepicker__day",i,"react-datepicker__day--"+qAe(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var r=n.props,i=r.day,a=r.ariaLabelPrefixWhenEnabled,s=a===void 0?"Choose":a,c=r.ariaLabelPrefixWhenDisabled,d=c===void 0?"Not available":c,f=n.isDisabled()||n.isExcluded()?d:s;return"".concat(f," ").concat(yn(i,"PPPP",n.props.locale))},n.getTitle=function(){var r=n.props,i=r.day,a=r.holidays,s=a===void 0?new Map:a,c=r.excludeDates,d=yn(i,"MM.dd.yyyy"),f=[];return s.has(d)&&f.push.apply(f,s.get(d).holidayNames),n.isExcluded()&&f.push(c?.filter(function(p){return p instanceof Date?Nt(p,i):Nt(p?.date,i)}).map(function(p){if(!(p instanceof Date))return p?.message})),f.join(", ")},n.getTabIndex=function(){var r=n.props.selected,i=n.props.preSelection,a=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(r)&&Nt(i,r))?0:-1;return a},n.handleFocusDay=function(){var r;n.shouldFocusDay()&&((r=n.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(yR(n.props.day),n.props.day):yR(n.props.day)},n.render=function(){return se.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"gridcell",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&se.createElement("span",{className:"overlay"},n.getTitle()))},n}return t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var n=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(n=!1),this.isDayActiveElement()&&(n=!0),this.isDuplicateDay()&&(n=!1)),n},t.prototype.isDayActiveElement=function(){var n,r,i;return((r=(n=this.props.containerRef)===null||n===void 0?void 0:n.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t})(w.Component),cke=(function(e){Er(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.weekNumberEl=w.createRef(),n.handleClick=function(r){n.props.onClick&&n.props.onClick(r)},n.handleOnKeyDown=function(r){var i,a,s=r.key;s===Ge.Space&&(r.preventDefault(),r.key=Ge.Enter),(a=(i=n.props).handleOnKeyDown)===null||a===void 0||a.call(i,r)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!Nt(n.props.date,n.props.selected)&&Nt(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||Nt(n.props.date,n.props.selected)&&Nt(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(r){var i=!1;n.getTabIndex()===0&&!r?.isInputFocused&&Nt(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(i=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(n){this.handleFocusWeekNumber(n)},t.prototype.render=function(){var n=this.props,r=n.weekNumber,i=n.isWeekDisabled,a=n.ariaLabelPrefix,s=a===void 0?t.defaultProps.ariaLabelPrefix:a,c=n.onClick,d={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!c&&!i,"react-datepicker__week-number--selected":!!c&&Nt(this.props.date,this.props.selected)};return se.createElement("div",{ref:this.weekNumberEl,className:ct(d),"aria-label":"".concat(s," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},r)},t})(w.Component),uke=(function(e){Er(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.isDisabled=function(r){return ra(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(r,i){n.props.onDayClick&&n.props.onDayClick(r,i)},n.handleDayMouseEnter=function(r){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(r)},n.handleWeekClick=function(r,i,a){for(var s,c,d,f=new Date(r),p=0;p<7;p++){var m=new Date(r);m.setDate(m.getDate()+p);var g=!n.isDisabled(m);if(g){f=m;break}}typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(f,i,a),n.props.showWeekPicker&&n.handleDayClick(f,a),((s=n.props.shouldCloseOnSelect)!==null&&s!==void 0?s:t.defaultProps.shouldCloseOnSelect)&&((d=(c=n.props).setOpen)===null||d===void 0||d.call(c,!1))},n.formatWeekNumber=function(r){return n.props.formatWeekNumber?n.props.formatWeekNumber(r):VAe(r)},n.isWeekDisabled=function(){for(var r=n.startOfWeek(),i=Ha(r,6),a=new Date(r);a<=i;){if(!n.isDisabled(a))return!1;a=Ha(a,1)}return!0},n.renderDays=function(){var r=n.startOfWeek(),i=[],a=n.formatWeekNumber(r);if(n.props.showWeekNumber){var s=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,r,a):void 0;i.push(se.createElement(cke,kt({key:"W"},t.defaultProps,n.props,{weekNumber:a,isWeekDisabled:n.isWeekDisabled(),date:r,onClick:s})))}return i.concat([0,1,2,3,4,5,6].map(function(c){var d=Ha(r,c);return se.createElement(lke,kt({},t.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:d.valueOf(),day:d,onClick:n.handleDayClick.bind(n,d),onMouseEnter:n.handleDayMouseEnter.bind(n,d)}))}))},n.startOfWeek=function(){return Xl(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!Nt(n.startOfWeek(),n.props.selected)&&Nt(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":Nt(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},r=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return se.createElement("div",{className:ct(n,r),role:"row"},this.renderDays())},t})(w.Component),nm,dke=6,If={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},OS=(nm={},nm[If.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},nm[If.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},nm[If.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},nm),b1=1;function VR(e,t){return e?If.FOUR_COLUMNS:t?If.TWO_COLUMNS:If.THREE_COLUMNS}var fke=(function(e){Er(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.MONTH_REFS=Ao([],Array(12),!0).map(function(){return w.createRef()}),n.QUARTER_REFS=Ao([],Array(4),!0).map(function(){return w.createRef()}),n.isDisabled=function(r){return ra(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate,disabled:n.props.disabled})},n.isExcluded=function(r){return gk(r,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(r,i){var a,s;(s=(a=n.props).onDayClick)===null||s===void 0||s.call(a,r,i,n.props.orderInDisplay)},n.handleDayMouseEnter=function(r){var i,a;(a=(i=n.props).onDayMouseEnter)===null||a===void 0||a.call(i,r)},n.handleMouseLeave=function(){var r,i;(i=(r=n.props).onMouseLeave)===null||i===void 0||i.call(r)},n.isRangeStartMonth=function(r){var i=n.props,a=i.day,s=i.startDate,c=i.endDate;return!s||!c?!1:Hr(ki(a,r),s)},n.isRangeStartQuarter=function(r){var i=n.props,a=i.day,s=i.startDate,c=i.endDate;return!s||!c?!1:Dx(sf(a,r),s)},n.isRangeEndMonth=function(r){var i=n.props,a=i.day,s=i.startDate,c=i.endDate;return!s||!c?!1:Hr(ki(a,r),c)},n.isRangeEndQuarter=function(r){var i=n.props,a=i.day,s=i.startDate,c=i.endDate;return!s||!c?!1:Dx(sf(a,r),c)},n.isInSelectingRangeMonth=function(r){var i,a=n.props,s=a.day,c=a.selectsStart,d=a.selectsEnd,f=a.selectsRange,p=a.startDate,m=a.endDate,g=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(c||d||f)||!g?!1:c&&m?m1(g,m,r,s):d&&p||f&&p&&!m?m1(p,g,r,s):!1},n.isSelectingMonthRangeStart=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var a=n.props,s=a.day,c=a.startDate,d=a.selectsStart,f=ki(s,r),p=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return d?Hr(f,p):Hr(f,c)},n.isSelectingMonthRangeEnd=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var a=n.props,s=a.day,c=a.endDate,d=a.selectsEnd,f=a.selectsRange,p=ki(s,r),m=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return d||f?Hr(p,m):Hr(p,c)},n.isInSelectingRangeQuarter=function(r){var i,a=n.props,s=a.day,c=a.selectsStart,d=a.selectsEnd,f=a.selectsRange,p=a.startDate,m=a.endDate,g=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(c||d||f)||!g?!1:c&&m?v1(g,m,r,s):d&&p||f&&p&&!m?v1(p,g,r,s):!1},n.isWeekInMonth=function(r){var i=n.props.day,a=Ha(r,6);return Hr(r,i)||Hr(a,i)},n.isCurrentMonth=function(r,i){return Et(r)===Et(Ut())&&i===oi(Ut())},n.isCurrentQuarter=function(r,i){return Et(r)===Et(Ut())&&i===Vl(Ut())},n.isSelectedMonth=function(r,i,a){return oi(a)===i&&Et(r)===Et(a)},n.isSelectMonthInList=function(r,i,a){return a.some(function(s){return n.isSelectedMonth(r,i,s)})},n.isSelectedQuarter=function(r,i,a){return Vl(a)===i&&Et(r)===Et(a)},n.isSelectQuarterInList=function(r,i,a){return a.some(function(s){return n.isSelectedQuarter(r,i,s)})},n.isMonthSelected=function(){var r=n.props,i=r.day,a=r.selected,s=r.selectedDates,c=r.selectsMultiple,d=oi(i);return c?s?.some(function(f){return n.isSelectedMonth(i,d,f)}):!!a&&n.isSelectedMonth(i,d,a)},n.isQuarterSelected=function(){var r=n.props,i=r.day,a=r.selected,s=r.selectedDates,c=r.selectsMultiple,d=Vl(i);return c?s?.some(function(f){return n.isSelectedQuarter(i,d,f)}):!!a&&n.isSelectedQuarter(i,d,a)},n.renderWeeks=function(){if(!Pi(n.props.day))return[];for(var r=[],i=n.props.fixedHeight,a=0,s=!1,c=Xl(Es(n.props.day),n.props.locale,n.props.calendarStartDay),d=function(b){return n.props.showWeekPicker?Xl(b,n.props.locale,n.props.calendarStartDay):n.props.preSelection},f=function(b){return n.props.showWeekPicker?Xl(b,n.props.locale,n.props.calendarStartDay):n.props.selected},p=n.props.selected?f(n.props.selected):void 0,m=n.props.preSelection?d(n.props.preSelection):void 0;r.push(se.createElement(uke,kt({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:a,day:c,month:oi(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:p,preSelection:m,showWeekNumber:n.props.showWeekNumbers}))),!s;){a++,c=Sx(c,1);var g=i&&a>=dke,v=!i&&!n.isWeekInMonth(c);if(g||v)if(n.props.peekNextMonth)s=!0;else break}return r},n.onMonthClick=function(r,i){var a=n.isMonthDisabledForLabelDate(i),s=a.isDisabled,c=a.labelDate;s||n.handleDayClick(Es(c),r)},n.onMonthMouseEnter=function(r){var i=n.isMonthDisabledForLabelDate(r),a=i.isDisabled,s=i.labelDate;a||n.handleDayMouseEnter(Es(s))},n.handleMonthNavigation=function(r,i){var a,s,c,d;(s=(a=n.props).setPreSelection)===null||s===void 0||s.call(a,i),(d=(c=n.MONTH_REFS[r])===null||c===void 0?void 0:c.current)===null||d===void 0||d.focus()},n.handleKeyboardNavigation=function(r,i,a){var s,c=n.props,d=c.selected,f=c.preSelection,p=c.setPreSelection,m=c.minDate,g=c.maxDate,v=c.showFourColumnMonthYearPicker,b=c.showTwoColumnMonthYearPicker;if(f){var C=VR(v,b),j=n.getVerticalOffset(C),A=(s=OS[C])===null||s===void 0?void 0:s.grid,k=function(O,_,D){var L,R,M=_,H=D;switch(O){case Ge.ArrowRight:M=Ya(_,b1),H=D===11?0:D+b1;break;case Ge.ArrowLeft:M=Hu(_,b1),H=D===0?11:D-b1;break;case Ge.ArrowUp:M=Hu(_,j),H=!((L=A?.[0])===null||L===void 0)&&L.includes(D)?D+12-j:D-j;break;case Ge.ArrowDown:M=Ya(_,j),H=!((R=A?.[A.length-1])===null||R===void 0)&&R.includes(D)?D-12+j:D+j;break}return{newCalculatedDate:M,newCalculatedMonth:H}},E=function(O,_,D){for(var L=40,R=O,M=!1,H=0,W=k(R,_,D),fe=W.newCalculatedDate,q=W.newCalculatedMonth;!M;){if(H>=L){fe=_,q=D;break}if(m&&fe<m){R=Ge.ArrowRight;var te=k(R,fe,q);fe=te.newCalculatedDate,q=te.newCalculatedMonth}if(g&&fe>g){R=Ge.ArrowLeft;var te=k(R,fe,q);fe=te.newCalculatedDate,q=te.newCalculatedMonth}if(ZAe(fe,n.props)){var te=k(R,fe,q);fe=te.newCalculatedDate,q=te.newCalculatedMonth}else M=!0;H++}return{newCalculatedDate:fe,newCalculatedMonth:q}};if(i===Ge.Enter){n.isMonthDisabled(a)||(n.onMonthClick(r,a),p?.(d));return}var P=E(i,f,a),$=P.newCalculatedDate,F=P.newCalculatedMonth;switch(i){case Ge.ArrowRight:case Ge.ArrowLeft:case Ge.ArrowUp:case Ge.ArrowDown:n.handleMonthNavigation(F,$);break}}},n.getVerticalOffset=function(r){var i,a;return(a=(i=OS[r])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&a!==void 0?a:0},n.onMonthKeyDown=function(r,i){var a=n.props,s=a.disabledKeyboardNavigation,c=a.handleOnMonthKeyDown,d=r.key;d!==Ge.Tab&&r.preventDefault(),s||n.handleKeyboardNavigation(r,d,i),c&&c(r)},n.onQuarterClick=function(r,i){var a=sf(n.props.day,i);g1(a,n.props)||n.handleDayClick(_R(a),r)},n.onQuarterMouseEnter=function(r){var i=sf(n.props.day,r);g1(i,n.props)||n.handleDayMouseEnter(_R(i))},n.handleQuarterNavigation=function(r,i){var a,s,c,d;n.isDisabled(i)||n.isExcluded(i)||((s=(a=n.props).setPreSelection)===null||s===void 0||s.call(a,i),(d=(c=n.QUARTER_REFS[r-1])===null||c===void 0?void 0:c.current)===null||d===void 0||d.focus())},n.onQuarterKeyDown=function(r,i){var a,s,c=r.key;if(!n.props.disabledKeyboardNavigation)switch(c){case Ge.Enter:n.onQuarterClick(r,i),(s=(a=n.props).setPreSelection)===null||s===void 0||s.call(a,n.props.selected);break;case Ge.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===4?1:i+1,tk(n.props.preSelection,1));break;case Ge.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===1?4:i-1,HW(n.props.preSelection));break}},n.isMonthDisabledForLabelDate=function(r){var i,a=n.props,s=a.day,c=a.disabled,d=a.minDate,f=a.maxDate,p=a.excludeDates,m=a.includeDates,g=ki(s,r);return c?{isDisabled:!0,labelDate:ki(s,r)}:{isDisabled:(i=(d||f||p||m)&&iG(g,n.props))!==null&&i!==void 0?i:!1,labelDate:g}},n.isMonthDisabled=function(r){var i=n.isMonthDisabledForLabelDate(r).isDisabled;return i},n.getMonthClassNames=function(r){var i=n.props,a=i.day,s=i.startDate,c=i.endDate,d=i.preSelection,f=i.monthClassName,p=f?f(ki(a,r)):void 0,m=n.getSelection();return ct("react-datepicker__month-text","react-datepicker__month-".concat(r),p,{"react-datepicker__month-text--disabled":n.isMonthDisabled(r),"react-datepicker__month-text--selected":m?n.isSelectMonthInList(a,r,m):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&d&&n.isSelectedMonth(a,r,d)&&!n.isMonthSelected()&&!n.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":s&&c?m1(s,c,r,a):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(r),"react-datepicker__month-text--range-end":n.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":n.isCurrentMonth(a,r)})},n.getTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=oi(n.props.preSelection),a=n.isMonthDisabledForLabelDate(i).isDisabled,s=r===i&&!(a||n.props.disabledKeyboardNavigation)?"0":"-1";return s},n.getQuarterTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=Vl(n.props.preSelection),a=g1(n.props.day,n.props),s=r===i&&!(a||n.props.disabledKeyboardNavigation)?"0":"-1";return s},n.getAriaLabel=function(r){var i=n.props,a=i.chooseDayAriaLabelPrefix,s=a===void 0?"Choose":a,c=i.disabledDayAriaLabelPrefix,d=c===void 0?"Not available":c,f=i.day,p=i.locale,m=ki(f,r),g=n.isDisabled(m)||n.isExcluded(m)?d:s;return"".concat(g," ").concat(yn(m,"MMMM yyyy",p))},n.getQuarterClassNames=function(r){var i=n.props,a=i.day,s=i.startDate,c=i.endDate,d=i.minDate,f=i.maxDate,p=i.excludeDates,m=i.includeDates,g=i.filterDate,v=i.preSelection,b=i.disabledKeyboardNavigation,C=i.disabled,j=(d||f||p||m||g||C)&&g1(sf(a,r),n.props),A=n.getSelection();return ct("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":j,"react-datepicker__quarter-text--selected":A?n.isSelectQuarterInList(a,r,A):void 0,"react-datepicker__quarter-text--keyboard-selected":!b&&v&&n.isSelectedQuarter(a,r,v)&&!n.isQuarterSelected()&&!j,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":s&&c?v1(s,c,r,a):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(r),"react-datepicker__quarter-text--today":n.isCurrentQuarter(a,r)})},n.getMonthContent=function(r){var i=n.props,a=i.showFullMonthYearPicker,s=i.renderMonthContent,c=i.locale,d=i.day,f=rG(r,c),p=mk(r,c);return s?s(r,f,p,d):a?p:f},n.getQuarterContent=function(r){var i,a=n.props,s=a.renderQuarterContent,c=a.locale,d=QAe(r,c);return(i=s?.(r,d))!==null&&i!==void 0?i:d},n.renderMonths=function(){var r,i=n.props,a=i.showTwoColumnMonthYearPicker,s=i.showFourColumnMonthYearPicker,c=i.day,d=i.selected,f=(r=OS[VR(s,a)])===null||r===void 0?void 0:r.grid;return f?.map(function(p,m){return se.createElement("div",{className:"react-datepicker__month-wrapper",key:m},p.map(function(g,v){return se.createElement("div",{ref:n.MONTH_REFS[g],key:v,onClick:function(b){n.onMonthClick(b,g)},onKeyDown:function(b){lG(b)&&(b.preventDefault(),b.key=Ge.Enter),n.onMonthKeyDown(b,g)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(g)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(g)}:void 0,tabIndex:Number(n.getTabIndex(g)),className:n.getMonthClassNames(g),"aria-disabled":n.isMonthDisabled(g),role:"option","aria-label":n.getAriaLabel(g),"aria-current":n.isCurrentMonth(c,g)?"date":void 0,"aria-selected":d?n.isSelectedMonth(c,g,d):void 0},n.getMonthContent(g))}))})},n.renderQuarters=function(){var r=n.props,i=r.day,a=r.selected,s=[1,2,3,4];return se.createElement("div",{className:"react-datepicker__quarter-wrapper"},s.map(function(c,d){return se.createElement("div",{key:d,ref:n.QUARTER_REFS[d],role:"option",onClick:function(f){n.onQuarterClick(f,c)},onKeyDown:function(f){n.onQuarterKeyDown(f,c)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(c)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(c)}:void 0,className:n.getQuarterClassNames(c),"aria-selected":a?n.isSelectedQuarter(i,c,a):void 0,tabIndex:Number(n.getQuarterTabIndex(c)),"aria-current":n.isCurrentQuarter(i,c)?"date":void 0},n.getQuarterContent(c))}))},n.getClassNames=function(){var r=n.props,i=r.selectingDate,a=r.selectsStart,s=r.selectsEnd,c=r.showMonthYearPicker,d=r.showQuarterYearPicker,f=r.showWeekPicker;return ct("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(a||s)},{"react-datepicker__monthPicker":c},{"react-datepicker__quarterPicker":d},{"react-datepicker__weekPicker":f})},n}return t.prototype.getSelection=function(){var n=this.props,r=n.selected,i=n.selectedDates,a=n.selectsMultiple;if(a)return i;if(r)return[r]},t.prototype.render=function(){var n=this.props,r=n.showMonthYearPicker,i=n.showQuarterYearPicker,a=n.day,s=n.ariaLabelPrefix,c=s===void 0?"Month ":s,d=c?c.trim()+" ":"",f=Pi(a)?"".concat(d).concat(yn(a,"MMMM, yyyy",this.props.locale)):"",p=r||i;return p?se.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":f,role:"listbox"},r?this.renderMonths():this.renderQuarters()):se.createElement("div",{role:"table"},this.props.dayNamesHeader&&se.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),se.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":f,role:"rowgroup"},this.renderWeeks()))},t})(w.Component),pke=(function(e){Er(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.monthOptionButtonsRef={},n.isSelectedMonth=function(r){return n.props.month===r},n.handleOptionKeyDown=function(r,i){var a;switch(i.key){case"Enter":i.preventDefault(),n.onChange(r);break;case"Escape":i.preventDefault(),n.props.onCancel();break;case"ArrowUp":case"ArrowDown":{i.preventDefault();var s=(r+(i.key==="ArrowUp"?-1:1)+n.props.monthNames.length)%n.props.monthNames.length;(a=n.monthOptionButtonsRef[s])===null||a===void 0||a.focus();break}}},n.renderOptions=function(){return n.monthOptionButtonsRef={},n.props.monthNames.map(function(r,i){return se.createElement("div",{ref:function(a){n.monthOptionButtonsRef[i]=a,n.isSelectedMonth(i)&&a?.focus()},role:"button",tabIndex:0,className:n.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:n.onChange.bind(n,i),onKeyDown:n.handleOptionKeyDown.bind(n,i),"aria-selected":n.isSelectedMonth(i)?"true":void 0},n.isSelectedMonth(i)?se.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",r)})},n.onChange=function(r){return n.props.onChange(r)},n.handleClickOutside=function(){return n.props.onCancel()},n}return t.prototype.render=function(){return se.createElement(K2,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},t})(w.Component),hke=(function(e){Er(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(r){return r.map(function(i,a){return se.createElement("option",{key:i,value:a},i)})},n.renderSelectMode=function(r){return se.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(i){return n.onChange(parseInt(i.target.value))}},n.renderSelectOptions(r))},n.renderReadView=function(r,i){return se.createElement("button",{key:"read",type:"button",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},se.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),se.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[n.props.month]))},n.renderDropdown=function(r){return se.createElement(pke,kt({key:"dropdown"},n.props,{monthNames:r,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(r){var i=n.state.dropdownVisible,a=[n.renderReadView(!i,r)];return i&&a.unshift(n.renderDropdown(r)),a},n.onChange=function(r){n.toggleDropdown(),r!==n.props.month&&n.props.onChange(r)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return t.prototype.render=function(){var n=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(a){return rG(a,n.props.locale)}:function(a){return mk(a,n.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(r);break;case"select":i=this.renderSelectMode(r);break}return se.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},t})(w.Component);function mke(e,t){for(var n=[],r=Es(e),i=Es(t);!sc(r,i);)n.push(Ut(r)),r=Ya(r,1);return n}var gke=(function(e){Er(t,e);function t(n){var r=e.call(this,n)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(i){var a=KC(i),s=xo(r.props.date,i)&&Hr(r.props.date,i);return se.createElement("div",{className:s?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:a,onClick:r.onChange.bind(r,a),"aria-selected":s?"true":void 0},s?se.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",yn(i,r.props.dateFormat,r.props.locale))})},r.onChange=function(i){return r.props.onChange(i)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:mke(r.props.minDate,r.props.maxDate)},r}return t.prototype.render=function(){var n=ct({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return se.createElement(K2,{className:n,onClickOutside:this.handleClickOutside},this.renderOptions())},t})(w.Component),yke=(function(e){Er(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=Es(n.props.minDate),i=Es(n.props.maxDate),a=[];!sc(r,i);){var s=KC(r);a.push(se.createElement("option",{key:s,value:s},yn(r,n.props.dateFormat,n.props.locale))),r=Ya(r,1)}return a},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return se.createElement("select",{value:KC(Es(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){var i=yn(n.props.date,n.props.dateFormat,n.props.locale);return se.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},se.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),se.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},n.renderDropdown=function(){return se.createElement(gke,kt({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown();var i=Ut(r);xo(n.props.date,i)&&Hr(n.props.date,i)||n.props.onChange(i)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return t.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return se.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)},t})(w.Component),vke=(function(e){Er(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,i,a;n.list&&(n.list.scrollTop=(a=n.centerLi&&t.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-((i=(r=n.header)===null||r===void 0?void 0:r.clientHeight)!==null&&i!==void 0?i:0):n.list.clientHeight,n.centerLi))!==null&&a!==void 0?a:0)})},n.handleClick=function(r){var i,a;(n.props.minTime||n.props.maxTime)&&IR(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&$R(r,n.props)||(a=(i=n.props).onChange)===null||a===void 0||a.call(i,r)},n.isSelectedTime=function(r){return n.props.selected&&sG(n.props.selected,r)},n.isDisabledTime=function(r){return(n.props.minTime||n.props.maxTime)&&IR(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&$R(r,n.props)},n.liClasses=function(r){var i,a=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(r):void 0];return n.isSelectedTime(r)&&a.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(r)&&a.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(Ba(r)*3600+za(r)*60+Kl(r))%(((i=n.props.intervals)!==null&&i!==void 0?i:t.defaultProps.intervals)*60)!==0&&a.push("react-datepicker__time-list-item--injected"),a.join(" ")},n.handleOnKeyDown=function(r,i){var a,s;r.key===Ge.Space&&(r.preventDefault(),r.key=Ge.Enter),(r.key===Ge.ArrowUp||r.key===Ge.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===Ge.ArrowDown||r.key===Ge.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===Ge.Enter&&n.handleClick(i),(s=(a=n.props).handleOnKeyDown)===null||s===void 0||s.call(a,r)},n.renderTimes=function(){for(var r,i=[],a=typeof n.props.format=="string"?n.props.format:"p",s=(r=n.props.intervals)!==null&&r!==void 0?r:t.defaultProps.intervals,c=n.props.selected||n.props.openToDate||Ut(),d=lm(c),f=n.props.injectTimes&&n.props.injectTimes.sort(function(j,A){return j.getTime()-A.getTime()}),p=60*oke(c),m=p/s,g=0;g<m;g++){var v=pg(d,g*s);if(i.push(v),f){var b=ake(d,v,g,s,f);i=i.concat(b)}}var C=i.reduce(function(j,A){return A.getTime()<=c.getTime()?A:j},i[0]);return i.map(function(j){return se.createElement("li",{key:j.valueOf(),onClick:n.handleClick.bind(n,j),className:n.liClasses(j),ref:function(A){j===C&&(n.centerLi=A)},onKeyDown:function(A){n.handleOnKeyDown(A,j)},tabIndex:j===C?0:-1,role:"option","aria-selected":n.isSelectedTime(j)?"true":void 0,"aria-disabled":n.isDisabledTime(j)?"true":void 0},yn(j,a,n.props.locale))})},n.renderTimeCaption=function(){return n.props.showTimeCaption===!1?se.createElement(se.Fragment,null):se.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){n.header=r}},se.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},t.prototype.componentWillUnmount=function(){var n;(n=this.resizeObserver)===null||n===void 0||n.disconnect()},t.prototype.observeDatePickerHeightChanges=function(){var n=this,r=this.props.monthRef;this.updateContainerHeight(),r&&(this.resizeObserver=new ResizeObserver(function(){n.updateContainerHeight()}),this.resizeObserver.observe(r))},t.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},t.prototype.render=function(){var n=this,r,i=this.state.height;return se.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),se.createElement("div",{className:"react-datepicker__time"},se.createElement("div",{className:"react-datepicker__time-box"},se.createElement("ul",{className:"react-datepicker__time-list",ref:function(a){n.list=a},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(n,r){return r.offsetTop-(n/2-r.clientHeight/2)},t})(w.Component),qR=3,bke=(function(e){Er(t,e);function t(n){var r=e.call(this,n)||this;return r.YEAR_REFS=Ao([],Array(r.props.yearItemNumber),!0).map(function(){return w.createRef()}),r.isDisabled=function(i){return ra(i,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(i){return gk(i,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var i;return(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection},r.updateFocusOnPaginate=function(i){var a=function(){var s,c;(c=(s=r.YEAR_REFS[i])===null||s===void 0?void 0:s.current)===null||c===void 0||c.focus()};window.requestAnimationFrame(a)},r.handleYearClick=function(i,a){r.props.onDayClick&&r.props.onDayClick(i,a)},r.handleYearNavigation=function(i,a){var s,c,d,f,p=r.props,m=p.date,g=p.yearItemNumber;if(!(m===void 0||g===void 0)){var v=Ss(m,g).startPeriod;r.isDisabled(a)||r.isExcluded(a)||((c=(s=r.props).setPreSelection)===null||c===void 0||c.call(s,a),i-v<0?r.updateFocusOnPaginate(g-(v-i)):i-v>=g?r.updateFocusOnPaginate(Math.abs(g-(i-v))):(f=(d=r.YEAR_REFS[i-v])===null||d===void 0?void 0:d.current)===null||f===void 0||f.focus())}},r.isSameDay=function(i,a){return Nt(i,a)},r.isCurrentYear=function(i){return i===Et(Ut())},r.isRangeStart=function(i){return r.props.startDate&&r.props.endDate&&xo(vo(Ut(),i),r.props.startDate)},r.isRangeEnd=function(i){return r.props.startDate&&r.props.endDate&&xo(vo(Ut(),i),r.props.endDate)},r.isInRange=function(i){return y1(i,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(i){var a=r.props,s=a.selectsStart,c=a.selectsEnd,d=a.selectsRange,f=a.startDate,p=a.endDate;return!(s||c||d)||!r.selectingDate()?!1:s&&p?y1(i,r.selectingDate(),p):c&&f||d&&f&&!p?y1(i,f,r.selectingDate()):!1},r.isSelectingRangeStart=function(i){var a;if(!r.isInSelectingRange(i))return!1;var s=r.props,c=s.startDate,d=s.selectsStart,f=vo(Ut(),i);return d?xo(f,(a=r.selectingDate())!==null&&a!==void 0?a:null):xo(f,c??null)},r.isSelectingRangeEnd=function(i){var a;if(!r.isInSelectingRange(i))return!1;var s=r.props,c=s.endDate,d=s.selectsEnd,f=s.selectsRange,p=vo(Ut(),i);return d||f?xo(p,(a=r.selectingDate())!==null&&a!==void 0?a:null):xo(p,c??null)},r.isKeyboardSelected=function(i){if(!(r.props.disabledKeyboardNavigation||r.props.date===void 0||r.props.preSelection==null)){var a=r.props,s=a.minDate,c=a.maxDate,d=a.excludeDates,f=a.includeDates,p=a.filterDate,m=a.selected,g=cm(vo(r.props.date,i)),v=(s||c||d||f||p)&&tb(i,r.props),b=!!m&&Nt(g,cm(m)),C=Nt(g,cm(r.props.preSelection));return!r.props.inline&&!b&&C&&!v}},r.isSelectedYear=function(i){var a=r.props,s=a.selectsMultiple,c=a.selected,d=a.selectedDates;return s?d?.some(function(f){return i===Et(f)}):!!c&&i===Et(c)},r.onYearClick=function(i,a){var s=r.props.date;s!==void 0&&r.handleYearClick(cm(vo(s,a)),i)},r.onYearKeyDown=function(i,a){var s,c,d=i.key,f=r.props,p=f.date,m=f.yearItemNumber,g=f.handleOnKeyDown;if(d!==Ge.Tab&&i.preventDefault(),!r.props.disabledKeyboardNavigation)switch(d){case Ge.Enter:if(r.props.selected==null)break;r.onYearClick(i,a),(c=(s=r.props).setPreSelection)===null||c===void 0||c.call(s,r.props.selected);break;case Ge.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(a+1,As(r.props.preSelection,1));break;case Ge.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(a-1,ip(r.props.preSelection,1));break;case Ge.ArrowUp:{if(p===void 0||m===void 0||r.props.preSelection==null)break;var v=Ss(p,m).startPeriod,b=qR,C=a-b;if(C<v){var j=m%b;a>=v&&a<v+j?b=j:b+=j,C=a-b}r.handleYearNavigation(C,ip(r.props.preSelection,b));break}case Ge.ArrowDown:{if(p===void 0||m===void 0||r.props.preSelection==null)break;var A=Ss(p,m).endPeriod,b=qR,C=a+b;if(C>A){var j=m%b;a<=A&&a>A-j?b=j:b+=j,C=a+b}r.handleYearNavigation(C,As(r.props.preSelection,b));break}}g&&g(i)},r.getYearClassNames=function(i){var a=r.props,s=a.date,c=a.disabled,d=a.minDate,f=a.maxDate,p=a.excludeDates,m=a.includeDates,g=a.filterDate,v=a.yearClassName;return ct("react-datepicker__year-text","react-datepicker__year-".concat(i),s?v?.(vo(s,i)):void 0,{"react-datepicker__year-text--selected":r.isSelectedYear(i),"react-datepicker__year-text--disabled":(d||f||p||m||g||c)&&tb(i,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(i),"react-datepicker__year-text--range-start":r.isRangeStart(i),"react-datepicker__year-text--range-end":r.isRangeEnd(i),"react-datepicker__year-text--in-range":r.isInRange(i),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(i),"react-datepicker__year-text--today":r.isCurrentYear(i)})},r.getYearTabIndex=function(i){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var a=Et(r.props.preSelection),s=tb(i,r.props);return i===a&&!s?"0":"-1"},r.getYearContent=function(i){return r.props.renderYearContent?r.props.renderYearContent(i):i},r}return t.prototype.render=function(){var n=this,r=[],i=this.props,a=i.date,s=i.yearItemNumber,c=i.onYearMouseEnter,d=i.onYearMouseLeave;if(a===void 0)return null;for(var f=Ss(a,s),p=f.startPeriod,m=f.endPeriod,g=function(C){r.push(se.createElement("div",{ref:v.YEAR_REFS[C-p],onClick:function(j){n.onYearClick(j,C)},onKeyDown:function(j){lG(j)&&(j.preventDefault(),j.key=Ge.Enter),n.onYearKeyDown(j,C)},tabIndex:Number(v.getYearTabIndex(C)),className:v.getYearClassNames(C),onMouseEnter:v.props.usePointerEvent?void 0:function(j){return c(j,C)},onPointerEnter:v.props.usePointerEvent?function(j){return c(j,C)}:void 0,onMouseLeave:v.props.usePointerEvent?void 0:function(j){return d(j,C)},onPointerLeave:v.props.usePointerEvent?function(j){return d(j,C)}:void 0,key:C,"aria-current":v.isCurrentYear(C)?"date":void 0},v.getYearContent(C)))},v=this,b=p;b<=m;b++)g(b);return se.createElement("div",{className:"react-datepicker__year"},se.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},t})(w.Component);function xke(e,t,n,r){for(var i=[],a=0;a<2*t+1;a++){var s=e+t-a,c=!0;n&&(c=Et(n)<=s),r&&c&&(c=Et(r)>=s),c&&i.push(s)}return i}var wke=(function(e){Er(t,e);function t(n){var r=e.call(this,n)||this;r.yearOptionButtonsRef={},r.handleOptionKeyDown=function(c,d){var f;switch(d.key){case"Enter":d.preventDefault(),r.onChange(c);break;case"Escape":d.preventDefault(),r.props.onCancel();break;case"ArrowUp":case"ArrowDown":{d.preventDefault();var p=c+(d.key==="ArrowUp"?1:-1);r.yearOptionButtonsRef[p]&&((f=r.yearOptionButtonsRef[p])===null||f===void 0||f.focus());break}}},r.renderOptions=function(){r.yearOptionButtonsRef={};var c=r.props.year,d=r.state.yearsList.map(function(m){return se.createElement("div",{ref:function(g){r.yearOptionButtonsRef[m]=g,m===c&&g?.focus()},role:"button",tabIndex:0,className:c===m?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:m,onClick:r.onChange.bind(r,m),onKeyDown:r.handleOptionKeyDown.bind(r,m),"aria-selected":c===m?"true":void 0},c===m?se.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",m)}),f=r.props.minDate?Et(r.props.minDate):null,p=r.props.maxDate?Et(r.props.maxDate):null;return(!p||!r.state.yearsList.find(function(m){return m===p}))&&d.unshift(se.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},se.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!f||!r.state.yearsList.find(function(m){return m===f}))&&d.push(se.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},se.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),d},r.onChange=function(c){r.props.onChange(c)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(c){var d=r.state.yearsList.map(function(f){return f+c});r.setState({yearsList:d})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var i=n.yearDropdownItemNumber,a=n.scrollableYearDropdown,s=i||(a?10:5);return r.state={yearsList:xke(r.props.year,s,r.props.minDate,r.props.maxDate)},r.dropdownRef=w.createRef(),r}return t.prototype.componentDidMount=function(){var n=this.dropdownRef.current;if(n){var r=n.children?Array.from(n.children):null,i=r?r.find(function(a){return a.ariaSelected}):null;n.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}},t.prototype.render=function(){var n=ct({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return se.createElement(K2,{className:n,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t})(w.Component),Ske=(function(e){Er(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=n.props.minDate?Et(n.props.minDate):1900,i=n.props.maxDate?Et(n.props.maxDate):2100,a=[],s=r;s<=i;s++)a.push(se.createElement("option",{key:s,value:s},s));return a},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return se.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){return se.createElement("button",{key:"read",type:"button",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:n.toggleDropdown},se.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),se.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return se.createElement(wke,kt({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown(),r!==n.props.year&&n.props.onChange(r)},n.toggleDropdown=function(r){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,r)})},n.handleYearChange=function(r,i){var a;(a=n.onSelect)===null||a===void 0||a.call(n,r,i),n.setOpen()},n.onSelect=function(r,i){var a,s;(s=(a=n.props).onSelect)===null||s===void 0||s.call(a,r,i)},n.setOpen=function(){var r,i;(i=(r=n.props).setOpen)===null||i===void 0||i.call(r,!0)},n}return t.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return se.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)},t})(w.Component),Cke=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],cG="react-datepicker-ignore-onclickoutside",jke=function(e){var t=(e.className||"").split(/\s+/);return Cke.some(function(n){return t.indexOf(n)>=0})},Tke=(function(e){Er(t,e);function t(n){var r=e.call(this,n)||this;return r.monthContainer=void 0,r.handleClickOutside=function(i){r.props.onClickOutside(i)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(i){var a,s;jke(i.target)&&((s=(a=r.props).onDropdownFocus)===null||s===void 0||s.call(a,i))},r.getDateInView=function(){var i=r.props,a=i.preSelection,s=i.selected,c=i.openToDate,d=aG(r.props),f=oG(r.props),p=Ut(),m=c||s||a;return m||(d&&To(p,d)?d:f&&sc(p,f)?f:p)},r.increaseMonth=function(){r.setState(function(i){var a=i.date;return{date:Ya(a,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(i){var a=i.date;return{date:Hu(a,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(i,a,s){r.props.onSelect(i,a,s),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleDayMouseEnter=function(i){r.setState({selectingDate:i}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(i)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(i,a){r.setState({selectingDate:vo(Ut(),a)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(i,a)},r.handleYearMouseLeave=function(i,a){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(i,a)},r.handleYearChange=function(i){var a,s,c,d;(s=(a=r.props).onYearChange)===null||s===void 0||s.call(a,i),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(i),(d=(c=r.props).setOpen)===null||d===void 0||d.call(c,!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.getEnabledPreSelectionDateForMonth=function(i){if(!ra(i,r.props))return i;for(var a=Es(i),s=WAe(i),c=QCe(s,a),d=null,f=0;f<=c;f++){var p=Ha(a,f);if(!ra(p,r.props)){d=p;break}}return d},r.handleMonthChange=function(i){var a,s,c,d=(a=r.getEnabledPreSelectionDateForMonth(i))!==null&&a!==void 0?a:i;r.handleCustomMonthChange(d),r.props.adjustDateOnChange&&(r.props.onSelect(d),(c=(s=r.props).setOpen)===null||c===void 0||c.call(s,!0)),r.props.setPreSelection&&r.props.setPreSelection(d)},r.handleCustomMonthChange=function(i){var a,s;(s=(a=r.props).onMonthChange)===null||s===void 0||s.call(a,i),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(i){r.handleYearChange(i),r.handleMonthChange(i)},r.changeYear=function(i){r.setState(function(a){var s=a.date;return{date:vo(s,Number(i))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(i){r.setState(function(a){var s=a.date;return{date:ki(s,Number(i))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(i){r.setState(function(a){var s=a.date;return{date:vo(ki(s,oi(i)),Et(i))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(i){if(i===void 0&&(i=r.state.date),!Pi(i))return[];var a=r.props.disabled,s=Xl(i,r.props.locale,r.props.calendarStartDay),c=[];return r.props.showWeekNumbers&&c.push(se.createElement("div",{key:"W",className:"react-datepicker__day-name ".concat(a?"react-datepicker__day-name--disabled":""),role:"columnheader"},se.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),se.createElement("span",{"aria-hidden":"true"},r.props.weekLabel||"#"))),c.concat([0,1,2,3,4,5,6].map(function(d){var f=Ha(s,d),p=r.formatWeekday(f,r.props.locale),m=r.props.weekDayClassName?r.props.weekDayClassName(f):void 0;return se.createElement("div",{key:d,role:"columnheader",className:ct("react-datepicker__day-name",m,a?"react-datepicker__day-name--disabled":"")},se.createElement("span",{className:"react-datepicker__sr-only"},yn(f,"EEEE",r.props.locale)),se.createElement("span",{"aria-hidden":"true"},p))}))},r.formatWeekday=function(i,a){return r.props.formatWeekDay?GAe(i,r.props.formatWeekDay,a):r.props.useWeekdaysShort?XAe(i,a):KAe(i,a)},r.decreaseYear=function(){r.setState(function(i){var a,s=i.date;return{date:ip(s,r.props.showYearPicker?(a=r.props.yearItemNumber)!==null&&a!==void 0?a:t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var i,a,s;if(!r.props.renderCustomHeader){var c=(i=r.props.monthsShown)!==null&&i!==void 0?i:t.defaultProps.monthsShown,d=r.props.showPreviousMonths?c-1:0,f=(a=r.props.monthSelectedIn)!==null&&a!==void 0?a:d,p=Hu(r.state.date,f),m;switch(!0){case r.props.disabled:m=!0;break;case r.props.showMonthYearPicker:m=LR(r.state.date,r.props);break;case r.props.showYearPicker:m=tke(r.state.date,r.props);break;case r.props.showQuarterYearPicker:m=JAe(r.state.date,r.props);break;default:m=RR(p,r.props);break}if(!(!((s=r.props.forceShowMonthNavigation)!==null&&s!==void 0?s:t.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&m||r.props.showTimeSelectOnly)){var g=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],v=["react-datepicker__navigation","react-datepicker__navigation--previous"],b=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(b=r.decreaseYear),m&&r.props.showDisabledMonthNavigation&&(v.push("react-datepicker__navigation--previous--disabled"),b=void 0);var C=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,j=r.props,A=j.previousMonthButtonLabel,k=A===void 0?t.defaultProps.previousMonthButtonLabel:A,E=j.previousYearButtonLabel,P=E===void 0?t.defaultProps.previousYearButtonLabel:E,$=r.props,F=$.previousMonthAriaLabel,O=F===void 0?typeof k=="string"?k:"Previous Month":F,_=$.previousYearAriaLabel,D=_===void 0?typeof P=="string"?P:"Previous Year":_;return se.createElement("button",{type:"button",className:v.join(" "),onClick:b,onKeyDown:r.props.handleOnKeyDown,"aria-label":C?D:O},se.createElement("span",{className:g.join(" ")},C?P:k))}}},r.increaseYear=function(){r.setState(function(i){var a,s=i.date;return{date:As(s,r.props.showYearPicker?(a=r.props.yearItemNumber)!==null&&a!==void 0?a:t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var i;if(!r.props.renderCustomHeader){var a;switch(!0){case r.props.disabled:a=!0;break;case r.props.showMonthYearPicker:a=FR(r.state.date,r.props);break;case r.props.showYearPicker:a=nke(r.state.date,r.props);break;case r.props.showQuarterYearPicker:a=eke(r.state.date,r.props);break;default:a=MR(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:t.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&a||r.props.showTimeSelectOnly)){var s=["react-datepicker__navigation","react-datepicker__navigation--next"],c=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&s.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&s.push("react-datepicker__navigation--next--with-today-button");var d=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(d=r.increaseYear),a&&r.props.showDisabledMonthNavigation&&(s.push("react-datepicker__navigation--next--disabled"),d=void 0);var f=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,p=r.props,m=p.nextMonthButtonLabel,g=m===void 0?t.defaultProps.nextMonthButtonLabel:m,v=p.nextYearButtonLabel,b=v===void 0?t.defaultProps.nextYearButtonLabel:v,C=r.props,j=C.nextMonthAriaLabel,A=j===void 0?typeof g=="string"?g:"Next Month":j,k=C.nextYearAriaLabel,E=k===void 0?typeof b=="string"?b:"Next Year":k;return se.createElement("button",{type:"button",className:s.join(" "),onClick:d,onKeyDown:r.props.handleOnKeyDown,"aria-label":f?E:A},se.createElement("span",{className:c.join(" ")},f?b:g))}}},r.renderCurrentMonth=function(i){i===void 0&&(i=r.state.date);var a=["react-datepicker__current-month"];return r.props.showYearDropdown&&a.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&a.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&a.push("react-datepicker__current-month--hasMonthYearDropdown"),se.createElement("h2",{className:a.join(" ")},Pi(i)?yn(i,r.props.dateFormat,r.props.locale):"")},r.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showYearDropdown||i))return se.createElement(Ske,kt({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:Et(r.state.date)}))},r.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthDropdown||i))return se.createElement(hke,kt({},t.defaultProps,r.props,{month:oi(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthYearDropdown||i))return se.createElement(yke,kt({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(i){r.props.onSelect(PR(),i),r.props.setPreSelection&&r.props.setPreSelection(PR())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return se.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDayNamesHeader=function(i){return se.createElement("div",{className:"react-datepicker__day-names",role:"row"},r.header(i))},r.renderDefaultHeader=function(i){var a=i.monthDate,s=i.i;return se.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(a),se.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(s!==0),r.renderMonthYearDropdown(s!==0),r.renderYearDropdown(s!==0)))},r.renderCustomHeader=function(i){var a,s,c=i.monthDate,d=i.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var f=r.props,p=f.showYearPicker,m=f.yearItemNumber,g;if(p){var v=Ss(c,m),b=v.startPeriod,C=v.endPeriod;g={startYear:b,endYear:C}}var j=RR(r.state.date,r.props),A=MR(r.state.date,r.props),k=LR(r.state.date,r.props),E=FR(r.state.date,r.props);return se.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(s=(a=r.props).renderCustomHeader)===null||s===void 0?void 0:s.call(a,kt(kt(kt({},r.state),p&&{visibleYearsRange:g}),{customHeaderCount:d,monthDate:c,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:j,nextMonthButtonDisabled:A,prevYearButtonDisabled:k,nextYearButtonDisabled:E})))},r.renderYearHeader=function(i){var a=i.monthDate,s=r.props,c=s.showYearPicker,d=s.yearItemNumber,f=d===void 0?t.defaultProps.yearItemNumber:d,p=Ss(a,f),m=p.startPeriod,g=p.endPeriod;return se.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},c?"".concat(m," - ").concat(g):Et(a))},r.renderHeader=function(i){var a=i.monthDate,s=i.i,c=s===void 0?0:s,d={monthDate:a,i:c};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(d);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(d);default:return r.renderDefaultHeader(d)}},r.renderMonths=function(){var i,a;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var s=[],c=(i=r.props.monthsShown)!==null&&i!==void 0?i:t.defaultProps.monthsShown,d=r.props.showPreviousMonths?c-1:0,f=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?As(r.state.date,d):Hu(r.state.date,d),p=(a=r.props.monthSelectedIn)!==null&&a!==void 0?a:d,m=0;m<c;++m){var g=m-p+d,v=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?As(f,g):Ya(f,g),b="month-".concat(m),C=m<c-1,j=m>0;s.push(se.createElement("div",{key:b,ref:function(A){r.monthContainer=A??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:v,i:m}),se.createElement(fke,kt({},t.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:v,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:m,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:C,monthShowsDuplicateDaysStart:j,dayNamesHeader:r.renderDayNamesHeader(v)}))))}return s}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return se.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),se.createElement(bke,kt({},t.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return se.createElement(vke,kt({},t.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var i=r.props.selected?new Date(r.props.selected):void 0,a=i&&Pi(i)&&!!r.props.selected,s=a?"".concat(zR(i.getHours()),":").concat(zR(i.getMinutes())):"";if(r.props.showTimeInput)return se.createElement(ske,kt({},t.defaultProps,r.props,{date:i,timeString:s,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var i;if(!Pi(r.state.date))return se.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"});var a=Ss(r.state.date,(i=r.props.yearItemNumber)!==null&&i!==void 0?i:t.defaultProps.yearItemNumber),s=a.startPeriod,c=a.endPeriod,d;return r.props.showYearPicker?d="".concat(s," - ").concat(c):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?d=Et(r.state.date):d="".concat(mk(oi(r.state.date),r.props.locale)," ").concat(Et(r.state.date)),se.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&d)},r.renderChildren=function(){if(r.props.children)return se.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=w.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:cG,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:v0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){n.setState({monthContainer:n.monthContainer})})())},t.prototype.componentDidUpdate=function(n){var r=this;if(this.props.preSelection&&Pi(this.props.preSelection)&&(!Nt(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var i=!Hr(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!Nt(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})},t.prototype.render=function(){var n=this.props.container||BAe;return se.createElement(K2,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},se.createElement("div",{style:{display:"contents"},ref:this.containerRef},se.createElement(n,{className:ct("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly,inline:this.props.inline},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},t})(w.Component),Ake=function(e){var t=e.icon,n=e.className,r=n===void 0?"":n,i=e.onClick,a="react-datepicker__calendar-icon";if(typeof t=="string")return se.createElement("i",{className:"".concat(a," ").concat(t," ").concat(r),"aria-hidden":"true",onClick:i});if(se.isValidElement(t)){var s=t;return se.cloneElement(s,{className:"".concat(s.props.className||""," ").concat(a," ").concat(r),onClick:function(c){typeof s.props.onClick=="function"&&s.props.onClick(c),typeof i=="function"&&i(c)}})}return se.createElement("svg",{className:"".concat(a," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},se.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},uG=(function(e){Er(t,e);function t(n){var r=e.call(this,n)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return _re.createPortal(this.props.children,this.el)},t})(w.Component),kke="[tabindex], a, button, input, select, textarea",Eke=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},dG=(function(e){Er(t,e);function t(n){var r=e.call(this,n)||this;return r.getTabChildren=function(){var i;return Array.prototype.slice.call((i=r.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(kke),1,-1).filter(Eke)},r.handleFocusStart=function(){var i=r.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},r.handleFocusEnd=function(){var i=r.getTabChildren();i&&i.length>1&&i[0].focus()},r.tabLoopRef=w.createRef(),r}return t.prototype.render=function(){var n;return((n=this.props.enableTabLoop)!==null&&n!==void 0?n:t.defaultProps.enableTabLoop)?se.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},se.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,se.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t})(w.Component);function Nke(e){function t(n){var r,i=typeof n.hidePopper=="boolean"?n.hidePopper:!0,a=w.useRef(null),s=FAe(kt({open:!i,whileElementsMounted:yAe,placement:n.popperPlacement,middleware:Ao([AAe({padding:15}),TAe(10),kAe({element:a})],(r=n.popperModifiers)!==null&&r!==void 0?r:[],!0)},n.popperProps)),c=kt(kt({},n),{hidePopper:i,popperProps:kt(kt({},s),{arrowRef:a})});return se.createElement(e,kt({},c))}return t.displayName="withFloating(".concat(e.displayName||e.name||"Component",")"),t}var _ke=function(e){var t=e.className,n=e.wrapperClassName,r=e.hidePopper,i=r===void 0?!0:r,a=e.popperComponent,s=e.targetComponent,c=e.enableTabLoop,d=e.popperOnKeyDown,f=e.portalId,p=e.portalHost,m=e.popperProps,g=e.showArrow,v=void 0;if(!i){var b=ct("react-datepicker-popper",t);v=se.createElement(dG,{enableTabLoop:c},se.createElement("div",{ref:m.refs.setFloating,style:m.floatingStyles,className:b,"data-placement":m.placement,onKeyDown:d},a,g&&se.createElement(DAe,{ref:m.arrowRef,context:m.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}e.popperContainer&&(v=w.createElement(e.popperContainer,{},v)),f&&!i&&(v=se.createElement(uG,{portalId:f,portalHost:p},v));var C=ct("react-datepicker-wrapper",n);return se.createElement(se.Fragment,null,se.createElement("div",{ref:m.refs.setReference,className:C},s),v)},Pke=Nke(_ke);function Dke(e,t){return e&&t?oi(e)!==oi(t)||Et(e)!==Et(t):e!==t}var $S="Date input not valid.",IS=(function(e){Er(t,e);function t(n){var r=e.call(this,n)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Ut()},r.modifyHolidays=function(){var i;return(i=r.props.holidays)===null||i===void 0?void 0:i.reduce(function(a,s){var c=new Date(s.date);return Pi(c)?Ao(Ao([],a,!0),[kt(kt({},s),{date:c})],!1):a},[])},r.calcInitialState=function(){var i,a=r.getPreSelection(),s=aG(r.props),c=oG(r.props),d=s&&To(a,lm(s))?s:c&&sc(a,DR(c))?c:a;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&i!==void 0?i:d,highlightDates:BR(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.getInputValue=function(){var i,a=r.props,s=a.locale,c=a.startDate,d=a.endDate,f=a.rangeSeparator,p=a.selected,m=a.selectedDates,g=a.selectsMultiple,v=a.selectsRange,b=a.value,C=(i=r.props.dateFormat)!==null&&i!==void 0?i:t.defaultProps.dateFormat,j=r.state.inputValue;return typeof b=="string"?b:typeof j=="string"?j:v?UAe(c,d,{dateFormat:C,locale:s,rangeSeparator:f}):g?HAe(m??[],{dateFormat:C,locale:s}):Ai(p,{dateFormat:C,locale:s})},r.resetHiddenStatus=function(){r.setState(kt(kt({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(kt(kt({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var i,a;(a=(i=r.input)===null||i===void 0?void 0:i.focus)===null||a===void 0||a.call(i,{preventScroll:!0})},r.setBlur=function(){var i,a;(a=(i=r.input)===null||i===void 0?void 0:i.blur)===null||a===void 0||a.call(i),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame(function(){r.setBlur()})},r.setOpen=function(i,a){a===void 0&&(a=!1),r.setState({open:i,preSelection:i&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:RS},function(){i||r.setState(function(s){return{focused:a?s.focused:!1}},function(){!a&&r.deferBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return ks(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(i){var a,s,c=r.state.wasHidden,d=c?r.state.open:!0;c&&r.resetHiddenStatus(),r.state.preventFocus||((s=(a=r.props).onFocus)===null||s===void 0||s.call(a,i),d&&!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.resetInputValue=function(){r.setState(kt(kt({},r.state),{inputValue:null}))},r.handleBlur=function(i){var a,s;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((s=(a=r.props).onBlur)===null||s===void 0||s.call(a,i)),r.resetInputValue(),r.state.open&&r.props.open===!1&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(i){var a,s;r.props.inline||r.setOpen(!1),(s=(a=r.props).onClickOutside)===null||s===void 0||s.call(a,i),r.props.withPortal&&i.preventDefault()},r.handleChange=function(){for(var i,a,s,c,d,f=[],p=0;p<arguments.length;p++)f[p]=arguments[p];var m=f[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,f),!m||typeof m.isDefaultPrevented!="function"||m.isDefaultPrevented()))){r.setState({inputValue:m?.target instanceof HTMLInputElement?m.target.value:null,lastPreSelectChange:Oke});var g=r.props,v=g.selectsRange,b=g.startDate,C=g.endDate,j=(i=r.props.dateFormat)!==null&&i!==void 0?i:t.defaultProps.dateFormat,A=(a=r.props.strictParsing)!==null&&a!==void 0?a:t.defaultProps.strictParsing,k=m?.target instanceof HTMLInputElement?m.target.value:"";if(v){var E=r.props.rangeSeparator,P=E.trim(),$=k.split(j.includes(P)?E:P,2).map(function(H){return H.trim()}),F=$[0],O=$[1],_=Jd(F??"",j,r.props.locale,A),D=_?Jd(O??"",j,r.props.locale,A):null,L=b?.getTime()!==_?.getTime(),R=C?.getTime()!==D?.getTime();if(!L&&!R||_&&ra(_,r.props)||D&&ra(D,r.props))return;(c=(s=r.props).onChange)===null||c===void 0||c.call(s,[_,D],m)}else{var M=Jd(k,j,r.props.locale,A,(d=r.props.selected)!==null&&d!==void 0?d:void 0);(M||!k)&&r.setSelected(M,m,!0)}}},r.handleSelect=function(i,a,s){var c;if(!r.props.readOnly){var d=r.props,f=d.selectsRange,p=d.startDate,m=d.endDate,g=d.locale,v=d.swapRange,b=(c=r.props.dateFormat)!==null&&c!==void 0?c:t.defaultProps.dateFormat,C=!f||p&&!m&&(v||!DS(i,p));if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&C&&r.sendFocusBackToInput(),r.props.onChangeRaw){var j=Ai(i,{dateFormat:b,locale:g});r.props.onChangeRaw(a,{date:i,formattedDate:j})}r.setSelected(i,a,!1,s),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect?r.setPreSelection(i):C&&r.setOpen(!1)}},r.setSelected=function(i,a,s,c){var d,f,p=i;if(r.props.showYearPicker){if(p!==null&&tb(Et(p),r.props))return}else if(r.props.showMonthYearPicker){if(p!==null&&iG(p,r.props))return}else if(p!==null&&ra(p,r.props))return;var m=r.props,g=m.onChange,v=m.selectsRange,b=m.startDate,C=m.endDate,j=m.selectsMultiple,A=m.selectedDates,k=m.minTime,E=m.swapRange;if(!Pu(r.props.selected,p)||r.props.allowSameDay||v||j)if(p!==null&&(r.props.selected&&(!s||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(p=h1(p,{hour:Ba(r.props.selected),minute:za(r.props.selected),second:Kl(r.props.selected)})),!s&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&k&&(p=h1(p,{hour:k.getHours(),minute:k.getMinutes(),second:k.getSeconds()})),r.props.inline||r.setState({preSelection:p}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:c})),v){var P=!b&&!C,$=b&&!C,F=!b&&!!C,O=b&&C;P?g?.([p,null],a):$?p===null?g?.([null,null],a):DS(p,b)?g?.(E?[p,b]:[p,null],a):g?.([b,p],a):F&&(p&&DS(p,C)?g?.([p,C],a):g?.([p,null],a)),O&&g?.([p,null],a)}else if(j){if(p!==null)if(!A?.length)g?.([p],a);else{var _=A.some(function(L){return Nt(L,p)});if(_){var D=A.filter(function(L){return!Nt(L,p)});g?.(D,a)}else g?.(Ao(Ao([],A,!0),[p],!1),a)}}else g?.(p,a);s||((f=(d=r.props).onSelect)===null||f===void 0||f.call(d,p,a),r.setState({inputValue:null}))},r.setPreSelection=function(i){if(!r.props.readOnly){var a=ks(r.props.minDate),s=ks(r.props.maxDate),c=!0;if(i){var d=lm(i);if(a&&s)c=gu(i,r.props.minDate,r.props.maxDate);else if(a){var f=lm(r.props.minDate);c=sc(i,f)||Pu(d,f)}else if(s){var p=DR(r.props.maxDate);c=To(i,p)||Pu(d,p)}}c&&r.setState({preSelection:i})}},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(i){var a,s;if(!(r.props.selectsRange||r.props.selectsMultiple)){var c=r.props.selected?r.props.selected:r.getPreSelection(),d=r.props.selected?i:h1(c,{hour:Ba(i),minute:za(i)});r.setState({preSelection:d}),(s=(a=r.props).onChange)===null||s===void 0||s.call(a,d),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var i,a;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(a=(i=r.props).onInputClick)===null||a===void 0||a.call(i)},r.handleTimeOnlyArrowKey=function(i){var a,s,c,d,f=r.props.selected||r.state.preSelection||Ut(),p=(a=r.props.timeIntervals)!==null&&a!==void 0?a:30,m=(s=r.props.dateFormat)!==null&&s!==void 0?s:t.defaultProps.dateFormat,g=Array.isArray(m)?m[0]:m,v=lm(f),b=Ba(f)*60+za(f),C=1440-p,j;if(i===Ge.ArrowUp){var A=Math.max(0,b-p);j=pg(v,A)}else{var A=Math.min(C,b+p);j=pg(v,A)}var k=yn(j,g||t.defaultProps.dateFormat,r.props.locale);if(r.setState({preSelection:j,inputValue:k}),!(r.props.selectsRange||r.props.selectsMultiple)){var E=r.props.selected?r.props.selected:r.getPreSelection(),P=r.props.selected?j:h1(E,{hour:Ba(j),minute:za(j)});(d=(c=r.props).onChange)===null||d===void 0||d.call(c,P),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),requestAnimationFrame(function(){r.scrollToTimeOption(j)})}},r.handleTimeOnlyEnterKey=function(i){var a,s,c,d,f=i.target,p=f.value,m=(a=r.props.dateFormat)!==null&&a!==void 0?a:t.defaultProps.dateFormat,g=r.props.timeFormat||"p",v=r.state.preSelection||r.props.selected||Ut(),b=Jd(p,m,r.props.locale,(s=r.props.strictParsing)!==null&&s!==void 0?s:!1,v),C=v;if(b&&Pi(b))C=b;else{var j=((c=r.calendar)===null||c===void 0?void 0:c.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(".react-datepicker__time-list-item[tabindex='0']");if(j instanceof HTMLElement){var A=(d=j.textContent)===null||d===void 0?void 0:d.trim();if(A){var k=Jd(A,g,r.props.locale,!1,v);k&&Pi(k)&&(C=k)}}}r.handleTimeChange(C),r.setOpen(!1),r.sendFocusBackToInput()},r.scrollToTimeOption=function(i){var a,s;if(!((a=r.calendar)===null||a===void 0)&&a.containerRef.current){for(var c=r.calendar.containerRef.current,d=Array.from(c.querySelectorAll(".react-datepicker__time-list-item")),f=null,p=1/0,m=r.props.timeFormat||"p",g=0,v=d;g<v.length;g++){var b=v[g],C=(s=b.textContent)===null||s===void 0?void 0:s.trim();if(C){var j=Jd(C,m,r.props.locale,!1,i);if(j&&Pi(j)){if(sG(j,i)){f=b;break}var A=Math.abs(j.getTime()-i.getTime());A<p&&(p=A,f=b)}}}f&&(d.forEach(function(k){k.setAttribute("tabindex","-1")}),f.setAttribute("tabindex","0"),f.scrollIntoView({behavior:"smooth",block:"center"}))}},r.onInputKeyDown=function(i){var a,s,c,d,f,p;(s=(a=r.props).onKeyDown)===null||s===void 0||s.call(a,i);var m=i.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(m===Ge.ArrowDown||m===Ge.ArrowUp||m===Ge.Enter)&&((c=r.onInputClick)===null||c===void 0||c.call(r));return}if(r.state.open&&r.props.showTimeSelectOnly){if(m===Ge.ArrowDown||m===Ge.ArrowUp){i.preventDefault(),r.handleTimeOnlyArrowKey(m);return}if(m===Ge.Enter){i.preventDefault(),r.handleTimeOnlyEnterKey(i);return}}if(r.state.open){if(m===Ge.ArrowDown||m===Ge.ArrowUp){i.preventDefault();var g=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',v=((d=r.calendar)===null||d===void 0?void 0:d.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(g);v instanceof HTMLElement&&v.focus({preventScroll:!0});return}var b=Ut(r.state.preSelection);m===Ge.Enter?(i.preventDefault(),i.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===RS?(r.handleSelect(b,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(b)):r.setOpen(!1)):m===Ge.Escape?(i.preventDefault(),i.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):m===Ge.Tab&&r.setOpen(!1),r.inputOk()||(p=(f=r.props).onInputError)===null||p===void 0||p.call(f,{code:1,msg:$S})}},r.onPortalKeyDown=function(i){var a=i.key;a===Ge.Escape&&(i.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(i){var a,s,c,d,f,p,m=r.props,g=m.minDate,v=m.maxDate,b=m.disabledKeyboardNavigation,C=m.showWeekPicker,j=m.shouldCloseOnSelect,A=m.locale,k=m.calendarStartDay,E=m.adjustDateOnChange,P=m.inline;if((s=(a=r.props).onKeyDown)===null||s===void 0||s.call(a,i),!b){var $=i.key,F=i.shiftKey,O=Ut(r.state.preSelection),_=function(R,M){var H=M;switch(R){case Ge.ArrowRight:H=C?Sx(M,1):Ha(M,1);break;case Ge.ArrowLeft:H=C?vR(M):iTe(M);break;case Ge.ArrowUp:H=vR(M);break;case Ge.ArrowDown:H=Sx(M,1);break;case Ge.PageUp:H=F?ip(M,1):Hu(M,1);break;case Ge.PageDown:H=F?As(M,1):Ya(M,1);break;case Ge.Home:H=Xl(M,A,k);break;case Ge.End:H=YAe(M);break}return H},D=function(R,M){for(var H=40,W=R,fe=!1,q=0,te=_(R,M);!fe;){if(q>=H){te=M;break}g&&te<g&&(W=Ge.ArrowRight,te=ra(g,r.props)?_(W,te):g),v&&te>v&&(W=Ge.ArrowLeft,te=ra(v,r.props)?_(W,te):v),ra(te,r.props)?((W===Ge.PageUp||W===Ge.Home)&&(W=Ge.ArrowRight),(W===Ge.PageDown||W===Ge.End)&&(W=Ge.ArrowLeft),te=_(W,te)):fe=!0,q++}return te};if($===Ge.Enter){i.preventDefault(),r.handleSelect(O,i),!j&&r.setPreSelection(O);return}else if($===Ge.Escape){i.preventDefault(),r.setOpen(!1),r.inputOk()||(d=(c=r.props).onInputError)===null||d===void 0||d.call(c,{code:1,msg:$S});return}var L=null;switch($){case Ge.ArrowLeft:case Ge.ArrowRight:case Ge.ArrowUp:case Ge.ArrowDown:case Ge.PageUp:case Ge.PageDown:case Ge.Home:case Ge.End:L=D($,O);break}if(!L){(p=(f=r.props).onInputError)===null||p===void 0||p.call(f,{code:1,msg:$S});return}i.preventDefault(),r.setState({lastPreSelectChange:RS}),E&&r.setSelected(L),r.setPreSelection(L),P&&r.setState({shouldFocusDayInline:!0})}},r.onPopperKeyDown=function(i){var a=i.key;a===Ge.Escape&&(i.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1))},r.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),r.sendFocusBackToInput();var a=r.props,s=a.selectsRange,c=a.onChange;c?.(s?[null,null]:null,i),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(i){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(i)&&r.setOpen(!1)},r.renderCalendar=function(){var i,a;return!r.props.inline&&!r.isCalendarOpen()?null:se.createElement(Tke,kt({showMonthYearDropdown:void 0,ref:function(s){r.calendar=s}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(i=r.props.dateFormatCalendar)!==null&&i!==void 0?i:t.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:ike(r.modifyHolidays()),outsideClickIgnoreClass:r.props.outsideClickIgnoreClass,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(a=r.props.dropdownMode)!==null&&a!==void 0?a:t.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var i,a=r.props.locale,s=(i=r.props.dateFormat)!==null&&i!==void 0?i:t.defaultProps.dateFormat,c=r.props.showTimeInput||r.props.showTimeSelect,d=c?"PPPPp":"PPPP",f;return r.props.selectsRange?f="Selected start date: ".concat(Ai(r.props.startDate,{dateFormat:d,locale:a}),". ").concat(r.props.endDate?"End date: "+Ai(r.props.endDate,{dateFormat:d,locale:a}):""):r.props.showTimeSelectOnly?f="Selected time: ".concat(Ai(r.props.selected,{dateFormat:s,locale:a})):r.props.showYearPicker?f="Selected year: ".concat(Ai(r.props.selected,{dateFormat:"yyyy",locale:a})):r.props.showMonthYearPicker?f="Selected month: ".concat(Ai(r.props.selected,{dateFormat:"MMMM yyyy",locale:a})):r.props.showQuarterYearPicker?f="Selected quarter: ".concat(Ai(r.props.selected,{dateFormat:"yyyy, QQQ",locale:a})):f="Selected date: ".concat(Ai(r.props.selected,{dateFormat:d,locale:a})),se.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},f)},r.renderDateInput=function(){var i,a,s,c,d,f,p=ct(r.props.className,(i={},i[r.props.outsideClickIgnoreClass||t.defaultProps.outsideClickIgnoreClass]=r.state.open,i)),m=r.props.customInput||se.createElement("input",{type:"text"}),g=r.props.customInputRef||"ref",v={},b=(s=r.props["aria-describedby"])!==null&&s!==void 0?s:r.props.ariaDescribedBy,C=(c=r.props["aria-invalid"])!==null&&c!==void 0?c:r.props.ariaInvalid,j=(d=r.props["aria-labelledby"])!==null&&d!==void 0?d:r.props.ariaLabelledBy,A=(f=r.props["aria-required"])!==null&&f!==void 0?f:r.props.ariaRequired;return b!=null&&(v["aria-describedby"]=b),C!=null&&(v["aria-invalid"]=C),j!=null&&(v["aria-labelledby"]=j),A!=null&&(v["aria-required"]=A),w.cloneElement(m,kt((a={},a[g]=function(k){r.input=k},a.value=r.getInputValue(),a.onBlur=r.handleBlur,a.onChange=r.handleChange,a.onClick=r.onInputClick,a.onFocus=r.handleFocus,a.onKeyDown=r.onInputKeyDown,a.id=r.props.id,a.name=r.props.name,a.form=r.props.form,a.autoFocus=r.props.autoFocus,a.placeholder=r.props.placeholderText,a.disabled=r.props.disabled,a.autoComplete=r.props.autoComplete,a.className=ct(m.props.className,p),a.title=r.props.title,a.readOnly=r.props.readOnly,a.required=r.props.required,a.tabIndex=r.props.tabIndex,a),v))},r.renderClearButton=function(){var i=r.props,a=i.isClearable,s=i.disabled,c=i.selected,d=i.startDate,f=i.endDate,p=i.clearButtonTitle,m=i.clearButtonClassName,g=m===void 0?"":m,v=i.ariaLabelClose,b=v===void 0?"Close":v,C=i.selectedDates,j=i.readOnly;return a&&!j&&(c!=null||d!=null||f!=null||C?.length)?se.createElement("button",{type:"button",className:ct("react-datepicker__close-icon",g,{"react-datepicker__close-icon--disabled":s}),disabled:s,"aria-label":b,onClick:r.onClearClick,title:p,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:cG,readOnly:!1,rangeSeparator:nG,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:v0,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(n,r){var i,a,s,c;n.inline&&Dke(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),this.props.selectsRange&&this.state.monthSelectedIn!==0&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:BR(this.props.highlightDates)}),!r.focused&&!Pu(n.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((a=(i=this.props).onCalendarOpen)===null||a===void 0||a.call(i)),r.open===!0&&this.state.open===!1&&((c=(s=this.props).onCalendarClose)===null||c===void 0||c.call(s)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var n=this.props,r=n.showIcon,i=n.icon,a=n.calendarIconClassname,s=n.calendarIconClassName,c=n.toggleCalendarOnIconClick,d=this.state.open;return a&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),se.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&se.createElement(Ake,kt({icon:i,className:ct(s,!s&&a,d&&"react-datepicker-ignore-onclickoutside")},c?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var r=this.state.open?se.createElement(dG,{enableTabLoop:this.props.enableTabLoop},se.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(r=se.createElement(uG,kt({portalId:this.props.portalId},this.props),r)),se.createElement("div",null,this.renderInputContainer(),r)}return se.createElement(Pke,kt({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:n,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},t})(w.Component),Oke="input",RS="navigate";function $ke(e){return Ye({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 11h8V3H3v8zm2-6h4v4H5V5zM3 21h8v-8H3v8zm2-6h4v4H5v-4zM13 3v8h8V3h-8zm6 6h-4V5h4v4zM19 19h2v2h-2zM13 13h2v2h-2zM15 15h2v2h-2zM13 17h2v2h-2zM15 19h2v2h-2zM17 17h2v2h-2zM17 13h2v2h-2zM19 15h2v2h-2z"},child:[]}]})(e)}function Ike(e){return Ye({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3A8.994 8.994 0 0 0 13 3.06V1h-2v2.06A8.994 8.994 0 0 0 3.06 11H1v2h2.06A8.994 8.994 0 0 0 11 20.94V23h2v-2.06A8.994 8.994 0 0 0 20.94 13H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"},child:[]}]})(e)}const YR=[{key:"Mon",label:"Mon"},{key:"Tue",label:"Tue"},{key:"Wed",label:"Wed"},{key:"Thu",label:"Thu"},{key:"Fri",label:"Fri"},{key:"Sat",label:"Sat"},{key:"Sun",label:"Sun"}],Rke=({clinicData:e,onSave:t})=>{const n={clinicName:"",address:"",contactNumber:"",secondryNumber:"",email:"",whatsappLink:"",logo:null,consultingHours:[{days:[],slots:[{start:"",end:""}]}],qrCodes:{payment:null,feedback:null},googleMapsLink:""},[r,i]=w.useState(n),[a,s]=w.useState([{days:[],slots:[{start:"",end:""}]}]),[c,d]=w.useState(""),[f,p]=w.useState(null),[m,g]=w.useState(null),[v,b]=w.useState(null),C=wt(),[j,A]=w.useState(!1),[k,E]=w.useState(null),P=G=>{if(!G)return null;if(G instanceof Date)return G;if(typeof G!="string"||!G.includes(":"))return null;const[ee,ue]=G.split(":"),Ae=new Date;return Ae.setHours(Number(ee)),Ae.setMinutes(Number(ue)),Ae.setSeconds(0),Ae.setMilliseconds(0),isNaN(Ae.getTime())?null:Ae},$=G=>{if(!G)return"";let ee=String(G.getHours()).padStart(2,"0"),ue=String(G.getMinutes()).padStart(2,"0");return`${ee}:${ue}`},F=G=>{if(!G)return"";const ee=G instanceof Date?new Date(G):new Date(G);return ee.setHours(0,0,0,0),ee.toISOString()},O=()=>{const G=new Date;return G.setHours(0,0,0,0),G},_=G=>{if(!G)return"";const ee=G instanceof Date?new Date(G):new Date(G);return ee.setHours(23,59,59,999),ee.toISOString()},D=(G,ee,ue)=>{const Ae=O();let Ie=ee?new Date(ee):null,De=ue?new Date(ue):null;Ie&&Ie<Ae&&(Ie=Ae),De&&De<Ae&&(De=null);const ye=[...r.holidays];ye[G]={startDate:Ie?F(Ie):"",endDate:De?_(De):""},i(Oe=>({...Oe,holidays:ye}))},L=se.forwardRef(({value:G,onClick:ee,displayValue:ue},Ae)=>o.jsx("input",{ref:Ae,onClick:ee,value:ue||G||"",readOnly:!0,placeholder:"Select Holiday",className:"clinic-input",style:{cursor:"pointer",background:ue?"#f0fdfa":"#f9fcfd",border:ue?"1.5px solid #14b8a6":"1px solid #a9d3db",fontWeight:ue?600:500}})),R=(G,ee)=>G.getDate()===ee.getDate()&&G.getMonth()===ee.getMonth()&&G.getFullYear()===ee.getFullYear(),M=G=>{const ee=new Date;ee.setHours(0,0,0,0);const ue=new Date(G);return ue.setHours(0,0,0,0),R(ee,ue)},H=G=>`${G.getDate()} ${G.toLocaleString("en-US",{month:"short"})}`,W=(G,ee)=>{if(!G)return"";const ue=new Date(G),Ae=ee?new Date(ee):null;return!Ae&&M(ue)?"Today":Ae&&R(ue,Ae)?H(ue):Ae?`${H(ue)}  ${H(Ae)}`:H(ue)},fe=()=>{i(G=>({...G,holidays:[...G.holidays,{startDate:"",endDate:""}]}))},q=(G,ee,ue)=>{const Ae=[...a];Ae[G][ee]=ue,s(Ae),i(Ie=>({...Ie,consultingHours:Ae}))};w.useEffect(()=>{if(!e)return;let G=[{days:[],slots:[{start:"",end:""}]}];if(Array.isArray(e.consultingHours)&&e.consultingHours.length>0){const ee={};e.consultingHours.forEach(ue=>{const Ae=JSON.stringify(ue.days||[]);ee[Ae]||(ee[Ae]={days:ue.days||[],slots:[]}),ue.start&&ue.end&&ee[Ae].slots.push({start:ue.start,end:ue.end}),Array.isArray(ue.slots)&&ue.slots.forEach(Ie=>{Ie.start&&Ie.end&&ee[Ae].slots.push({start:Ie.start,end:Ie.end})})}),G=Object.values(ee).map(ue=>({days:ue.days,slots:ue.slots.length?ue.slots:[{start:"",end:""}]}))}s(G),i(ee=>({...ee,clinicName:e.clinicName||"",address:e.address||"",contactNumber:e.contactNumber||"",secondryNumber:e.secondryNumber||"",email:e.email||"",whatsappLink:e.whatsappLink||"",googleMapsLink:e.qrCodes?.maps||e.googleMapsLink||"",logo:e.logo,holidays:Array.isArray(e.holidays)?e.holidays:[],consultingHours:G,qrCodes:{payment:e.qrCodes?.payment||null,feedback:e.qrCodes?.feedback||null,maps:e.qrCodes?.maps||""}})),p(e.logoUrl||null),g(e.qrCodes?.payment||null),b(e.qrCodes?.feedback||null)},[e]),w.useEffect(()=>()=>{f?.startsWith("blob:")&&URL.revokeObjectURL(f),m?.startsWith("blob:")&&URL.revokeObjectURL(m),v?.startsWith("blob:")&&URL.revokeObjectURL(v)},[f,m,v]);const te=G=>{const{name:ee,value:ue}=G.target,Ae=["contactNumber"],Ie=["secondryNumber"];Ae.includes(ee)&&(!/^\d*$/.test(ue)||ue.length>10)||Ie.includes(ee)&&(!/^\d*$/.test(ue)||ue.length>10)||ee==="clinicName"&&(!/^[A-Za-z\s]*$/.test(ue)||ue.length>30)||i(De=>({...De,[ee]:ue}))},K=(G,ee,ue,Ae)=>{const Ie=[...a];Ie[G].slots[ee][ue]=Ae instanceof Date?$(Ae):Ae,s(Ie)},z=G=>{const ee=[...a];ee[G].slots.push({start:"",end:""}),s(ee)},V=(G,ee)=>{const ue=[...a];ue[G].slots.splice(ee,1),s(ue)},Z=()=>{s([...a,{days:[],slots:[{start:"",end:""}]}])},re=G=>{const ee=a.filter((ue,Ae)=>Ae!==G);s(ee),i(ue=>({...ue,consultingHours:ee}))},me=(G,ee)=>{const Ae=(Array.isArray(r[G])?r[G]:[]).filter((Ie,De)=>De!==ee);i(Ie=>({...Ie,[G]:Ae}))},ge=(G,ee)=>{const ue=ee.target.files[0];ue&&(f?.startsWith("blob:")&&URL.revokeObjectURL(f),i(Ae=>({...Ae,[G]:ue})),p(URL.createObjectURL(ue)))},Pe=(G,ee)=>{const ue=ee.target.files[0];if(ue){const Ae=m;Ae?.startsWith("blob:")&&URL.revokeObjectURL(Ae),i(Ie=>({...Ie,qrCodes:{...Ie.qrCodes,[G]:ue}})),g(URL.createObjectURL(ue))}},X=G=>{if(G){const ee=G.toLowerCase().includes(".pdf");E({url:G,isPdf:ee})}},J=()=>{E(null)},ce=async()=>{const G=String(r.clinicName||"").trim(),ee=String(r.contactNumber||"").trim();if(String(r.secondryNumber||"").trim(),ee.startsWith("0")){Ee.warn("Contact number cannot start with 0.");return}if(!/^[A-Za-z\s]+$/.test(G)){Ee.warn("Clinic name may contain only letters and spaces.");return}if(G.length<5){Ee.warn("Clinic name must be at least 3 characters long.");return}if(G.length>30){Ee.warn("Clinic name must be at most 30 characters long.");return}const ue=new FormData;["clinicName","address","contactNumber","secondryNumber","email","whatsappLink","googleMapsLink"].forEach(Oe=>ue.append(Oe,r[Oe]??""));const Ae=Array.isArray(r.holidays)&&r.holidays.length>0?r.holidays:[];ue.append("holidays",JSON.stringify(Ae));const Ie=a.flatMap(Oe=>{const Re=Array.isArray(Oe.days)?Oe.days:[],it=Array.isArray(Oe.slots)?Oe.slots:[];return Re.length?it.filter(ut=>ut.start&&ut.end).map(ut=>({days:Re,start:ut.start,end:ut.end})):[]});ue.append("consultingHours",JSON.stringify(Ie)),r.logo instanceof File&&ue.append("logo",r.logo),r.qrCodes?.payment instanceof File&&ue.append("paymentQR",r.qrCodes.payment),r.qrCodes?.feedback instanceof File&&ue.append("feedbackQR",r.qrCodes.feedback),console.log("--- ClinicProfile: Preparing Data for Backend Submission (FormData contents) ---");const De={};for(const[Oe,Re]of ue.entries())Re instanceof File?De[Oe]=`[File: ${Re.name}, Type: ${Re.type}, Size: ${Math.round(Re.size/1024)} KB]`:De[Oe]=Re;console.table(De),console.log("--- End of ClinicProfile FormData Log ---");const ye=e&&(e.id||e._id||e.clinicId)||localStorage.getItem("clinicId")||null;if(!ye){Ee.error("Clinic ID not found. Cannot update profile.");return}A(!0);try{const Oe=await C(xf({clinicId:ye,clinicData:ue}));if(xf.fulfilled.match(Oe)){const Re=Oe.payload;if(typeof t=="function")try{t(Re)}catch(it){console.warn("onSave callback error:",it)}}else{const Re=Oe.payload||Oe.error?.message||"Failed to save clinic profile";Ee.error(Re),console.error("updateClinic rejected:",Oe)}}catch(Oe){console.error("Unexpected error while saving clinic profile:",Oe),Ee.error("An unexpected error occurred. Please try again.")}finally{A(!1)}},ae=G=>G&&G.toLowerCase().includes(".pdf"),ne=()=>{if(!navigator.geolocation){Ee.error("Geolocation is not supported by your browser");return}Ee.info("Fetching your current location..."),navigator.geolocation.getCurrentPosition(G=>{const{latitude:ee,longitude:ue}=G.coords,Ae=`https://www.google.com/maps?q=${ee},${ue}`;i(Ie=>({...Ie,googleMapsLink:Ae})),Ee.success("Location captured successfully!")},G=>{Ee.error("Unable to fetch location. Please allow location access.")},{enableHighAccuracy:!0,timeout:1e4})};return o.jsxs("div",{className:"clinic-profile-container",children:[o.jsx("h2",{className:"clinic-title",children:"Clinic Profile"}),o.jsxs("div",{className:"clinic-card",children:[o.jsxs("div",{className:"clinic-grid",children:[o.jsxs("div",{className:"clinic-field",children:[o.jsx("label",{children:"Clinic Name"}),o.jsx("input",{type:"text",name:"clinicName",value:r.clinicName,onChange:te,onBlur:()=>{r.clinicName.length<3?d("Clinic name must be at least 3 characters."):d("")},placeholder:"Enter clinic name"}),c&&o.jsx("p",{style:{color:"red",fontSize:"13px"},children:c})]}),o.jsxs("div",{className:"clinic-field",children:[o.jsx("label",{children:"Contact Number"}),o.jsx("input",{type:"number",name:"contactNumber",value:r.contactNumber,onChange:te,placeholder:"Enter contact number",maxLength:10,inputMode:"numeric"})]}),o.jsxs("div",{className:"clinic-field",children:[o.jsx("label",{children:"Secondry Contact Number"}),o.jsx("input",{type:"number",name:"secondryNumber",value:r.secondryNumber,onChange:te,placeholder:"Enter Secondry contact number",maxLength:10,inputMode:"numeric"})]}),o.jsxs("div",{className:"clinic-field",children:[o.jsx("label",{children:"Email"}),o.jsx("input",{name:"email",value:r.email,onChange:te,placeholder:"Enter email address"})]}),o.jsxs("div",{className:"clinic-field",children:[o.jsx("label",{children:"WhatsApp Link"}),o.jsx("input",{name:"whatsappLink",value:r.whatsappLink,onChange:te,placeholder:"Enter WhatsApp link"})]}),o.jsxs("div",{className:"clinic-field full",children:[o.jsx("label",{children:"Address"}),o.jsx("textarea",{name:"address",value:r.address,onChange:te,placeholder:"Enter full clinic address",rows:4,style:{resize:"vertical",lineHeight:"1.5",whiteSpace:"pre-wrap"}})]}),o.jsxs("div",{className:"clinic-section full",children:[o.jsx("h3",{children:"Consulting Hours"}),Array.isArray(a)&&a.map((G,ee)=>o.jsxs("div",{className:"clinic-row",style:{alignItems:"flex-start",flexDirection:"column",gap:16},children:[o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:10},children:[o.jsx("div",{style:{fontSize:12,fontWeight:600,color:"#004d63"},children:"Select Days (Multiple allowed)"}),o.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[o.jsx("button",{type:"button",className:"clinic-add-btn",onClick:()=>q(ee,"days",YR.map(ue=>ue.key)),children:"All Days"}),o.jsx("button",{type:"button",className:"clinic-add-btn",onClick:()=>q(ee,"days",["Mon","Tue","Wed","Thu","Fri","Sat"]),children:"MonSat"})]}),o.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:9},children:YR.map(ue=>{const Ae=(G.days||[]).includes(ue.key);return o.jsx("span",{onClick:()=>{const Ie=G.days||[],De=Ae?Ie.filter(ye=>ye!==ue.key):[...Ie,ue.key];q(ee,"days",De)},className:`day-pill ${Ae?"selected":""}`,children:ue.label},ue.key)})})]}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12},children:[(G.slots||[]).map((ue,Ae)=>o.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[o.jsx(IS,{selected:P(ue.start),onChange:Ie=>K(ee,Ae,"start",Ie),showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:15,dateFormat:"HH:mm",placeholderText:"Start",className:"clinic-input"}),o.jsx(IS,{selected:P(ue.end),onChange:Ie=>K(ee,Ae,"end",Ie),showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:15,dateFormat:"HH:mm",placeholderText:"End",className:"clinic-input"}),G.slots.length>1&&o.jsx("button",{type:"button",className:"clinic-remove-btn",onClick:()=>V(ee,Ae),children:"Remove"})]},Ae)),o.jsx("button",{type:"button",className:"clinic-add-btn",onClick:()=>z(ee),children:" Add Slot"})]}),a.length>1&&o.jsx("button",{type:"button",className:"clinic-remove-btn",onClick:()=>re(ee),children:"Remove Day Group"})]},ee)),o.jsx("button",{className:"clinic-add-btn",onClick:Z,children:" Add More"})]}),o.jsxs("div",{className:"clinic-section full",children:[o.jsx("h3",{children:"Holidays"}),Array.isArray(r.holidays)&&r.holidays.map((G,ee)=>o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,background:"#f0fdfa",padding:"10px 14px",borderRadius:10,border:"1.5px solid #99f6e4"},children:[o.jsx(IS,{selectsRange:!0,startDate:G.startDate?new Date(G.startDate):null,endDate:G.endDate?new Date(G.endDate):null,minDate:new Date,onChange:ue=>{const[Ae,Ie]=ue||[];D(ee,Ae,Ie)},customInput:o.jsx(L,{displayValue:W(G.startDate,G.endDate)}),popperPlacement:"bottom-start",shouldCloseOnSelect:!1}),o.jsx("button",{type:"button",className:"clinic-remove-btn",onClick:()=>me("holidays",ee),children:"Remove"})]},ee)),o.jsx("button",{type:"button",className:"clinic-add-btn",onClick:fe,children:" Add Holiday"})]}),o.jsxs("div",{className:"clinic-field",children:[o.jsx("label",{children:"Clinic Logo"}),o.jsx("input",{type:"file",onChange:G=>ge("logo",G)}),f&&o.jsx("button",{type:"button",className:"image-preview-wrapper",onClick:()=>X(f),children:ae(f)?o.jsx("span",{className:"pdf-icon",children:" View PDF"}):o.jsx("img",{src:f,alt:"Clinic Logo",className:"clinic-preview"})})]}),o.jsxs("div",{className:"clinic-field",children:[o.jsx("label",{children:"Payment QR"}),o.jsx("input",{type:"file",onChange:G=>Pe("payment",G)}),m&&o.jsx("button",{type:"button",className:"image-preview-wrapper",onClick:()=>X(m),children:ae(m)?o.jsx("span",{className:"pdf-icon",children:" View PDF"}):o.jsx("img",{src:m,alt:"Payment QR",className:"clinic-preview"})})]}),o.jsxs("div",{className:"clinic-field full",children:[o.jsx("label",{children:"Google Maps Link"}),o.jsxs("div",{style:{display:"flex",gap:"10px"},children:[o.jsx("input",{name:"googleMapsLink",value:r.googleMapsLink,onChange:te,placeholder:"Enter Google Maps URL",style:{flex:1}}),o.jsxs("button",{type:"button",onClick:ne,className:"clinic-add-btn",style:{whiteSpace:"nowrap",display:"flex",alignItems:"center",gap:"6px"},children:[o.jsx(Ike,{size:18}),o.jsx("span",{children:"Use Current Location"})]})]}),r.googleMapsLink&&o.jsx("a",{href:r.googleMapsLink,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",marginTop:"6px",color:"#007bff",textDecoration:"underline",fontWeight:500},children:"Open Google Maps"})]})]}),o.jsx("button",{className:"clinic-save-btn",onClick:ce,disabled:j,children:j?"Saving...":"Save Clinic Profile"})]}),k&&o.jsx("div",{className:"modal-overlay",onClick:J,children:o.jsxs("div",{className:"modal-content",onClick:G=>G.stopPropagation(),children:[o.jsx("button",{className:"modal-close-btn",onClick:J,children:""}),k.isPdf?o.jsx("iframe",{src:k.url,className:"full-screen-document",title:"Document Viewer"}):o.jsx("img",{src:k.url,alt:"Full screen view",className:"full-screen-image"})]})}),o.jsx("style",{jsx:!0,children:`
        .clinic-profile-container {
          max-width: 1000px;
          margin: 2rem auto;
          padding: 1.5rem;
          font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
          color: #1a3a4a;
          box-sizing: border-box;
        }
        .clinic-title {
          text-align: center;
          font-size: 2rem;
          font-weight: 700;
          color: #005c70;
          margin-bottom: 1.5rem;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 0.5rem;
        }
        .clinic-card {
          background: #ffffff;
          border-radius: 16px;
          padding: 2rem;
          box-shadow: 0 8px 30px rgba(0, 0, 0, 0.08);
          border: 1px solid #e6f0f5;
        }
        .clinic-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
          gap: 1.5rem;
        }
        .clinic-field {
          display: flex;
          flex-direction: column;
          gap: 0.5rem;
        }
        .clinic-field label {
          font-weight: 600;
          color: #004d63;
          font-size: 0.95rem;
        }
        input,
        textarea {
          padding: 10px;
          border: 1px solid #a9d3db;
          border-radius: 8px;
          background: #f9fcfd;
          transition: all 0.2s;
          font-size: 1rem;
          transition: all 0.25s ease;
          box-sizing: border-box;
          width: 100%;
        }
        input:focus,
        textarea:focus {
          outline: none;
          border-color: #00a1b4;
          background: #ffffff;
          box-shadow: 0 0 0 3px rgba(0, 161, 180, 0.15);
        }

        textarea {
          resize: vertical;
          min-height: 80px;
        }
        .full {
          grid-column: 1 / -1;
        }
        .clinic-section {
          background: #f8fcfd;
          padding: 1.25rem;
          border-radius: 12px;
          border: 1.5px solid #d7e9ec;
          display: flex;
          flex-direction: column;
          gap: 0.75rem;
        }
        .clinic-section h3 {
          margin: 0 0 0.75rem 0;
          color: #007b8f;
          font-size: 1.1rem;
          font-weight: 600;
          display: flex;
          align-items: center;
          gap: 0.4rem;
        }
        .clinic-row {
          display: flex;
          gap: 0.75rem;
          align-items: center;
          flex-wrap: wrap;
        }

        .input-group {
          flex: 1;
          min-width: 120px;
        }

        .input-group.time {
          flex: 0 0 100px;
        }

        .input-group.flex-full {
          flex: 1;
          min-width: 200px;
        }

        .clinic-add-btn,
        .clinic-remove-btn {
          padding: 0.5rem 0.75rem;
          border: none;
          border-radius: 8px;
          font-size: 0.9rem;
          font-weight: 500;
          cursor: pointer;
          transition: all 0.2s ease;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 0.4rem;
        }
        .clinic-add-btn {
          background: #007b8f;
          color: white;
          border: none;
          padding: 8px 14px;
          border-radius: 8px;
          cursor: pointer;
          margin-top: 6px;
          transition: 0.2s;
        }
        .clinic-add-btn:hover {
          background: #009fb8;
          transform: translateY(-1px);
        }
        .clinic-remove-btn {
          background: #ff4d4f;
          color: white;
          border: none;
          padding: 6px 10px;
          border-radius: 6px;
          cursor: pointer;
          transition: 0.2s;
        }
        .clinic-remove-btn:hover {
          background: #ff3335;
        }

        .image-preview-wrapper {
          border: none;
          background: transparent;
          padding: 0;
          cursor: pointer;
          margin-top: 10px;
          align-self: flex-start;
          display: block; /* Important for alignment */
        }

        .clinic-preview {
          width: 90px;
          height: 90px;
          object-fit: contain;
          border-radius: 8px;
          border: 1px solid #ddd;
          transition: transform 0.2s;
        }

        .pdf-icon {
          display: block;
          padding: 8px 12px;
          background: #f0f8ff;
          color: #007b8f;
          border: 1px solid #007b8f;
          border-radius: 8px;
          font-size: 0.85rem;
          font-weight: 600;
        }

        .image-preview-wrapper:hover .clinic-preview {
          transform: scale(1.05);
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .clinic-save-btn {
          margin-top: 2rem;
          background: #005c70;
          color: white;
          border: none;
          border-radius: 12px;
          padding: 1rem;
          width: 100%;
          font-size: 1.1rem;
          font-weight: 600;
          cursor: pointer;
          transition: 0.3s;
        }
        .clinic-save-btn:hover {
          background: #00849a;
          transform: translateY(-2px);
          box-shadow: 0 0 0 4px rgba(0, 132, 154, 0.25);
        }

        /* --- NEW MODAL STYLES --- */
        .modal-overlay {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: rgba(0, 0, 0, 0.9);
          display: flex;
          justify-content: center;
          align-items: center;
          z-index: 10000;
        }
        .modal-content {
          position: relative;
          max-width: 90%;
          max-height: 90%;
          background: white;
          border-radius: 12px;
          padding: 20px;
          box-shadow: 0 0 20px rgba(255, 255, 255, 0.3);
        }
        .modal-close-btn {
          position: absolute;
          top: -15px;
          right: -15px;
          background: #ff4d4f;
          color: white;
          border: none;
          border-radius: 50%;
          width: 35px;
          height: 35px;
          font-size: 1.5rem;
          cursor: pointer;
          line-height: 1;
          transition: background 0.2s;
        }
        .modal-close-btn:hover {
          background: #ff3335;
        }

        .full-screen-image {
          max-width: 100%;
          max-height: 85vh;
          object-fit: contain;
          display: block;
        }

        /* PDF viewer (iframe) styling */
        .full-screen-document {
          width: 80vw;
          height: 85vh;
          border: none;
        }

        @media (max-width: 480px) {
          /* ... (responsive styles for modal/image preview) ... */
          .clinic-profile-container {
            margin: 1rem;
            padding: 1rem;
          }

          .clinic-title {
            font-size: 1.5rem;
          }

          .clinic-card {
            padding: 1.25rem;
            border-radius: 12px;
          }

          .clinic-grid {
            grid-template-columns: 1fr;
            gap: 1rem;
          }

          .clinic-row {
            flex-direction: column;
            align-items: stretch;
          }

          .input-group,
          .input-group.time,
          .input-group.flex-full {
            min-width: 100%;
            flex: 1;
          }

          .clinic-add-btn,
          .clinic-remove-btn {
            width: 100%;
            padding: 0.75rem;
          }

          .clinic-preview {
            width: 70px;
            height: 70px;
          }

          .clinic-save-btn {
            padding: 0.9rem;
            font-size: 1rem;
          }
        }

        @media (min-width: 481px) and (max-width: 768px) {
          .clinic-grid {
            grid-template-columns: repeat(2, 1fr);
          }

          .clinic-row {
            flex-wrap: wrap;
          }

          .input-group.time {
            flex: 0 0 48%;
          }

          .preview-wrapper {
            justify-content: flex-start;
          }
        }

        @media (min-width: 769px) and (max-width: 1024px) {
          .clinic-profile-container {
            padding: 2rem;
          }

          .clinic-grid {
            grid-template-columns: repeat(2, 1fr);
            gap: 1.25rem;
          }

          .input-group.time {
            flex: 0 0 100px;
          }
        }

        @media (min-width: 1025px) {
          .clinic-grid {
            gap: 1.75rem;
          }
        }

        .no-qr {
          padding: 8px 12px;
          border-radius: 8px;
          background: #fff8f0;
          border: 1px solid #ffd8b3;
          color: #7a4a00;
          font-weight: 600;
          display: inline-block;
          margin-top: 10px;
        }

        .day-pill {
          border: 1px solid #cfecee;
          background: white;
          color: #064e52;
          padding: 6px 10px;
          border-radius: 999px;
          cursor: pointer;
          font-size: 14px;
          font-weight: 600;
          transition: transform 0.08s ease, background 0.12s;
        }
        .day-pill:hover {
          transform: translateY(-2px);
        }
        .day-pill.selected {
          background: #0ea5a3;
          color: white;
          border-color: #0ea5a3;
        }
      `})]})},Mke=()=>{const e=wt(),{doctorProfile:t,loading:n}=qe(A=>A.doctorDetail),[r,i]=w.useState({doctorName:"",doctorEmail:"",doctorContact:""}),[a,s]=w.useState([]),[c,d]=w.useState({doctorContact:""}),[f,p]=w.useState({digitalSignature:null,digitalStamp:null,provisionalCertificate:null,registrationProof:null,internshipCertificate:null,aadhaar:null,clinicCard:null});w.useEffect(()=>{e(Cf())},[e]),w.useEffect(()=>{t&&(i({doctorName:t.name||"",doctorEmail:t.email||"",doctorContact:t.phone||""}),t.doctorDegrees?.length>0?s(t.doctorDegrees.map(A=>({_id:A._id||null,degree:A.degree,specialization:A.specialization,registrationNumber:A.registrationNumber,registrationYear:A.registrationYear||A.registration_year||A?.registryInfo?.registration_year||"",existingCertificates:A.degreeCertificateUrl||[],certificate:null}))):s([{_id:null,degree:"",specialization:"",registrationNumber:"",existingCertificates:[],certificate:null}]))},[t]);const m=A=>{const k=/^[6-9]\d{9}$/;return A?/^\d+$/.test(A)?A.length!==10?"Phone number must be exactly 10 digits":k.test(A)?"":"Invalid Indian mobile number":"Only digits are allowed":"Phone number is required"},g=A=>{const{name:k,value:E}=A.target;if(k==="doctorContact"){if(E!==""&&!/^\d+$/.test(E))return;i($=>({...$,doctorContact:E}));const P=m(E);d($=>({...$,doctorContact:P}));return}i(P=>({...P,[k]:E}))},v=(A,k)=>p(E=>({...E,[k]:A.target.files[0]})),b=(A,k,E)=>{const P=[...a];P[k][E]=A.target.value,s(P)},C=()=>{s([...a,{_id:null,degree:"",specialization:"",registrationNumber:"",registrationYear:"",existingCertificates:[],certificate:null}])},j=async()=>{const A=new FormData;A.append("name",r.doctorName),A.append("email",r.doctorEmail),A.append("phone",r.doctorContact);const k=a.map(E=>({_id:E._id||null,degree:E.degree,specialization:E.specialization,registrationNumber:E.registrationNumber,registrationYear:E.registrationYear,degreeCertificateUrl:E.existingCertificates}));A.append("doctorDegrees",JSON.stringify(k)),a.forEach((E,P)=>{E.certificate&&A.append(`degreeCertificate_${P}`,E.certificate)}),Object.keys(f).forEach(E=>{f[E]&&A.append(E,f[E])});try{await e(rv(A)).unwrap(),e(Cf()),Ee.success("Profile updated successfully!")}catch(E){Ee.error(E||"Update failed")}};return o.jsxs("div",{className:"doctor-container",children:[o.jsx("style",{children:`
  :root {
    --primary: #0f766e;
    --primary-light: #14b8a6;
    --accent: #38bdf8;
    --bg: linear-gradient(180deg, #f0fdfa, #f8fafc);
    --card-bg: #ffffff;
    --border: #e2e8f0;
    --text-main: #0f172a;
    --text-muted: #64748b;
    --success: #16a34a;
  }

  /* ===== Container ===== */
  .doctor-container {
    max-width: 1100px;
    margin: 50px auto;
    padding: 40px;
    background: var(--card-bg);
    border-radius: 28px;
    box-shadow:
      0 30px 60px rgba(15,118,110,0.15),
      inset 0 1px 0 rgba(255,255,255,0.7);
    font-family: "Inter", sans-serif;
  }

  h2 {
    font-size: 34px;
    font-weight: 800;
    background: linear-gradient(
      90deg,
      var(--primary),
      var(--accent)
    );
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    margin-bottom: 35px;
  }

  /* ===== Section Header ===== */
  .section-title {
    margin-top: 45px;
    margin-bottom: 22px;
    font-size: 22px;
    font-weight: 700;
    color: var(--text-main);
    position: relative;
    padding-left: 18px;
  }

  .section-title::before {
    content: "";
    position: absolute;
    left: 0;
    top: 4px;
    bottom: 4px;
    width: 6px;
    border-radius: 4px;
    background: linear-gradient(
      180deg,
      var(--primary),
      var(--primary-light)
    );
  }

  /* ===== Form Grid ===== */
  .form-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 26px;
  }

  .input-box {
    display: flex;
    flex-direction: column;
    gap: 6px;
  }

  label {
    font-size: 0.85rem;
    font-weight: 600;
    color: var(--text-muted);
  }

  input[type="text"],
  input[type="email"],
  select,
  input[type="file"] {
    padding: 14px 16px;
    border-radius: 18px;
    border: 1px solid var(--border);
    background: #f8fafc;
    font-size: 0.95rem;
    transition: 0.25s ease;
  }

  input:focus,
  select:focus {
    outline: none;
    background: white;
    border-color: var(--primary-light);
    box-shadow: 0 0 0 4px rgba(20,184,166,0.25);
  }

  /* ===== Degree Cards ===== */
  .degree-card {
    background: linear-gradient(
      135deg,
      #ffffff,
      #ecfeff
    );
    border-radius: 22px;
    padding: 26px;
    margin-bottom: 28px;
    border: 1px solid var(--border);
    box-shadow: 0 18px 40px rgba(0,0,0,0.06);
    transition: 0.3s ease;
  }

  .degree-card:hover {
    transform: translateY(-4px);
  }

  /* ===== Certificate Badge ===== */
  .certificate-tag {
    display: inline-flex;
    align-items: center;
    margin-top: 10px;
    margin-right: 10px;
    padding: 6px 14px;
    border-radius: 999px;
    background: rgba(20,184,166,0.15);
    color: var(--primary);
    font-size: 13px;
    font-weight: 600;
    text-decoration: none;
  }

  /* ===== Buttons ===== */
  .add-btn {
    background: linear-gradient(
      135deg,
      var(--primary),
      var(--primary-light)
    );
    color: white;
    padding: 14px 22px;
    border-radius: 20px;
    border: none;
    font-weight: 700;
    cursor: pointer;
    box-shadow: 0 15px 30px rgba(15,118,110,0.35);
    transition: 0.25s ease;
  }

  .add-btn:hover {
    transform: translateY(-3px);
  }

  .save-btn {
    width: 100%;
    margin-top: 45px;
    padding: 18px;
    font-size: 17px;
    font-weight: 700;
    border-radius: 24px;
    border: none;
    cursor: pointer;
    background: linear-gradient(
      135deg,
      var(--primary),
      var(--accent)
    );
    color: white;
    box-shadow: 0 25px 50px rgba(56,189,248,0.45);
    transition: 0.3s ease;
  }

  .save-btn:hover {
    transform: translateY(-3px);
  }

  .save-btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
  }

  /* ===== Responsive ===== */
  @media (max-width: 768px) {
    .doctor-container {
      padding: 24px;
      border-radius: 20px;
    }

    h2 {
      font-size: 26px;
    }
  }

  /* ===== TWO COLUMN GRID (GLOBAL) ===== */
.two-col-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 22px;
}

/* Mobile */
@media (max-width: 768px) {
  .two-col-grid {
    grid-template-columns: 1fr;
  }
}

`}),o.jsx("h2",{children:"Doctor Profile"}),o.jsx("div",{className:"section-title",children:"Basic Information"}),o.jsx("div",{className:"form-grid",children:o.jsxs("div",{className:"two-col-grid",children:[o.jsxs("div",{className:"input-box",children:[o.jsx("label",{children:"Name"}),o.jsx("input",{type:"text",name:"doctorName",value:r.doctorName,onChange:g})]}),o.jsxs("div",{className:"input-box",children:[o.jsx("label",{children:"Email"}),o.jsx("input",{type:"email",name:"doctorEmail",value:r.doctorEmail,onChange:g})]}),o.jsxs("div",{className:"input-box",children:[o.jsx("label",{children:"Phone"}),o.jsx("input",{type:"text",name:"doctorContact",value:r.doctorContact,onChange:A=>{const k=A.target.value.replace(/\D/g,"");k.length<=10&&i({...r,doctorContact:k})}})]})]})}),o.jsx("div",{className:"section-title",children:"Degrees"}),a.map((A,k)=>o.jsx("div",{className:"degree-card",children:o.jsxs("div",{className:"two-col-grid",children:[o.jsxs("div",{className:"input-box",children:[o.jsx("label",{children:"Degree"}),o.jsx("input",{type:"text",value:A.degree,onChange:E=>b(E,k,"degree")})]}),o.jsxs("div",{className:"input-box",children:[o.jsx("label",{children:"Specialization"}),o.jsx("input",{type:"text",value:A.specialization,onChange:E=>b(E,k,"specialization")})]}),o.jsxs("div",{className:"input-box",children:[o.jsx("label",{children:"Registration No"}),o.jsx("input",{type:"text",value:A.registrationNumber,onChange:E=>b(E,k,"registrationNumber")})]}),o.jsxs("div",{className:"input-box",children:[o.jsx("label",{children:"Registration Year"}),o.jsxs("select",{style:{padding:"8px",border:"1px solid #cbd5e1",outline:"none",borderRadius:"8px"},value:A.registrationYear||"",onChange:E=>b({target:{value:E.target.value}},k,"registrationYear"),children:[o.jsx("option",{value:"",children:"Select Year"}),Array.from({length:60},(E,P)=>{const $=new Date().getFullYear()-P;return o.jsx("option",{value:$,children:$},$)})]})]}),A.existingCertificates?.length>0&&A.existingCertificates.map((E,P)=>o.jsxs("a",{href:E,target:"_blank",rel:"noopener noreferrer",className:"certificate-tag",children:["View Certificate ",P+1]},P))]})},k)),o.jsx("button",{className:"add-btn",onClick:C,children:"+ Add Another Degree"}),o.jsx("div",{className:"section-title",children:"Documents"}),o.jsx("div",{className:"two-col-grid",children:[{key:"digitalSignature",label:"Digital Signature"},{key:"digitalStamp",label:"Digital Stamp"},{key:"provisionalCertificate",label:"Provisional Certificate"},{key:"registrationProof",label:"Registration Proof"},{key:"internshipCertificate",label:"Internship Certificate"},{key:"aadhaar",label:"Aadhaar Card",readOnly:!0},{key:"clinicCard",label:"Clinical Establishment Certificate"}].map(A=>{const k=t||{},E=t?.doctorDocuments||{};let P=k[`${A.key}Url`]||E[`${A.key}Url`]||E[`${A.key}_url`]||null;!P&&typeof E[A.key]=="object"&&(P=E[A.key].url||E[A.key].file||E[A.key].link||null);const $=A.readOnly===!0;return o.jsxs("div",{className:"input-box",children:[o.jsx("label",{children:A.label}),P&&o.jsxs("a",{className:"certificate-tag",href:P,target:"_blank",rel:"noopener noreferrer",children:["View Existing ",A.label]}),!$&&o.jsx("input",{type:"file",onChange:F=>v(F,A.key)}),$&&o.jsx("small",{style:{color:"#64748b"},children:"Aadhaar card cannot be updated"})]},A.key)})}),o.jsx("button",{className:"save-btn",onClick:j,children:n?"Saving...":"Save Profile"})]})};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lke=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Fke=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),WR=e=>{const t=Fke(e);return t.charAt(0).toUpperCase()+t.slice(1)},fG=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),Bke=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zke={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uke=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...c},d)=>w.createElement("svg",{ref:d,...zke,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:fG("lucide",i),...!a&&!Bke(c)&&{"aria-hidden":"true"},...c},[...s.map(([f,p])=>w.createElement(f,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=(e,t)=>{const n=w.forwardRef(({className:r,...i},a)=>w.createElement(Uke,{ref:a,iconNode:t,className:fG(`lucide-${Lke(WR(e))}`,`lucide-${e}`,r),...i}));return n.displayName=WR(e),n};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hke=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Vke=x0("eye",Hke);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qke=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Yke=x0("pencil",qke);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wke=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Gke=x0("trash-2",Wke);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kke=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Xke=x0("triangle-alert",Kke);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qke=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Zke=x0("x",Qke);var ef={},MS={exports:{}},LS,GR;function Jke(){if(GR)return LS;GR=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return LS=e,LS}var FS,KR;function e9e(){if(KR)return FS;KR=1;var e=Jke();function t(){}function n(){}return n.resetWarningCache=t,FS=function(){function r(s,c,d,f,p,m){if(m!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return a.PropTypes=a,a},FS}var XR;function pG(){return XR||(XR=1,MS.exports=e9e()()),MS.exports}var QR;function t9e(){if(QR)return ef;QR=1,Object.defineProperty(ef,"__esModule",{value:!0}),ef.default=void 0;var e=Object.assign||function(O){for(var _=1;_<arguments.length;_++){var D=arguments[_];for(var L in D)Object.prototype.hasOwnProperty.call(D,L)&&(O[L]=D[L])}return O},t=(function(){function O(_,D){for(var L=0;L<D.length;L++){var R=D[L];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(_,R.key,R)}}return function(_,D,L){return D&&O(_.prototype,D),L&&O(_,L),_}})(),n,r;ef.confirmAlert=F;var i=cc(),a=f(i),s=pG(),c=f(s),d=gL();function f(O){return O&&O.__esModule?O:{default:O}}function p(O,_){if(!(O instanceof _))throw new TypeError("Cannot call a class as a function")}function m(O,_){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:O}function g(O,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);O.prototype=Object.create(_&&_.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(O,_):O.__proto__=_)}var v=(r=n=(function(O){g(_,O);function _(){var D,L,R,M;p(this,_);for(var H=arguments.length,W=Array(H),fe=0;fe<H;fe++)W[fe]=arguments[fe];return M=(L=(R=m(this,(D=_.__proto__||Object.getPrototypeOf(_)).call.apply(D,[this].concat(W))),R),R.handleClickButton=function(q){q.onClick&&q.onClick(),R.close()},R.handleClickOverlay=function(q){var te=R.props,K=te.closeOnClickOutside,z=te.onClickOutside,V=q.target===R.overlay;K&&V&&(z(),R.close()),q.stopPropagation()},R.close=function(){var q=R.props.afterClose;$(),E(R.props),A(q)},R.keyboard=function(q){var te=R.props,K=te.closeOnEscape,z=te.onKeypressEscape,V=te.onkeyPress,Z=te.keyCodeForClose,re=q.keyCode,me=re===27;Z.includes(re)&&R.close(),K&&me&&(z(q),R.close()),V&&V()},R.componentDidMount=function(){document.addEventListener("keydown",R.keyboard,!1)},R.componentWillUnmount=function(){document.removeEventListener("keydown",R.keyboard,!1),R.props.willUnmount()},R.renderCustomUI=function(){var q=R.props,te=q.title,K=q.message,z=q.buttons,V=q.customUI,Z={title:te,message:K,buttons:z,onClose:R.close};return V(Z)},L),m(R,M)}return t(_,[{key:"render",value:function(){var L=this,R=this.props,M=R.title,H=R.message,W=R.buttons,fe=R.childrenElement,q=R.customUI,te=R.overlayClassName;return a.default.createElement("div",{className:"react-confirm-alert-overlay "+te,ref:function(z){return L.overlay=z},onClick:this.handleClickOverlay},a.default.createElement("div",{className:"react-confirm-alert"},q?this.renderCustomUI():a.default.createElement("div",{className:"react-confirm-alert-body"},M&&a.default.createElement("h1",null,M),H,fe(),a.default.createElement("div",{className:"react-confirm-alert-button-group"},W.map(function(K,z){return a.default.createElement("button",e({key:z,className:K.className},K,{onClick:function(Z){return L.handleClickButton(K)}}),K.label)})))))}}]),_})(i.Component),n.propTypes={title:c.default.string,message:c.default.string,buttons:c.default.array.isRequired,childrenElement:c.default.func,customUI:c.default.func,closeOnClickOutside:c.default.bool,closeOnEscape:c.default.bool,keyCodeForClose:c.default.arrayOf(c.default.number),willUnmount:c.default.func,afterClose:c.default.func,onClickOutside:c.default.func,onKeypressEscape:c.default.func,onkeyPress:c.default.func,overlayClassName:c.default.string},n.defaultProps={buttons:[{label:"Cancel",onClick:function(){return null},className:null},{label:"Confirm",onClick:function(){return null},className:null}],childrenElement:function(){return null},closeOnClickOutside:!0,closeOnEscape:!0,keyCodeForClose:[],willUnmount:function(){return null},afterClose:function(){return null},onClickOutside:function(){return null},onKeypressEscape:function(){return null}},r);ef.default=v;var b=null,C="react-confirm-alert";function j(){var O=document.getElementById("react-confirm-alert-firm-svg");if(!O){var _="http://www.w3.org/2000/svg",D=document.createElementNS(_,"feGaussianBlur");D.setAttribute("stdDeviation","0.3");var L=document.createElementNS(_,"filter");L.setAttribute("id","gaussian-blur"),L.appendChild(D);var R=document.createElementNS(_,"svg");R.setAttribute("id","react-confirm-alert-firm-svg"),R.setAttribute("class","react-confirm-alert-svg"),R.appendChild(L),document.body.appendChild(R)}}function A(O){var _=document.getElementById("react-confirm-alert-firm-svg");_&&_.parentNode.removeChild(_),document.body.children[0].classList.remove("react-confirm-alert-blur"),O()}function k(O){var _=document.getElementById(O.targetId||C);O.targetId&&!_&&console.error("React Confirm Alert:","Can not get element id (#"+O.targetId+")"),_?(b=(0,d.createRoot)(_),b.render(a.default.createElement(v,O))):(document.body.children[0].classList.add("react-confirm-alert-blur"),_=document.createElement("div"),_.id=C,document.body.appendChild(_),b=(0,d.createRoot)(_),b.render(a.default.createElement(v,O)))}function E(O){var _=document.getElementById(O.targetId||C);_&&b.unmount(_)}function P(){document.body.classList.add("react-confirm-alert-body-element")}function $(){document.body.classList.remove("react-confirm-alert-body-element")}function F(O){P(),j(),k(O)}return ef}var $p=t9e();const n9e=["ClinicReg","Medical","Fire","Biomedical","Pollution","Other"],ZR={ClinicReg:"Clinic Registration",Medical:"Medical License",Fire:"Fire NOC",Biomedical:"Biomedical Waste",Pollution:"Pollution Control",Other:"Other"},r9e=["popup","email","sms","whatsapp"],JR=e=>e?new Date(e).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"-",eM=e=>{if(!e)return null;const t=new Date;t.setHours(0,0,0,0);const n=new Date(e);return n.setHours(0,0,0,0),Math.ceil((n-t)/(1e3*60*60*24))},i9e=e=>e===null?{label:"Invalid",color:"#616161"}:e<=0?{label:"Expired",color:"#d32f2f"}:e<=30?{label:"Expiring Soon",color:"#f57c00"}:{label:"Active",color:"#2e7d32"},a9e=()=>{const e=wt(),{currentClinic:t}=qe(D=>D.clinic),{licenses:n,loading:r,error:i,message:a}=qe(D=>D.license),s=t?._id||"6925798e27b1905faadda114",[c,d]=w.useState(!1),[f,p]=w.useState(!1),[m,g]=w.useState(""),v=w.useRef(),b={type:"",customType:"",licenseNumber:"",issuedDate:"",expiryDate:"",reminderNotifications:{popup:!1,email:!1,sms:!1,whatsapp:!1},document:null,documentUrl:""},[C,j]=w.useState(b),A=C.expiryDate?eM(C.expiryDate):null;w.useEffect(()=>{e(ym(s))},[s,e]);const k=()=>{j(b),p(!1),d(!0)},E=D=>{j({type:D.type,customType:D.customTypeName||"",licenseNumber:D.registrationNumber,issuedDate:D.issuedDate?.split("T")[0],expiryDate:D.expiryDate?.split("T")[0],reminderNotifications:D.reminderNotifications,document:null,documentUrl:D.documentUrl||""}),g(D._id),p(!0),d(!0)},P=D=>{const L=D.target.files[0];L&&j(R=>({...R,document:L,documentUrl:URL.createObjectURL(L)}))},$=D=>{j(L=>({...L,reminderNotifications:{...L.reminderNotifications,[D]:!L.reminderNotifications[D]}}))},F=async()=>{const D=C;if(!D.type||!D.licenseNumber||!D.issuedDate||!D.expiryDate){Ee.warn("Please fill all required fields.");return}if(D.type==="Other"&&!D.customType.trim()){Ee.warn("Enter custom license name.");return}const L=new FormData;L.append("type",D.type),L.append("registrationNumber",D.licenseNumber),L.append("issuedDate",D.issuedDate),L.append("expiryDate",D.expiryDate),L.append("reminderDays",A),D.type==="Other"&&L.append("customTypeName",D.customType),Object.keys(D.reminderNotifications).forEach(R=>{L.append(`reminderNotifications[${R}]`,D.reminderNotifications[R])}),D.document&&L.append("document",D.document);try{f?(await e(J1({licenseId:m,updatedData:L})).unwrap(),Ee.success("License Updated Successfully")):(await e(Z1({clinicId:s,licenseData:L})).unwrap(),Ee.success("License Created Successfully")),d(!1),j(b),v.current&&(v.current.value="")}catch{}},O=D=>{$p.confirmAlert({customUI:({onClose:L})=>o.jsx("div",{className:"confirm-overlay",children:o.jsxs("div",{className:"confirm-card",children:[o.jsx("div",{className:"confirm-header",children:o.jsx("h3",{children:"Delete License"})}),o.jsxs("p",{className:"confirm-text",children:["Are you sure you want to delete this license?",o.jsx("br",{}),o.jsx("span",{children:"This action cannot be undone."})]}),o.jsxs("div",{className:"confirm-actions",children:[o.jsx("button",{className:"btn-outline",onClick:L,children:"Cancel"}),o.jsx("button",{className:"btn-danger",onClick:async()=>{try{await e(ev(D)).unwrap(),Ee.success("License deleted successfully"),showDialog("Deleted","License deleted successfully","success")}catch(R){showDialog("Error",R?.message||"Failed to delete license","error")}finally{L()}},children:"Delete"})]})]})})})},_=D=>{if(!D){Ee.warn("No document uploaded for this license.");return}window.open(D,"_blank")};return o.jsxs("div",{className:"lc-container",children:[o.jsxs("div",{className:"lc-top",children:[o.jsx("h2",{className:"lc-title",children:"Licenses & Compliance"}),o.jsx("button",{className:"btn-primary",onClick:k,children:"+ Add New License"})]}),i&&o.jsx("div",{className:"error-box",onClick:()=>e(ym(s)),children:"Unable to load licenses. Tap to retry."}),!r&&n.length===0&&o.jsxs("div",{className:"empty-block",children:[o.jsx("p",{children:"No licenses added yet. Please add your first license."}),o.jsx("button",{className:"btn-primary",onClick:k,children:"+ Add New License"})]}),o.jsx("div",{className:"lc-list",children:n.map(D=>{const L=eM(D.expiryDate),R=i9e(L);return o.jsxs("div",{className:"lc-card",children:[o.jsxs("div",{className:"card-top",children:[o.jsx("span",{className:"card-title",children:D.type==="Other"?D.customTypeName:ZR[D.type]}),o.jsxs("div",{className:"card-actions",children:[o.jsx("button",{className:"icon-btn",onClick:()=>_(D.documentUrl),title:"View Document",children:o.jsx(Vke,{size:18})}),o.jsx("button",{className:"icon-btn",onClick:()=>E(D),children:o.jsx(Yke,{size:18})}),o.jsx("button",{className:"icon-btn delete",onClick:()=>O(D._id),children:o.jsx(Gke,{size:18})})]})]}),o.jsxs("div",{className:"card-body",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"License No:"})," ",D.registrationNumber]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Issued:"})," ",JR(D.issuedDate)]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Expiry:"})," ",JR(D.expiryDate)," ",!D.expiryDate&&o.jsx(Xke,{size:18,color:"#d32f2f"})]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Remaining:"})," ",o.jsx("span",{style:{color:R.color},children:L<=0?"Expired":`${L} days`})]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Status:"})," ",o.jsx("span",{style:{color:R.color,fontWeight:600},children:R.label})]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Reminders:"})," ",Object.keys(D.reminderNotifications).filter(M=>D.reminderNotifications[M]).join(", ")||"-"]})]})]},D._id)})}),c&&o.jsx("div",{className:"modal",children:o.jsxs("div",{className:"modal-box",children:[o.jsx("h3",{children:f?"Edit License":"Add New License"}),o.jsx("button",{className:"close-btn",onClick:()=>d(!1),children:o.jsx(Zke,{size:22})}),o.jsxs("select",{value:C.type,onChange:D=>j(L=>({...L,type:D.target.value})),children:[o.jsx("option",{value:"",children:"Select License Type *"}),n9e.map(D=>o.jsx("option",{value:D,children:ZR[D]},D))]}),C.type==="Other"&&o.jsx("input",{placeholder:"Enter Custom License Name *",value:C.customType,onChange:D=>j(L=>({...L,customType:D.target.value}))}),o.jsx("input",{placeholder:"License Number *",value:C.licenseNumber,onChange:D=>j(L=>({...L,licenseNumber:D.target.value}))}),o.jsx("label",{children:"Issued Date *"}),o.jsx("input",{type:"date",value:C.issuedDate,onChange:D=>j(L=>({...L,issuedDate:D.target.value}))}),o.jsx("label",{children:"Expiry Date *"}),o.jsx("input",{type:"date",value:C.expiryDate,onChange:D=>j(L=>({...L,expiryDate:D.target.value}))}),o.jsxs("div",{className:"remaining-box",children:[o.jsx("strong",{children:"Remaining Days:"})," ",A!==null?A:"-"]}),o.jsx("label",{children:"Upload Document"}),o.jsx("input",{type:"file",accept:"image/*,.pdf",ref:v,onChange:P}),C.documentUrl&&o.jsx("div",{className:"preview",children:C.documentUrl.endsWith(".pdf")?o.jsx("a",{href:C.documentUrl,target:"_blank",children:"View PDF"}):o.jsx("img",{src:C.documentUrl,alt:"preview"})}),o.jsxs("div",{children:[o.jsx("strong",{children:"Reminder Methods:"}),o.jsx("div",{className:"reminders",children:r9e.map(D=>o.jsxs("label",{children:[o.jsx("input",{type:"checkbox",checked:C.reminderNotifications[D]||!1,onChange:()=>$(D)}),D.toUpperCase()]},D))})]}),o.jsx("button",{className:"btn-primary",onClick:F,children:f?"Update License":"Save License"})]})}),a&&o.jsx("div",{className:"toast success",children:a}),i&&o.jsx("div",{className:"toast error",children:i}),o.jsx("style",{jsx:!0,children:`
        .lc-container {
          max-width: 1000px;
          margin: auto;
          padding: 20px;
          font-family: "Segoe UI", sans-serif;
        }

        .lc-top {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 25px;
        }

        .lc-title {
          font-size: 2rem;
          color: #0077b6;
          font-weight: 700;
        }

        .btn-primary {
          background: #0077b6;
          color: white;
          border: none;
          padding: 10px 22px;
          border-radius: 8px;
          font-weight: 600;
          cursor: pointer;
        }

        .empty-block {
          background: #f1faff;
          padding: 35px;
          border-radius: 12px;
          text-align: center;
          margin-top: 30px;
        }

        .lc-list {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(330px, 1fr));
          gap: 20px;
        }

        .lc-card {
          background: #fff;
          padding: 18px;
          border-radius: 12px;
          box-shadow: 0 6px 16px rgba(0, 0, 0, 0.12);
        }

        .card-top {
          display: flex;
          justify-content: space-between;
          align-items: center;
        }

        .card-title {
          color: #0077b6;
          font-weight: 700;
          font-size: 1.2rem;
        }

        .card-actions {
          display: flex;
          gap: 8px;
        }

        .icon-btn {
          background: #e3f2fd;
          border: none;
          padding: 6px;
          border-radius: 6px;
          cursor: pointer;
        }

        .icon-btn.delete {
          background: #fdecea;
        }

        .card-body p {
          margin: 6px 0;
          color: #333;
        }

        .error-box {
          background: #fdecea;
          color: #d32f2f;
          padding: 14px;
          text-align: center;
          border-radius: 8px;
          cursor: pointer;
          margin-bottom: 20px;
        }

        /* MODAL */
        .modal {
          position: fixed;
          inset: 0;
          background: rgba(0, 0, 0, 0.55);
          display: flex;
          justify-content: center;
          align-items: center;
          padding: 10px;
          z-index: 999;
        }

        .modal-box {
          background: #fff;
          padding: 22px;
          border-radius: 12px;
          width: 100%;
          max-width: 500px;
          max-height: 92vh;
          overflow-y: auto;
          position: relative;
          display: flex;
          flex-direction: column;
         
          gap: 14px;
        }

        .close-btn {
          position: absolute;
          top: 10px;
          right: 10px;
          border: none;
          background: #f0f0f0;
          border-radius: 50%;
          padding: 5px;
          cursor: pointer;
        }

        input,
        select {
          padding: 10px;
          border: 1px solid #ccc;
          border-radius: 6px;
          width: 100%;
           box-sizing:border-box;
        }

        .remaining-box {
          background: #e3f2fd;
          padding: 12px;
          border-radius: 8px;
          font-weight: 600;
        }

        .reminders label {
          margin-right: 20px;
        }

        .preview img {
          max-width: 100%;
          border-radius: 6px;
          margin-top: 10px;
        }

        .toast {
          margin-top: 20px;
          padding: 14px;
          border-radius: 8px;
          text-align: center;
          font-weight: 600;
        }

        .success {
          background: #e6f7ec;
          color: #0d7a32;
        }

        .error {
          background: #fdecea;
          color: #d32f2f;
        }

        .reminders {
  display: flex;
  gap: 20px; /* label ke beech spacing */
  flex-wrap: wrap; /* mobile me wrap ho jaye */
  margin-top: 8px;
}

.reminders label {
  display: flex;
  align-items: center;
  font-weight: 500;
  cursor: pointer;
}
.reminders input[type="checkbox"] {
  margin-right: 6px; /* label text se gap */
  width: 16px;
  height: 16px;
}

      `})]})},o9e=({timings:e})=>{if(!Array.isArray(e)||e.length===0)return o.jsx("div",{style:{padding:"12px",borderRadius:12,background:"#f8fafc",color:"#64748b",fontStyle:"italic"},children:"No timings set"});const t={};return e.forEach(n=>{const r=n.days.join("-");t[r]||(t[r]={days:n.days,slots:[]}),t[r].slots.push(...n.slots)}),o.jsx("div",{style:{background:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:14,padding:"16px 18px"},children:Object.values(t).map((n,r)=>{const i=n.days.length===1?n.days[0]:`${n.days[0]}${n.days[n.days.length-1]}`;return o.jsxs("div",{style:{marginBottom:r<Object.keys(t).length-1?16:0},children:[o.jsx("div",{style:{fontWeight:700,color:"#1e293b",marginBottom:6,fontSize:15},children:i}),n.slots.map((a,s)=>o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,paddingLeft:8,color:"#0f172a",fontVariantNumeric:"tabular-nums"},children:[o.jsx("span",{style:{color:"#3b82f6",fontSize:18},children:""}),o.jsxs("span",{children:[a.start,"  ",a.end]})]},s))]},r)})})},s9e=({clinicId:e})=>{const t=wt(),n=fc(),r=localStorage.getItem("selectedClinicId"),i=e||n.clinicId||r||"",{settings:a=null,loading:s,error:c,message:d}=qe(v=>v.prescription||{}),[f,p]=w.useState({header:{logo:"",clinicName:"",doctorName:"",degree:"",specialization:"",regNumber:"",address:"",contact:""},footer:{disclaimer:"",timings:[],qrFeedback:"",digitalSignature:""}});w.useEffect(()=>{i&&t(av(i))},[i,t]),w.useEffect(()=>{if(!a)return;const v=a.header||{},b=Array.isArray(v.degrees)?v.degrees:[],C=b.length>0?b.map(k=>k.specialization?`${k.degree} (${k.specialization})`:k.degree).join(" | "):v.degree||"",j=b.length>0?b.map(k=>k.regNumber).filter(Boolean).join(" | "):v.regNumber||v.regNo||"",A=b.length>0?b.map(k=>k.specialization).filter(Boolean).join(" | "):v.specialization||"";p({header:{logo:v.logo||"",clinicName:v.clinicName||v.clinic||"",doctorName:v.doctorName||v.name||"",degree:C,specialization:A,regNumber:j,address:v.address||"",contact:v.contact||""},footer:{disclaimer:a.footer?.disclaimer||"",timings:Array.isArray(a.footer?.timings)?a.footer.timings:[],qrFeedback:a.footer?.qrFeedback||"",digitalSignature:a.footer?.digitalSignature||""}})},[a]),w.useEffect(()=>{if(d||c){const v=setTimeout(()=>t(rte()),4e3);return()=>clearTimeout(v)}},[d,c,t]);const m=(v,b,C)=>{p(j=>({...j,[v]:{...j[v],[b]:C}}))},g=v=>{if(v.preventDefault(),!i){Ee.error("Clinic ID is missing!");return}const b={header:{...f.header,degrees:[{degree:f.header.degree||"",specialization:f.header.specialization||"",regNumber:f.header.regNumber||""}]},footer:{disclaimer:f.footer.disclaimer,qrFeedback:f.footer.qrFeedback,digitalSignature:f.footer.digitalSignature},layout:a.layout||{fontSize:"medium",language:"en",spacing:1,margin:10}};t(iv({clinicId:i,settings:b})),Ee.success("Setting Saved Successfully")};return o.jsxs("div",{className:"prescription-settings-wrapper",children:[o.jsxs("div",{className:"prescription-settings-card",children:[o.jsxs("div",{className:"card-header",children:[o.jsx("h2",{children:"Prescription Template Settings"}),o.jsxs("div",{style:{fontSize:13,opacity:.9,marginTop:8},children:["Clinic ID: ",o.jsx("strong",{children:i||"Not selected"})]})]}),o.jsxs("div",{className:"card-body",children:[s&&o.jsxs("div",{className:"message loading",children:[o.jsx("span",{className:"spinner"})," Loading settings..."]}),c&&o.jsx("div",{className:"message error",children:c}),d&&o.jsx("div",{className:"message success",children:d}),o.jsxs("form",{onSubmit:g,className:"settings-form",children:[o.jsxs("div",{className:"section",children:[o.jsx("h3",{children:"Header Details"}),o.jsx("div",{className:"form-grid",children:Object.keys(f.header).map(v=>o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:v.replace(/([A-Z])/g," $1").replace(/^./,b=>b.toUpperCase())}),v==="logo"?o.jsxs("div",{children:[o.jsx("input",{type:"url",value:f.header[v],onChange:b=>m("header",v,b.target.value),placeholder:"https://example.com/logo.png"}),f.header.logo&&o.jsx("img",{src:f.header.logo,alt:"Clinic Logo",style:{maxWidth:"140px",marginTop:10,borderRadius:8,border:"2px solid #e0e7ff",display:"block"},onError:b=>b.target.style.display="none"})]}):v==="contact"?o.jsx("input",{type:"text",value:f.header[v],maxLength:10,onChange:b=>{let C=b.target.value.replace(/\D/g,"");C.length>10&&(C=C.slice(0,10)),m("header",v,C)},placeholder:"e.g. 9876543210"}):v==="doctorName"||v==="clinicName"?o.jsx("input",{type:"text",value:f.header[v],maxLength:80,onChange:b=>{const j=b.target.value.replace(/[^a-zA-Z\s.]/g,"");m("header",v,j)},placeholder:v==="doctorName"?"e.g. Dr. Smita Sharma":"e.g. Anshul Clinic"}):o.jsx("input",{type:"text",value:f.header[v],onChange:b=>m("header",v,b.target.value)})]},v))})]}),o.jsxs("div",{className:"section",children:[o.jsx("h3",{children:"Footer & QR Codes"}),o.jsxs("div",{className:"form-grid",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Disclaimer"}),o.jsx("textarea",{rows:"4",value:f.footer.disclaimer,onChange:v=>m("footer","disclaimer",v.target.value),placeholder:"Enter legal disclaimer..."})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Consultant Timings"}),o.jsx(o9e,{timings:f.footer.timings}),o.jsx("div",{style:{fontSize:13,color:"#64748b",marginTop:6},children:"Timings are managed from Clinic  Consulting Hours"})]}),f.footer.digitalSignature&&o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Digital Signature"}),o.jsxs("div",{style:{textAlign:"center",marginTop:12},children:[o.jsx("img",{src:f.footer.digitalSignature,alt:"Doctor's Digital Signature",style:{maxWidth:"220px",maxHeight:"90px",objectFit:"contain",border:"2px solid #10b981",borderRadius:12,background:"#f0fdf4",padding:12,boxShadow:"0 6px 16px rgba(0,0,0,0.1)"},onError:v=>v.target.style.display="none"}),o.jsx("p",{style:{fontSize:13,color:"#059669",marginTop:10,fontWeight:600},children:"Digital Signature (appears at bottom of prescription)"})]})]})]})]}),o.jsx("button",{type:"submit",className:"submit-btn",disabled:s||!i,children:s?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner small"})," Saving..."]}):"Save All Settings"})]})]})]}),o.jsx("style",{jsx:!0,children:`
        .prescription-settings-wrapper {
          min-height: 100vh;
          background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
          padding: 2rem 1rem;
          font-family: "Inter", "Segoe UI", sans-serif;
          color: #1e293b;
        }
        .prescription-settings-card {
          max-width: 1000px;
          margin: 0 auto;
          background: white;
          border-radius: 20px;
          overflow: hidden;
          box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }
        .card-header {
          background: linear-gradient(135deg, #1e40af, #3b82f6);
          color: white;
          padding: 2rem;
          text-align: center;
        }
        .card-header h2 {
          margin: 0;
          font-size: 2rem;
          font-weight: 700;
        }
        .card-body {
          padding: 3rem;
        }
        .message {
          padding: 1rem;
          border-radius: 12px;
          margin-bottom: 1.5rem;
          font-weight: 600;
          text-align: center;
        }
        .message.loading {
          background: #dbeafe;
          color: #1e40af;
        }
        .message.error {
          background: #fee2e2;
          color: #991b1b;
        }
        .message.success {
          background: #dcfce7;
          color: #166534;
        }
        .spinner {
          width: 18px;
          height: 18px;
          border: 3px solid #ffffff50;
          border-top-color: white;
          border-radius: 50%;
          animation: spin 1s linear infinite;
        }
        .spinner.small {
          width: 14px;
          height: 14px;
          border-width: 2px;
        }
        @keyframes spin {
          to {
            transform: rotate(360deg);
          }
        }
        .section {
          margin-top: 3rem;
        }
        .section h3 {
          font-size: 1.5rem;
          color: #1e40af;
          margin-bottom: 1.5rem;
          position: relative;
          padding-left: 1rem;
        }
        .section h3::before {
          content: "";
          position: absolute;
          left: 0;
          top: 50%;
          transform: translateY(-50%);
          width: 6px;
          height: 28px;
          background: #3b82f6;
          border-radius: 3px;
        }
        .form-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
          gap: 1.5rem;
        }
        .form-group label {
          font-weight: 600;
          color: #374151;
          margin-bottom: 0.5rem;
          display: block;
        }
        input,
        textarea,
        select {
          padding: 0.9rem 1rem;
          border: 2px solid #e2e8f0;
          border-radius: 12px;
          font-size: 1rem;
          background: #fafafa;
          transition: all 0.3s;
        }
        input:focus,
        textarea:focus,
        select:focus {
          border-color: #3b82f6;
          background: white;
          box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.15);
          outline: none;
        }
        .submit-btn {
          margin-top: 3rem;
          background: linear-gradient(135deg, #1e40af, #3b82f6);
          color: white;
          padding: 1.1rem;
          font-size: 1.1rem;
          font-weight: 600;
          border: none;
          border-radius: 14px;
          cursor: pointer;
          transition: all 0.3s;
        }
        .submit-btn:hover:not(:disabled) {
          background: #1e3a8a;
          transform: translateY(-3px);
          box-shadow: 0 10px 20px rgba(30, 64, 175, 0.3);
        }
        .submit-btn:disabled {
          background: #94a3b8;
          cursor: not-allowed;
        }
        @media (max-width: 768px) {
          .form-grid {
            grid-template-columns: 1fr;
          }
          .card-body {
            padding: 2rem;
          }
        }
      `})]})};let l9e={data:""},c9e=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||l9e},u9e=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,d9e=/\/\*[^]*?\*\/|  +/g,tM=/\n+/g,Hl=(e,t)=>{let n="",r="",i="";for(let a in e){let s=e[a];a[0]=="@"?a[1]=="i"?n=a+" "+s+";":r+=a[1]=="f"?Hl(s,a):a+"{"+Hl(s,a[1]=="k"?"":t)+"}":typeof s=="object"?r+=Hl(s,t?t.replace(/([^,])+/g,c=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,c):c?c+" "+d:d)):a):s!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Hl.p?Hl.p(a,s):a+":"+s+";")}return n+(t&&i?t+"{"+i+"}":i)+r},ls={},hG=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+hG(e[n]);return t}return e},f9e=(e,t,n,r,i)=>{let a=hG(e),s=ls[a]||(ls[a]=(d=>{let f=0,p=11;for(;f<d.length;)p=101*p+d.charCodeAt(f++)>>>0;return"go"+p})(a));if(!ls[s]){let d=a!==e?e:(f=>{let p,m,g=[{}];for(;p=u9e.exec(f.replace(d9e,""));)p[4]?g.shift():p[3]?(m=p[3].replace(tM," ").trim(),g.unshift(g[0][m]=g[0][m]||{})):g[0][p[1]]=p[2].replace(tM," ").trim();return g[0]})(e);ls[s]=Hl(i?{["@keyframes "+s]:d}:d,n?"":"."+s)}let c=n&&ls.g?ls.g:null;return n&&(ls.g=ls[s]),((d,f,p,m)=>{m?f.data=f.data.replace(m,d):f.data.indexOf(d)===-1&&(f.data=p?d+f.data:f.data+d)})(ls[s],t,r,c),s},p9e=(e,t,n)=>e.reduce((r,i,a)=>{let s=t[a];if(s&&s.call){let c=s(n),d=c&&c.props&&c.props.className||/^go/.test(c)&&c;s=d?"."+d:c&&typeof c=="object"?c.props?"":Hl(c,""):c===!1?"":c}return r+i+(s??"")},"");function X2(e){let t=this||{},n=e.call?e(t.p):e;return f9e(n.unshift?n.raw?p9e(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,c9e(t.target),t.g,t.o,t.k)}let mG,JC,e5;X2.bind({g:1});let Hs=X2.bind({k:1});function h9e(e,t,n,r){Hl.p=t,mG=e,JC=n,e5=r}function Cc(e,t){let n=this||{};return function(){let r=arguments;function i(a,s){let c=Object.assign({},a),d=c.className||i.className;n.p=Object.assign({theme:JC&&JC()},c),n.o=/ *go\d+/.test(d),c.className=X2.apply(n,r)+(d?" "+d:"");let f=e;return e[0]&&(f=c.as||e,delete c.as),e5&&f[0]&&e5(c),mG(f,c)}return i}}var m9e=e=>typeof e=="function",t5=(e,t)=>m9e(e)?e(t):e,g9e=(()=>{let e=0;return()=>(++e).toString()})(),y9e=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),v9e=20,gG="default",yG=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case 2:let{toast:r}=t;return yG(e,{type:e.toasts.find(s=>s.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(s=>s.id===i||i===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+a}))}}},b9e=[],x9e={toasts:[],pausedAt:void 0,settings:{toastLimit:v9e}},Rf={},vG=(e,t=gG)=>{Rf[t]=yG(Rf[t]||x9e,e),b9e.forEach(([n,r])=>{n===t&&r(Rf[t])})},bG=e=>Object.keys(Rf).forEach(t=>vG(e,t)),w9e=e=>Object.keys(Rf).find(t=>Rf[t].toasts.some(n=>n.id===e)),yk=(e=gG)=>t=>{vG(t,e)},S9e=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:n?.id||g9e()}),w0=e=>(t,n)=>{let r=S9e(t,e,n);return yk(r.toasterId||w9e(r.id))({type:2,toast:r}),r.id},kr=(e,t)=>w0("blank")(e,t);kr.error=w0("error");kr.success=w0("success");kr.loading=w0("loading");kr.custom=w0("custom");kr.dismiss=(e,t)=>{let n={type:3,toastId:e};t?yk(t)(n):bG(n)};kr.dismissAll=e=>kr.dismiss(void 0,e);kr.remove=(e,t)=>{let n={type:4,toastId:e};t?yk(t)(n):bG(n)};kr.removeAll=e=>kr.remove(void 0,e);kr.promise=(e,t,n)=>{let r=kr.loading(t.loading,{...n,...n?.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let a=t.success?t5(t.success,i):void 0;return a?kr.success(a,{id:r,...n,...n?.success}):kr.dismiss(r),i}).catch(i=>{let a=t.error?t5(t.error,i):void 0;a?kr.error(a,{id:r,...n,...n?.error}):kr.dismiss(r)}),e};var C9e=Hs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,j9e=Hs`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,T9e=Hs`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,A9e=Cc("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${C9e} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${j9e} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${T9e} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,k9e=Hs`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,E9e=Cc("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${k9e} 1s linear infinite;
`,N9e=Hs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,_9e=Hs`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,P9e=Cc("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${N9e} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${_9e} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,D9e=Cc("div")`
  position: absolute;
`,O9e=Cc("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,$9e=Hs`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,I9e=Cc("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${$9e} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,R9e=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?w.createElement(I9e,null,t):t:n==="blank"?null:w.createElement(O9e,null,w.createElement(E9e,{...r}),n!=="loading"&&w.createElement(D9e,null,n==="error"?w.createElement(A9e,{...r}):w.createElement(P9e,{...r})))},M9e=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,L9e=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,F9e="0%{opacity:0;} 100%{opacity:1;}",B9e="0%{opacity:1;} 100%{opacity:0;}",z9e=Cc("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,U9e=Cc("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,H9e=(e,t)=>{let n=e.includes("top")?1:-1,[r,i]=y9e()?[F9e,B9e]:[M9e(n),L9e(n)];return{animation:t?`${Hs(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Hs(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};w.memo(({toast:e,position:t,style:n,children:r})=>{let i=e.height?H9e(e.position||t||"top-center",e.visible):{opacity:0},a=w.createElement(R9e,{toast:e}),s=w.createElement(U9e,{...e.ariaProps},t5(e.message,e));return w.createElement(z9e,{className:e.className,style:{...i,...n,...e.style}},typeof r=="function"?r({icon:a,message:s}):w.createElement(w.Fragment,null,a,s))});h9e(w.createElement);X2`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;var tf=kr;const x1={consultation:o.jsx(Kg,{}),tax:o.jsx(tue,{}),payment:o.jsx(zz,{}),services:o.jsx(Rce,{})},V9e=["Procedure","Certificate","Therapy","Diagnostics","Consultation","Investigation","Other"],q9e=({clinicData:e={},onChange:t=()=>{}})=>{const n=wt(),{currentClinic:r}=qe(P=>P.clinic),{loading:i,error:a,message:s,billingSettings:c}=qe(P=>P.billing),d=e.clinicId||r?._id,[f,p]=w.useState({consultationFees:{consultationFee:"",followUpFee:""},discountPercent:"",tax:{enabled:!1,gstPercent:""},paymentMethods:{cash:!1,upi:!1,card:!1,insurance:!1},services:[]}),[m,g]=w.useState({name:"",category:"",customCategory:"",defaultAmount:""});w.useEffect(()=>{d&&n(wf(d))},[d,n]),w.useEffect(()=>{const P=c||e;P&&p({consultationFees:{consultationFee:P.consultationFees?.consultationFee??P.consultationFee??P.defaultConsultationFee??"",followUpFee:P.consultationFees?.followUpFee??""},discountPercent:P.discountPercent!==void 0&&P.discountPercent!==null?P.discountPercent:"",tax:{enabled:!!P.tax?.enabled,gstPercent:P.tax?.gstPercent!==void 0&&P.tax?.gstPercent!==null?P.tax.gstPercent:""},paymentMethods:{cash:!!P.paymentMethods?.cash,upi:!!P.paymentMethods?.upi,card:!!P.paymentMethods?.card,insurance:!!P.paymentMethods?.insurance},services:Array.isArray(P.services)?P.services.map($=>({...$._id&&{_id:$._id},name:$.name||"",category:$.category||"Procedure",defaultAmount:$.defaultAmount!==void 0?$.defaultAmount:$.amount??""})):[]})},[c,e]),w.useEffect(()=>{t({target:{name:"billingData",value:f}})},[f,t]);const v=(P,$,F)=>{const O=P.target.value;p(F?_=>({..._,[$]:{..._[$],[F]:O}}):_=>({..._,[$]:O}))},b=(P,$,F)=>{const O=P.target.checked;p(F?_=>({..._,[$]:{..._[$],[F]:O}}):_=>({..._,[$]:O}))},C=P=>{p($=>({...$,services:$.services.filter((F,O)=>O!==P)})),tf.success("Service removed")},j=(P,$,F)=>{p(O=>({...O,services:O.services.map((_,D)=>D===P?{..._,[$]:$==="defaultAmount"?F===""?"":Number(F):F}:_)}))},A=()=>{const P=m.name.trim();let $=m.category==="Other"?m.customCategory.trim():m.category;const F=m.defaultAmount,O=F===""?0:Number(F);if(!P||!$||!O||O<=0){tf.error("Please fill all fields correctly!");return}if(f.services.some(D=>D.name.toString().toLowerCase()===P.toLowerCase()&&D.category?.toString().toLowerCase()===$.toLowerCase())){tf.error("This service already exists!");return}p(D=>({...D,services:[...D.services,{name:P,category:$,defaultAmount:O}]})),g({name:"",category:"",customCategory:"",defaultAmount:""}),tf.success("Service added successfully!")},k=P=>{P.key==="Enter"&&(P.preventDefault(),A())},E=()=>{if(!d){tf.error("Clinic ID is missing!");return}const P={consultationFees:{consultationFee:f.consultationFees.consultationFee===""||f.consultationFees.consultationFee===null?void 0:Number(f.consultationFees.consultationFee),followUpFee:f.consultationFees.followUpFee===""||f.consultationFees.followUpFee===null?void 0:Number(f.consultationFees.followUpFee)},discountPercent:f.discountPercent===""||f.discountPercent===null?void 0:Number(f.discountPercent),tax:{enabled:!!f.tax.enabled,gstPercent:f.tax.gstPercent===""||f.tax.gstPercent===null?void 0:Number(f.tax.gstPercent)},paymentMethods:{cash:!!f.paymentMethods.cash,upi:!!f.paymentMethods.upi,card:!!f.paymentMethods.card,insurance:!!f.paymentMethods.insurance},services:(Array.isArray(f.services)?f.services:[]).map(F=>({...F._id&&{_id:F._id},name:F.name||"",category:F.category||"Procedure",defaultAmount:F.defaultAmount===""||F.defaultAmount===null?0:Number(F.defaultAmount)}))},$=JSON.parse(JSON.stringify(P,(F,O)=>O===void 0?null:O));tf.promise(n(tv({clinicId:d,billingData:$})).unwrap(),{loading:"Saving billing settings...",success:()=>(n(wf(d)),"Billing settings saved successfully!"),error:F=>F?.message||F?.error||"Failed to save settings"},{style:{minWidth:"320px",fontSize:"15px"},success:{duration:4e3,icon:"Success"},error:{duration:5e3}})};return o.jsxs("div",{className:"billing-wrapper",children:[o.jsxs("div",{className:"billing-container",children:[o.jsx("h2",{className:"billing-title",children:"Billing & Communication"}),o.jsxs("div",{className:"billing-card",children:[o.jsxs("h3",{className:"card-title",children:[x1.consultation," Consultation & Discount"]}),o.jsxs("div",{className:"input-row",children:[o.jsxs("div",{className:"input-group",children:[o.jsx("label",{children:"Consultation Fee ()"}),o.jsx("input",{type:"number",min:"0",value:f.consultationFees.consultationFee,onChange:P=>v(P,"consultationFees","consultationFee"),placeholder:"e.g. 500"})]}),o.jsxs("div",{className:"input-group",children:[o.jsx("label",{children:"Follow-up Fee ()"}),o.jsx("input",{type:"number",min:"0",value:f.consultationFees.followUpFee,onChange:P=>v(P,"consultationFees","followUpFee"),placeholder:"e.g. 300"})]}),o.jsxs("div",{className:"input-group",children:[o.jsx("label",{children:"Discount (%)"}),o.jsx("input",{type:"number",min:"0",max:"100",value:f.discountPercent,onChange:P=>v(P,"discountPercent"),placeholder:"e.g. 10"})]})]})]}),o.jsxs("div",{className:"billing-card",children:[o.jsxs("h3",{className:"card-title",children:[x1.tax," Tax Settings"]}),o.jsxs("div",{className:"input-row",children:[o.jsxs("label",{className:"checkbox-group",children:[o.jsx("input",{type:"checkbox",checked:f.tax.enabled,onChange:P=>b(P,"tax","enabled")}),o.jsx("span",{children:"Enable GST"})]}),f.tax.enabled&&o.jsx("div",{className:"input-group inline",children:o.jsx("input",{type:"number",min:"0",max:"100",value:f.tax.gstPercent,onChange:P=>v(P,"tax","gstPercent"),placeholder:"GST %"})})]})]}),o.jsxs("div",{className:"billing-card",children:[o.jsxs("h3",{className:"card-title",children:[x1.payment," Payment Methods"]}),o.jsx("div",{className:"checkbox-grid",children:Object.keys(f.paymentMethods).map(P=>o.jsxs("label",{className:"checkbox-group",children:[o.jsx("input",{type:"checkbox",checked:f.paymentMethods[P],onChange:$=>b($,"paymentMethods",P)}),o.jsx("span",{children:P.charAt(0).toUpperCase()+P.slice(1)})]},P))})]}),o.jsxs("div",{className:"billing-card",children:[o.jsxs("h3",{className:"card-title",children:[x1.services," Services"]}),o.jsx("div",{className:"services-grid",children:f.services.map((P,$)=>o.jsxs("div",{className:"service-item",children:[o.jsx("button",{type:"button",className:"remove-btn",onClick:()=>C($),children:""}),o.jsx("div",{className:"category-badge",children:P.category}),o.jsx("input",{type:"text",value:P.name,onChange:F=>j($,"name",F.target.value),placeholder:"Service Name"}),o.jsx("input",{type:"number",value:P.defaultAmount,onChange:F=>j($,"defaultAmount",F.target.value),placeholder:"Amount",min:"0"})]},$))}),o.jsxs("div",{className:"add-service-form",children:[o.jsx("div",{className:"input-group small",children:o.jsx("input",{type:"text",placeholder:"Service Name (e.g. Root Canal)",value:m.name,onChange:P=>g($=>({...$,name:P.target.value})),onKeyDown:k})}),o.jsx("div",{className:"input-group small",children:m.category==="Other"?o.jsx("input",{type:"text",placeholder:"Custom Category",value:m.customCategory,onChange:P=>g($=>({...$,customCategory:P.target.value})),onKeyDown:k}):o.jsxs("select",{value:m.category,onChange:P=>g($=>({...$,category:P.target.value,customCategory:P.target.value==="Other"?$.customCategory:""})),children:[o.jsx("option",{value:"",children:"Select Category"}),V9e.map(P=>o.jsx("option",{value:P,children:P},P))]})}),o.jsx("div",{className:"input-group small",children:o.jsx("input",{type:"number",placeholder:"Amount ()",value:m.defaultAmount,onChange:P=>g($=>({...$,defaultAmount:P.target.value})),min:"0",onKeyDown:k})}),o.jsx("button",{type:"button",className:"add-btn",onClick:A,children:"+ Add Service"})]})]}),o.jsx("button",{className:"save-btn",onClick:E,disabled:i,children:i?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner small"})," Saving..."]}):"Save Settings"})]}),o.jsx("style",{jsx:!0,children:`
        .billing-wrapper {
          min-height: 100vh;
          background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
          padding: 2rem 1rem;
          font-family: "Poppins", sans-serif;
        }
        .billing-container { max-width: 1000px; margin: 0 auto; }
        .billing-title { text-align: center; font-size: 2rem; font-weight: 700; color: #1e293b; margin-bottom: 2rem; }
        .billing-card {
          background: #fff;
          border-radius: 18px;
          padding: 1.75rem;
          margin-bottom: 1.75rem;
          box-shadow: 0 12px 30px rgba(0,0,0,0.08);
          border: 1px solid #e2e8f0;
        }
        .card-title { font-size: 1.35rem; font-weight: 600; color: #2563eb; margin-bottom: 1.25rem; }
        .input-row { display: flex; gap: 1.25rem; flex-wrap: wrap; align-items: end; }
        .input-group { flex: 1; min-width: 200px; display: flex; flex-direction: column; gap: 0.5rem; }
        .input-group.small { min-width: 160px; }
        .input-group.inline { flex: none; width: 120px; }
        input, select {
          padding: 0.75rem 1rem;
          border: 1.8px solid #cbd5e1;
          border-radius: 10px;
          background: #fafcfd;
          transition: all 0.25s;
        }
        input:focus, select:focus {
          outline: none;
          border-color: #2563eb;
          background: #fff;
          box-shadow: 0 0 0 4px rgba(37,99,235,0.15);
        }
        .checkbox-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
          gap: 1rem;
        }
        .checkbox-group {
          display: flex;
          align-items: center;
          gap: 0.65rem;
          cursor: pointer;
          font-size: 1rem;
        }
        .services-grid {
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
          gap: 1.25rem;
          margin-bottom: 1.5rem;
        }
        .service-item {
          position: relative;
          background: #f8fafc;
          border: 1.8px dashed #cbd5e1;
          border-radius: 14px;
          padding: 1.25rem;
          display: flex;
          flex-direction: column;
          gap: 0.75rem;
        }
        .remove-btn {
          position: absolute;
          top: 8px;
          right: 10px;
          background: #ef4444;
          color: white;
          border: none;
          width: 28px;
          height: 28px;
          border-radius: 50%;
          cursor: pointer;
          font-size: 1.1rem;
          font-weight: bold;
        }
        .category-badge {
          background: linear-gradient(135deg, #36d1dc, #5b86e5);
          color: white;
          font-size: 0.75rem;
          padding: 0.35rem 0.75rem;
          border-radius: 20px;
          align-self: flex-start;
          font-weight: 600;
        }
        .add-service-form {
          display: flex;
          gap: 1rem;
          flex-wrap: wrap;
          align-items: end;
          padding-top: 1rem;
          border-top: 1px dashed #cbd5e1;
        }
        .add-btn {
          background: linear-gradient(135deg, #10b981, #059669);
          color: white;
          border: none;
          padding: 0.75rem 1.25rem;
          border-radius: 10px;
          font-weight: 600;
          cursor: pointer;
          transition: 0.3s;
        }
        .add-btn:hover { transform: translateY(-2px); }
        .save-btn {
          margin-top: 2rem;
          width: 100%;
          background: linear-gradient(135deg, #2563eb, #3b82f6);
          color: white;
          border: none;
          padding: 1rem;
          border-radius: 12px;
          font-size: 1.1rem;
          font-weight: 600;
          cursor: pointer;
          transition: 0.3s;
        }
        .save-btn:hover:not(:disabled) { transform: translateY(-3px); box-shadow: 0 10px 20px rgba(37,99,235,0.3); }
        .save-btn:disabled { opacity: 0.7; cursor: not-allowed; }
        .spinner {
          display: inline-block;
          width: 16px;
          height: 16px;
          border: 2px solid currentColor;
          border-top-color: transparent;
          border-radius: 50%;
          animation: spin 0.8s linear infinite;
          margin-right: 8px;
        }
        @keyframes spin { to { transform: rotate(360deg); } }
        @media (max-width: 768px) {
          .input-row, .add-service-form { flex-direction: column; }
          .input-group.small { min-width: 100%; }
        }
      `})]})},Y9e=({clinicId:e,staffList:t=[],updateStaff:n,updateStaffPermission:r,deleteStaffApi:i,onSuccess:a,onError:s})=>{const c=wt(),{loading:d,error:f,message:p,staffList:m=[]}=qe(X=>X.staff||{}),[g,v]=w.useState({}),[b,C]=w.useState({}),[j,A]=w.useState({}),[k,E]=w.useState({}),[P,$]=w.useState(null),[F,O]=w.useState(null),[_,D]=w.useState({x:0,y:0});w.useEffect(()=>{if(p||f){const X=setTimeout(()=>c(Gee()),5e3);return()=>clearTimeout(X)}},[p,f,c]),w.useEffect(()=>{e&&c(ds())},[e,c]);const L=t.length>0?t:m;w.useEffect(()=>{const X={};L.forEach(J=>{const ce=J._id||J.id;ce&&(X[ce]={_id:J._id,name:J.name||"",phone:J.phone||"",role:J.role||"receptionist",permissions:{viewPatients:!!J.permissions?.canViewPatients||!!J.permissions?.viewPatients||!1,editBills:!!J.permissions?.canEditBills||!!J.permissions?.editBills||!1,issueCertificates:!!J.permissions?.canIssueCertificates||!!J.permissions?.issueCertificates||!1,printPrescription:!!J.permissions?.canPrintPrescription||!!J.permissions?.printPrescription||!1},_orig:J})}),A(J=>({...X,...J}))},[L]);const R=X=>X._id||X.id,M=X=>X===!0||X==="true",H=X=>{const J=R(X),ce=j[J]?.permissions||{},ae=X.permissions||X._orig?.permissions||{},ne=M(ce.viewPatients)||M(ce.canViewPatients)||M(ae.canViewPatients)||M(ae.viewPatients),G=M(ce.editBills)||M(ce.canEditBills)||M(ae.canEditBills)||M(ae.editBills),ee=M(ce.issueCertificates)||M(ce.canIssueCertificates)||M(ae.canIssueCertificates)||M(ae.issueCertificates),ue=M(ce.printPrescription)||M(ce.canPrintPrescription)||M(ae.canPrintPrescription)||M(ae.printPrescription);return{canViewPatients:ne,canEditBills:G,canIssueCertificates:ee,canPrintPrescription:ue}},W=X=>{if(!X)return"";const J=[];return X.canViewPatients&&J.push("Patient Management"),X.canEditBills&&J.push("Bill Management"),X.canIssueCertificates&&J.push("Print Certificates"),X.canPrintPrescription&&J.push("Print Prescription"),J.length?J.join(", "):""},fe=X=>{const J=R(X);return b[J]||X.autoPassword||m.find(ce=>R(ce)===J)?.autoPassword||"Password will be generated after submission"},q=()=>{const X=`temp-${Date.now()}`;A(J=>({...J,[X]:{name:"",phone:"",role:"receptionist",permissions:{viewPatients:!1,editBills:!1,issueCertificates:!1,printPrescription:!1}}})),$(X),window.scrollTo({top:0,behavior:"smooth"})},te=X=>{const J=R(X);J&&(A(ce=>({...ce,[J]:ce[J]||{_id:X._id,name:X.name||"",phone:X.phone||"",role:X.role||"receptionist",permissions:{viewPatients:!!X.permissions?.canViewPatients,editBills:!!X.permissions?.canEditBills,issueCertificates:!!X.permissions?.canIssueCertificates,printPrescription:!!X.permissions?.canPrintPrescription},_orig:X}})),$(J),window.scrollTo({top:0,behavior:"smooth"}))},K=async X=>{if(!X||!e){s?.("Error","Missing staff or clinic ID");return}try{const J=await c(W1({staffId:X,clinicId:e})).unwrap();J.autoPassword&&(C(ce=>({...ce,[X]:J.autoPassword})),a?.("Password Reset",`New: ${J.autoPassword}`))}catch(J){s?.("Failed",J?.message||"Could not reset password")}},z=X=>{if(!X||!e){s?.("Error","Missing staff or clinic ID");return}$p.confirmAlert({customUI:({onClose:J})=>o.jsx("div",{className:"confirm-overlay",children:o.jsxs("div",{className:"confirm-card",children:[o.jsx("div",{className:"confirm-header",children:o.jsx("h3",{children:"Delete Staff"})}),o.jsxs("p",{className:"confirm-text",children:["Are you sure you want to delete this staff member?",o.jsx("br",{}),o.jsx("span",{children:"This action cannot be undone."})]}),o.jsxs("div",{className:"confirm-actions",children:[o.jsx("button",{className:"btn-outline",onClick:J,children:"Cancel"}),o.jsx("button",{className:"btn-danger",onClick:async()=>{try{v(ce=>({...ce,[X]:!0})),await c(K1({staffId:X,clinicId:e})).unwrap(),v(ce=>{const{[X]:ae,...ne}=ce;return ne}),a?.("Deleted","Staff removed successfully"),c(ds())}catch(ce){v(ae=>{const{[X]:ne,...G}=ae;return G}),s?.("Delete Failed",ce?.message||"Could not delete staff")}finally{J()}},children:"Delete"})]})]})})})},V=async X=>{const J=R(X);if(!J||!e){s?.("Error","Staff ID or Clinic ID missing");return}const ce=j[J]||{},ae=X._orig||X,ne={staffId:J,clinicId:e,name:(ce.name??ae.name??"").trim(),phone:(ce.phone??ae.phone??"").trim(),role:(ce.role??ae.role??"receptionist").toLowerCase(),permissions:{canViewPatients:!!ce.permissions?.viewPatients,canEditBills:!!ce.permissions?.editBills,canIssueCertificates:!!ce.permissions?.issueCertificates,canPrintPrescription:!!ce.permissions?.printPrescription}};if(!ne.phone||ne.phone.length!==10){E(ee=>({...ee,[J]:"Phone number must be exactly 10 digits."})),s?.("Invalid Phone","Please enter a valid 10-digit phone number");return}if(!(ne.name!==(ae.name??"")||ne.phone!==(ae.phone??"")||ne.role!==(ae.role??"receptionist")||ne.permissions.canViewPatients!==!!ae.permissions?.canViewPatients||ne.permissions.canEditBills!==!!ae.permissions?.canEditBills||ne.permissions.canIssueCertificates!==!!ae.permissions?.canIssueCertificates||ne.permissions.canPrintPrescription!==!!ae.permissions?.canPrintPrescription)){a?.("No Changes","Everything is up to date");return}try{const ue=(await c(G1(ne)).unwrap()).staff;A(Ae=>({...Ae,[J]:{...Ae[J],name:ue.name,phone:ue.phone,role:ue.role,permissions:{viewPatients:ue.permissions.canViewPatients,editBills:ue.permissions.canEditBills,issueCertificates:ue.permissions.canIssueCertificates,printPrescription:ue.permissions?.canPrintPrescription??!1},_orig:ue}})),E(Ae=>{const{[J]:Ie,...De}=Ae;return De}),a?.("Success","Staff updated successfully!"),$(null),c(ds())}catch(ee){console.error("Update failed:",ee),s?.("Update Failed",ee?.message||ee||"Staff not found or access denied")}},Z=async X=>{const J=R(X)||`temp-${Date.now()}`,ce=j[J]||{};if(!ce.name?.trim()){s?.("Required","Name is mandatory");return}if(!ce.phone||ce.phone.length!==10){E(ne=>({...ne,[J]:"Phone number must be exactly 10 digits."})),s?.("Invalid Phone","Please enter a valid 10-digit phone number");return}v(ne=>({...ne,[J]:!0}));const ae={clinicId:e,name:ce.name.trim(),phone:ce.phone.trim(),role:(ce.role||"receptionist").toLowerCase(),permissions:{canViewPatients:!!ce.permissions?.viewPatients,canEditBills:!!ce.permissions?.editBills,canIssueCertificates:!!ce.permissions?.issueCertificates,canPrintPrescription:!!ce.permissions?.printPrescription}};try{const ne=await c(Y1(ae)).unwrap(),{staff:G,autoPassword:ee}=ne;ee&&C(ue=>({...ue,[G._id]:ee})),E(ue=>{const{[J]:Ae,...Ie}=ue;return Ie}),a?.("Success","Staff account created successfully."),n&&G?._id&&(n(J,"id",G._id),n(J,"name",G.name),n(J,"phone",G.phone),n(J,"role",G.role),r(J,"viewPatients",G.permissions.canViewPatients),r(J,"editBills",G.permissions.canEditBills),r(J,"issueCertificates",G.permissions.canIssueCertificates)),$(null),c(ds())}catch(ne){s?.(ne||"Could not add staff")}finally{v(ne=>({...ne,[J]:!1}))}},re=async X=>{if(!X||!e){s?.("Error","Missing staff or clinic ID");return}try{v(J=>({...J,[X]:!0})),await c(X1({staffId:X,clinicId:e})).unwrap(),v(J=>{const{[X]:ce,...ae}=J;return ae}),a?.("Suspended","Staff has been suspended!"),c(ds())}catch(J){v(ce=>{const{[X]:ae,...ne}=ce;return ne}),s?.("Failed",J?.message||"Unable to suspend staff")}},me=async X=>{if(!X||!e){s?.("Error","Missing staff or clinic ID");return}try{v(J=>({...J,[X]:!0})),await c(Q1({staffId:X,clinicId:e})).unwrap(),v(J=>{const{[X]:ce,...ae}=J;return ae}),a?.("Reactivated","Staff has been reactivated successfully!"),c(ds())}catch(J){v(ce=>{const{[X]:ae,...ne}=ce;return ne}),s?.("Failed",J?.message||"Unable to reactivate staff")}};w.useEffect(()=>{const X=()=>O(null);return window.addEventListener("click",X),()=>window.removeEventListener("click",X)},[]);const ge=async()=>{if(!P)return;if((j[P]||{})._id){const J=L.find(ce=>R(ce)===P);if(!J){s?.("Error","Original staff data not found for update");return}await V(J)}else await Z({id:P})},Pe=w.useMemo(()=>{if(!P)return{};const X=j[P]?.permissions||{};if(Object.keys(X).length>0)return X;const J=L.find(ce=>R(ce)===P)||{};return{viewPatients:!!J.permissions?.canViewPatients||!!J.permissions?.viewPatients||!1,editBills:!!J.permissions?.canEditBills||!!J.permissions?.editBills||!1,issueCertificates:!!J.permissions?.canIssueCertificates||!!J.permissions?.issueCertificates||!1,printPrescription:!!J.permissions?.canPrintPrescription||!!J.permissions?.printPrescription||!1}},[P,j,L]);return o.jsxs(o.Fragment,{children:[o.jsx("style",{jsx:!0,children:`
/* ========== Base ========== */
* {
  box-sizing: border-box;
}

/* ========== Heading ========== */
.section-title {
  font-size: 1.8rem;
  font-weight: 700;
  color: #0f5f6a;
}

/* ========== Top Row ========== */
.top-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 16px;
  flex-wrap: wrap;
  gap: 10px;
}

/* ========== Buttons ========== */
.button {
  padding: 10px 16px;
  border-radius: 10px;
  border: none;
  cursor: pointer;
  font-weight: 700;
  font-size: 14px;
  color: #fff;
  background: linear-gradient(135deg, #186476, #0f5f6a);
  transition: all 0.2s ease;
}

.button:hover {
  transform: translateY(-1px);
  box-shadow: 0 8px 18px rgba(15, 95, 106, 0.25);
}

.button.secondary {
  background: #f2f8fa;
  color: #186476;
  border: 1px solid #d7e9ec;
}

.button.secondary:hover {
  background: #e8f3f6;
  box-shadow: none;
}

/* ========== Form Card ========== */
.form-area {
  background: #ffffff;
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 22px;
  border: 1px solid #e3f1f6;
  box-shadow: 0 10px 28px rgba(0,0,0,0.04);
}

/* ========== Form Grid ========== */
.form-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 16px;
}

.label {
  font-size: 13px;
  font-weight: 700;
  color: #0f5f6a;
  margin-bottom: 6px;
}

.input,
.select {
  width: 100%;
  padding: 12px;
  border-radius: 10px;
  border: 1px solid #d7e9ec;
  background: #fbffff;
  font-size: 14px;
  transition: 0.2s;
}

.input:focus,
.select:focus {
  outline: none;
  border-color: #186476;
  box-shadow: 0 0 0 3px rgba(24, 100, 118, 0.15);
}

/* ========== Permissions ========== */
.permissions {
  display: flex;
  flex-wrap: wrap;
  gap: 14px;
  padding: 14px;
  border-radius: 12px;
  background: #f7fbfd;
  border: 1px solid #dbeaf0;
}

.permissions label {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 13px;
  font-weight: 600;
  color: #0f5f6a;
  cursor: pointer;
  white-space: nowrap;
}

/* ========== Table ========== */
.table-wrapper {
  background: #fff;
  border-radius: 16px;
  border: 1px solid #e6f2f7;
  box-shadow: 0 10px 26px rgba(0,0,0,0.04);
  overflow: visible;
}

table {
  width: 100%;
  border-collapse: collapse;
  min-width: 720px;
}

thead tr {
  background: #f3fafc;
}

th {
  padding: 14px 16px;
  text-align: left;
  font-size: 13px;
  font-weight: 700;
  color: #0f5f6a;
}

td {
  padding: 14px 16px;
  font-size: 14px;
  border-bottom: 1px solid #f0f6f8;
}

tbody tr:hover {
  background: #f9fdff;
}

/* ========== Actions ========== */
.actions {
  display: flex;
  justify-content: center;
  gap: 8px;
}

.kebab {
  background: transparent;
  border: none;
  font-size: 20px;
  cursor: pointer;
  padding: 4px 8px;
  color: #186476;
}

/* ========== Action Menu ========== */
.action-menu button {
  width: 100%;
  padding: 12px 14px;
  border: none;
  background: transparent;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 10px;
  font-weight: 600;
  font-size: 14px;
}

.action-menu button:hover {
  background: #e9f6fb;
}

/* ========== Confirm Dialog ========== */
.confirm-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.45);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10000;
}

.confirm-card {
  background: #fff;
  border-radius: 16px;
  padding: 22px;
  width: 90%;
  max-width: 420px;
  box-shadow: 0 18px 40px rgba(0,0,0,0.25);
}

.confirm-header h3 {
  margin: 0;
  color: #0f5f6a;
}

.confirm-text {
  margin: 14px 0 20px;
  color: #334155;
  font-size: 14px;
}

.confirm-text span {
  color: #dc2626;
  font-weight: 600;
}

.confirm-actions {
  display: flex;
  justify-content: flex-end;
  gap: 10px;
}

.btn-outline {
  padding: 10px 14px;
  border-radius: 8px;
  border: 1px solid #d1d5db;
  background: #fff;
  cursor: pointer;
  font-weight: 600;
}

.btn-danger {
  padding: 10px 16px;
  border-radius: 8px;
  border: none;
  background: #dc2626;
  color: #fff;
  font-weight: 700;
  cursor: pointer;
}

/* ========== Responsive ========== */
@media (max-width: 900px) {
  .form-grid {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 560px) {
  table {
    min-width: 100%;
  }
  thead {
    display: none;
  }
  tbody tr {
    display: block;
    border: 1px solid #eef7f8;
    border-radius: 14px;
    padding: 12px;
    margin-bottom: 14px;
  }
  tbody td {
    display: flex;
    justify-content: space-between;
    padding: 8px 0;
  }
  tbody td::before {
    content: attr(data-label);
    font-weight: 700;
    color: #0f5f6a;
  }
}
`}),o.jsxs("div",{className:"top-row",children:[o.jsx("h2",{className:"section-title",children:"Staff Management"}),o.jsx("div",{style:{display:"flex",gap:8},children:o.jsx("button",{className:"button",onClick:q,children:"+ Add New Staff"})})]}),p&&o.jsx("div",{style:{marginBottom:10,padding:10,background:"#e6ffed",color:"#2e7d32",borderRadius:6},children:p}),f&&o.jsx("div",{style:{marginBottom:10,padding:10,background:"#ffe6e6",color:"#d32f2f",borderRadius:6},children:f}),P&&o.jsxs("div",{className:"form-area",role:"region","aria-label":"Add or edit staff",children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:10},children:[o.jsx("strong",{style:{fontSize:16},children:j[P]?._id?"Edit Staff":"Add New Staff"}),o.jsx("div",{style:{display:"flex",gap:8},children:o.jsx("button",{className:"button secondary",onClick:()=>$(null),children:"Close"})})]}),o.jsxs("div",{className:"form-grid",children:[o.jsxs("div",{children:[o.jsx("label",{className:"label",children:"Name"}),o.jsx("input",{type:"text",className:"input",value:j[P]?.name??"",onChange:X=>{const J=X.target.value;/^[A-Za-z\s]*$/.test(J)&&A(ce=>({...ce,[P]:{...ce[P]||{},name:J}}))}})]}),o.jsx("div",{style:{display:"flex",alignItems:"center"},children:o.jsxs("div",{style:{flex:1,minWidth:0},children:[o.jsx("label",{className:"label",children:"Password"}),o.jsx("input",{className:"input",readOnly:!0,value:(()=>{const X=P,J=L.find(ce=>R(ce)===X)||{};return b[X]||J.autoPassword||"Password will be generated after submission"})()})]})}),o.jsxs("div",{children:[o.jsx("label",{className:"label",children:"Phone"}),o.jsx("input",{type:"number",className:"input",value:j[P]?.phone??"",onChange:X=>{const J=X.target.value.replace(/\D/g,"").slice(0,10);A(ce=>({...ce,[P]:{...ce[P]||{},phone:J}})),E(ce=>{if(!ce[P])return ce;const{[P]:ae,...ne}=ce;return ne})}}),k[P]&&o.jsx("div",{style:{color:"#d32f2f",marginTop:6},children:k[P]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"label",children:"Role"}),o.jsx("input",{type:"text",className:"input",placeholder:"Enter role (e.g., Receptionist, Nurse, etc.)",value:j[P]?.role??"",onChange:X=>A(J=>({...J,[P]:{...J[P]||{},role:X.target.value}}))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"label",children:"Permissions"}),o.jsx("div",{className:"permissions",children:["viewPatients","editBills","issueCertificates","printPrescription"].map(X=>{const J=j[P]?.permissions?.[X],ce=Pe?.[X]??!1,ae=typeof J<"u"?!!J:!!ce;return o.jsxs("label",{style:{fontSize:14},children:[o.jsx("input",{type:"checkbox",checked:ae,onChange:ne=>A(G=>({...G,[P]:{...G[P]||{},permissions:{...G[P]?.permissions||Pe||{},[X]:ne.target.checked}}}))})," ",X==="viewPatients"&&"Patient Management",X==="editBills"&&"Bill Management",X==="issueCertificates"&&"Print Certificates",X==="printPrescription"&&"Print Prescription"]},X)})})]})]}),o.jsxs("div",{style:{marginTop:12,display:"flex",gap:8},children:[o.jsx("button",{className:"button",onClick:ge,disabled:g[P]||d,children:j[P]?._id?g[P]?"Updating...":"Save Changes":g[P]?"Saving...":"Add Staff"}),o.jsx("button",{className:"button secondary",onClick:()=>$(null),children:"Cancel"})]})]}),o.jsx("div",{className:"table-wrapper",role:"table","aria-label":"Staff list",children:o.jsxs("table",{children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Name"}),o.jsx("th",{children:"Phone"}),o.jsx("th",{children:"Role"}),o.jsx("th",{children:"Permissions"}),o.jsx("th",{children:"Status"}),o.jsx("th",{style:{textAlign:"center"},children:"Actions"})]})}),o.jsxs("tbody",{children:[L.length===0&&!d&&o.jsx("tr",{children:o.jsx("td",{colSpan:"5",style:{textAlign:"center",padding:18},children:"No staff found."})}),L.map(X=>{const J=R(X);if(!J)return null;const ce=W(H(X));return o.jsxs("tr",{children:[o.jsx("td",{"data-label":"Name",children:X.name||""}),o.jsx("td",{"data-label":"Phone",children:X.phone||""}),o.jsx("td",{"data-label":"Role",children:X.role||"receptionist"}),o.jsx("td",{"data-label":"Permissions",children:ce}),o.jsx("td",{"data-label":"Status",children:X.isSuspended||X.suspended||X.status==="suspended"?"Suspended":X.isActive===!1?"Deactivated":"Active"}),o.jsxs("td",{"data-label":"Actions",style:{textAlign:"center",position:"relative"},children:[o.jsx("button",{className:"kebab",onClick:ae=>{ae.stopPropagation();const ne=ae.target.getBoundingClientRect();D({x:ne.right-160,y:ne.bottom+6}),O(F===J?null:J)},children:""}),F===J&&o.jsxs("div",{className:"action-menu",style:{position:"fixed",top:_.y,left:_.x,minWidth:170,background:"#fff",borderRadius:10,boxShadow:"0 12px 28px rgba(0,0,0,.15)",zIndex:9999,overflow:"hidden"},children:[o.jsxs("button",{onClick:()=>te(X),children:[o.jsx(Fb,{})," Edit"]}),o.jsxs("button",{onClick:()=>K(J),children:[o.jsx(Xce,{})," Reset Password"]}),o.jsxs("button",{onClick:()=>{const ae=fe(X);ae.includes("generated")?s?.("No Password","Password not available yet"):(navigator.clipboard.writeText(ae),a?.("Copied","Password copied!"))},children:[o.jsx(Mce,{})," Copy Password"]}),X.isSuspended||X.suspended||X.status==="suspended"||X.isActive===!1?o.jsxs("button",{style:{color:"#10b981"},onClick:()=>me(J),children:[o.jsx(hc,{})," Reactivate"]}):o.jsxs("button",{style:{color:"#0f7c92"},onClick:()=>re(J),children:[o.jsx(kce,{})," Suspend"]}),o.jsxs("button",{style:{color:"#dc2626"},onClick:()=>z(J),children:[o.jsx(Im,{})," Delete"]})]})]})]},J)})]})]})})]})},W9e=()=>{const e=wt(),{currentClinic:t}=qe(M=>M.clinic),{user:n}=qe(M=>M.auth),{expenses:r,message:i,error:a,loading:s}=qe(M=>M.expense),c=t?._id||t?.id,d=n?._id||n?.id,[f,p]=w.useState({category:"",item:"",amount:"",date:""}),[m,g]=w.useState(""),[v,b]=w.useState(null),[C,j]=w.useState({type:"",description:"",amount:"",date:""}),A=r.reduce((M,H)=>{const W=H.type||"Miscellaneous";return M[W]||(M[W]=[]),M[W].push(H),M},{});w.useEffect(()=>{c&&e(sv(c))},[c,e]);const k=M=>/^[A-Za-z ]+$/.test(M),E=M=>/^[0-9]+(\.[0-9]+)?$/.test(M),P=M=>{const{name:H,value:W}=M.target;if(H==="item"&&W&&!k(W)){Ee.warn("Item name should contain only letters and spaces.");return}if(H==="amount"&&W&&!E(W)){Ee.warn("Amount must be a valid number.");return}p(fe=>({...fe,[H]:W}))},$=async()=>{const{category:M,item:H,amount:W,date:fe}=f;if(!M||!H||!W||!fe){Ee.warn("Please fill in all fields!");return}const q=M==="Other",te=q?m.trim():null;if(q&&!te){Ee.warn("Please enter custom category!");return}const K={type:q?"Other":M,...q&&{customType:te},description:H,amount:parseFloat(W),date:fe};try{await e(ov({clinicId:c,doctorId:d,expenseData:K})),Ee.success("Expense added successfully"),p({category:"",item:"",amount:"",date:""}),g("")}catch{Ee.error("Failed to add expense")}},F=M=>{b(M._id),j({type:M.type==="Other"?M.customType:M.type,description:M.description,amount:M.amount,date:M.date.split("T")[0]})},O=M=>{const{name:H,value:W}=M.target;j(fe=>({...fe,[H]:W}))},_=async M=>{const{type:H,description:W,amount:fe,date:q}=C;if(!H||!W||!fe||!q){Ee.warn("Please fill all fields.");return}r.find(K=>K._id===M),await e(lv({clinicId:c,expenseId:M,updatedData:{description:W,amount:fe,date:q,type:"Other",customType:H}})),b(null)},D=M=>{$p.confirmAlert({customUI:({onClose:H})=>o.jsx("div",{className:"confirm-overlay",children:o.jsxs("div",{className:"confirm-card",children:[o.jsx("div",{className:"confirm-header",children:o.jsx("h3",{children:"Delete Expense"})}),o.jsxs("p",{className:"confirm-text",children:["Are you sure you want to delete this expense?",o.jsx("br",{}),o.jsx("span",{children:"This action cannot be undone."})]}),o.jsxs("div",{className:"confirm-actions",children:[o.jsx("button",{className:"btn-outline",onClick:H,children:"Cancel"}),o.jsx("button",{className:"btn-danger",onClick:async()=>{try{await e(cv({clinicId:c,expenseId:M})).unwrap(),showDialog("Deleted","Expense deleted successfully","success")}catch(W){showDialog("Error",W?.message||"Failed to delete expense","error")}finally{H()}},children:"Delete"})]})]})})})},L=M=>A[M]?.reduce((H,W)=>H+Number(W.amount||0),0)||0,R=["Other","Staff Expenses","Clinic Overheads","Medical Supplies","Maintenance","Admin & Stationery","Waste & Compliance","Marketing","Miscellaneous"];return o.jsxs("div",{className:"expense-wrapper",children:[o.jsxs("div",{className:"expense-container",children:[o.jsxs("header",{className:"expense-header",children:[o.jsx("h1",{children:"Clinic Expense Management"}),o.jsx("p",{children:"Track and manage all clinic expenses in one place"})]}),s&&o.jsxs("div",{className:"message loading",children:[o.jsx("span",{className:"spinner"})," Loading expenses..."]}),i&&o.jsx("div",{className:"message success",children:i}),a&&o.jsx("div",{className:"message error",children:a}),o.jsxs("div",{className:"add-expense-card",children:[o.jsx("h2",{children:"Add New Expense"}),o.jsxs("div",{className:"form-grid",children:[o.jsx("div",{className:"input-group",children:o.jsxs("select",{name:"category",value:f.category,onChange:P,className:"select-input",children:[o.jsx("option",{value:"",children:"Select Category"}),R.map(M=>o.jsx("option",{value:M,children:M},M))]})}),f.category==="Other"&&o.jsx("div",{className:"input-group",children:o.jsx("input",{type:"text",placeholder:"Enter Custom Category",value:m,onChange:M=>g(M.target.value)})}),o.jsx("div",{className:"input-group",children:o.jsx("input",{type:"text",name:"item",placeholder:"Expense Item",value:f.item,onChange:P})}),o.jsx("div",{className:"input-group",children:o.jsx("input",{type:"number",name:"amount",placeholder:"Amount ()",value:f.amount,onChange:P})}),o.jsx("div",{className:"input-group",children:o.jsx("input",{type:"date",name:"date",value:f.date,onChange:P})}),o.jsx("button",{className:"btn add-btn",onClick:$,children:"Add Expense"})]})]}),o.jsx("div",{className:"expense-categories",children:Object.keys(A).map(M=>{const H=A[M],W=L(M);return o.jsxs("div",{className:"category-card",children:[o.jsxs("div",{className:"category-header",children:[o.jsx("h3",{children:M}),o.jsxs("div",{className:"total-badge",children:["",W.toFixed(2)]})]}),o.jsx("div",{className:"table-container",children:o.jsxs("table",{className:"expense-table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Item"}),o.jsx("th",{children:"Amount"}),o.jsx("th",{children:"Date"}),o.jsx("th",{children:"Actions"})]})}),o.jsx("tbody",{children:H.map(fe=>o.jsx("tr",{children:v===fe._id?o.jsxs(o.Fragment,{children:[o.jsx("td",{children:o.jsx("input",{type:"text",name:"description",value:C.description,onChange:O})}),o.jsx("td",{children:o.jsx("input",{type:"number",name:"amount",value:C.amount,onChange:O})}),o.jsx("td",{children:o.jsx("input",{type:"date",name:"date",value:C.date,onChange:O})}),o.jsxs("td",{className:"action-buttons",children:[o.jsx("button",{className:"btn save-btn",onClick:()=>_(fe._id),children:"Save"}),o.jsx("button",{className:"btn cancel-btn",onClick:()=>b(null),children:"Cancel"})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("td",{children:fe.description}),o.jsxs("td",{children:["",fe.amount]}),o.jsx("td",{children:new Date(fe.date).toLocaleDateString("en-IN")}),o.jsxs("td",{className:"action-buttons",children:[o.jsx("button",{className:"btn edit-btn",onClick:()=>F(fe),children:"Edit"}),o.jsx("button",{className:"btn delete-btn",onClick:()=>D(fe._id),children:"Delete"})]})]})},fe._id))})]})})]},M)})})]}),o.jsx("style",{jsx:!0,children:`
        .expense-wrapper {
          min-height: 100vh;
          background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
          padding: 2rem 1rem;
          font-family: 'Poppins', 'Segoe UI', Roboto, sans-serif;
        }

        .expense-container {
          max-width: 1200px;
          margin: 0 auto;
        }

        .expense-header {
          text-align: center;
          margin-bottom: 2.5rem;
        }

        .expense-header h1 {
          font-size: 2.2rem;
          font-weight: 700;
          color: #1e293b;
          margin: 0 0 0.5rem 0;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 0.5rem;
        }

        .expense-header p {
          color: #64748b;
          font-size: 1rem;
          margin: 0;
        }

        .message {
          padding: 0.75rem 1rem;
          border-radius: 12px;
          margin-bottom: 1.5rem;
          font-weight: 500;
          text-align: center;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 0.5rem;
        }

        .message.loading { background: #dbeafe; color: #1d4ed8; }
        .message.success { background: #dcfce7; color: #166534; }
        .message.error { background: #fee2e2; color: #991b1b; }

        .spinner {
          width: 16px;
          height: 16px;
          border: 2px solid currentColor;
          border-top-color: transparent;
          border-radius: 50%;
          animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
          to { transform: rotate(360deg); }
        }

        /* Add Expense Card */
        .add-expense-card {
          background: #ffffff;
          border-radius: 18px;
          padding: 1.75rem;
          margin-bottom: 2rem;
          box-shadow: 0 12px 30px rgba(0,0,0,0.08);
          border: 1px solid #e2e8f0;
        }

        .add-expense-card h2 {
          font-size: 1.35rem;
          color: #2563eb;
          margin: 0 0 1.25rem 0;
          font-weight: 600;
          display: flex;
          align-items: center;
          gap: 0.5rem;
        }

        .form-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
          gap: 1rem;
          align-items: end;
        }

        .input-group {
          display: flex;
          flex-direction: column;
          gap: 0.5rem;
        }

        .input-group input,
        .input-group select {
          padding: 0.75rem 1rem;
          border: 1.8px solid #cbd5e1;
          border-radius: 10px;
          background: #fafcfd;
          font-size: 0.95rem;
          transition: all 0.25s ease;
          width: 100%;
          box-sizing: border-box;
        }

        .input-group input:focus,
        .input-group select:focus {
          outline: none;
          border-color: #2563eb;
          background: #ffffff;
          box-shadow: 0 0 0 4px rgba(37,99,235,0.15);
        }

        .select-input {
          appearance: none;
          background-image: url("data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%236b7280%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E");
          background-repeat: no-repeat;
          background-position: right 0.7rem top 50%;
          background-size: 0.65rem auto;
        }

        /* Category Cards */
        .expense-categories {
          display: grid;
          gap: 1.75rem;
        }

        .category-card {
          background: #ffffff;
          border-radius: 18px;
          overflow: hidden;
          box-shadow: 0 8px 25px rgba(0,0,0,0.06);
          border: 1px solid #e2e8f0;
          transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .category-card:hover {
          transform: translateY(-2px);
          box-shadow: 0 16px 35px rgba(0,0,0,0.1);
        }

        .category-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 1rem 1.5rem;
          background: linear-gradient(135deg, #f1f5f9, #e2e8f0);
          border-bottom: 1px solid #cbd5e1;
        }

        .category-header h3 {
          margin: 0;
          font-size: 1.1rem;
          font-weight: 600;
          color: #1e293b;
          display: flex;
          align-items: center;
          gap: 0.4rem;
        }

        .total-badge {
          background: #2563eb;
          color: white;
          font-weight: 600;
          font-size: 0.9rem;
          padding: 0.35rem 0.75rem;
          border-radius: 20px;
          min-width: 80px;
          text-align: center;
        }

        .table-container {
          overflow-x: auto;
        }

        .expense-table {
          width: 100%;
          border-collapse: collapse;
          font-size: 0.9rem;
        }

        .expense-table th {
          background: #f8fafc;
          color: #475569;
          font-weight: 600;
          text-align: left;
          padding: 0.75rem 1rem;
          border-bottom: 2px solid #e2e8f0;
        }

        .expense-table td {
          padding: 0.75rem 1rem;
          border-bottom: 1px solid #e2e8f0;
          vertical-align: middle;
        }

        .expense-table tr:hover {
          background: #f8fafc;
        }

        .item-name {
          font-weight: 500;
          color: #1e293b;
        }

        .amount {
          font-weight: 600;
          color: #dc2626;
        }

        .date {
          color: #64748b;
          font-size: 0.85rem;
        }

        .empty-state {
          text-align: center;
          color: #94a3b8;
          font-style: italic;
          padding: 1.5rem;
        }

        .action-buttons {
          display: flex;
          gap: 0.5rem;
        }

        .btn {
          padding: 0.4rem 0.75rem;
          border: none;
          border-radius: 8px;
          font-size: 0.8rem;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.2s ease;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 0.3rem;
          min-width: 60px;
        }

        .add-btn {
          background: linear-gradient(135deg, #10b981, #059669);
          color: white;
          padding: 0.75rem 1rem;
          font-size: 0.95rem;
          font-weight: 600;
        }

        .add-btn:hover {
          background: linear-gradient(135deg, #059669, #047857);
          transform: translateY(-1px);
        }

        .edit-btn {
          background: #3b82f6;
          color: white;
        }

        .edit-btn:hover {
          background: #2563eb;
        }

        .delete-btn {
          background: #ef4444;
          color: white;
        }

        .delete-btn:hover {
          background: #dc2626;
        }

        .save-btn {
          background: #10b981;
          color: white;
        }

        .save-btn:hover {
          background: #059669;
        }

        .cancel-btn {
          background: #94a3b8;
          color: white;
        }

        .cancel-btn:hover {
          background: #64748b;
        }

        /* Responsive */
        @media (max-width: 768px) {
          .expense-header h1 {
            font-size: 1.75rem;
          }

          .form-grid {
            grid-template-columns: 1fr;
          }

          .add-btn {
            width: 100%;
          }

          .category-header {
            flex-direction: column;
            align-items: flex-start;
            gap: 0.5rem;
          }

          .total-badge {
            align-self: flex-end;
          }

          .expense-table th,
          .expense-table td {
            padding: 0.5rem;
            font-size: 0.85rem;
          }

          .action-buttons {
            flex-direction: column;
          }

          .btn {
            font-size: 0.75rem;
            padding: 0.35rem 0.5rem;
          }
        }

        @media (max-width: 480px) {
          .expense-wrapper {
            padding: 1rem;
          }

          .add-expense-card,
          .category-card {
            padding: 1.25rem;
          }

          .expense-header h1 {
            font-size: 1.5rem;
          }
        }
      `})]})},G9e=()=>{const e=wt(),{currentClinic:t}=qe(_=>_.clinic),{user:n}=qe(_=>_.auth),{loading:r,message:i,error:a,contacts:s}=qe(_=>_.support),c=(_="")=>_.replace(/([A-Z])/g," $1").trim(),d=["MedicalAndLegal","Operations","Supplies","WasteAndCompliance","Communication","Other"],[f,p]=w.useState({section:"",customCategory:"",role:"",name:"",phone:""}),[m,g]=w.useState(null),[v,b]=w.useState({role:"",name:"",phone:""});w.useEffect(()=>{t?._id&&e(xm(t._id))},[e,t]);const C=_=>{const{name:D,value:L}=_.target;D==="role"&&!/^[A-Za-z\s]*$/.test(L)||D==="phone"&&(!/^\d*$/.test(L)||L.length>10)||D==="name"&&!/^[A-Za-z\s]*$/.test(L)||p(R=>({...R,[D]:L}))},j=async()=>{const _=(f.section||"").trim(),D=(f.customCategory||"").trim(),L=(f.role||"").trim(),R=(f.name||"").trim(),M=(f.phone||"").trim();if(!_||!L||!R||!M){Ee.warn("Please fill all required fields.");return}if(_==="Other"&&!D){Ee.warn("Custom category is required.");return}if(!/^[A-Za-z\s]+$/.test(R)){Ee.error("Name should contain only letters and spaces.");return}if(!/^[A-Za-z0-9\s\-_.]+$/.test(L)){Ee.error("Please enter a valid role.");return}if(!/^\d{10}$/.test(M)){Ee.error("Phone number must be exactly 10 digits.");return}try{await e(uv({clinicId:t?._id,doctorId:n?._id,category:_,customCategory:_==="Other"?D:void 0,role:L,name:R,phone:M})).unwrap(),Ee.success("Contact added successfully."),p({section:"",customCategory:"",role:"",name:"",phone:""})}catch(H){console.error(" Add Contact Failed:",H),Ee.error(H?.message||"Failed to add contact. Please try again.")}},A=_=>{g(_._id),b({role:_.role,name:_.name,phone:_.phone})},k=_=>{const{name:D,value:L}=_.target;b(R=>({...R,[D]:L}))},E=async _=>{try{await e(b8({clinicId:t._id,contactId:_,updatedData:v})).unwrap(),g(null),e(xm(t._id)),Ee.success("Updated Succesfully")}catch(D){console.error(" Update Contact Failed:",D)}},P=_=>{$p.confirmAlert({customUI:({onClose:D})=>o.jsx("div",{className:"confirm-overlay",children:o.jsxs("div",{className:"confirm-card",children:[o.jsx("div",{className:"confirm-header",children:o.jsx("h3",{children:"Delete Contact"})}),o.jsxs("p",{className:"confirm-text",children:["Are you sure you want to delete this contact?",o.jsx("br",{}),o.jsx("span",{children:"This action cannot be undone."})]}),o.jsxs("div",{className:"confirm-actions",children:[o.jsx("button",{className:"btn-outline",onClick:D,children:"Cancel"}),o.jsx("button",{className:"btn-danger",onClick:async()=>{try{await e(x8({clinicId:t._id,contactId:_})).unwrap(),showDialog("Deleted","Contact deleted successfully","success")}catch(L){showDialog("Error",L?.message||"Failed to delete contact","error")}finally{D()}},children:"Delete"})]})]})})})},$=s.reduce((_,D)=>{const L=D.category||"Uncategorized";return _[L]||(_[L]=[]),_[L].push(D),_},{}),F=Object.keys($).filter(_=>!d.includes(_)),O=[...d,...F];return o.jsxs("div",{className:"directory-page",children:[o.jsx("h1",{className:"title",children:"Clinic Emergency & Support Directory"}),o.jsx("p",{className:"subtitle",children:"Manage and view critical support contacts for your clinic."}),r&&o.jsx("p",{className:"loading",children:"Loading..."}),i&&o.jsx("p",{className:"message success",children:i}),a&&o.jsx("p",{className:"message error",children:a}),o.jsxs("div",{className:"form-card",children:[o.jsx("h2",{children:"Add New Contact"}),o.jsxs("div",{className:"form-grid",children:[o.jsxs("select",{name:"section",value:f.section,onChange:C,children:[o.jsx("option",{value:"",children:"Select Category"}),d.map(_=>o.jsx("option",{value:_,children:c(_)},_))]}),f.section==="Other"&&o.jsx("input",{type:"text",name:"customCategory",placeholder:"Enter custom category",value:f.customCategory,onChange:C}),o.jsx("input",{type:"text",name:"role",placeholder:"Role",value:f.role,onChange:C}),o.jsx("input",{type:"text",name:"name",placeholder:"Name",value:f.name,onChange:C}),o.jsx("input",{type:"tel",name:"phone",placeholder:"Phone Number",value:f.phone,onChange:C}),o.jsx("button",{className:"btn add",onClick:j,children:"save"})]})]}),o.jsx("div",{className:"contact-section",children:O.map(_=>{const D=$[_]||[];return o.jsxs("div",{className:"contact-box",children:[o.jsxs("div",{className:"box-header",children:[o.jsx("h3",{children:c(_)}),o.jsx("span",{className:"badge",children:D.length})]}),o.jsx("div",{className:"table-wrapper",children:o.jsxs("table",{children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Role"}),o.jsx("th",{children:"Name"}),o.jsx("th",{children:"Phone"}),o.jsx("th",{children:"Action"})]})}),o.jsx("tbody",{children:D.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:"4",className:"empty",children:"No contacts yet"})}):D.map(L=>o.jsx("tr",{children:m===L._id?o.jsxs(o.Fragment,{children:[o.jsx("td",{children:o.jsx("input",{name:"role",value:v.role,onChange:k})}),o.jsx("td",{children:o.jsx("input",{name:"name",value:v.name,onChange:k})}),o.jsx("td",{children:o.jsx("input",{type:"tel",name:"phone",value:v.phone,onChange:k})}),o.jsxs("td",{className:"actions",children:[o.jsx("button",{className:"btn save",onClick:()=>E(L._id),children:"Save"}),o.jsx("button",{className:"btn cancel",onClick:()=>g(null),children:"Cancel"})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("td",{children:L.role}),o.jsx("td",{children:L.name}),o.jsx("td",{children:L.phone}),o.jsxs("td",{className:"actions",children:[o.jsx("button",{className:"btn edit",onClick:()=>A(L),children:"Edit"}),o.jsx("button",{className:"btn delete",onClick:()=>P(L._id),children:"Delete"})]})]})},L._id))})]})})]},_)})}),o.jsx("style",{children:`
        .directory-page {
          max-width: 1300px;
          margin: 40px auto;
          background: #f9fafb;
          padding: 30px;
          border-radius: 16px;
          font-family: "Poppins", sans-serif;
        }

        .title {
          text-align: center;
          color: #2b6cb0;
          font-weight: 700;
          font-size: 1.8rem;
          margin-bottom: 8px;
        }

        .subtitle {
          text-align: center;
          color: #4a5568;
          margin-bottom: 30px;
        }

        .form-card {
          background: #fff;
          border-radius: 12px;
          padding: 20px 25px;
          box-shadow: 0 3px 10px rgba(0,0,0,0.08);
          margin-bottom: 40px;
        }

        .form-card h2 {
          color: #2d3748;
          font-size: 1.2rem;
          margin-bottom: 15px;
        }

        .form-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
          gap: 12px;
        }

        .form-grid input, .form-grid select {
          padding: 10px 12px;
          border: 1px solid #cbd5e0;
          border-radius: 8px;
          font-size: 14px;
          transition: 0.2s;
        }

        .form-grid input:focus, .form-grid select:focus {
          border-color: #3182ce;
          box-shadow: 0 0 0 3px rgba(49,130,206,0.1);
        }

        .btn {
          border: none;
          border-radius: 8px;
          padding: 8px 10px;
          font-size: 14px;
          cursor: pointer;
          transition: 0.3s;
          font-weight: 500;
        }

        .btn.add {
          background: #3182ce;
          color: #fff;
        }
        .btn.add:hover { background: #2b6cb0; }

        .contact-section {
          display: flex;
          flex-direction: column;
          gap: 24px;
        }

        .contact-box {
          background: #fff;
          border-radius: 12px;
          padding: 20px;
          box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .box-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          border-bottom: 2px solid #e2e8f0;
          margin-bottom: 12px;
          padding-bottom: 6px;
        }

        .box-header h3 {
          font-size: 1rem;
          color: #2b6cb0;
          font-weight: 600;
        }

        .badge {
          background: #e2e8f0;
          border-radius: 20px;
          padding: 4px 10px;
          color: #2d3748;
          font-weight: 600;
        }

        .table-wrapper {
          overflow-x: auto;
        }

        table {
          width: 100%;
          border-collapse: collapse;
          margin-top: 10px;
          table-layout: fixed;
        }

        th, td {
          padding: 10px;
          text-align: left;
          border-bottom: 1px solid #edf2f7;
          font-size: 0.9rem;
          vertical-align: middle;
        }

        th:nth-child(1), td:nth-child(1) { width: 25%; }
        th:nth-child(2), td:nth-child(2) { width: 30%; }
        th:nth-child(3), td:nth-child(3) { width: 25%; }
        th:nth-child(4), td:nth-child(4) { width: 20%; }

        th {
          background: #f1f5f9;
          color: #2d3748;
          font-weight: 600;
        }

        td input {
          width: 100%;
          padding: 8px 10px;
          border: 1px solid #cbd5e0;
          border-radius: 6px;
          font-size: 14px;
          box-sizing: border-box;
        }

        td input:focus {
          border-color: #3182ce;
          outline: none;
          box-shadow: 0 0 0 2px rgba(49,130,206,0.1);
        }

        .actions {
          display: flex;
          gap: 8px;
        }

        .btn.edit { background: #4299e1; color: white; }
        .btn.edit:hover { background: #2b6cb0; }

        .btn.delete { background: #f56565; color: white; }
        .btn.delete:hover { background: #c53030; }

        .btn.save { background: #48bb78; color: white; }
        .btn.save:hover { background: #2f855a; }

        .btn.cancel { background: #a0aec0; color: white; }
        .btn.cancel:hover { background: #718096; }

        .empty {
          text-align: center;
          color: #a0aec0;
          padding: 10px;
        }

        .message {
          text-align: center;
          font-weight: 500;
          margin-bottom: 15px;
        }

        .success { color: #38a169; }
        .error { color: #e53e3e; }
      `})]})};function xG(){const e=wt(),t=qe(P=>P.auth?.clinic?.id),n=localStorage.getItem("selectedClinicId"),r=w.useMemo(()=>t||n,[t,n]),{feedbackQRUrl:i,feedbackStats:a,feedbackList:s,feedbackLoading:c,feedbackError:d,qrLoading:f,qrError:p}=qe(P=>P.backup),m=w.useCallback(()=>{r&&(i||f||e(Ev(r)))},[e,r,i,f]);w.useEffect(()=>{r&&(i||m(),e(kv(r)),e(Av(r)))},[r,i,m,e]);const g=a?.avgRating??0,v=a?.totalFeedback??0;let b="#e8f5e9",C="#1b5e20",j="Patients are very happy with your care.";g>=4.5?(b="#e3f2fd",C="#0d47a1",j="Youre delivering outstanding patient experience."):g>=4?(b="#e8f5e9",C="#1b5e20",j="Most patients are very satisfied."):g>=3?(b="#fff8e1",C="#ff6f00",j="Theres room for improvement."):g>0?(b="#ffebee",C="#b71c1c",j="Consider reviewing recent patient feedback."):(b="#f5f5f5",C="#616161",j="Ask patients to scan the QR and share feedback.");const A=Math.floor(g),k=g-A>=.25&&g-A<.75,E=5-A-(k?1:0);return f&&!i?o.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading QR Code..."}):o.jsxs("div",{style:{padding:"20px",background:"white",borderRadius:"12px",boxShadow:"0 2px 10px rgba(0,0,0,0.05)"},children:[o.jsx("h3",{style:{borderBottom:"1px solid #eee",paddingBottom:"10px",marginBottom:"20px",color:"#2c3e50",fontWeight:600},children:"Patient Feedback QR Code"}),p&&o.jsx("div",{style:{color:"red",padding:"10px",background:"#ffebee",borderRadius:"5px",marginBottom:"15px"},children:"Unable to load QR. Please try again."}),i?o.jsxs("div",{style:{textAlign:"center"},children:[o.jsx("p",{style:{color:"#555"},children:"Scan this code to leave feedback instantly."}),o.jsx("div",{style:{margin:"20px auto",width:"220px",height:"220px",border:"4px solid #0D6EFD",borderRadius:"14px",padding:"20px",display:"flex",justifyContent:"center",alignItems:"center",background:"white"},children:o.jsx("img",{src:i,alt:"Feedback QR Code",style:{width:"100%",height:"100%",objectFit:"contain"}})})]}):o.jsxs("div",{style:{textAlign:"center",padding:"40px",color:"#777",border:"1px dashed #ccc",borderRadius:"8px"},children:[o.jsx($ke,{size:40,style:{marginBottom:"10px"}}),o.jsx("p",{children:"No QR Code found yet."}),o.jsx("button",{onClick:m,style:{padding:"10px 15px",background:"#28a745",color:"white",border:"none",borderRadius:"6px",fontWeight:"600",cursor:f?"not-allowed":"pointer",opacity:f?.7:1,marginTop:"10px"},disabled:f,children:f?"Generating...":"Generate QR Code"})]}),o.jsxs("div",{style:{marginTop:"24px"},children:[c&&o.jsx("p",{style:{textAlign:"center",marginTop:"12px"},children:"Loading feedback..."}),d&&o.jsx("p",{style:{textAlign:"center",marginTop:"12px",color:"red"},children:d}),o.jsxs("div",{style:{marginTop:"10px",padding:"16px 18px",borderRadius:"12px",background:b},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[o.jsx("span",{style:{fontWeight:600,fontSize:"15px",color:"#111"},children:"Patient reviews"}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[o.jsxs("div",{style:{display:"flex",color:"#f59b24"},children:[Array.from({length:A}).map((P,$)=>o.jsx(L8,{},`full-${$}`)),k&&o.jsx(aue,{}),Array.from({length:E}).map((P,$)=>o.jsx(o7,{},`empty-${$}`))]}),o.jsxs("span",{style:{fontSize:"14px",color:"#111"},children:[g>0?g.toFixed(1):"0.0"," out of 5"]})]})]}),o.jsxs("div",{style:{fontSize:"12px",color:"#555",marginBottom:"10px"},children:[v," rating",v===1?"":"s"]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[o.jsxs("div",{style:{minWidth:"70px",textAlign:"center",padding:"10px 8px",borderRadius:"10px",background:"rgba(255, 255, 255, 0.7)",boxShadow:"0 1px 4px rgba(0,0,0,0.07)"},children:[o.jsx("div",{style:{fontSize:"26px",fontWeight:700,color:C},children:g>0?g.toFixed(1):"-"}),o.jsx("div",{style:{fontSize:"11px",color:"#777",marginTop:"2px"},children:"/ 5.0"}),o.jsx("div",{style:{fontSize:"14px",marginTop:"4px"},children:""})]}),o.jsxs("div",{style:{flex:1},children:[o.jsx("div",{style:{width:"100%",height:"8px",borderRadius:"999px",background:"rgba(0,0,0,0.06)",overflow:"hidden",marginBottom:"6px"},children:o.jsx("div",{style:{width:`${g/5*100}%`,height:"100%",borderRadius:"999px",background:g>=4?"#2ecc71":g>=3?"#f1c40f":"#e74c3c",transition:"width 0.3s ease"}})}),o.jsx("div",{style:{fontSize:"12px",color:"#555"},children:j})]})]})]})]}),o.jsxs("div",{style:{marginTop:"24px"},children:[o.jsx("h4",{style:{marginBottom:"10px",color:"#2c3e50",fontWeight:600,fontSize:"15px"},children:"Recent feedback"}),!c&&(!s||s.length===0)&&o.jsx("p",{style:{fontSize:"14px",color:"#777"},children:"No patient feedback yet."}),s&&s.map(P=>{const $=Math.floor(P.rating),F=5-$;return o.jsxs("div",{style:{border:"1px solid #eee",borderRadius:"8px",padding:"10px 12px",marginBottom:"8px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"4px"},children:[o.jsx("span",{style:{fontWeight:600,fontSize:"14px"},children:P.patientName||"Anonymous"}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[o.jsxs("div",{style:{display:"flex",color:"#f59b24"},children:[Array.from({length:$}).map((O,_)=>o.jsx(L8,{},`fb-full-${P._id}-${_}`)),Array.from({length:F}).map((O,_)=>o.jsx(o7,{},`fb-empty-${P._id}-${_}`))]}),o.jsxs("span",{style:{fontSize:"12px",color:"#555"},children:[P.rating,"/5"]})]})]}),P.comment&&o.jsx("div",{style:{fontSize:"13px",color:"#444"},children:P.comment}),o.jsx("div",{style:{fontSize:"11px",color:"#999",marginTop:"4px"},children:P.createdAt?new Date(P.createdAt).toLocaleString():""})]},P._id)})]})]})}const K9e=()=>{const e=Jr(),[t,n]=w.useState(!1),r=new URLSearchParams(e.search),i=r.get("tab"),[a,s]=w.useState(i||"clinic"),c=K=>{s(K),b(`?clinicId=${M}&tab=${K}`,{replace:!0})};w.useEffect(()=>{i&&i!==a&&s(i)},[i]);const[d,f]=w.useState({isOpen:!1,title:"",message:"",type:"info"}),p=(K,z,V="info")=>{f({isOpen:!0,title:K,message:z,type:V})},m=()=>{f(K=>({...K,isOpen:!1}))},g=fc(),v=wt(),b=Fn(),{currentClinic:C,loading:j,error:A,message:k}=qe(K=>K.clinic),{staffList:E,loading:P,error:$,message:F}=qe(K=>K.staff),{accessToken:O}=qe(K=>K.auth),_=O||localStorage.getItem("accessToken")||null,D=r.get("clinicId")||null,L=g.clinicId||null,R=localStorage.getItem("selectedClinicId")||null,M=D||L||R;w.useEffect(()=>{if(!_){p("Authentication Required","No token found. Please sign in.","error"),b("/signin");return}if(!M){p("Clinic Not Selected","Please select a clinic from Clinic Management.","warning"),b("/clinic-management");return}v(lf()),v(pm(M)).unwrap().then(()=>{localStorage.setItem("selectedClinicId",M),v(Yy([]))}).catch(K=>{p("Load Failed",`Failed to load clinic: ${K}`,"error")})},[M,_,v,b]);const H=()=>{n(!t)},W=K=>{if(!M||!K){p("Save Failed","No clinic selected or data missing.","error");return}const z=new FormData;for(const V in K){const Z=K[V];if(V==="consultingHours")Z.forEach((re,me)=>{z.append(`consultingHours[${me}][day]`,re.day||""),z.append(`consultingHours[${me}][hours]`,re.hours||"")});else if(V==="qrCodes"&&typeof Z=="object"&&Z!==null)for(const re in Z){const me=Z[re];me instanceof File?z.append(`${re}QR`,me):typeof me=="string"&&z.append(`qrCodes[${re}]`,me)}else Z instanceof File?z.append(V,Z):typeof Z=="object"&&Z!==null?z.append(V,JSON.stringify(Z)):z.append(V,Z)}v(xf({clinicId:M,clinicData:z})).unwrap().then(()=>{p("Success","All Clinic Data Saved!","success"),v(pm(M))}).catch(V=>{p("Update Failed",`Error: ${V}`,"error")})},fe=()=>{if(!C?._id)return;const K={id:`${Date.now()}`,name:"",username:"",phone:"",role:"receptionist",permissions:{viewPatients:!1,editBills:!1,issueCertificates:!1},clinicId:C._id};v(Yy([...E,K])),p("Staff Added","A new staff member has been added.","success")},q=(K,z,V)=>{v(Yy(E.map(Z=>Z.id===K?{...Z,[z]:V}:Z)))},te=(K,z,V)=>{v(Yy(E.map(Z=>Z.id===K?{...Z,permissions:{...Z.permissions,[z]:V}}:Z)))};return j&&!C?o.jsx("div",{className:"loading",children:"Loading clinic data..."}):A?o.jsxs("div",{className:"error",children:["Error: ",A]}):C?o.jsxs(o.Fragment,{children:[o.jsx("style",{jsx:!0,children:`
        .layout {
          display: flex;
          min-height: 100vh;
          background: linear-gradient(135deg, #f0f7fb 0%, #e6f0fa 100%);
          font-family: "Segoe UI", sans-serif;
        }
          .back-btn {
  background: #ffffff;
  color: #025b84;
  border: 1px solid #d0e3f0;
  padding: 10px 18px;
  border-radius: 12px;
  font-size: 0.95rem;
  font-weight: 600;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  gap: 6px;
  transition: all 0.25s ease;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.06);
}

/* Hover */
.back-btn:hover {
  background: #eaf6fb;
  border-color: #3fa3b9;
  transform: translateX(-2px);
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.1);
}

/* Active */
.back-btn:active {
  transform: translateX(0);
  box-shadow: 0 3px 8px rgba(0, 0, 0, 0.08);
}

/* Focus (outline remove) */
.back-btn:focus {
  outline: none;
  box-shadow: 0 0 0 3px rgba(63, 163, 185, 0.25);
}


        /* Sidebar - Fixed & Slides In */
        .sidebar-wrapper {
          position: fixed;
          top: 0;
          left: 0;
          height: 100%;
          width: 250px;
          z-index: 999;
          transition: transform 0.35s ease-in-out;
          transform: translateX(${t?"0":"-250px"});
        }

        /* Main Content - Shifts when sidebar opens */
        .main-content {
          flex: 1;
          transition: margin-left 0.35s ease-in-out;
          margin-left: ${t?"250px":"0"};
          min-height: 100vh;
        }

        /* Top Bar with Toggle Button */
        .top-bar {
          position: fixed;
          top: 0;
          left: ${t?"250px":"0"};
          right: 0;
          height: 70px;
          z-index: 998;
          display: flex;
          align-items: center;
          justify-content: flex-end;
          padding: 0 2rem;
          transition: left 0.35s ease-in-out;
        }

        .toggle-btn {
          background: #186476;
          color: white;
          border: none;
          border-radius: 20%;
          width: 40px;
          height: 40px;
          cursor: pointer;
          display: grid;
          place-items: center;
          box-shadow: 0 4px 15px rgba(24, 100, 118, 0.4);
          transition: all 0.3s ease;
        }

        .toggle-btn:hover {
          background: #3fa3b9;
          transform: scale(1.1);
        }

        /* Page Content */
        .page-container {
          padding: 100px 40px 60px;
          max-width: 1100px;
          margin: 0 auto;
        }

        h1 {
          font-size: 2.8rem;
          font-weight: 700;
          text-align: center;
          color: #186476;
          margin-bottom: 3rem;
          text-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .tab-container {
          display: flex;
          flex-wrap: wrap;
          gap: 16px;
          justify-content: center;
          margin-bottom: 40px;
        }

        .tab-button {
          padding: 14px 28px;
          background: white;
          color: #186476;
          border: 2px solid #186476;
          border-radius: 50px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.3s ease;
          box-shadow: 0 4px 15px rgba(24,100,118,0.1);
        }

        .tab-button.active {
          background: #186476;
          color: white;
          transform: translateY(-4px);
          box-shadow: 0 10px 25px rgba(24,100,118,0.3);
        }

        .tab-button:hover:not(.active) {
          background: #e6f7fa;
          transform: translateY(-2px);
        }

        .content-card {
          background: white;
          border-radius: 20px;
          padding: 40px;
          box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
          min-height: 60vh;
        }

        /* Responsive */
        @media (max-width: 768px) {
          .main-content { margin-left: 0 !important; }
          .top-bar { left: 0 !important; padding: 0 1rem; }
          .page-container { padding: 90px 20px 40px; }
          h1 { font-size: 2.4rem; }
          .tab-container { flex-direction: column; align-items: center; }
          .tab-button { width: 90%; text-align: center; }
          .content-card { padding: 24px; }
        }
      `}),o.jsxs("div",{className:"layout",children:[o.jsx("div",{className:"sidebar-wrapper",children:o.jsx(Fo,{})}),o.jsx("div",{className:"top-bar",children:o.jsx("button",{className:"toggle-btn",onClick:H,"aria-label":"Toggle sidebar",children:o.jsx(pc,{size:22})})}),o.jsx("div",{className:"main-content",children:o.jsxs("div",{className:"page-container",children:[o.jsx("h1",{children:"Clinic Admin Dashboard"}),o.jsx("div",{className:"tab-container",children:[{id:"clinic",label:"Clinic Profile"},{id:"doctor",label:"Doctor Details"},{id:"staff",label:"Staff Management"},{id:"licenses",label:"Licenses & Compliance"},{id:"prescription",label:"Prescription & Certificates"},{id:"feedback",label:"Patient Feedback"},{id:"billing",label:"Billing & Communication"},{id:"expense",label:"Expense Management"},{id:"emergency",label:"Emergency Directory"}].map(K=>o.jsx("button",{className:`tab-button ${a===K.id?"active":""}`,onClick:()=>c(K.id),children:K.label},K.id))}),o.jsxs("div",{className:"content-card",children:[a==="clinic"&&o.jsx(Rke,{clinicData:C,onSave:W}),a==="doctor"&&o.jsx(Mke,{clinicData:C,onSave:W,onSuccess:p,onError:p}),a==="staff"&&o.jsx(Y9e,{clinicId:C._id,staffList:E,addStaff:fe,updateStaff:q,updateStaffPermission:te,onSuccess:p,onError:p}),a==="licenses"&&o.jsx(a9e,{licenses:C?.licenses||{},onSave:W}),a==="prescription"&&o.jsx(s9e,{clinicData:C,onSave:W}),a==="feedback"&&o.jsx(xG,{}),a==="billing"&&o.jsx(q9e,{clinicData:C,onSave:W}),a==="expense"&&o.jsx(W9e,{clinicData:C,onSave:W}),a==="emergency"&&o.jsx(G9e,{clinicData:C,onSave:W})]})]})})]}),o.jsx(Xg,{isOpen:d.isOpen,title:d.title,message:d.message,type:d.type,onClose:m})]}):o.jsx("div",{className:"no-data",children:"No clinic selected."})},X9e=e=>{if(!e)return{value:"",unit:""};const t=new Date(e),n=new Date;let r=n.getFullYear()-t.getFullYear(),i=n.getMonth()-t.getMonth(),a=n.getDate()-t.getDate();return a<0&&(i--,a+=new Date(n.getFullYear(),n.getMonth(),0).getDate()),i<0&&(r--,i+=12),r===0&&i===0?{value:a,unit:"days"}:r===0?{value:i,unit:"months"}:{value:r,unit:"years"}},Q9e=({onClose:e,setRefresh:t})=>{const n=wt(),{loading:r,error:i}=qe(m=>m.reception),[a,s]=w.useState({name:"",fatherName:"",dob:"",gender:"",age:"",ageUnit:"",phone:"",address:""}),[c,d]=w.useState({}),f=()=>{const m={};return a.name||(m.name="Name required"),a.gender||(m.gender="Gender required"),a.dob||(m.dob="DOB required"),a.age||(m.age="Age not calculated"),(!a.phone||a.phone.length!==10)&&(m.phone="Enter valid 10-digit number"),a.address||(m.address="Address required"),d(m),Object.keys(m).length===0},p=async m=>{if(m.preventDefault(),!!f())try{await n(qm(a)).unwrap(),t(g=>!g),Ee.success("Patient Registered Successfully"),e()}catch(g){console.error(g)}};return o.jsx("div",{style:_t.overlay,children:o.jsxs("div",{style:_t.formContainer,children:[o.jsx("h2",{style:_t.title,children:"Register New Patient"}),o.jsxs("form",{onSubmit:p,children:[o.jsxs("div",{style:_t.gridContainer,children:[o.jsxs("div",{style:_t.column,children:[o.jsxs("div",{style:_t.field,children:[o.jsx("label",{style:_t.label,children:"Patient Name"}),o.jsx("input",{type:"text",value:a.name,onChange:m=>{const g=m.target.value;/^[A-Za-z ]*$/.test(g)&&(s({...a,name:g}),d({...c,name:""}))},style:_t.input}),c.name&&o.jsx("p",{style:_t.error,children:c.name})]}),o.jsxs("div",{style:_t.field,children:[o.jsx("label",{style:_t.label,children:"Gender"}),o.jsxs("select",{value:a.gender,onChange:m=>s({...a,gender:m.target.value}),style:_t.select,children:[o.jsx("option",{value:"",children:"Select Gender"}),o.jsx("option",{value:"male",children:"Male"}),o.jsx("option",{value:"female",children:"Female"})]}),c.gender&&o.jsx("p",{style:_t.error,children:c.gender})]}),o.jsxs("div",{style:_t.field,children:[o.jsx("label",{style:_t.label,children:"Phone Number"}),o.jsx("input",{type:"text",maxLength:10,value:a.phone,onChange:m=>{/^\d*$/.test(m.target.value)&&s({...a,phone:m.target.value})},style:_t.input}),c.phone&&o.jsx("p",{style:_t.error,children:c.phone})]}),o.jsxs("div",{style:_t.field,children:[o.jsx("label",{style:_t.label,children:"Age (Auto)"}),o.jsx("input",{type:"text",readOnly:!0,value:a.age?`${a.age} ${a.ageUnit}`:"",style:{..._t.input,background:"#f8fafc",fontWeight:500}})]})]}),o.jsxs("div",{style:_t.column,children:[o.jsxs("div",{style:_t.field,children:[o.jsx("label",{style:_t.label,children:"Father Name"}),o.jsx("input",{type:"text",value:a.fatherName,onChange:m=>s({...a,fatherName:m.target.value}),style:_t.input})]}),o.jsxs("div",{style:_t.field,children:[o.jsx("label",{style:_t.label,children:"Date of Birth"}),o.jsx("input",{type:"date",value:a.dob,onChange:m=>{const{value:g,unit:v}=X9e(m.target.value);s({...a,dob:m.target.value,age:g,ageUnit:v})},style:_t.input}),c.dob&&o.jsx("p",{style:_t.error,children:c.dob})]}),o.jsxs("div",{style:_t.field,children:[o.jsx("label",{style:_t.label,children:"Address"}),o.jsx("input",{type:"text",value:a.address,onChange:m=>s({...a,address:m.target.value}),style:_t.input}),c.address&&o.jsx("p",{style:_t.error,children:c.address})]})]})]}),o.jsxs("div",{style:_t.actions,children:[o.jsx("button",{type:"button",onClick:e,style:_t.cancelBtn,children:"Cancel"}),o.jsx("button",{type:"submit",disabled:r,style:_t.saveBtn,children:r?"Saving...":"Save Patient"})]}),i&&o.jsx("p",{style:{color:"red",marginTop:10},children:i})]})]})})},_t={overlay:{position:"fixed",inset:0,background:"rgba(15,23,42,0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},formContainer:{background:"#fff",padding:"24px 28px",borderRadius:14,width:700,maxHeight:"85vh",overflowY:"auto",boxShadow:"0 20px 40px rgba(0,0,0,0.25)"},title:{textAlign:"center",marginBottom:20,fontSize:20,fontWeight:700,color:"#0f172a",borderBottom:"1px solid #e5e7eb",paddingBottom:10},gridContainer:{display:"flex",gap:20},column:{flex:1},field:{marginBottom:14},label:{fontSize:13,fontWeight:600,marginBottom:6,display:"block",color:"#374151"},input:{padding:"10px 3px",border:"1px solid #d1d5db",borderRadius:8,width:"100%",fontSize:14},select:{padding:"10px 12px",border:"1px solid #d1d5db",borderRadius:8,width:"100%",fontSize:14},actions:{marginTop:22,display:"flex",justifyContent:"flex-end",gap:10},saveBtn:{background:"#186476",color:"#fff",border:"none",padding:"10px 18px",borderRadius:8,cursor:"pointer",fontWeight:600},cancelBtn:{background:"#f1f5f9",color:"#334155",border:"1px solid #cbd5f5",padding:"10px 18px",borderRadius:8,cursor:"pointer",fontWeight:600},error:{color:"#dc2626",fontSize:12,marginTop:4}},Z9e=({prescription:e,setPrescription:t})=>{const n=r=>{const{name:i,value:a}=r.target;t(s=>({...s,[i]:a}))};return o.jsxs("div",{className:"card",children:[o.jsx("h2",{className:"section-title",children:"2. Clinical History"}),o.jsxs("div",{className:"form-grid",children:[o.jsxs("div",{className:"form-field",children:[o.jsx("label",{className:"label",children:"Chief Complaint *"}),o.jsx("textarea",{name:"chiefComplaints",placeholder:"e.g., Fever, cough",value:e.chiefComplaints,onChange:n,className:"textarea",rows:"2"})]}),o.jsxs("div",{className:"form-field",children:[o.jsx("label",{className:"label",children:"History of Present Illness"}),o.jsx("textarea",{name:"hpi",placeholder:"Onset, duration, associated symptoms...",value:e.hpi,onChange:n,className:"textarea",rows:"3"})]}),o.jsxs("div",{className:"form-field",children:[o.jsx("label",{className:"label",children:"Past Medical History"}),o.jsx("textarea",{name:"pastMedicalHistory",placeholder:"DM, HTN, etc.",value:e.pastMedicalHistory,onChange:n,className:"textarea",rows:"2"})]}),o.jsxs("div",{className:"form-field",children:[o.jsx("label",{className:"label",children:"Past Surgical History"}),o.jsx("textarea",{name:"pastSurgicalHistory",placeholder:"Appendectomy, etc.",value:e.pastSurgicalHistory,onChange:n,className:"textarea",rows:"2"})]}),o.jsxs("div",{className:"form-field",children:[o.jsx("label",{className:"label",children:"Family History"}),o.jsx("textarea",{name:"familyHistory",placeholder:"DM in mother, etc.",value:e.familyHistory,onChange:n,className:"textarea",rows:"2"})]}),o.jsxs("div",{className:"form-field",children:[o.jsx("label",{className:"label",children:"Allergies"}),o.jsx("textarea",{name:"allergies",placeholder:"NKDA",value:e.allergies,onChange:n,className:"textarea",rows:"2"})]})]}),o.jsx("style",{jsx:!0,children:`
        .form-grid {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 16px;
        }
        .form-field {
          display: flex;
          flex-direction: column;
        }
        .label {
          font-weight: 600;
          color: #186476;
          margin-bottom: 6px;
          font-size: 0.95rem;
        }
        .textarea {
          width: 100%;
          padding: 12px;
          border: 1px solid #3fa3b9;
          border-radius: 8px;
          background: #f8fafc;
          font-size: 1rem;
          resize: vertical;
        }
        .textarea:focus {
          outline: none;
          border-color: #1d9ad6;
          box-shadow: 0 0 0 3px rgba(29, 154, 214, 0.2);
        }
        @media (max-width: 768px) {
          .form-grid {
            grid-template-columns: 1fr;
          }
        }
      `})]})},J9e=({prescription:e,setPrescription:t})=>{const n=e?.vitals||{heightCm:"",weightKg:"",bmi:"",bp:"",pulse:"",temperature:"",respiration:"",spo2:""},r=(i,a)=>{t(s=>{const c={...s.vitals,[i]:a};if((i==="heightCm"||i==="weightKg")&&c.heightCm&&c.weightKg){const d=c.heightCm/100;c.bmi=(c.weightKg/(d*d)).toFixed(2)}return{...s,vitals:c}})};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"card",children:[o.jsx("h2",{className:"section-title",children:"3. Examination / Vitals"}),o.jsxs("div",{className:"vitals-grid",children:[o.jsxs("div",{className:"vital-item",children:[o.jsx("label",{className:"label",children:"Height (cm)"}),o.jsx("input",{type:"number",className:"input",value:n.heightCm,onChange:i=>r("heightCm",i.target.value),placeholder:"e.g., 170"})]}),o.jsxs("div",{className:"vital-item",children:[o.jsx("label",{className:"label",children:"Weight (kg)"}),o.jsx("input",{type:"number",className:"input",value:n.weightKg,onChange:i=>r("weightKg",i.target.value),placeholder:"e.g., 65"})]}),o.jsxs("div",{className:"vital-item bmi-display",children:[o.jsx("label",{className:"label",children:"BMI"}),o.jsx("input",{type:"text",className:"input",value:n.bmi||"",readOnly:!0,placeholder:"Auto-calculated"}),n.bmi&&o.jsx("div",{className:"bmi-status",children:parseFloat(n.bmi)<18.5?"Underweight":parseFloat(n.bmi)<25?"Normal":parseFloat(n.bmi)<30?"Overweight":"Obese"})]}),o.jsxs("div",{className:"vital-item",children:[o.jsx("label",{className:"label",children:"BP (mmHg)"}),o.jsx("input",{type:"text",className:"input",value:n.bp,onChange:i=>r("bp",i.target.value),placeholder:"e.g., 120/80"})]}),o.jsxs("div",{className:"vital-item",children:[o.jsx("label",{className:"label",children:"Pulse (bpm)"}),o.jsx("input",{type:"number",className:"input",value:n.pulse,onChange:i=>r("pulse",i.target.value),placeholder:"60-100"})]}),o.jsxs("div",{className:"vital-item",children:[o.jsx("label",{className:"label",children:"Temperature (C)"}),o.jsx("input",{type:"number",step:"0.1",className:"input",value:n.temperature,onChange:i=>r("temperature",i.target.value),placeholder:"36.5-37.2"})]}),o.jsxs("div",{className:"vital-item",children:[o.jsx("label",{className:"label",children:"Respiration (breaths/min)"}),o.jsx("input",{type:"number",className:"input",value:n.respiration,onChange:i=>r("respiration",i.target.value),placeholder:"12-20"})]}),o.jsxs("div",{className:"vital-item",children:[o.jsx("label",{className:"label",children:"SpO2 (%)"}),o.jsx("input",{type:"number",className:"input",value:n.spo2,onChange:i=>r("spo2",i.target.value),placeholder:"95-100"})]})]}),o.jsxs("div",{className:"findings-container",children:[o.jsx("label",{className:"label",children:"Examination Findings"}),o.jsx("textarea",{className:"textarea",value:e.examinationFindings,onChange:i=>t(a=>({...a,examinationFindings:i.target.value})),placeholder:"Detailed physical examination findings, observations, and clinical signs...",style:{minHeight:"100px"}})]})]}),o.jsx("style",{jsx:!0,children:`
        .card {
          background: white;
          border-radius: 18px;
          box-shadow: 0 6px 16px rgba(0, 0, 0, 0.08);
          padding: 36px 32px;
          transition: all 0.35s ease;
          max-width: 900px;
          margin: 0 auto 24px;
          position: relative;
          overflow: hidden;
        }

        .card::before {
          content: "";
          position: absolute;
          top: 0;
          left: 0;
          height: 5px;
          width: 100%;
          background: linear-gradient(90deg, #1d9ad6, #44c2f5);
          transform: scaleX(0);
          transform-origin: left;
          transition: transform 0.4s ease;
        }

        .card:hover::before {
          transform: scaleX(1);
        }

        .card:hover {
          transform: translateY(-10px);
          box-shadow: 0 16px 32px rgba(0, 0, 0, 0.16);
        }

        .section-title {
          font-size: 1.9rem;
          font-weight: 700;
          color: #025b84;
          border-bottom: 3px solid #e6f2f7;
          padding-bottom: 8px;
          margin-bottom: 28px;
          position: relative;
        }

        .section-title::after {
          content: "";
          position: absolute;
          bottom: -3px;
          left: 0;
          width: 80px;
          height: 3px;
          background: #1d9ad6;
        }

        .vitals-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
          gap: 20px;
          margin-bottom: 28px;
        }

        .vital-item {
          position: relative;
        }

        .label {
          display: block;
          font-size: 1.05rem;
          font-weight: 600;
          color: #186476;
          margin-bottom: 10px;
          position: relative;
        }

        .input,
        .textarea {
          width: 100%;
          padding: 14px 16px;
          border: 1.5px solid #3fa3b9;
          border-radius: 12px;
          font-size: 1rem;
          color: #2c3e50;
          background-color: #f8fafc;
          outline: none;
          transition: all 0.3s ease;
          box-sizing: border-box;
          font-family: inherit;
        }

        .input:focus,
        .textarea:focus {
          border-color: #1d9ad6;
          box-shadow: 0 0 0 4px rgba(29, 154, 214, 0.25);
          background-color: #ffffff;
          transform: translateY(-1px);
        }

        .input::placeholder,
        .textarea::placeholder {
          color: #94a3b8;
          font-style: italic;
        }

        .bmi-display {
          position: relative;
        }

        .bmi-status {
          position: absolute;
          top: 100%;
          left: 0;
          margin-top: 4px;
          font-size: 0.85rem;
          font-weight: 600;
          color: #186476;
          padding: 0px 6px;
          background: #e0f7fa;
          border-radius: 6px;
          border: 1px solid #3fa3b9;
        }

        .findings-container {
          margin-top: 8px;
        }

        .textarea {
          min-height: 110px;
          resize: vertical;
          line-height: 1.6;
        }

        @media (max-width: 768px) {
          .card {
            padding: 28px 20px;
            margin: 0 auto 20px;
          }

          .vitals-grid {
            grid-template-columns: 1fr;
            gap: 18px;
          }

          .section-title {
            font-size: 1.7rem;
          }

          .input,
          .textarea {
            padding: 12px 14px;
            font-size: 0.95rem;
          }
        }

        @media (max-width: 480px) {
          .card {
            padding: 24px 16px;
          }

          .vitals-grid {
            gap: 16px;
          }
        }
      `})]})},eEe=({prescription:e,setPrescription:t})=>{const[n,r]=w.useState(""),[i,a]=w.useState(""),s=(c,d)=>{const f=c.split(",").map(m=>m.trim()).filter(Boolean).map(m=>({type:"Lab",name:m,result:"",recommendation:""})),p=d.split(",").map(m=>m.trim()).filter(Boolean).map(m=>({type:"Imaging",name:m,result:"",recommendation:""}));return[...f,...p]};return w.useEffect(()=>{t(c=>({...c,investigations:s(n,i)}))},[n,i]),o.jsx(o.Fragment,{children:o.jsxs("div",{className:"card",children:[o.jsx("h2",{className:"section-title",children:"4. Investigations"}),o.jsxs("div",{className:"form-group",children:[o.jsxs("div",{children:[o.jsx("label",{className:"label",children:"Labs Advised"}),o.jsx("textarea",{className:"textarea",value:n,onChange:c=>r(c.target.value),placeholder:"HbA1c, CBC, LFT, KFT"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"label",children:"Imaging Advised"}),o.jsx("textarea",{className:"textarea",value:i,onChange:c=>a(c.target.value),placeholder:"X-ray Chest, MRI Brain"})]})]}),e.investigations?.length>0&&o.jsxs("div",{className:"reports-list",children:[o.jsx("h3",{className:"sub-section-title",children:"Investigations Added"}),o.jsx("ul",{children:e.investigations.map((c,d)=>o.jsxs("li",{children:[o.jsxs("strong",{children:[c.type,":"]})," ",c.name]},d))})]})]})})},tEe=({prescription:e,setPrescription:t})=>o.jsx(o.Fragment,{children:o.jsxs("div",{className:"card",children:[o.jsx("h2",{className:"section-title",children:"5. Diagnosis"}),o.jsxs("div",{className:"form-group",children:[o.jsxs("div",{children:[o.jsx("label",{className:"label",children:"Provisional Diagnosis"}),o.jsx("textarea",{className:"textarea",value:e.provisionalDiagnosis||"",onChange:n=>t(r=>({...r,provisionalDiagnosis:n.target.value})),placeholder:"fever,cold"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"label",children:"Final Diagnosis"}),o.jsx("textarea",{className:"textarea",value:e.finalDiagnosis||"",onChange:n=>t(r=>({...r,finalDiagnosis:n.target.value})),placeholder:"flu"})]})]}),o.jsx("style",{jsx:!0,children:`
        .card {
          background: white;
          border-radius: 18px;
          box-shadow: 0 6px 16px rgba(0, 0, 0, 0.08);
          padding: 36px 32px;
          transition: all 0.35s ease;
          max-width: 900px;
          margin: 0 auto 24px;
          position: relative;
          overflow: hidden;
        }

        .card::before {
          content: "";
          position: absolute;
          top: 0;
          left: 0;
          height: 5px;
          width: 100%;
          background: linear-gradient(90deg, #1d9ad6, #44c2f5);
          transform: scaleX(0);
          transform-origin: left;
          transition: transform 0.4s ease;
        }

        .card:hover::before {
          transform: scaleX(1);
        }
        .card:hover {
          transform: translateY(-10px);
          box-shadow: 0 16px 32px rgba(0, 0, 0, 0.16);
        }

        .section-title {
          font-size: 1.9rem;
          font-weight: 700;
          color: #025b84;
          border-bottom: 3px solid #e6f2f7;
          padding-bottom: 8px;
          margin-bottom: 28px;
          position: relative;
        }

        .section-title::after {
          content: "";
          position: absolute;
          bottom: -3px;
          left: 0;
          width: 80px;
          height: 3px;
          background: #1d9ad6;
        }

        .form-group {
          display: grid;
          gap: 24px;
          grid-template-columns: 1fr 1fr;
          margin-bottom: 20px;
        }

        .label {
          display: block;
          font-size: 1.05rem;
          font-weight: 600;
          color: #186476;
          margin-bottom: 10px;
        }

        .textarea {
          width: 100%;
          padding: 14px 16px;
          border: 1.5px solid #3fa3b9;
          border-radius: 12px;
          font-size: 1rem;
          color: #2c3e50;
          background-color: #f8fafc;
          outline: none;
          transition: all 0.3s ease;
          min-height: 100px;
          resize: vertical;
        }

        .textarea:focus {
          border-color: #1d9ad6;
          box-shadow: 0 0 0 4px rgba(29, 154, 214, 0.25);
          background-color: #fff;
        }

        @media (max-width: 768px) {
          .form-group {
            grid-template-columns: 1fr;
          }
          .card {
            padding: 28px 20px;
          }
        }
      `})]})}),nEe=({templates:e={},loading:t=!1,selectedTemplates:n=[],onToggleTemplate:r=()=>{}})=>{const i=e?.data||e||[];w.useMemo(()=>n.map(s=>s._id),[n]);const a=s=>{const c=s.target.value;if(!c)return;const d=i.find(m=>m._id===c);if(!d)return;const f=n.some(m=>m._id===c);let p;f?p=n.filter(m=>m._id!==c):p=[...n,d],r(p)};return o.jsxs("div",{className:"card",children:[o.jsx("h2",{className:"section-title",children:"6. Admin Prescription Templates"}),o.jsxs("div",{className:"search-box",children:[o.jsx("label",{className:"label",children:"Select Template"}),o.jsxs("select",{className:"input",onChange:a,value:"",children:[o.jsx("option",{value:"",children:"-- Select Template --"}),i.map(s=>o.jsx("option",{value:s._id,children:s.templateName||s.disease||"Unnamed"},s._id))]})]}),t&&o.jsx("p",{className:"loading",children:"Loading templates..."}),!t&&i.length===0&&o.jsx("p",{className:"empty-text",children:"No templates available"}),o.jsx("div",{className:"template-list",children:n.map(s=>{const c=s.templates?.[0]?.treatmentPlan?.medicines?.length||0;return o.jsxs("div",{className:"template-item selected",onClick:()=>{const d=n.filter(f=>f._id!==s._id);r(d)},children:[o.jsxs("div",{className:"template-info",children:[o.jsx("h4",{children:s.templateName||s.disease||"Unnamed"}),o.jsxs("p",{className:"meta",children:[c," medicines included"]})]}),o.jsx("div",{className:"template-action",children:o.jsx("span",{className:"badge selected-badge",children:"Selected"})})]},s._id)})}),n.length>0&&o.jsxs("div",{className:"selected-summary",children:[o.jsx("strong",{children:"Selected Templates:"})," ",n.map(s=>s.templateName||s.disease||"Unnamed").join(", ")]}),o.jsx("style",{jsx:!0,children:`
        .template-list {
          display: flex;
          flex-direction: column;
          gap: 14px;
          margin-top: 20px;
        }
        .template-item {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 18px 20px;
          border-radius: 14px;
          border: 1.5px solid #e2eef5;
          cursor: pointer;
          background: #f9fcff;
          transition: all 0.25s ease;
        }
        .template-item:hover {
          border-color: #1d9ad6;
          transform: translateY(-2px);
        }
        .template-item.selected {
          background: #e6f4ff;
          border-color: #1d9ad6;
        }
        .badge {
          padding: 6px 14px;
          border-radius: 20px;
          font-size: 0.85rem;
          font-weight: 600;
          background: #e0f2fe;
          color: #025b84;
        }
        .selected-badge {
          background: #1d9ad6;
          color: white;
        }
        .selected-summary {
          margin-top: 20px;
          padding: 14px;
          background: #f0f8ff;
          border-radius: 12px;
          color: #025b84;
        }
        .loading,
        .empty-text {
          text-align: center;
          color: #6b7280;
          font-style: italic;
        }
      `})]})},rEe=({prescription:e,setPrescription:t,searchDrug:n,setSearchDrug:r,selectedDrug:i,setSelectedDrug:a,drugs:s=[]})=>{const c=e.customizedMedicines||[],d=()=>{t(b=>({...b,customizedMedicines:[...b.customizedMedicines||[],{medicineName:"",brandName:"",dosage:"",route:"",frequency:"",duration:"",instructions:""}]}))},f=b=>{t(C=>({...C,customizedMedicines:[...C.customizedMedicines||[],{medicineName:b.medicineName,dosage:"",brandName:b.brandName,route:"",frequency:"",duration:"",instructions:""}]})),r("")};c.map(b=>b.medicineName).filter(Boolean);const p=async()=>{try{const b=c.map(j=>j.medicineName).filter(Boolean);if(b.length<2){Ee.error("Please select at least 2 medicines");return}const C=await $e.post("/api/drug/drug-safety/interactions/check",{drugs:b,type:i});Ee.success(C.data?.message||"Drug safety checked")}catch(b){console.log("error",b),Ee.error(b.message||"Failed to check drug safety")}},m=(b,C,j)=>{const A=c.map((k,E)=>E===b?{...k,[C]:j}:k);t(k=>({...k,customizedMedicines:A}))},g=b=>{t(C=>({...C,customizedMedicines:C.customizedMedicines.filter((j,A)=>A!==b)}))},v=w.useMemo(()=>n?s.filter(b=>`${b.medicineName} ${b.brandName}`.toLowerCase().includes(n.toLowerCase())):[],[n,s]);return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"card",children:[o.jsx("h2",{className:"section-title",children:"6. Prescription Builder"}),o.jsx("div",{className:"drug-controls",children:o.jsxs("div",{style:{position:"relative",flex:1},children:[o.jsx("input",{className:"search-input",placeholder:"Search drug (generic / brand)...",value:n,onChange:b=>r(b.target.value)}),v.length>0&&o.jsx("ul",{className:"suggestions",children:v.map(b=>o.jsxs("li",{onMouseDown:()=>f(b),children:[o.jsx("strong",{children:b.genericName}),o.jsxs("span",{children:[" ","(",b.brandName,"  ",b.form,")"]})]},b._id))})]})}),o.jsxs("table",{className:"medicine-table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"#"}),o.jsx("th",{children:"Generic Name"}),o.jsx("th",{children:"Brand Name"}),o.jsx("th",{children:"Dose"}),o.jsx("th",{children:"Route"}),o.jsx("th",{children:"Freq"}),o.jsx("th",{children:"Duration"}),o.jsx("th",{})]})}),o.jsxs("tbody",{children:[c.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:"7",className:"empty",children:"No medicines added"})}),c.map((b,C)=>o.jsxs("tr",{children:[o.jsx("td",{children:C+1}),o.jsx("td",{children:o.jsx("input",{className:"input",value:b.medicineName,placeholder:"Paracetamol",onChange:j=>m(C,"medicineName",j.target.value)})}),o.jsx("td",{children:o.jsx("input",{className:"input",value:b.brandName,placeholder:"Mankind..",onChange:j=>m(C,"brandName",j.target.value)})}),o.jsx("td",{children:o.jsx("input",{className:"input",value:b.dosage,placeholder:"500 mg",onChange:j=>m(C,"dosage",j.target.value)})}),o.jsx("td",{children:o.jsxs("select",{className:"input",value:b.route,onChange:j=>m(C,"route",j.target.value),children:[o.jsx("option",{value:"",children:"Select"}),o.jsx("option",{children:"Oral"}),o.jsx("option",{children:"IV"}),o.jsx("option",{children:"IM"})]})}),o.jsx("td",{children:o.jsx("input",{className:"input",value:b.frequency,placeholder:"1-0-1",onChange:j=>m(C,"frequency",j.target.value)})}),o.jsx("td",{children:o.jsx("input",{className:"input",value:b.duration,placeholder:"5 days",onChange:j=>m(C,"duration",j.target.value)})}),o.jsx("td",{children:o.jsx("button",{className:"remove-btn",onClick:()=>g(C),children:""})})]},C))]})]}),o.jsx("div",{children:o.jsx("button",{className:"add-btn",onClick:d,children:"+ Add Medicine"})}),o.jsxs("div",{className:"drug-filter-row",children:[o.jsxs("select",{className:"filter-select",value:i,onChange:b=>a(b.target.value),children:[o.jsx("option",{value:"",children:"Select Filter"}),o.jsx("option",{value:"pregnancy",children:"Pregnancy"}),o.jsx("option",{value:"breastfeeding",children:"Breastfeeding"}),o.jsx("option",{value:"kidney",children:"Kidney"}),o.jsx("option",{value:"liver",children:"Liver"}),o.jsx("option",{value:"interaction",children:"Interaction"})]}),o.jsx("button",{className:"btn-1",onClick:p,children:"Check Drug Safety"})]})]}),o.jsx("style",{jsx:!0,children:`
        .card {
          background: #fff;
          border-radius: 18px;
          padding: 30px;
          box-shadow: 0 6px 16px rgba(0, 0, 0, 0.08);
        }
          .btn-1 {
  background: linear-gradient(135deg, #0d6efd, #0aa2c0);
  color: #ffffff;
  border: none;
  padding: 12px 22px;
  border-radius: 12px;
  margin-top:10px;  
  font-size: 15px;
  font-weight: 600;
  cursor: pointer;
  box-shadow: 0 6px 16px rgba(13, 110, 253, 0.35);
  transition: all 0.25s ease;
  display: inline-flex;
  align-items: center;
  gap: 8px;
}

/* Hover */
.btn-1:hover {
  background: linear-gradient(135deg, #0b5ed7, #0891b2);
  transform: translateY(-2px);
  box-shadow: 0 10px 22px rgba(13, 110, 253, 0.45);
}

/* Active (click) */
.btn-1:active {
  transform: translateY(0);
  box-shadow: 0 4px 10px rgba(13, 110, 253, 0.35);
}

/* Disabled state */
.btn-1:disabled {
  background: #b6d4fe;
  color: #f1f5f9;
  cursor: not-allowed;
  box-shadow: none;
  transform: none;
}
.button-wrapper {
  display: flex;
  justify-content: flex-end;
}


        .section-title {
          font-size: 1.8rem;
          color: #025b84;
          margin-bottom: 16px;
        }

        .drug-controls {
          display: flex;
          gap: 14px;
          margin-bottom: 20px;
        }

        .filter-select,
        .search-input,
        .input {
          padding: 10px 10px;
          border-radius: 10px;
          border: 1px solid #3fa3b9;
          background: #f8fafc;
        }

        .medicine-table {
          width: 100%;
          border-collapse: collapse;
        }

        th {
          background: #eaf6fb;
          padding: 12px;
        }

        td {
          padding: 10px;
          border-bottom: 1px solid #eee;
        }

        .remove-btn {
          background: #dc3545;
          color: #fff;
          border: none;
          padding: 6px 10px;
          border-radius: 6px;
          cursor: pointer;
        }

        .suggestions {
          position: absolute;
          top: 100%;
          left: 0;
          right: 0;
          background: white;
          border-radius: 10px;
          margin-top: 6px;
          max-height: 220px;
          overflow-y: auto;
          z-index: 100;
          box-shadow: 0 6px 16px rgba(0, 0, 0, 0.15);
        }

        .suggestions li {
          padding: 10px 14px;
          cursor: pointer;
        }

        .suggestions li:hover {
          background: #eaf6fb;
        }

        .suggestions span {
          font-size: 0.85rem;
          color: #666;
        }
          .add-btn {
          margin-top: 16px;
          background: #186476;
          color: white;
          padding: 12px 20px;
          border-radius: 10px;
          border: none;
          cursor: pointer;
          font-weight: 600;
        }

        .add-btn:hover {
          background: #3fa3b9;
        }
     .drug-filter-row {
  display: flex;
  justify-content: flex-end;
  align-items: center;
  gap: 12px;
  margin-top: 12px;
}

.filter-select {
  height: 38px;
  padding: 6px 10px;
  border-radius: 8px;
  margin-top:10px;
}

.btn-1 {
  height: 38px;
  padding: 0 16px;
  border-radius: 8px;
}





      `})]})},iEe=({prescription:e,setPrescription:t})=>{const n=e.treatmentPlan||{lifestyleAdvice:"",procedures:"",referrals:"",notes:""},r=(i,a)=>{t(s=>({...s,treatmentPlan:{...s.treatmentPlan,[i]:a}}))};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"card",children:[o.jsx("h2",{className:"section-title",children:"7. Treatment Plan"}),o.jsxs("div",{className:"grid",children:[o.jsxs("div",{children:[o.jsx("label",{className:"label",children:"Lifestyle / Diet Advice"}),o.jsx("textarea",{className:"textarea",placeholder:"Diet changes, exercise, sleep advice...",value:n.lifestyleAdvice,onChange:i=>r("lifestyleAdvice",i.target.value)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"label",children:"Procedures (if any)"}),o.jsx("textarea",{className:"textarea",placeholder:"Nebulization, dressing, injections...",value:n.procedures,onChange:i=>r("procedures",i.target.value)})]})]}),o.jsxs("div",{className:"grid",children:[o.jsxs("div",{children:[o.jsx("label",{className:"label",children:"Referrals"}),o.jsx("textarea",{className:"textarea",placeholder:"Refer to cardiologist, orthopedician...",value:n.referrals,onChange:i=>r("referrals",i.target.value)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"label",children:"Doctor Notes"}),o.jsx("textarea",{className:"textarea",placeholder:"Any additional notes or precautions...",value:n.notes,onChange:i=>r("notes",i.target.value)})]})]})]}),o.jsx("style",{jsx:!0,children:`
        .card {
          background: white;
          border-radius: 18px;
          box-shadow: 0 6px 16px rgba(0, 0, 0, 0.08);
          padding: 36px 32px;
          max-width: 900px;
          margin: 0 auto 24px;
        }

        .section-title {
          font-size: 1.9rem;
          font-weight: 700;
          color: #025b84;
          margin-bottom: 28px;
          border-bottom: 3px solid #e6f2f7;
          padding-bottom: 8px;
        }

        .grid {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 24px;
          margin-bottom: 24px;
        }

        .label {
          display: block;
          font-size: 1.05rem;
          font-weight: 600;
          color: #186476;
          margin-bottom: 10px;
        }

        .textarea {
          width: 100%;
          padding: 14px 16px;
          border: 1.5px solid #3fa3b9;
          border-radius: 12px;
          font-size: 1rem;
          background-color: #f8fafc;
          min-height: 110px;
          resize: vertical;
          transition: all 0.3s ease;
        }

        .textarea:focus {
          outline: none;
          border-color: #1d9ad6;
          box-shadow: 0 0 0 4px rgba(29, 154, 214, 0.25);
          background: #fff;
        }

        @media (max-width: 768px) {
          .card {
            padding: 28px 20px;
          }

          .grid {
            grid-template-columns: 1fr;
          }

          .section-title {
            font-size: 1.7rem;
          }
        }
      `})]})},aEe=({prescription:e,setPrescription:t})=>{const n=e.followUp||{nextAppointmentDate:"",reminder:{sms:!1,whatsapp:!1}},r=s=>{t(c=>({...c,followUp:{...c.followUp,nextAppointmentDate:s}}))},i=s=>s?new Date(s).toISOString().split("T")[0]:"",a=s=>{t(c=>({...c,followUp:{...c.followUp,reminder:{...c.followUp?.reminder,[s]:!c.followUp?.reminder?.[s]}}}))};return o.jsxs("div",{className:"card",children:[o.jsx("h2",{className:"section-title",children:"8. Follow-Up"}),o.jsx("div",{className:"grid",children:o.jsxs("div",{children:[o.jsx("label",{className:"label",children:"Next Visit Date"}),o.jsx("input",{type:"date",className:"input",value:i(n.nextAppointmentDate),onChange:s=>r(s.target.value)})]})}),o.jsxs("div",{className:"reminders",children:[o.jsx("label",{className:"label",children:"Reminder"}),o.jsxs("div",{className:"checkbox-group",children:[o.jsxs("label",{children:[o.jsx("input",{type:"checkbox",checked:n.reminder?.sms||!1,onChange:()=>a("sms")}),"SMS"]}),o.jsxs("label",{children:[o.jsx("input",{type:"checkbox",checked:n.reminder?.whatsapp||!1,onChange:()=>a("whatsapp")}),"WhatsApp"]})]})]})]})},$n={page:{width:"210mm",minHeight:"297mm",margin:"0",padding:"10mm",background:"#fff",fontFamily:"Times New Roman",fontSize:"12px",border:"1px solid #000"},header:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},clinicInfo:{display:"flex",flexDirection:"column",alignItems:"",textAlign:"left",maxWidth:300},logo:{width:90,height:90,objectFit:"contain",marginBottom:8},patientQuick:{textAlign:"right"},patientTable:{width:"100%",marginBottom:15},medicineTable:{width:"100%",borderCollapse:"collapse"},thTd:{border:"1px solid #000",padding:6,textAlign:"left"},emptyText:{fontStyle:"italic"},footer:{display:"flex",justifyContent:"space-between",alignItems:"flex-end"},qrSection:{textAlign:"center"},qrImage:{width:90,height:90,objectFit:"contain",border:"1px solid #000"},qrPlaceholder:{width:90,height:90,border:"1px solid #000",margin:"auto"},signature:{textAlign:"right"},signLine:{marginTop:30,fontSize:10}},nM=w.forwardRef(({selectedPatient:e={},prescriptionMedicines:t=[],clinicDetails:n={},clinic:r={},prescription:i={},clinicalHistory:a={}},s)=>{const c=new Date().toLocaleString("en-IN");return console.log("Preceptionsss",i),console.log("clinic",n),o.jsxs("div",{ref:s,style:$n.page,children:[o.jsxs("div",{style:$n.header,children:[o.jsxs("div",{style:$n.clinicInfo,children:[r.logoUrl&&o.jsx("img",{src:r.logoUrl,alt:"Clinic Logo",style:$n.logo}),o.jsx("h3",{children:r.clinicName}),o.jsx("p",{children:r.address}),o.jsxs("p",{children:["Contact: ",r.contactNumber]})]}),o.jsxs("div",{style:$n.patientQuick,children:[o.jsx("h4",{children:e?.name||"-"}),o.jsxs("p",{children:[o.jsx("strong",{children:"Prescription ID:"})," ",e?.prescriptionId||"-"]})]})]}),o.jsx("hr",{}),o.jsx("h4",{children:"Patient Details"}),o.jsx("hr",{}),o.jsx("table",{style:$n.patientTable,children:o.jsxs("tbody",{children:[o.jsxs("tr",{children:[o.jsxs("td",{children:[o.jsx("strong",{children:"Name:"})," ",e?.name||"-"]}),o.jsxs("td",{children:[o.jsx("strong",{children:"Address:"})," ",e?.address||"-"]})]}),o.jsxs("tr",{children:[o.jsxs("td",{children:[o.jsx("strong",{children:"Age / Gender:"})," ",e?.age||"-"," /"," ",e?.gender||"-"]}),o.jsxs("td",{children:[o.jsx("strong",{children:"Date & Time:"})," ",c]})]}),o.jsxs("tr",{children:[o.jsxs("td",{children:[o.jsx("strong",{children:"UHID:"})," ",e?.uhid||"-"]}),o.jsxs("td",{children:[o.jsx("strong",{children:"Contact:"})," ",e?.phone||"-"]})]}),o.jsxs("tr",{children:[o.jsxs("td",{children:[o.jsx("strong",{children:"Chief Complaint:"})," ",i?.chiefComplaints||"-"]}),o.jsxs("td",{children:[o.jsx("strong",{children:"Allergies:"})," ",i?.allergies||"-"]})]}),o.jsxs("tr",{children:[o.jsxs("td",{children:[o.jsx("strong",{children:"Past Medical History:"})," ",i?.pastMedicalHistory||"-"]}),o.jsxs("td",{children:[o.jsx("strong",{children:"Past Surgical History:"})," ",i?.pastSurgicalHistory||"-"]})]}),o.jsxs("tr",{children:[o.jsxs("td",{children:[o.jsx("strong",{children:"Prescription History:"})," ",i?.prescriptionText||"-"]}),o.jsxs("td",{children:[o.jsx("strong",{children:"Provisional Diagnosis:"})," ",i?.provisionalDiagnosis||"-"]})]}),o.jsxs("tr",{children:[o.jsxs("td",{children:[o.jsx("strong",{children:"Social History:"})," ",i?.socialHistory||"-"]}),o.jsxs("td",{children:[o.jsx("strong",{children:"Provisional Diagnosis:"})," ",i?.provisionalDiagnosis||"-"]})]})]})}),o.jsx("h4",{children:"Rx (Prescription)"}),o.jsx("hr",{}),t.length===0?o.jsx("p",{style:$n.emptyText,children:"No medicines prescribed"}):o.jsxs("table",{style:$n.medicineTable,children:[o.jsx("thead",{children:o.jsx("tr",{children:["#","Medicine","Brand Name","Dosage","Frequency","Duration"].map(d=>o.jsx("th",{style:$n.thTd,children:d},d))})}),o.jsx("tbody",{children:t.map((d,f)=>o.jsxs("tr",{children:[o.jsx("td",{style:$n.thTd,children:f+1}),o.jsx("td",{style:$n.thTd,children:d.medicineName}),o.jsx("td",{style:$n.thTd,children:d.brandName}),o.jsx("td",{style:$n.thTd,children:d.dosage}),o.jsx("td",{style:$n.thTd,children:d.frequency}),o.jsx("td",{style:$n.thTd,children:d.duration})]},f))})]}),o.jsx("h4",{children:"Treatment Plan"}),o.jsx("hr",{}),o.jsx("table",{style:$n.patientTable,children:o.jsxs("tbody",{children:[o.jsxs("tr",{children:[o.jsxs("td",{children:[o.jsx("strong",{children:"Life Style Advice:"})," ",i?.treatmentPlan?.lifestyleAdvice||"-"]}),o.jsxs("td",{children:[o.jsx("strong",{children:"Notes:"})," ",i?.treatmentPlan?.notes||"-"]})]}),o.jsxs("tr",{children:[o.jsxs("td",{children:[o.jsx("strong",{children:"Procedures :"})," ",i?.treatmentPlan?.procedures||"-"]}),o.jsxs("td",{children:[o.jsx("strong",{children:"Referrals :"})," ",i?.treatmentPlan?.referrals||"-"]})]})]})}),o.jsx("hr",{style:{margin:"25px 0"}}),o.jsxs("div",{style:$n.footer,children:[o.jsxs("div",{children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Disclaimer:"})," This prescription is for medical use only."]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Consulting  Timings:"})," ",r?.consultingHours?.length?`${r.consultingHours[0].days[0]}${r.consultingHours[0].days.at(-1)} ${r.consultingHours[0].slots[0].start}`:"Not Available"]})]}),o.jsxs("div",{style:$n.qrSection,children:[r?.qrCodes?.feedback?o.jsx("img",{src:r.qrCodes.feedback,alt:"QR Code",style:$n.qrImage}):o.jsx("div",{style:$n.qrPlaceholder}),o.jsx("p",{style:{fontSize:10,marginTop:4},children:"Scan for Feedback"})]}),o.jsxs("div",{style:$n.signature,children:[n?.digitalSignatureUrl&&o.jsx("img",{src:n.digitalSignatureUrl,alt:"Doctor Signature",style:{width:120,height:60,objectFit:"contain"}}),o.jsx("p",{style:{marginTop:4,fontWeight:600},children:n?.name||""}),o.jsxs("p",{style:{fontSize:10},children:[n?.degree," | Reg No: ",n?.registrationNumber]}),o.jsx("div",{style:$n.signLine,children:o.jsx("p",{children:"Doctor's Signature & Seal"})})]})]})]})});function oEe({selectedPatient:e,prescriptions:t,refresh:n,setRefresh:r}){const[i,a]=w.useState([]);console.log("uploads",t);const[s,c]=w.useState([]);w.useEffect(()=>{if(t&&t.data&&t.data.patient){console.log("sadfgh");const m=t.data.patient.reports||[];console.log("reports",m),c(m.map(g=>g.url))}else c([])},[t]),w.useEffect(()=>{const m=t?.patient?.reports||[];console.log("reports",m),m.length>0?c(m.map(g=>g.url)):c([])},[t]);const d=m=>{const g=Array.from(m.target.files);a(v=>[...v,...g]),m.target.value=""},f=m=>{a(g=>g.filter((v,b)=>b!==m))},p=async()=>{if(!i.length)return Ee.error("Please select at least one file");if(!e?._id)return Ee.error("No patient selected");try{for(const m of i){const g=new FormData;g.append("report",m);const v=await $e.post(`/api/reception/patient/${e._id}/upload-report`,g,{headers:{"Content-Type":"multipart/form-data"}});v.data?.fileUrl&&c(b=>[...b,v.data.fileUrl])}a([]),Ee.success("Reports uploaded successfully"),r(m=>!m)}catch(m){console.error(m),Ee.error("Report upload failed")}};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"upload-section card",children:[o.jsx("label",{className:"label",children:"Upload Reports (PDF/Image)"}),o.jsx("input",{type:"file",multiple:!0,accept:".pdf,.jpg,.jpeg,.png",className:"file-input",onChange:d}),i.length>0&&o.jsx("div",{className:"reports-list",children:i.map((m,g)=>o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[o.jsx("span",{children:m.name}),o.jsx("button",{className:"dropbox-button",style:{padding:"6px 12px"},onClick:()=>f(g),children:"Remove"})]},g))}),o.jsx("button",{onClick:p,className:"dropbox-button",style:{marginTop:"14px"},children:"Upload"}),s.length>0&&o.jsxs("div",{className:"reports-list",style:{marginTop:"20px"},children:[o.jsx("h4",{className:"sub-section-title",children:"Reports"}),s.map((m,g)=>o.jsxs("button",{className:"dropbox-button",style:{marginRight:"10px",marginTop:"10px"},onClick:()=>window.open(m,"_blank"),children:["View ",g+1]},g))]})]}),o.jsx("style",{jsx:!0,children:`
        .card {
          background: white;
          border-radius: 18px;
          box-shadow: 0 6px 16px rgba(0, 0, 0, 0.08);
          padding: 36px 32px;
          transition: all 0.35s ease;
          max-width: 900px;
          margin: 0 auto 24px;
        }

        .card:hover {
          transform: translateY(-8px);
          box-shadow: 0 16px 32px rgba(0, 0, 0, 0.16);
        }

        .label {
          display: block;
          font-size: 1.05rem;
          font-weight: 600;
          color: #186476;
          margin-bottom: 10px;
        }

        .file-input {
          display: block;
          width: 100%;
          padding: 14px;
          border: 1.5px dashed #3fa3b9;
          border-radius: 12px;
          background: #f8fafc;
          color: #186476;
          font-size: 1rem;
          cursor: pointer;
          transition: all 0.3s;
          margin-bottom: 12px;
        }

        .file-input:hover {
          border-color: #1d9ad6;
          background: #f0f8ff;
        }

        .dropbox-button {
          background: #0061ff;
          color: white;
          padding: 14px 24px;
          border-radius: 12px;
          cursor: pointer;
          font-weight: 600;
          transition: all 0.3s;
        }

        .dropbox-button:hover {
          background: #0041cc;
          transform: translateY(-2px);
        }

        .reports-list {
          margin-top: 24px;
          padding: 16px;
          background: #f0f8ff;
          border-radius: 12px;
          border: 1px solid #3fa3b9;
        }

        .sub-section-title {
          font-size: 1.3rem;
          color: #025b84;
          margin-bottom: 12px;
        }

        @media (max-width: 768px) {
          .card {
            padding: 28px 20px;
          }
        }
      `})]})}const sEe=({prescription:e,setPrescription:t})=>{const n=e.redFlags||{isPresent:!1,notes:""},r=(i,a)=>{t(s=>({...s,redFlags:{...s.redFlags,[i]:a}}))};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"card",children:[o.jsx("h2",{className:"section-title",children:"9. Red Flags Noted"}),o.jsxs("div",{className:"checkbox-row",children:[o.jsx("input",{type:"checkbox",id:"redFlagCheck",checked:n.isPresent,onChange:i=>{const a=i.target.checked;t(s=>({...s,redFlags:{isPresent:a,notes:a&&s.redFlags?.notes||""}}))}}),o.jsx("label",{htmlFor:"redFlagCheck",children:"Red flags present in this patient"})]}),n.isPresent&&o.jsxs("div",{className:"notes-wrapper",children:[o.jsx("label",{className:"label",children:"Notes"}),o.jsx("textarea",{className:"textarea",placeholder:"Describe red flags, warning signs, emergency symptoms...",value:n.notes,onChange:i=>r("notes",i.target.value)})]})]}),o.jsx("style",{jsx:!0,children:`
        .card {
          background: white;
          border-radius: 18px;
          box-shadow: 0 6px 16px rgba(0, 0, 0, 0.08);
          padding: 36px 32px;
          max-width: 900px;
          margin: 0 auto 24px;
        }

        .section-title {
          font-size: 1.9rem;
          font-weight: 700;
          color: #025b84;
          margin-bottom: 24px;
          border-bottom: 3px solid #e6f2f7;
          padding-bottom: 8px;
        }

        .checkbox-row {
          display: flex;
          align-items: center;
          gap: 12px;
          margin-bottom: 20px;
          font-size: 1.05rem;
          font-weight: 600;
          color: #c0392b;
        }

        .checkbox-row input {
          width: 18px;
          height: 18px;
          cursor: pointer;
          accent-color: #e74c3c;
        }

        .notes-wrapper {
          margin-top: 12px;
        }

        .label {
          display: block;
          font-size: 1.05rem;
          font-weight: 600;
          color: #186476;
          margin-bottom: 10px;
        }

        .textarea {
          width: 100%;
          padding: 14px 16px;
          border: 1.5px solid #3fa3b9;
          border-radius: 12px;
          font-size: 1rem;
          background-color: #f8fafc;
          min-height: 110px;
          resize: vertical;
          transition: all 0.3s ease;
        }

        .textarea:focus {
          outline: none;
          border-color: #1d9ad6;
          box-shadow: 0 0 0 4px rgba(29, 154, 214, 0.25);
          background: #fff;
        }

        @media (max-width: 768px) {
          .card {
            padding: 28px 20px;
          }

          .section-title {
            font-size: 1.7rem;
          }
        }
      `})]})};var nb={exports:{}},lEe=nb.exports,rM;function cEe(){return rM||(rM=1,(function(e,t){(function(n,r){e.exports=r(cc())})(typeof self<"u"?self:lEe,function(n){return(function(){var r={155:function(k){k.exports=n}},i={};function a(k){var E=i[k];if(E!==void 0)return E.exports;var P=i[k]={exports:{}};return r[k](P,P.exports,a),P.exports}a.d=function(k,E){for(var P in E)a.o(E,P)&&!a.o(k,P)&&Object.defineProperty(k,P,{enumerable:!0,get:E[P]})},a.o=function(k,E){return Object.prototype.hasOwnProperty.call(k,E)},a.r=function(k){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(k,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(k,"__esModule",{value:!0})};var s={};a.r(s),a.d(s,{useReactToPrint:function(){return A}});var c=a(155);const d="printWindow";function f({level:k="error",messages:E,suppressErrors:P=!1}){P||(k==="error"?console.error(E):k==="warning"?console.warn(E):console.debug(E))}function p(k,E){if(E||!k){const P=document.getElementById(d);P&&document.body.removeChild(P)}}function m(k){return k instanceof Error?k:new Error("Unknown Error")}function g(k,E){const{documentTitle:P,onAfterPrint:$,onPrintError:F,preserveAfterPrint:O,print:_,suppressErrors:D}=E;setTimeout(()=>{var L,R;if(k.contentWindow){let H=function(){$?.(),p(O)};var M=H;if(k.contentWindow.focus(),_)_(k).then(H).catch(W=>{F?F("print",m(W)):f({messages:["An error was thrown by the specified `print` function"],suppressErrors:D})});else{if(k.contentWindow.print){const W=(R=(L=k.contentDocument)===null||L===void 0?void 0:L.title)!==null&&R!==void 0?R:"",fe=k.ownerDocument.title;P&&(k.ownerDocument.title=P,k.contentDocument&&(k.contentDocument.title=P)),k.contentWindow.print(),P&&(k.ownerDocument.title=fe,k.contentDocument&&(k.contentDocument.title=W))}else f({messages:["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."],suppressErrors:D});[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(W=>{var fe,q;return((q=(fe=navigator.userAgent)!==null&&fe!==void 0?fe:navigator.vendor)!==null&&q!==void 0?q:"opera"in window&&window.opera).match(W)})?setTimeout(H,500):H()}}else f({messages:["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/"],suppressErrors:D})},500)}function v(k){const E=[],P=document.createTreeWalker(k,NodeFilter.SHOW_ELEMENT,null);let $=P.nextNode();for(;$;)E.push($),$=P.nextNode();return E}function b(k,E,P){const $=v(k),F=v(E);if($.length===F.length)for(let O=0;O<$.length;O++){const _=$[O],D=F[O],L=_.shadowRoot;if(L!==null){const R=D.attachShadow({mode:L.mode});R.innerHTML=L.innerHTML,b(L,R,P)}}else f({messages:["When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.",k,E],suppressErrors:P})}const C=`
    @page {
        /* Remove browser default header (title) and footer (url) */
        margin: 0;
    }
    @media print {
        body {
            /* Tell browsers to print background colors */
            color-adjust: exact; /* Firefox. This is an older version of "print-color-adjust" */
            print-color-adjust: exact; /* Firefox/Safari */
            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
        }
    }
`;function j(k,E,P,$){var F,O,_,D,L;const{contentNode:R,clonedContentNode:M,clonedImgNodes:H,clonedVideoNodes:W,numResourcesToLoad:fe,originalCanvasNodes:q}=P,{bodyClass:te,fonts:K,ignoreGlobalStyles:z,pageStyle:V,nonce:Z,suppressErrors:re,copyShadowRoots:me}=$;k.onload=null;const ge=(F=k.contentDocument)!==null&&F!==void 0?F:(O=k.contentWindow)===null||O===void 0?void 0:O.document;if(ge){const Pe=ge.body.appendChild(M);me&&b(R,Pe,!!re),K&&(!((_=k.contentDocument)===null||_===void 0)&&_.fonts&&(!((D=k.contentWindow)===null||D===void 0)&&D.FontFace)?K.forEach(ee=>{const ue=new FontFace(ee.family,ee.source,{weight:ee.weight,style:ee.style});k.contentDocument.fonts.add(ue),ue.loaded.then(()=>{E(ue)}).catch(Ae=>{E(ue,["Failed loading the font:",ue,"Load error:",m(Ae)])})}):(K.forEach(ee=>{E(ee)}),f({messages:['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'],suppressErrors:re})));const X=V??C,J=ge.createElement("style");Z&&(J.setAttribute("nonce",Z),ge.head.setAttribute("nonce",Z)),J.appendChild(ge.createTextNode(X)),ge.head.appendChild(J),te&&ge.body.classList.add(...te.split(" "));const ce=ge.querySelectorAll("canvas");for(let ee=0;ee<q.length;++ee){const ue=q[ee],Ae=ce[ee];if(Ae===void 0){f({messages:["A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.",ue],suppressErrors:re});continue}const Ie=Ae.getContext("2d");Ie&&Ie.drawImage(ue,0,0)}for(let ee=0;ee<H.length;ee++){const ue=H[ee],Ae=ue.getAttribute("src");if(Ae){const Ie=new Image;Ie.onload=()=>{E(ue)},Ie.onerror=(De,ye,Oe,Re,it)=>{E(ue,["Error loading <img>",ue,"Error",it])},Ie.src=Ae}else E(ue,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it.',ue])}for(let ee=0;ee<W.length;ee++){const ue=W[ee];ue.preload="auto";const Ae=ue.getAttribute("poster");if(Ae){const Ie=new Image;Ie.onload=()=>{E(ue)},Ie.onerror=(De,ye,Oe,Re,it)=>{E(ue,["Error loading video poster",Ae,"for video",ue,"Error:",it])},Ie.src=Ae}else ue.readyState>=2?E(ue):ue.src?(ue.onloadeddata=()=>{E(ue)},ue.onerror=(Ie,De,ye,Oe,Re)=>{E(ue,["Error loading video",ue,"Error",Re])},ue.onstalled=()=>{E(ue,["Loading video stalled, skipping",ue])}):E(ue,["Error loading video, `src` is empty",ue])}const ae="select",ne=R.querySelectorAll(ae),G=ge.querySelectorAll(ae);for(let ee=0;ee<ne.length;ee++)G[ee].value=ne[ee].value;if(!z){const ee=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']");for(let ue=0,Ae=ee.length;ue<Ae;++ue){const Ie=ee[ue];if(Ie.tagName.toLowerCase()==="style"){const De=ge.createElement(Ie.tagName),ye=Ie.sheet;if(ye){let Oe="";try{const Re=ye.cssRules.length;for(let it=0;it<Re;++it)typeof ye.cssRules[it].cssText=="string"&&(Oe+=`${ye.cssRules[it].cssText}\r
`)}catch(Re){f({messages:["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",Ie,`Original error: ${m(Re).message}`],level:"warning"})}De.setAttribute("id",`react-to-print-${ue}`),Z&&De.setAttribute("nonce",Z),De.appendChild(ge.createTextNode(Oe)),ge.head.appendChild(De)}}else if(Ie.getAttribute("href"))if(Ie.hasAttribute("disabled"))f({messages:["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",Ie],level:"warning"}),E(Ie);else{const De=ge.createElement(Ie.tagName);for(let ye=0,Oe=Ie.attributes.length;ye<Oe;++ye){const Re=Ie.attributes[ye];Re&&De.setAttribute(Re.nodeName,(L=Re.nodeValue)!==null&&L!==void 0?L:"")}De.onload=()=>{E(De)},De.onerror=(ye,Oe,Re,it,ut)=>{E(De,["Failed to load",De,"Error:",ut])},Z&&De.setAttribute("nonce",Z),ge.head.appendChild(De)}else f({messages:["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",Ie],level:"warning"}),E(Ie)}}}fe===0&&g(k,$)}function A({bodyClass:k,contentRef:E,copyShadowRoots:P,documentTitle:$,fonts:F,ignoreGlobalStyles:O,nonce:_,onAfterPrint:D,onBeforePrint:L,onPrintError:R,pageStyle:M,preserveAfterPrint:H,print:W,printIframeProps:fe,suppressErrors:q}){return(0,c.useCallback)(K=>{function z(){const V={bodyClass:k,contentRef:E,copyShadowRoots:P,documentTitle:$,fonts:F,ignoreGlobalStyles:O,nonce:_,onAfterPrint:D,onPrintError:R,pageStyle:M,preserveAfterPrint:H,print:W,suppressErrors:q},Z=(function(ge){const Pe=document.createElement("iframe");return Pe.width=`${document.documentElement.clientWidth}px`,Pe.height=`${document.documentElement.clientHeight}px`,Pe.style.position="absolute",Pe.style.top=`-${document.documentElement.clientHeight+100}px`,Pe.style.left=`-${document.documentElement.clientWidth+100}px`,Pe.id=d,Pe.srcdoc="<!DOCTYPE html>",ge&&(ge.allow&&(Pe.allow=ge.allow),ge.referrerPolicy!==void 0&&(Pe.referrerPolicy=ge.referrerPolicy),ge.sandbox!==void 0&&(Pe.sandbox=ge.sandbox)),Pe})(fe),re=(function(ge,Pe){const{contentRef:X,fonts:J,ignoreGlobalStyles:ce,suppressErrors:ae}=Pe,ne=(function({contentRef:De,optionalContent:ye,suppressErrors:Oe}){return ye&&typeof ye=="function"?(De&&f({level:"warning",messages:['"react-to-print" received a `contentRef` option and an optional-content param passed to its callback. The `contentRef` option will be ignored.']}),ye()):De?De.current:void f({messages:['"react-to-print" did not receive a `contentRef` option or a optional-content param pass to its callback.'],suppressErrors:Oe})})({contentRef:X,optionalContent:ge,suppressErrors:ae});if(!ne)return;const G=ne.cloneNode(!0),ee=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),ue=G.querySelectorAll("img"),Ae=G.querySelectorAll("video"),Ie=J?J.length:0;return{contentNode:ne,clonedContentNode:G,clonedImgNodes:ue,clonedVideoNodes:Ae,numResourcesToLoad:(ce?0:ee.length)+ue.length+Ae.length+Ie,originalCanvasNodes:ne.querySelectorAll("canvas")}})(K,V);if(!re)return void f({messages:["There is nothing to print"],suppressErrors:q});const me=(function(ge,Pe,X){const{suppressErrors:J}=ge,ce=[],ae=[];return function(ne,G){ce.includes(ne)?f({level:"debug",messages:["Tried to mark a resource that has already been handled",ne],suppressErrors:J}):(G?(f({messages:['"react-to-print" was unable to load a resource but will continue attempting to print the page',...G],suppressErrors:J}),ae.push(ne)):ce.push(ne),ce.length+ae.length===Pe&&g(X,ge))}})(V,re.numResourcesToLoad,Z);(function(ge,Pe,X,J){ge.onload=()=>{j(ge,Pe,X,J)},document.body.appendChild(ge)})(Z,me,re,V)}p(H,!0),L?L().then(()=>{z()}).catch(V=>{R?.("onBeforePrint",m(V))}):z()},[k,E,P,$,F,O,_,D,L,R,M,H,W,q])}return s})()})})(nb)),nb.exports}var uEe=cEe();const iM=()=>{const e=wt(),t=w.useRef(null),[n,r]=w.useState([]),i=localStorage.getItem("selectedClinicId"),[a,s]=w.useState([]),[c,d]=w.useState(""),[f,p]=w.useState(""),[m,g]=w.useState([]),[v,b]=w.useState(""),[C,j]=w.useState(null),A=Jr(),E=new URLSearchParams(A.search).get("patientId"),[P,$]=w.useState(!1),[F,O]=w.useState(null);w.useEffect(()=>{_()},[]);const _=async()=>{try{const ye=await $e.get(`/api/clinic/${i}`);O(ye.data.doctor||{}),console.log("clinicDetails",ye.clinic)}catch(ye){console.log("Error",ye)}},D=async()=>{if(ce?.uhid)try{const ye=await $e.get(`/api/doctor/prescriptions/by-uhid/${ce.uhid}`);if(ye.data?.exists&&ye.data.data){const Oe=ye.data.data;console.log("ppp",Oe),j(Oe._id),s(ye.data.data),ue({uhid:Oe.patient?.uhid||"",chiefComplaints:Oe.chiefComplaints||"",hpi:Oe.hpi||"",pastMedicalHistory:Oe.pastMedicalHistory||"",pastSurgicalHistory:Oe.pastSurgicalHistory||"",familyHistory:Oe.familyHistory||"",allergies:Oe.allergies||"",socialHistory:Oe.socialHistory||"",vitals:Oe.vitals||{heightCm:"",weightKg:"",bmi:"",bp:"",pulse:"",temperature:"",respiration:"",spo2:""},examinationFindings:Oe.examinationFindings||"",investigations:Oe.investigations||[],provisionalDiagnosis:Oe.provisionalDiagnosis||"",finalDiagnosis:Oe.finalDiagnosis||"",customizedMedicines:Oe.customizedMedicines||[],treatmentPlan:Oe.treatmentPlan||{lifestyleAdvice:"",procedures:"",referrals:"",notes:""},prescriptionText:Oe.prescriptionText||"",doctorComments:Oe.doctorComments||"",redFlags:Oe.redFlags||{isPresent:!1,notes:""},followUp:{nextAppointmentDate:Oe.followUp?.nextAppointmentDate||"",reminder:{sms:Oe.followUp?.reminder?.sms||!1,whatsapp:Oe.followUp?.reminder?.whatsapp||!1}},status:Oe.status||"draft"})}}catch(ye){console.log("fetchPrescription error",ye)}},L=async()=>{try{const ye=await $e.get(`/api/doctor/prescriptions/clinic/${i}`);r(ye.data||[]),console.log("data",ye.data)}catch(ye){console.log("error",ye)}};w.useEffect(()=>{L()},[]),w.useEffect(()=>{const ye=setTimeout(()=>{R()},400);return()=>clearTimeout(ye)},[f,c]);const R=async()=>{try{const ye=await $e.get(`/api/clinic/drugliberary/doctor?clinicId=${i}&search=${c}`);g(ye.data.data||[])}catch(ye){console.log("Error",ye)}},M=(ye=[])=>(console.log("medicines",ye),ye.map((Oe,Re)=>({id:Re+1,medicineName:Oe.genericName||"",brandName:Oe.brandName||"",dosage:Oe.dosage||"",frequency:Oe.frequency||"",duration:Oe.duration||"",instructions:Oe.instructions||""}))),{list:H=[],loading:W,error:fe}=qe(ye=>ye.patient),{clinic:q,accessToken:te}=qe(ye=>ye.auth),{currentClinic:K,loading:z,error:V,message:Z}=qe(ye=>ye.clinic),[re,me]=w.useState([]),ge=ye=>{me(ye);const Oe=[];let Re="";const it=[],ut=[];ye.forEach(ze=>{if(!ze.templates?.length)return;const pe=ze.templates[0],ke=M(pe.treatmentPlan?.medicines||[]);Oe.push(...ke),console.log("All Medicine",Oe),ze.doctorComments&&(Re+=ze.doctorComments+`
`);const st=pe.diagnosis?.provisional;st&&(Array.isArray(st)?it.push(...st):it.push(st));const ie=pe.diagnosis?.final;ie&&(Array.isArray(ie)?ut.push(...ie):ut.push(ie))}),console.log("allProvisionalDiagnosis",it),ue(ze=>({...ze,customizedMedicines:Oe,doctorComments:Re.trim(),provisionalDiagnosis:it.join(","),finalDiagnosis:ut.join(",")}))},[Pe,X]=w.useState([]),J=Fn(),[ce,ae]=w.useState(null),[ne,G]=w.useState(!1),[ee,ue]=w.useState({uhid:"",chiefComplaints:"",hpi:"",pastMedicalHistory:"",pastSurgicalHistory:"",familyHistory:"",allergies:"",socialHistory:"",vitals:{heightCm:"",weightKg:"",bmi:"",bp:"",pulse:"",temperature:"",respiration:"",spo2:""},examinationFindings:"",investigations:[],provisionalDiagnosis:"",finalDiagnosis:"",customizedMedicines:[],treatmentPlan:{lifestyleAdvice:"",procedures:"",referrals:"",notes:""},prescriptionText:"",doctorComments:"",redFlags:{isPresent:!1,notes:""},followUp:{nextAppointmentDate:"",reminder:{sms:!1,whatsapp:!1}},status:"draft"});w.useEffect(()=>{D()},[ce,P]),w.useEffect(()=>{(q?.id||localStorage.getItem("selectedClinicId"))&&e(Rv()).unwrap().then(Oe=>console.log("Fetched patients:",Oe)).catch(Oe=>console.error("Fetch patients error:",Oe))},[q?.id,e,P]),w.useEffect(()=>{const ye=v.trim().toLowerCase();let Oe=[];ye?Oe=H.filter(Re=>{const it=(Re.name||Re.fullName||"").toLowerCase(),ut=(Re.uhid||Re.uhidNumber||"").toLowerCase(),ze=(Re.phone||Re.mobile||"").toString();return it.includes(ye)||ut.includes(ye)||ze.includes(ye)}):Oe=H,console.log("Search:",ye,"Results:",Oe),X(Oe)},[v,H]);const Ae=ye=>ye?ye.split("-").map(Oe=>Oe.charAt(0).toUpperCase()+Oe.slice(1)).join(" "):"-",Ie=async()=>{if(!ce){Ee.error("Please select patient");return}const ye={patientId:ce._id,clinicId:q?.id||K?._id,...ee,status:ee.status||"draft"};try{let Oe;C?(Oe=await $e.put(`/api/doctor/prescriptions/${C}`,ye,{headers:{Authorization:`Bearer ${te}`}}),Ee.success("Prescription updated successfully ")):(Oe=await $e.post("/api/doctor/prescriptions",ye,{headers:{Authorization:`Bearer ${te}`}}),Ee.success("Prescription created successfully "))}catch(Oe){console.error(Oe),Ee.error(Oe?.response?.data?.message||"Failed to save prescription ")}};w.useEffect(()=>{if(!E||!H.length)return;const ye=H.find(Oe=>Oe._id===E||Oe.uhid===E||Oe.uhidNumber===E);ye&&(ae(ye),ue(Oe=>({...Oe,uhid:ye.uhid||ye.uhidNumber||""})))},[E,H]);const De=uEe.useReactToPrint({contentRef:t,documentTitle:`Prescription_${ce?.name||"Patient"}`,removeAfterPrint:!0,pageStyle:`
    @page {
      size: A4;
      margin: 0;
    }
    body {
      margin: 0;
      -webkit-print-color-adjust: exact;
      print-color-adjust: exact;
    }
  `});return o.jsxs("div",{className:"page",children:[o.jsx("h1",{className:"header",children:"Prescription Management"}),o.jsxs("div",{className:"card",children:[o.jsx("h2",{className:"section-title",children:"1. Patient Selection"}),o.jsxs("div",{className:"patient-search",children:[o.jsx("input",{className:"input",placeholder:"Search by name / UHID / mobile",value:v,onChange:ye=>b(ye.target.value)}),o.jsx("button",{className:"button primary-button",onClick:()=>G(!0),children:"+ Add Patient"})]}),W&&o.jsx("p",{children:"Loading patients..."}),fe&&o.jsx("p",{className:"error-text",children:fe}),(v.trim()||H.length>0)&&o.jsx("div",{className:"search-results",children:Pe.length>0?Pe.map(ye=>o.jsxs("div",{className:"result-item",onClick:()=>{ae(ye),ue(Re=>({...Re,uhid:ye.uhid||ye.uhidNumber||""}));const Oe=new URLSearchParams;Oe.set("patientId",ye._id),J({search:Oe.toString()},{replace:!0}),b(""),X([])},children:[o.jsx("strong",{children:ye.name||ye.fullName||"Unnamed"})," "," ",ye.uhid||ye.uhidNumber||"-","  ",ye.phone||ye.mobile||"-"]},ye._id||ye.id)):o.jsx("div",{className:"result-item",children:"No matching patients"})}),!W&&H.length===0&&o.jsx("p",{children:"No patients found."}),ce&&o.jsxs("div",{className:"patient-info",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Name:"})," ",ce.name||"-"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"UHID:"})," ",ce.uhid||"-"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Age / Gender:"})," ",ce.age||"-"," /"," ",ce.gender||"-"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Mobile:"})," ",ce.phone||"-"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Visit Type:"})," ",o.jsx("span",{className:`visit-badge ${ce?.visitType==="first-visit"?"visit-first":ce?.visitType==="follow-up"?"visit-follow":ce?.visitType==="review"?"visit-review":ce?.visitType==="emergency"?"visit-emergency":"visit-default"}`,children:Ae(ce?.visitType)})]}),o.jsx("button",{className:"button reset-button",onClick:()=>ae(null),children:"Clear Patient"})]})]}),ne&&o.jsx(Q9e,{onClose:()=>G(!1),isLoading:!1,refresh:P,setRefresh:$}),ce&&o.jsxs(o.Fragment,{children:[o.jsx(Z9e,{prescription:ee,setPrescription:ue}),o.jsx(J9e,{prescription:ee,setPrescription:ue}),o.jsx(eEe,{prescription:ee,setPrescription:ue}),o.jsx(oEe,{selectedPatient:ce,prescriptions:a,refresh:P,setRefresh:$}),o.jsx(tEe,{prescription:ee,setPrescription:ue}),o.jsx(nEe,{templates:n,loading:W,selectedTemplates:re,onToggleTemplate:ge}),o.jsx(rEe,{selectedDrug:f,setSelectedDrug:p,setSearchDrug:d,searchDrug:c,prescription:ee,setPrescription:ue,drugs:m}),o.jsx(iEe,{prescription:ee,setPrescription:ue}),o.jsx(aEe,{prescription:ee,setPrescription:ue}),o.jsx(sEe,{prescription:ee,setPrescription:ue}),o.jsxs("div",{className:"card",children:[o.jsx("h2",{className:"section-title",children:"Prescription Preview"}),o.jsx(nM,{clinicDetails:F,selectedPatient:ce,prescriptionMedicines:ee.customizedMedicines,prescription:ee,setPrescription:ue,writtenPrescription:"",token:te,clinicId:q?.id,clinic:K,autoReminder:"none"}),o.jsx("div",{style:{position:"absolute",top:"-10000px",left:"-10000px"},children:o.jsx(nM,{ref:t,clinicDetails:F,selectedPatient:ce,prescriptionMedicines:ee.customizedMedicines,prescription:ee,clinic:K})}),o.jsxs("div",{className:"button-group",children:[o.jsx("button",{className:"btn save-btn",onClick:Ie,children:"Save"}),o.jsx("button",{className:"btn edit-btn",onClick:De,children:"Print"})]})]})]}),o.jsx("style",{jsx:!0,children:`
        .page {
          padding: 40px;
          font-family: "Segoe UI", sans-serif;
          background: #f4f9fc;
          min-height: 100vh;
        }

        .header {
          text-align: center;
          color: #035f7b;
          margin-bottom: 40px;
          font-size: 2.2rem;
        }

        .card {
          background: white;
          padding: 24px;
          border-radius: 16px;
          // max-width: 800px;
          margin: 0 auto 24px;
          box-shadow: 0 6px 16px rgba(0, 0, 0, 0.08);
        }

        .section-title {
          color: #024f6d;
          margin-bottom: 16px;
          font-size: 1.4rem;
        }

        .patient-search {
          display: flex;
          gap: 12px;
        }

        .input {
          flex: 1;
          padding: 12px;
          border-radius: 8px;
          border: 1px solid #ccc;
          font-size: 1rem;
        }

        .button {
          padding: 10px 18px;
          border: none;
          border-radius: 8px;
          font-weight: 600;
          cursor: pointer;
        }

        .primary-button {
          background: #186476;
          color: white;
        }

        .primary-button:hover {
          background: #3fa3b9;
        }

        .reset-button {
          background: #dc3545;
          color: white;
        }

        .reset-button:hover {
          background: #c82333;
        }

        .search-results {
          border: 1px solid #ddd;
          margin-top: 10px;
          border-radius: 8px;
          overflow: hidden;
        }

        .result-item {
          padding: 10px 14px;
          cursor: pointer;
          border-bottom: 1px solid #eee;
        }

        .result-item:hover {
          background: #eef7ff;
        }

        .patient-info {
          background: #eef7ff;
          padding: 14px;
          border-radius: 10px;
          margin-top: 16px;
        }
          .visit-badge {
  display: inline-block;
  padding: 4px 10px;
  border-radius: 12px;
  font-size: 12px;
  font-weight: 600;
  margin-left: 6px;
}

.visit-first {
  background-color: #e3f2fd;
  color: #1565c0;
}

.visit-follow {
  background-color: #e8f5e9;
  color: #2e7d32;
}

.visit-review {
  background-color: #fff8e1;
  color: #f9a825;
}

.visit-emergency {
  background-color: #fdecea;
  color: #c62828;
}

.visit-default {
  background-color: #f5f5f5;
  color: #616161;
}
  .button-group {
  display: flex;
  gap: 16px; /* buttons ke beech gap */
  margin-top: 20px;
}

.btn {
  padding: 10px 24px;
  border: none;
  border-radius: 8px;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  color: white;
}

/* Save button style */
.save-btn {
  background: #28a745;
}

.save-btn:hover {
  background: #218838;
  transform: translateY(-2px);
  box-shadow: 0 4px 10px rgba(40, 167, 69, 0.3);
}

/* Edit button style */
.edit-btn {
  background: #007bff;
}

.edit-btn:hover {
  background: #0069d9;
  transform: translateY(-2px);
  box-shadow: 0 4px 10px rgba(0, 123, 255, 0.3);
}


      `})]})},dEe=({children:e,title:t="Doctor Dashboard"})=>{const[n,r]=w.useState(!1),i=()=>r(!n);return o.jsxs(o.Fragment,{children:[o.jsx("style",{jsx:!0,children:`
        .layout {
          display: flex;
          min-height: 100vh;
          background: linear-gradient(135deg, #f0f7fb 0%, #e6f0fa 100%);
          font-family: "Segoe UI", sans-serif;
        }

        /* Sidebar Slide-in */
        .sidebar-wrapper {
          position: fixed;
          top: 0;
          left: 0;
          height: 100%;
          width: 250px;
          z-index: 999;
          transition: transform 0.35s ease-in-out;
          transform: translateX(${n?"0":"-250px"});
        }

        /* Main Content Shift */
        .main-content {
          flex: 1;
          transition: margin-left 0.35s ease-in-out;
          margin-left: ${n?"250px":"0"};
          min-height: 100vh;
        }

        /* Top Bar */
        .top-bar {
          position: fixed;
          top: 0;
          left: ${n?"250px":"0"};
          right: 0;
          height: 70px;
          z-index: 998;
          display: flex;
          align-items: center;
          justify-content: flex-end;
          padding: 0 2rem;
          
          transition: left 0.35s ease-in-out;
        }

        .toggle-btn {
          background: #186476;
          color: white;
          border: none;
          border-radius: 20%;
          width: 40px;
          height: 40px;
          cursor: pointer;
          display: grid;
          place-items: center;
          box-shadow: 0 4px 15px rgba(24, 100, 118, 0.4);
          transition: all 0.3s ease;
        }

        .toggle-btn:hover {
          background: #3fa3b9;
          transform: scale(1.1);
        }

        /* Page Container */
        .page-container {
          padding: 100px 40px 40px;
          max-width: 1300px;
          margin: 0 auto;
        }

        .page-header h1 {
          font-size: 2.8rem;
          font-weight: 700;
          text-align: center;
          color: #186476;
          margin-bottom: 2.5rem;
          text-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
          .main-content {
            margin-left: 0 !important;
          }
          .top-bar {
            left: 0 !important;
            padding: 0 1rem;
          }
          .page-container {
            padding: 90px 20px 40px;
          }
          .page-header h1 {
            font-size: 2.4rem;
          }
          .toggle-btn {
            width: 36px;
            height: 36px;
          }
        }

        @media (max-width: 480px) {
          .page-header h1 {
            font-size: 2rem;
          }
        }
      `}),o.jsxs("div",{className:"layout",children:[o.jsx("div",{className:"sidebar-wrapper",children:o.jsx(Fo,{})}),o.jsx("div",{className:"top-bar",children:o.jsx("button",{className:"toggle-btn",onClick:i,children:o.jsx(pc,{size:22})})}),o.jsx("div",{className:"main-content",children:o.jsxs("div",{className:"page-container",children:[o.jsx("header",{className:"page-header",children:o.jsx("h1",{children:t})}),o.jsx("main",{children:e})]})})]})]})},fEe=({onSave:e,onClose:t,isLoading:n})=>{const[r,i]=w.useState({name:"",gender:"Male",age:"",mobile:"",email:"",address:""}),a=c=>{i({...r,[c.target.name]:c.target.value})},s=c=>{c.preventDefault(),e(r)};return o.jsxs(o.Fragment,{children:[o.jsxs("form",{onSubmit:s,className:"add-patient-form",children:[o.jsx("h3",{className:"form-title",children:"Add New Patient"}),o.jsxs("div",{className:"form-grid",children:[o.jsxs("div",{className:"form-field",children:[o.jsx("label",{className:"label",children:"Full Name *"}),o.jsx("input",{name:"name",type:"text",placeholder:"Enter patient name",value:r.name,onChange:a,required:!0,className:"input"})]}),o.jsxs("div",{className:"form-field",children:[o.jsx("label",{className:"label",children:"Gender *"}),o.jsxs("select",{name:"gender",value:r.gender,onChange:a,className:"select",children:[o.jsx("option",{value:"Male",children:"Male"}),o.jsx("option",{value:"Female",children:"Female"}),o.jsx("option",{value:"Other",children:"Other"})]})]}),o.jsxs("div",{className:"form-field",children:[o.jsx("label",{className:"label",children:"Age *"}),o.jsx("input",{name:"age",type:"number",min:"0",max:"150",placeholder:"e.g., 35",value:r.age,onChange:a,required:!0,className:"input"})]}),o.jsxs("div",{className:"form-field",children:[o.jsx("label",{className:"label",children:"Mobile Number *"}),o.jsx("input",{name:"mobile",type:"tel",placeholder:"10-digit mobile number",value:r.mobile,onChange:a,required:!0,className:"input"})]}),o.jsxs("div",{className:"form-field",children:[o.jsx("label",{className:"label",children:"Email (Optional)"}),o.jsx("input",{name:"email",type:"email",placeholder:"patient@example.com",value:r.email,onChange:a,className:"input"})]}),o.jsxs("div",{className:"form-field full-width",children:[o.jsx("label",{className:"label",children:"Address"}),o.jsx("input",{name:"address",type:"text",placeholder:"Full address",value:r.address,onChange:a,className:"input"})]})]}),o.jsxs("div",{className:"button-group",children:[o.jsx("button",{type:"submit",disabled:n,className:"button primary-button",children:n?"Saving...":"Save Patient"}),o.jsx("button",{type:"button",onClick:t,className:"button reset-button",children:"Cancel"})]})]}),o.jsx("style",{jsx:!0,children:`
        .add-patient-form {
          background: white;
          border-radius: 18px;
          padding: 32px 28px;
          max-width: 800px;
          margin: 20px auto;
        }

        .form-title {
          font-size: 1.5rem;
          font-weight: 600;
          color: #025b84;
          text-align: center;
          margin-bottom: 24px;
          border-bottom: 2px solid #e6f2f7;
          padding-bottom: 8px;
        }

        .form-grid {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 20px;
          margin-bottom: 24px;
        }

        .form-field {
          display: flex;
          flex-direction: column;
        }

        .form-field.full-width {
          grid-column: span 2;
        }

        .label {
          font-size: 0.95rem;
          font-weight: 600;
          color: #186476;
          margin-bottom: 6px;
        }

        .input,
        .select {
          width: 100%;
          padding: 12px 14px;
          border: 1px solid #3fa3b9;
          border-radius: 8px;
          font-size: 1rem;
          background-color: #f8fafc;
          color: #2c3e50;
          box-sizing: border-box;
        }

        .input:focus,
        .select:focus {
          outline: none;
          border-color: #1d9ad6;
          box-shadow: 0 0 0 3px rgba(29, 154, 214, 0.2);
          background-color: white;
        }

        .select {
          appearance: none;
          background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='10' height='10' viewBox='0 0 24 24' fill='none' stroke='%23186476' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><polyline points='6 9 12 15 18 9'></polyline></svg>");
          background-repeat: no-repeat;
          background-position: right 12px center;
          background-size: 10px;
        }

        .button-group {
          display: flex;
          gap: 16px;
          justify-content: center;
          flex-wrap: wrap;
        }

        .button {
          padding: 12px 28px;
          border: none;
          border-radius: 8px;
          font-size: 1rem;
          font-weight: 600;
          cursor: pointer;
          min-width: 140px;
        }

        .primary-button {
          background: #186476;
          color: white;
        }

        .primary-button:hover:not(:disabled) {
          background: #3fa3b9;
        }

        .primary-button:disabled {
          background: #6c757d;
          cursor: not-allowed;
        }

        .reset-button {
          background: #dc3545;
          color: white;
        }

        .reset-button:hover {
          background: #c82333;
        }

        @media (max-width: 768px) {
          .form-grid {
            grid-template-columns: 1fr;
          }
          .form-field.full-width {
            grid-column: span 1;
          }
          .add-patient-form {
            padding: 24px 16px;
          }
          .button-group {
            flex-direction: column;
          }
          .button {
            width: 100%;
          }
        }
      `})]})},aM="https://api.mediscript.in/api",pEe=({clinicId:e,token:t,selectedPatient:n,setSelectedPatient:r,showAddForm:i,setShowAddForm:a,isSavingPatient:s,onAddPatient:c})=>{const[d,f]=w.useState(""),[p,m]=w.useState([]),[g,v]=w.useState(!0),b=async(A="")=>{if(!(!e||!t)){v(!0);try{let k=`${aM}/reception/patient/all`;const E={clinicId:e};A.trim()&&(k=`${aM}/reception/patient/search`,E.name=A.trim());const{data:P}=await $e.get(k,{params:E,headers:{Authorization:`Bearer ${t}`}});m(P.patients||P.data||[])}catch(k){console.error("Failed to load patients:",k),Ee.error(k.response.data.error||"Patient Not Found"),m([])}finally{v(!1)}}};w.useEffect(()=>{e&&t&&b()},[e,t]);const C=()=>{b(d)},j=p.filter(A=>[A.name,A.uhid,A.phone].some(k=>k?.toString().toLowerCase().includes(d.toLowerCase())));return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"patient-section",children:[o.jsxs("div",{className:"search-bar",children:[o.jsx("input",{type:"text",placeholder:"Search by Name, UHID, or Phone...",value:d,onChange:A=>f(A.target.value),onKeyPress:A=>A.key==="Enter"&&C(),className:"input"}),o.jsx("button",{className:"button secondary-button small",onClick:C,disabled:g,children:"Search"}),o.jsx("button",{className:"button primary-button small",onClick:()=>a(!0),disabled:g,children:"+ Add Patient"})]}),g&&p.length===0&&o.jsx("p",{className:"spinner",children:"Loading patients..."}),o.jsx("div",{className:"patient-list",children:j.length>0?j.map(A=>o.jsx("div",{className:`patient-item ${n?._id===A._id?"selected":""}`,onClick:()=>r(A),children:o.jsxs("div",{children:[o.jsx("strong",{children:A.name})," (",A.uhid,")",o.jsx("br",{}),o.jsxs("small",{children:[A.age,"/",A.gender," | ",A.phone]})]})},A._id)):!g&&o.jsx("p",{className:"no-results",children:"No patients found."})}),i&&o.jsx("div",{className:"modal-overlay",onClick:()=>a(!1),children:o.jsx("div",{className:"modal-content",onClick:A=>A.stopPropagation(),children:o.jsx(fEe,{onSave:async A=>{await c(A),b()},onClose:()=>a(!1),isLoading:s})})})]}),o.jsx("style",{jsx:!0,children:`
        .patient-section { width: 100%; }
        .search-bar { display: flex; gap: 10px; margin-bottom: 16px; }
        .input { 
          flex: 1; padding: 12px; border: 1px solid #3fa3b9; 
          border-radius: 8px; background: #f8fafc; font-size: 1rem;
        }
        .input:focus { outline: none; border-color: #1d9ad6; box-shadow: 0 0 0 3px rgba(29,154,214,.2); }
        .button { 
          padding: 10px 14px; border: none; border-radius: 8px; 
          font-weight: 600; cursor: pointer; font-size: 0.9rem;
        }
        .primary-button { background: #186476; color: white; }
        .secondary-button { background: #edf7fa; color: #186476; }
        .button:disabled { opacity: 0.6; cursor: not-allowed; }
        .patient-list { 
          max-height: 320px; overflow-y: auto; border: 1px solid #ddd; 
          border-radius: 8px; background: white;
        }
        .patient-item { 
          padding: 14px; border-bottom: 1px solid #eee; cursor: pointer;
          transition: background 0.2s;
        }
        .patient-item:hover { background: #f1f8fb; }
        .patient-item.selected { 
          background: #d4eef7; border-left: 4px solid #186476; 
        }
        .no-results { text-align: center; color: #999; padding: 20px; font-style: italic; }
        .spinner { text-align: center; color: #186476; padding: 16px; font-style: italic; }
        .modal-overlay { 
          position: fixed; inset: 0; background: rgba(0,0,0,0.5);
          display: flex; justify-content: center; align-items: center; z-index: 1000;
        }
        .modal-content { 
          max-height: 90vh; overflow-y: auto; background: white;
          border-radius: 18px; padding: 20px; width: 95%; max-width: 500px;
        }
        @media (max-width: 768px) {
          .search-bar { flex-direction: column; }
          .button, .input { width: 100%; }
        }
      `})]})},w1="https://api.mediscript.in/api",oM={fitness_certificate:"fitness",illness_certificate:"illness",leave_certificate:"leave",fit_to_resume:"fit-to-resume",travel_certificate:"travel",insurance_certificate:"insurance",maternity_certificate:"maternity",surgical_certificate:"surgical",recovery_certificate:"recover",covid_fit:"recover",preoperative_fitness:"pre",hospitalization:"hospital",vaccination:"vaccin",referral_letter:"referral",death_certificate:"death",custom_certificate:"custom"},hEe=()=>{const{clinicId:e}=fc(),{token:t}=qe(z=>z.auth||{}),n=t||localStorage.getItem("token"),[r,i]=w.useState(!1),a=e||localStorage.getItem("selectedClinicId")||localStorage.getItem("clinicId"),[s,c]=w.useState(null),[d,f]=w.useState(""),[p,m]=w.useState({}),[g,v]=w.useState([]),[b,C]=w.useState(!1),[j,A]=w.useState(""),[k,E]=w.useState({}),[P,$]=w.useState([]),[F,O]=w.useState(""),[_,D]=w.useState(null),[L,R]=w.useState(null);Fn();const M=s?{name:s.name||"",age:s.age?.toString()||"",gender:s.gender||"",contact:s.phone||s.mobile||"",fatherName:s.fatherName||s.father_name||"",uhid:s.uhid||"N/A",address:s.address||"N/A"}:{};w.useEffect(()=>{m(s?{place:"Indore"}:{})},[s]),w.useEffect(()=>{d==="custom_certificate"?$e.get(`${w1}/certificate/`,{headers:{Authorization:`Bearer ${n}`}}).then(z=>{const V=z.data.templates?.[0];R(V||{title:"Custom Medical Certificate",fields:[{key:"purpose",label:"Purpose of Certificate",type:"text",required:!0},{key:"diagnosis",label:"Diagnosis",type:"textarea"},{key:"advice",label:"Doctor's Advice",type:"textarea"}]})}).catch(()=>{R({title:"Custom Certificate",fields:[{key:"purpose",label:"Purpose",type:"text",required:!0},{key:"remarks",label:"Remarks / Advice",type:"textarea"}]})}):(R(null),E({}))},[d,n]),w.useEffect(()=>{if(F){const z=P.find(V=>V.name===F);D(z||null),E({})}},[F,P]);const H=(z,V)=>{E(Z=>({...Z,[z]:V}))};w.useEffect(()=>{d==="custom_certificate"?$e.get(`${w1}/certificate/`,{headers:{Authorization:`Bearer ${n}`}}).then(z=>{const V=z.data.templates||[];if($(V),V.length>0){const Z=V[0];O(Z.name),D(Z)}}).catch(z=>{console.error("Failed to load templates",z),$([])}):($([]),O(""),D(null),E({}))},[d,n]);const W=(z,V)=>{m(Z=>({...Z,[z]:V}))},fe=async(z,V)=>{const Z=encodeURIComponent(V),re=`${w1}/certificate/${Z}/${z}`,me=window.open("","_blank");me.document.write(`
      <div style="position:fixed;inset:0;background:#f0f9ff;display:flex;align-items:center;justify-content:center;flex-direction:column;font-family:Segoe UI;">
        <h2 style="color:#05668d;">Loading PDF...</h2>
        <div style="width:80px;height:80px;border:10px solid #0288d1;border-top:transparent;border-radius:50%;animation:s 1s linear infinite;margin:30px;"></div>
        <style>@keyframes s{to{transform:rotate(360deg)}}</style>
      </div>
    `);try{const ge=await fetch(re,{headers:{Authorization:`Bearer ${n}`}});if(!ge.ok)throw new Error("Failed");const Pe=await ge.blob();me.location=URL.createObjectURL(Pe)}catch{me.document.body.innerHTML='<h2 style="color:red;padding:50px;text-align:center;">PDF Not Found or Template Not Supported</h2>'}},q=async()=>{if(!s)return A("Please select a patient");if(!d)return A("Please select certificate type");if(d==="custom_certificate"&&!F)return A("Please select a custom template");C(!0),A("");const z={patientId:s._id,name:M.name,age:parseInt(M.age)||0,gender:M.gender?.toLowerCase(),fatherName:p.fatherName||M.fatherName,contact:M.contact,details:{place:p.place||"Indore",...p}};d==="custom_certificate"?(z.type=F,z.customFields=k):z.type=oM[d]||d;try{const{data:V}=await $e.post(`${w1}/certificate/create`,z,{headers:{Authorization:`Bearer ${n}`}});if(V.success){const Z={...V.certificate,patient:s};v(me=>[Z,...me]),Ee.success("Certificate generated successfully!");const re=d==="custom_certificate"?F:oM[d]||d;fe(Z._id,re)}}catch(V){A(V.response?.data?.error||"Failed to generate certificate")}finally{C(!1)}},te=()=>!d||!s?null:o.jsxs("div",{className:"dynamic-form",children:[o.jsxs("div",{className:"section",children:[o.jsx("h4",{children:"Patient Information"}),o.jsxs("div",{className:"row",children:[o.jsx("input",{value:M.name,readOnly:!0,placeholder:"Name"}),o.jsx("input",{type:"number",value:M.age,readOnly:!0,placeholder:"Age"})]}),o.jsxs("div",{className:"row",children:[o.jsx("input",{value:M.gender==="male"?"Male":"Female",readOnly:!0}),o.jsx("input",{type:"number",value:M.contact,readOnly:!0,placeholder:"Mobile"})]}),(d==="fitness_certificate"||d==="illness_certificate"||d==="leave_certificate"||d==="insurance_certificate"||d==="vaccination"||d==="hospitalization")&&o.jsx("input",{value:p.fatherName??M.fatherName??"",placeholder:"Father's / Husband's Name",onChange:z=>W("fatherName",z.target.value)})]}),d==="fitness_certificate"&&o.jsxs("div",{className:"section",children:[o.jsx("h4",{children:"Fitness Certificate Details"}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Examination Date"}),o.jsx("input",{type:"date",value:p.examDate||"",onChange:z=>W("examDate",z.target.value)})]}),o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Height (cm)"}),o.jsx("input",{placeholder:"Height in cm",value:p.height||"",onChange:z=>W("height",z.target.value)})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Weight (kg)"}),o.jsx("input",{placeholder:"Weight in kg",value:p.weight||"",onChange:z=>W("weight",z.target.value)})]})]}),o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Blood Pressure"}),o.jsx("input",{placeholder:"e.g. 120/80",value:p.bp||"",onChange:z=>W("bp",z.target.value)})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Pulse (bpm)"}),o.jsx("input",{placeholder:"Pulse rate",value:p.pulse||"",onChange:z=>W("pulse",z.target.value)})]})]}),o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Vision Left"}),o.jsx("input",{placeholder:"e.g. 6/6",value:p.visionLeft||"",onChange:z=>W("visionLeft",z.target.value)})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Vision Right"}),o.jsx("input",{placeholder:"e.g. 6/6",value:p.visionRight||"",onChange:z=>W("visionRight",z.target.value)})]})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Hearing"}),o.jsx("input",{placeholder:"Enter hearing condition",value:p.hearing||"",onChange:z=>W("hearing",z.target.value)})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Chest Condition"}),o.jsx("input",{placeholder:"Enter chest condition",value:p.chest||"",onChange:z=>W("chest",z.target.value)})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Teeth Condition"}),o.jsx("input",{placeholder:"Enter teeth condition",value:p.teeth||"",onChange:z=>W("teeth",z.target.value)})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Mental Condition"}),o.jsx("input",{placeholder:"Enter mental condition",value:p.mentalCondition||"",onChange:z=>W("mentalCondition",z.target.value)})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Purpose"}),o.jsx("input",{placeholder:"Employment, Driving, etc.",value:p.purpose||"",onChange:z=>W("purpose",z.target.value)})]}),o.jsx("h5",{children:"Address Details"}),o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Village / Area"}),o.jsx("input",{placeholder:"Enter village or area",value:p.village||"",onChange:z=>W("village",z.target.value)})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Presenting Officer"}),o.jsx("input",{placeholder:"Enter officer name",value:p.po||"",onChange:z=>W("po",z.target.value)})]})]}),o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Person Sick / Patient Sick"}),o.jsx("input",{placeholder:"Enter patient condition",value:p.ps||"",onChange:z=>W("ps",z.target.value)})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"District"}),o.jsx("input",{placeholder:"Enter district",value:p.district||"",onChange:z=>W("district",z.target.value)})]})]}),o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"State"}),o.jsx("input",{placeholder:"Enter state",value:p.state||"",onChange:z=>W("state",z.target.value)})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"PIN Code"}),o.jsx("input",{type:"number",placeholder:"Enter PIN",value:p.pin||"",onChange:z=>W("pin",z.target.value)})]})]})]}),d==="recover"&&o.jsxs("div",{className:"section",children:[o.jsx("h4",{children:"COVID Recovery Certificate"}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Date Tested Positive"}),o.jsx("input",{type:"date",value:p.positiveDate||"",onChange:z=>W("positiveDate",z.target.value)})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Date Tested Negative"}),o.jsx("input",{type:"date",value:p.negativeDate||"",onChange:z=>W("negativeDate",z.target.value)})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Examination Date"}),o.jsx("input",{type:"date",value:p.examinationDate||"",onChange:z=>W("examinationDate",z.target.value)})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Fitness Status"}),o.jsxs("select",{value:p.fitnessStatus||"",onChange:z=>W("fitnessStatus",z.target.value),children:[o.jsx("option",{value:"",children:"Select Fitness Status"}),o.jsx("option",{value:"FIT",children:"FIT"}),o.jsx("option",{value:"UNFIT",children:"UNFIT"})]})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Advice"}),o.jsx("textarea",{rows:"3",placeholder:"Enter doctor's advice",value:p.advice||"",onChange:z=>W("advice",z.target.value)})]})]}),d==="surgical_certificate"&&o.jsxs("div",{className:"section",children:[o.jsx("h4",{children:"Surgical Fitness Certificate"}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Hospital Name"}),o.jsx("input",{type:"text",placeholder:"Enter hospital name",value:p.hospitalName||"",onChange:z=>W("hospitalName",z.target.value)})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Surgery Name"}),o.jsx("input",{placeholder:"Enter surgery name",value:p.surgeryName||"",onChange:z=>W("surgeryName",z.target.value)})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Surgery Date"}),o.jsx("input",{type:"date",value:p.surgeryDate||"",onChange:z=>W("surgeryDate",z.target.value)})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Anesthesia Type"}),o.jsx("input",{placeholder:"Enter anesthesia type",value:p.anesthesiaType||"",onChange:z=>W("anesthesiaType",z.target.value)})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Recovery Status"}),o.jsx("input",{placeholder:"Enter recovery status",value:p.recoveryStatus||"",onChange:z=>W("recoveryStatus",z.target.value)})]}),o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Hospital Stay From"}),o.jsx("input",{type:"date",value:p.hospitalStayFrom||"",onChange:z=>W("hospitalStayFrom",z.target.value)})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Hospital Stay To"}),o.jsx("input",{type:"date",value:p.hospitalStayTo||"",onChange:z=>W("hospitalStayTo",z.target.value)})]})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Diagnosis"}),o.jsx("input",{placeholder:"Enter diagnosis",value:p.diagnosis||"",onChange:z=>W("diagnosis",z.target.value)})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Advice"}),o.jsx("textarea",{rows:"3",placeholder:"Doctor's advice",value:p.advice||"",onChange:z=>W("advice",z.target.value)})]})]}),d==="maternity_certificate"&&o.jsxs("div",{className:"section",children:[o.jsx("h4",{children:"Maternity Certificate"}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Examination Date"}),o.jsx("input",{type:"date",value:p.examinationDate||"",onChange:z=>W("examinationDate",z.target.value)})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Pregnancy Weeks"}),o.jsx("input",{placeholder:"Enter pregnancy weeks",value:p.pregnancyWeeks||"",onChange:z=>W("pregnancyWeeks",z.target.value)})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Expected Delivery Date"}),o.jsx("input",{type:"date",value:p.expectedDeliveryDate||"",onChange:z=>W("expectedDeliveryDate",z.target.value)})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Fitness Status"}),o.jsxs("select",{value:p.fitnessStatus||"",onChange:z=>W("fitnessStatus",z.target.value),children:[o.jsx("option",{value:"",children:"Select Status"}),o.jsx("option",{value:"fit",children:"Fit"}),o.jsx("option",{value:"unfit",children:"Unfit"})]})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Advice"}),o.jsx("textarea",{rows:"3",placeholder:"Enter doctor's advice",value:p.advice||"",onChange:z=>W("advice",z.target.value)})]}),o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Maternity Leave From"}),o.jsx("input",{type:"date",value:p.maternityLeaveFrom||"",onChange:z=>W("maternityLeaveFrom",z.target.value)})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Maternity Leave To"}),o.jsx("input",{type:"date",value:p.maternityLeaveTo||"",onChange:z=>W("maternityLeaveTo",z.target.value)})]})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Remarks"}),o.jsx("textarea",{rows:"2",placeholder:"Enter remarks",value:p.remarks||"",onChange:z=>W("remarks",z.target.value)})]})]}),d==="preoperative_fitness"&&o.jsxs("div",{className:"section",children:[o.jsx("h4",{children:"Pre-Operative Fitness Certificate"}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Surgery Type"}),o.jsx("input",{placeholder:"Enter type of surgery",value:p.surgeryType||"",onChange:z=>W("surgeryType",z.target.value)})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Proposed Surgery Date"}),o.jsx("input",{type:"date",value:p.surgeryDate||"",onChange:z=>W("surgeryDate",z.target.value)})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Hospital Name"}),o.jsx("input",{placeholder:"Enter hospital name",value:p.hospitalName||"",onChange:z=>W("hospitalName",z.target.value)})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Investigations Done"}),o.jsx("textarea",{rows:"3",placeholder:"List completed investigations",value:p.investigations||"",onChange:z=>W("investigations",z.target.value)})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Fitness Status"}),o.jsxs("select",{value:p.fitStatus||"",onChange:z=>W("fitStatus",z.target.value),children:[o.jsx("option",{value:"",children:"Select Status"}),o.jsx("option",{value:"fit",children:"Fit"}),o.jsx("option",{value:"unfit",children:"Unfit"})]})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Special Remarks"}),o.jsx("textarea",{rows:"3",placeholder:"Enter any special remarks",value:p.specialRemarks||"",onChange:z=>W("specialRemarks",z.target.value)})]})]}),d==="fit_to_resume"&&o.jsxs("div",{className:"section",children:[o.jsx("h4",{children:"Fit to Resume Duty"}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Diagnosis"}),o.jsx("input",{placeholder:"Enter diagnosis",value:p.diagnosis||"",onChange:z=>W("diagnosis",z.target.value)})]}),o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"ILL From"}),o.jsx("input",{type:"date",value:p.fromDate||"",onChange:z=>W("fromDate",z.target.value)})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"ILL To"}),o.jsx("input",{type:"date",value:p.toDate||"",onChange:z=>W("toDate",z.target.value)})]})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Resume Date"}),o.jsx("input",{type:"date",value:p.resumeDate||"",onChange:z=>W("resumeDate",z.target.value)})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Remarks"}),o.jsx("textarea",{rows:"2",placeholder:"Enter remarks",value:p.remarks||"",onChange:z=>W("remarks",z.target.value)})]})]}),d==="travel_certificate"&&o.jsxs("div",{className:"section",children:[o.jsx("h4",{children:"Travel Fitness Certificate"}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Travel Purpose"}),o.jsx("input",{placeholder:"e.g. Air travel to Delhi",value:p.travelPurpose||"",onChange:z=>W("travelPurpose",z.target.value)})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Travel Date"}),o.jsx("input",{type:"date",value:p.travelDate||"",onChange:z=>W("travelDate",z.target.value)})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Current Diagnosis"}),o.jsx("input",{placeholder:"Enter diagnosis",value:p.diagnosis||"",onChange:z=>W("diagnosis",z.target.value)})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Fit for Travel?"}),o.jsxs("select",{value:p.fitForTravel||"",onChange:z=>W("fitForTravel",z.target.value==="true"),children:[o.jsx("option",{value:"",children:"Select"}),o.jsx("option",{value:!0,children:"Yes"}),o.jsx("option",{value:!1,children:"No"})]})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Precautions"}),o.jsx("textarea",{rows:"3",placeholder:"Enter any precautions",value:p.precautions||"",onChange:z=>W("precautions",z.target.value)})]})]}),d==="insurance_certificate"&&o.jsxs("div",{className:"section",children:[o.jsx("h4",{children:"Insurance Certificate"}),o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Insurance Company Name"}),o.jsx("input",{placeholder:"Enter insurance company",value:p.insuranceCompany||"",onChange:z=>W("insuranceCompany",z.target.value)})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Policy Number"}),o.jsx("input",{type:"number",placeholder:"Enter policy number",value:p.policyNumber||"",onChange:z=>W("policyNumber",z.target.value)})]})]}),o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Claim Number (if any)"}),o.jsx("input",{placeholder:"Optional",value:p.claimNumber||"",onChange:z=>W("claimNumber",z.target.value)})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"ID Proof Number (Aadhaar / PAN)"}),o.jsx("input",{type:"number",placeholder:"Enter ID proof number",value:p.idProofNo||"",onChange:z=>W("idProofNo",z.target.value)})]})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Diagnosis"}),o.jsx("input",{placeholder:"Enter diagnosis",value:p.diagnosis||"",onChange:z=>W("diagnosis",z.target.value)})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Treatment Given"}),o.jsx("textarea",{rows:"3",placeholder:"Describe treatment",value:p.treatmentGiven||"",onChange:z=>W("treatmentGiven",z.target.value)})]}),o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Admitted Date"}),o.jsx("input",{type:"date",value:p.admissionDate||"",onChange:z=>W("admissionDate",z.target.value)})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Discharge Date"}),o.jsx("input",{type:"date",value:p.dischargeDate||"",onChange:z=>W("dischargeDate",z.target.value)})]})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Hospital Name"}),o.jsx("input",{type:"text",placeholder:"Enter hospital name",value:p.hospitalName||"",onChange:z=>W("hospitalName",z.target.value)})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Total Bill Amount ()"}),o.jsx("input",{type:"number",placeholder:"Enter total bill amount",value:p.billAmount||"",onChange:z=>W("billAmount",z.target.value)})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Doctor's Remarks / Final Advice"}),o.jsx("textarea",{rows:"4",placeholder:"Add doctor's remarks",value:p.doctorRemarks||"",onChange:z=>W("doctorRemarks",z.target.value)})]})]}),d==="vaccination"&&o.jsxs("div",{className:"section",children:[o.jsx("h4",{children:"Vaccination Certificate"}),o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Vaccine Name"}),o.jsx("input",{placeholder:"e.g. Covishield, Covaxin, Pfizer",value:p.vaccineName||"",onChange:z=>W("vaccineName",z.target.value)})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Dose Number"}),o.jsxs("select",{value:p.doseNumber||"",onChange:z=>W("doseNumber",parseInt(z.target.value)),children:[o.jsx("option",{value:"",children:"Select Dose"}),o.jsx("option",{value:1,children:"1st Dose"}),o.jsx("option",{value:2,children:"2nd Dose"}),o.jsx("option",{value:3,children:"Booster / 3rd Dose"})]})]})]}),o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Batch Number"}),o.jsx("input",{placeholder:"Enter vaccine batch number",value:p.batchNumber||"",onChange:z=>W("batchNumber",z.target.value)})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Vaccination Date"}),o.jsx("input",{type:"date",value:p.vaccinationDate||"",onChange:z=>W("vaccinationDate",z.target.value)})]})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Next Dose Due Date (if applicable)"}),o.jsx("input",{type:"date",value:p.nextDoseDate||"",onChange:z=>W("nextDoseDate",z.target.value)})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Place of Vaccination"}),o.jsx("input",{placeholder:"Hospital / Clinic Name",value:p.place||"Indore City Hospital",onChange:z=>W("place",z.target.value)})]}),M.idProofNo&&o.jsxs("div",{style:{marginTop:"10px",color:"#555",fontSize:"0.95rem"},children:[o.jsx("strong",{children:"ID Proof:"})," ",M.idProofNo]})]}),d==="hospitalization"&&o.jsxs("div",{className:"section",children:[o.jsx("h4",{children:"Hospitalization Certificate"}),o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Admission Date"}),o.jsx("input",{type:"date",value:p.admissionDate||"",onChange:z=>W("admissionDate",z.target.value)})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Discharge Date"}),o.jsx("input",{type:"date",value:p.dischargeDate||"",onChange:z=>W("dischargeDate",z.target.value)})]})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Diagnosis"}),o.jsx("input",{placeholder:"Enter diagnosis",value:p.diagnosis||"",onChange:z=>W("diagnosis",z.target.value)})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Treatment Given"}),o.jsx("textarea",{rows:"3",placeholder:"Describe treatment",value:p.treatmentGiven||"",onChange:z=>W("treatmentGiven",z.target.value)})]}),o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Hospital Name"}),o.jsx("input",{placeholder:"Enter hospital name",value:p.hospitalName||"",onChange:z=>W("hospitalName",z.target.value)})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Ward"}),o.jsx("input",{placeholder:"e.g. General, ICU, Private",value:p.ward||"",onChange:z=>W("ward",z.target.value)})]})]}),o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Bed Number (optional)"}),o.jsx("input",{placeholder:"Bed Number",value:p.bedNumber||"",onChange:z=>W("bedNumber",z.target.value)})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Advised Rest Days After Discharge"}),o.jsx("input",{type:"number",placeholder:"Number of days",value:p.advisedRestDays||"",onChange:z=>W("advisedRestDays",z.target.value)})]})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Place of Issue"}),o.jsx("input",{placeholder:"Enter place",value:p.place||"Indore",onChange:z=>W("place",z.target.value)})]}),M.idProofNo&&o.jsxs("div",{style:{marginTop:"12px",padding:"10px",background:"#f0f8ff",borderRadius:"8px",fontSize:"0.95rem"},children:[o.jsx("strong",{children:"ID Proof Number:"})," ",M.idProofNo]})]}),(d==="illness_certificate"||d==="leave_certificate")&&o.jsxs("div",{className:"section",children:[o.jsxs("h4",{children:[d==="illness_certificate"?"Illness":"Medical Leave"," ","Certificate"]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Diagnosis"}),o.jsx("input",{placeholder:"Enter diagnosis",value:p.diagnosis||"",onChange:z=>W("diagnosis",z.target.value)})]}),o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"From Date"}),o.jsx("input",{type:"date",value:p.fromDate||"",onChange:z=>W("fromDate",z.target.value)})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"To Date"}),o.jsx("input",{type:"date",value:p.toDate||"",onChange:z=>W("toDate",z.target.value)})]})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Rest Days"}),o.jsx("input",{placeholder:"Enter number of rest days",value:p.restDays||"",onChange:z=>W("restDays",z.target.value)})]}),d==="illness_certificate"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Institution Name"}),o.jsx("input",{placeholder:"School / College / Company",value:p.institutionName||"",onChange:z=>W("institutionName",z.target.value)})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Class / Roll Number"}),o.jsx("input",{placeholder:"Enter class / roll number",value:p.classSection||"",onChange:z=>W("classSection",z.target.value)})]})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Doctor's Advice"}),o.jsx("textarea",{rows:"3",placeholder:"Enter doctor's advice",value:p.doctorAdvice||"",onChange:z=>W("doctorAdvice",z.target.value)})]})]}),o.jsxs("div",{className:"section",children:[o.jsx("h4",{children:"Select Custom Template"}),P.length===0?o.jsx("p",{children:"No custom templates found."}):o.jsxs("select",{value:F,onChange:z=>O(z.target.value),style:{marginBottom:"20px"},children:[o.jsx("option",{value:"",children:"-- Choose Template --"}),P.map(z=>o.jsxs("option",{value:z.name,children:[z.title," (",z.name,")"]},z._id))]}),_&&o.jsxs(o.Fragment,{children:[o.jsx("h4",{children:_.title}),_.fields.map(z=>o.jsxs("div",{style:{marginBottom:"16px"},children:[o.jsxs("label",{children:[z.label," ",z.required&&o.jsx("span",{style:{color:"red"},children:"*"})]}),z.type==="textarea"?o.jsx("textarea",{rows:4,placeholder:z.label,value:k[z.key]||"",onChange:V=>H(z.key,V.target.value)}):z.type==="number"?o.jsx("input",{type:"number",placeholder:z.label,value:k[z.key]||"",onChange:V=>H(z.key,V.target.value)}):o.jsx("input",{type:"text",placeholder:z.label,value:k[z.key]||"",onChange:V=>H(z.key,V.target.value)})]},z.key))]})]}),d==="custom_certificate"&&K(),o.jsx("div",{className:"section",children:o.jsx("input",{placeholder:"Place (Default: Indore)",value:p.place||"Indore",onChange:z=>W("place",z.target.value)})})]}),K=()=>{if(d!=="custom_certificate")return null};return o.jsxs(dEe,{title:"Medical Certificates",children:[o.jsxs("div",{className:"certificate-container",children:[j&&o.jsx("div",{className:"error",children:j}),o.jsxs("div",{className:"card",children:[o.jsx("h3",{children:"Select Patient"}),o.jsx(pEe,{clinicId:a,token:n,selectedPatient:s,setSelectedPatient:c,showAddForm:r,setShowAddForm:i})]}),s&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"card patient-details-card",children:[o.jsx("h3",{children:"Patient Details"}),o.jsxs("div",{className:"patient-grid",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Name:"})," ",M.name]}),o.jsxs("div",{children:[o.jsx("strong",{children:"UHID:"})," ",M.uhid]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Age:"})," ",M.age," years"]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Gender:"})," ",M.gender==="male"?"Male":"Female"]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Mobile:"})," ",M.contact]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Father's Name:"})," ",M.fatherName||"N/A"]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Address:"})," ",M.address]})]})]}),o.jsxs("div",{className:"card",children:[o.jsx("h3",{children:"Select Certificate Type"}),o.jsxs("select",{value:d,onChange:z=>{f(z.target.value),m({place:"Indore"}),E({})},children:[o.jsx("option",{value:"",children:"-- Select Certificate --"}),o.jsx("option",{value:"fitness_certificate",children:"Fitness Certificate"}),o.jsx("option",{value:"illness_certificate",children:"Illness Certificate"}),o.jsx("option",{value:"leave_certificate",children:"Medical Leave Certificate"}),o.jsx("option",{value:"maternity_certificate",children:"Maternity Certificate"}),o.jsx("option",{value:"recover",children:"COVID Recovery Certificate"}),o.jsx("option",{value:"vaccination",children:"Vaccination Certificate"}),o.jsx("option",{value:"travel_certificate",children:"Travel Fitness Certificate"}),o.jsx("option",{value:"insurance_certificate",children:"Insurance Certificate"}),o.jsx("option",{value:"fit_to_resume",children:"Fit to Resume Duty"}),o.jsx("option",{value:"preoperative_fitness",children:"Pre-Operative Fitness"}),o.jsx("option",{value:"surgical_certificate",children:"Surgical Certificate"}),o.jsx("option",{value:"hospitalization",children:"Hospitalization Certificate"}),o.jsx("option",{value:"custom_certificate",children:"Other (Custom Certificate)"})," "]}),te(),o.jsx("button",{onClick:q,disabled:b||!d,className:"generate-btn",children:b?"Generating...":"Generate & View PDF"})]})]}),g.length>0&&o.jsxs("div",{className:"card",children:[o.jsx("h3",{children:"Recent Certificates"}),g.map(z=>o.jsxs("div",{className:"history-item",children:[o.jsxs("div",{children:[o.jsx("strong",{children:(z.type||"").toUpperCase().replace(/-/g," ")})," ","- ",z.name,o.jsx("br",{}),o.jsx("small",{children:new Date(z.createdAt).toLocaleString("en-IN")})]}),o.jsx("button",{onClick:()=>fe(z._id,z.type),className:"view-btn",children:"View PDF"})]},z._id))]})]}),o.jsx("style",{jsx:!0,children:`
        .certificate-container {
          max-width: 1100px;
          margin: 20px auto;
          padding: 20px;
          font-family: "Inter", "Segoe UI", sans-serif;
          line-height: 1.55;
        }

        /* ===== Card Styling ===== */
        .card {
          background: #ffffff;
          border-radius: 20px;
          padding: 32px;
          margin-bottom: 28px;
          box-shadow: 0 8px 26px rgba(0, 0, 0, 0.08);
          border: 1px solid #e2ebf3;
        }

        .patient-details-card {
          background: linear-gradient(135deg, #e9f7ef, #f1fff4);
          border: 1px solid #81c784;
        }

        .patient-details-card h3 {
          color: #1b5e20;
        }

        .card h3 {
          text-align: center;
          font-size: 1.7rem;
          font-weight: 700;
          margin-bottom: 20px;
          color: #01579b;
        }

        .card h4 {
          color: #0277bd;
          font-weight: 600;
          font-size: 1.35rem;
          border-bottom: 2px solid #dbeeff;
          padding-bottom: 6px;
          margin-bottom: 18px;
        }

        .section {
          background: #f7fbff;
          border-radius: 16px;
          padding: 24px;
          margin-bottom: 26px;
          border: 1px solid #e0efff;
        }

        /* ===== FORM LAYOUT FIX (NO OVERLAP) ===== */

        .form-row {
          display: flex;
          flex-direction: column;
          width: 100%;
        }

        /* Labels */
        .form-row label {
          margin-bottom: 6px;
          font-size: 0.95rem;
          font-weight: 600;
          color: #01579b;
        }

        /* Modern Input Styling */
        input,
        select,
        textarea {
          width: 100%;
          min-width: 0; /* <-- CRITICAL FIX: Prevent grid overflow */
          padding: 14px;
          font-size: 1rem;
          border-radius: 12px;
          border: 1.8px solid #ced9e3;
          background: #fff;
          transition: all 0.25s ease;
          box-sizing: border-box;
        }

        input[readonly] {
          background: #e0f7f4;
          color: #004d40;
          font-weight: 600;
        }

        select:focus,
        input:focus,
        textarea:focus {
          border-color: #0288d1;
          box-shadow: 0 0 0 3px rgba(2, 136, 209, 0.15);
          outline: none;
        }

        /* ===== GRID SYSTEM FIXED ===== */
        .row {
          display: grid;
          grid-template-columns: repeat(2, 1fr);
          gap: 22px; /* spacing between fields */
          width: 100%;
          margin-bottom: 10px;
        }

        /* Patient Grid */
        .patient-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
          gap: 16px;
        }

        .patient-grid div {
          padding: 14px 18px;
          background: #ffffff;
          border-radius: 12px;
          font-size: 1.05rem;
          box-shadow: 0 3px 12px rgba(0, 0, 0, 0.06);
        }

        /* ===== Buttons ===== */
        .generate-btn {
          width: 100%;
          margin-top: 28px;
          padding: 18px;
          border: none;
          border-radius: 40px;
          background: linear-gradient(135deg, #0288d1, #03a9f4);
          color: white;
          font-size: 1.35rem;
          font-weight: 700;
          cursor: pointer;
          transition: 0.3s ease;
        }

        .generate-btn:hover {
          transform: translateY(-2px);
          box-shadow: 0 8px 20px rgba(2, 136, 209, 0.3);
        }

        .generate-btn:disabled {
          background: #9eb1bd;
          cursor: not-allowed;
        }

        .view-btn {
          background: #1b5e20;
          padding: 8px 20px;
          border-radius: 50px;
          font-weight: 600;
          color: white;
          border: none;
        }

        /* ===== History ===== */
        .history-item {
          background: #f7fbff;
          border: 1px solid #dbeeff;
          border-radius: 14px;
          padding: 16px;
          margin-bottom: 12px;
          display: flex;
          justify-content: space-between;
          align-items: center;
        }

        /* ===== ERROR BOX ===== */
        .error {
          background: #ffebee;
          color: #c62828;
          padding: 14px;
          font-weight: 700;
          border-radius: 12px;
          margin-bottom: 18px;
          text-align: center;
        }

        /* ===== MOBILE FIX ===== */
        @media (max-width: 900px) {
          .row {
            grid-template-columns: 1fr; /* one column on tablet/mobile */
          }
          .card {
            padding: 24px;
          }
          .certificate-container {
            padding: 12px;
          }
        }
      `})]})},mEe=({isOpen:e,onClose:t,editForm:n,setEditForm:r,addMedicine:i,updateMedicine:a,removeMedicine:s,onSave:c})=>e?o.jsxs(o.Fragment,{children:[o.jsx("style",{children:`.ctm-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.6);
  display: flex;
  justify-content: center;
  overflow-y:auto;
  
  align-items: center;
  z-index: 3000;
}

.ctm-modal {
  background: #fff;
  width: 650px;
  max-width: 95%;
   margin-top:75%;
  border-radius: 14px;
  overflow-y:auto !important ;
  
  padding: 22px;
  animation: fadeIn 0.25s ease;
}

.ctm-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-bottom: 1px solid #eee;
  padding-bottom: 10px;
}

.ctm-header h2 {
  margin: 0;
  color: #05668d;
}

.ctm-close {
  background: none;
  border: none;
  font-size: 18px;
  cursor: pointer;
}

.ctm-section {
  margin-top: 18px;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.ctm-section label {
  font-weight: 600;
  font-size: 14px;
}

.ctm-section input,
.ctm-section textarea {
  padding: 8px;
  border-radius: 6px;
  border: 1px solid #ccc;
  font-size: 14px;
}

.ctm-section textarea {
  resize: vertical;
  min-height: 70px;
}

.ctm-medicine-row {
  display: grid;
  grid-template-columns: repeat(3, 1fr); /* 4 equal columns */
  gap: 6px;
  margin-bottom: 6px;
}

.ctm-remove {
  background: #dc3545;
  color: white;
  border: none;
  border-radius: 6px;
  padding: 0 8px;
  cursor: pointer;
}

.ctm-add {
  margin-top: 8px;
  background: #05668d;
  color: #fff;
  border: none;
  padding: 6px 10px;
  border-radius: 6px;
  cursor: pointer;
}

.ctm-footer {
  display: flex;
  justify-content: flex-end;
  gap: 10px;
  margin-top: 20px;
}

.ctm-save {
  background: #28a745;
  color: #fff;
  border: none;
  padding: 8px 14px;
  border-radius: 6px;
  cursor: pointer;
}

.ctm-cancel {
  background: #6c757d;
  color: #fff;
  border: none;
  padding: 8px 14px;
  border-radius: 6px;
}

.ctm-empty {
  font-size: 13px;
  color: #888;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
`}),o.jsx("div",{className:"ctm-overlay",children:o.jsxs("div",{className:"ctm-modal",children:[o.jsxs("div",{className:"ctm-header",children:[o.jsx("h2",{children:"Create Custom Template"}),o.jsx("button",{className:"ctm-close",onClick:t,children:""})]}),o.jsxs("section",{className:"ctm-section",children:[o.jsx("label",{children:"Template Name"}),o.jsx("input",{value:n.templateName,onChange:d=>r({...n,templateName:d.target.value})})]}),o.jsxs("section",{className:"ctm-section",children:[o.jsx("label",{children:"System"}),o.jsx("input",{value:n.system,onChange:d=>r({...n,system:d.target.value})})]}),o.jsxs("section",{className:"ctm-section",children:[o.jsx("label",{children:"Disease"}),o.jsx("input",{value:n.disease,onChange:d=>r({...n,disease:d.target.value})})]}),o.jsxs("section",{className:"ctm-section",children:[o.jsx("label",{children:"Language"}),o.jsx("input",{value:n.language,onChange:d=>r({...n,language:d.target.value}),placeholder:"English / Spanish"})]}),o.jsxs("section",{className:"ctm-section",children:[o.jsx("label",{children:"Tags"}),o.jsx("input",{value:(n.tags||[]).join(", "),onChange:d=>r({...n,tags:d.target.value.split(",").map(f=>f.trim())})})]}),o.jsxs("section",{className:"ctm-section",children:[o.jsx("label",{children:"Chief Complaint"}),o.jsx("textarea",{value:n.chiefComplaint,onChange:d=>r({...n,chiefComplaint:d.target.value})})]}),o.jsxs("section",{className:"ctm-section",children:[o.jsx("label",{children:"Investigations"}),o.jsx("textarea",{value:n.investigations,onChange:d=>r({...n,investigations:d.target.value})})]}),o.jsxs("section",{className:"ctm-section",children:[o.jsx("label",{children:"Provisional Diagnosis"}),o.jsx("input",{value:n.provisionalDiagnosis,onChange:d=>r({...n,provisionalDiagnosis:d.target.value})})]}),o.jsxs("section",{className:"ctm-section",children:[o.jsx("label",{children:"Final Diagnosis"}),o.jsx("input",{value:n.finalDiagnosis,onChange:d=>r({...n,finalDiagnosis:d.target.value})})]}),o.jsxs("section",{className:"ctm-section",children:[o.jsx("label",{children:"Prescription"}),(n.medicines||[]).map((d,f)=>o.jsxs("div",{className:"ctm-medicine-row",children:[o.jsx("input",{placeholder:"Brand",value:d.brandName,onChange:p=>a(f,"brandName",p.target.value)}),o.jsx("input",{placeholder:"Generic",value:d.genericName,onChange:p=>a(f,"genericName",p.target.value)}),o.jsx("input",{placeholder:"Route",value:d.route,onChange:p=>a(f,"route",p.target.value)}),o.jsx("input",{placeholder:"Dose",value:d.dose,onChange:p=>a(f,"dose",p.target.value)}),o.jsx("input",{placeholder:"Duration",value:d.duration,onChange:p=>a(f,"duration",p.target.value)}),o.jsx("input",{placeholder:"Timings",value:d.timings,onChange:p=>a(f,"timings",p.target.value)}),o.jsx("input",{placeholder:"Notes",value:d.notes,onChange:p=>a(f,"notes",p.target.value)}),o.jsx("button",{className:"ctm-remove",onClick:()=>s(f),children:""})]},f)),o.jsx("button",{className:"ctm-add",onClick:i,children:"+ Add Medicine"})]}),o.jsxs("section",{className:"ctm-section",children:[o.jsx("label",{children:"Lifestyle Advice"}),o.jsx("textarea",{value:n.lifestyleAdvice?.text||"",onChange:d=>r({...n,lifestyleAdvice:{...n.lifestyleAdvice||{},text:d.target.value}})})]}),o.jsxs("section",{className:"ctm-section",children:[o.jsx("label",{children:"Procedures"}),o.jsx("textarea",{value:n.procedures,onChange:d=>r({...n,procedures:d.target.value})})]}),o.jsxs("section",{className:"ctm-section",children:[o.jsx("label",{children:"Referrals"}),o.jsx("textarea",{value:n.referrals,onChange:d=>r({...n,referrals:d.target.value})})]}),o.jsxs("div",{className:"ctm-footer",children:[o.jsx("button",{className:"ctm-save",onClick:c,children:"Save Template"}),o.jsx("button",{className:"ctm-cancel",onClick:t,children:"Cancel"})]})]})})]}):null,gEe=()=>({confirm:(t,n,r={})=>{Ee.info(({closeToast:i})=>o.jsxs("div",{children:[o.jsx("p",{style:{marginBottom:"10px"},children:t}),o.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"8px"},children:[o.jsx("button",{onClick:()=>{n(),i()},style:{background:"#dc3545",color:"#fff",border:"none",padding:"6px 12px",borderRadius:"4px",cursor:"pointer"},children:"Yes"}),o.jsx("button",{onClick:i,style:{background:"#6c757d",color:"#fff",border:"none",padding:"6px 12px",borderRadius:"4px",cursor:"pointer"},children:"No"})]})]}),{autoClose:!1,closeOnClick:!1,draggable:!1,...r})}}),yEe=({isOpen:e,onClose:t,editForm:n,setEditForm:r,addMedicine:i,updateMedicine:a,removeMedicine:s,onSave:c})=>e?o.jsxs(o.Fragment,{children:[o.jsx("style",{children:`.ctm-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.6);
  display: flex;
  justify-content: center;
  overflow-y:auto;
  
  align-items: center;
  z-index: 3000;
}

.ctm-modal {
  background: #fff;
  width: 650px;
  max-width: 95%;
   margin-top:75%;
  border-radius: 14px;
  overflow-y:auto !important ;
  
  padding: 22px;
  animation: fadeIn 0.25s ease;
}

.ctm-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-bottom: 1px solid #eee;
  padding-bottom: 10px;
}

.ctm-header h2 {
  margin: 0;
  color: #05668d;
}

.ctm-close {
  background: none;
  border: none;
  font-size: 18px;
  cursor: pointer;
}

.ctm-section {
  margin-top: 18px;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.ctm-section label {
  font-weight: 600;
  font-size: 14px;
}

.ctm-section input,
.ctm-section textarea {
  padding: 8px;
  border-radius: 6px;
  border: 1px solid #ccc;
  font-size: 14px;
}

.ctm-section textarea {
  resize: vertical;
  min-height: 70px;
}

.ctm-medicine-row {
  display: grid;
  grid-template-columns: repeat(3, 1fr); /* 4 equal columns */
  gap: 6px;
  margin-bottom: 6px;
}

.ctm-remove {
  background: #dc3545;
  color: white;
  border: none;
  border-radius: 6px;
  padding: 0 8px;
  cursor: pointer;
}

.ctm-add {
  margin-top: 8px;
  background: #05668d;
  color: #fff;
  border: none;
  padding: 6px 10px;
  border-radius: 6px;
  cursor: pointer;
}

.ctm-footer {
  display: flex;
  justify-content: flex-end;
  gap: 10px;
  margin-top: 20px;
}

.ctm-save {
  background: #28a745;
  color: #fff;
  border: none;
  padding: 8px 14px;
  border-radius: 6px;
  cursor: pointer;
}

.ctm-cancel {
  background: #6c757d;
  color: #fff;
  border: none;
  padding: 8px 14px;
  border-radius: 6px;
}

.ctm-empty {
  font-size: 13px;
  color: #888;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
`}),o.jsx("div",{className:"ctm-overlay",children:o.jsxs("div",{className:"ctm-modal",children:[o.jsxs("div",{className:"ctm-header",children:[o.jsx("h2",{children:"Create Suggested Template"}),o.jsx("button",{className:"ctm-close",onClick:t,children:""})]}),o.jsxs("section",{className:"ctm-section",children:[o.jsx("label",{children:"Template Name"}),o.jsx("input",{value:n.templateName,onChange:d=>r({...n,templateName:d.target.value})})]}),o.jsxs("section",{className:"ctm-section",children:[o.jsx("label",{children:"System"}),o.jsx("input",{value:n.system,onChange:d=>r({...n,system:d.target.value})})]}),o.jsxs("section",{className:"ctm-section",children:[o.jsx("label",{children:"Disease"}),o.jsx("input",{value:n.disease,onChange:d=>r({...n,disease:d.target.value})})]}),o.jsxs("section",{className:"ctm-section",children:[o.jsx("label",{children:"Language"}),o.jsx("input",{value:n.language,onChange:d=>r({...n,language:d.target.value}),placeholder:"English / Spanish"})]}),o.jsxs("section",{className:"ctm-section",children:[o.jsx("label",{children:"Tags"}),o.jsx("input",{value:(n.tags||[]).join(", "),onChange:d=>r({...n,tags:d.target.value.split(",").map(f=>f.trim())})})]}),o.jsxs("section",{className:"ctm-section",children:[o.jsx("label",{children:"Chief Complaint"}),o.jsx("textarea",{value:n.chiefComplaint,onChange:d=>r({...n,chiefComplaint:d.target.value})})]}),o.jsxs("section",{className:"ctm-section",children:[o.jsx("label",{children:"Investigations"}),o.jsx("textarea",{value:n.investigations,onChange:d=>r({...n,investigations:d.target.value})})]}),o.jsxs("section",{className:"ctm-section",children:[o.jsx("label",{children:"Provisional Diagnosis"}),o.jsx("input",{value:n.provisionalDiagnosis,onChange:d=>r({...n,provisionalDiagnosis:d.target.value})})]}),o.jsxs("section",{className:"ctm-section",children:[o.jsx("label",{children:"Final Diagnosis"}),o.jsx("input",{value:n.finalDiagnosis,onChange:d=>r({...n,finalDiagnosis:d.target.value})})]}),o.jsxs("section",{className:"ctm-section",children:[o.jsx("label",{children:"Prescription"}),(n.medicines||[]).map((d,f)=>o.jsxs("div",{className:"ctm-medicine-row",children:[o.jsx("input",{placeholder:"Brand",value:d.brandName,onChange:p=>a(f,"brandName",p.target.value)}),o.jsx("input",{placeholder:"Generic",value:d.genericName,onChange:p=>a(f,"genericName",p.target.value)}),o.jsx("input",{placeholder:"Route",value:d.route,onChange:p=>a(f,"route",p.target.value)}),o.jsx("input",{placeholder:"Dose",value:d.dose,onChange:p=>a(f,"dose",p.target.value)}),o.jsx("input",{placeholder:"Duration",value:d.duration,onChange:p=>a(f,"duration",p.target.value)}),o.jsx("input",{placeholder:"Timings",value:d.timings,onChange:p=>a(f,"timings",p.target.value)}),o.jsx("input",{placeholder:"Notes",value:d.notes,onChange:p=>a(f,"notes",p.target.value)}),o.jsx("button",{className:"ctm-remove",onClick:()=>s(f),children:""})]},f)),o.jsx("button",{className:"ctm-add",onClick:i,children:"+ Add Medicine"})]}),o.jsxs("section",{className:"ctm-section",children:[o.jsx("label",{children:"Lifestyle Advice"}),o.jsx("textarea",{value:n.lifestyleAdvice?.text||"",onChange:d=>r({...n,lifestyleAdvice:{...n.lifestyleAdvice||{},text:d.target.value}})})]}),o.jsxs("section",{className:"ctm-section",children:[o.jsx("label",{children:"Procedures"}),o.jsx("textarea",{value:n.procedures,onChange:d=>r({...n,procedures:d.target.value})})]}),o.jsxs("section",{className:"ctm-section",children:[o.jsx("label",{children:"Referrals"}),o.jsx("textarea",{value:n.referrals,onChange:d=>r({...n,referrals:d.target.value})})]}),o.jsxs("div",{className:"ctm-footer",children:[o.jsx("button",{className:"ctm-save",onClick:c,children:"Save Template"}),o.jsx("button",{className:"ctm-cancel",onClick:t,children:"Cancel"})]})]})})]}):null,vEe=()=>{const e=wt(),[t,n]=w.useState(""),{templates:r,loading:i}=qe(ne=>ne.adminTemplates),{templates:a=[],loading:s}=qe(ne=>ne.adminSuggestedTemplates);Fn(),w.useEffect(()=>{e(Am()),e(km(t))},[e,t]);const[c,d]=w.useState([]),[f,p]=w.useState(!1),[m,g]=w.useState(!1),[v,b]=w.useState({templateName:"",system:"",disease:"",tags:[],language:"English",chiefComplaint:"",investigations:"",provisionalDiagnosis:"",finalDiagnosis:"",prescription:[],lifestyleAdvice:{text:"",images:[],pdfs:[]},procedures:"",referrals:""}),[C,j]=w.useState(""),[A,k]=w.useState(null),[E,P]=w.useState(!1),[$,F]=w.useState(!1),{confirm:O}=gEe(),[_,D]=w.useState(!1),[L,R]=w.useState(!1),M=localStorage.getItem("selectedClinicId");w.useEffect(()=>{e(Am())},[e]);const H=[...r||[],...c||[]],W=async ne=>{if(!M){Ee.error("Clinic ID missing");return}try{await e(Zte({clinicId:M,templateId:ne._id})).unwrap(),e(Af(M)),Ee.success(`"${ne.templateName}" added successfully`)}catch(G){Ee.error(G||"Failed to use template")}},fe=ne=>{console.log("temp",ne),k(ne),b({templateName:ne.templateName||"",system:ne.system||"",disease:ne.disease||"",category:ne.category||"",tags:ne.tags||[],language:"English",chiefComplaint:ne.chiefComplaint||"",investigations:ne.investigations||"",provisionalDiagnosis:ne.diagnosis?.provisional||"",finalDiagnosis:ne.diagnosis?.final||"",medicines:ne.prescription?.map(G=>({brandName:G.brandName||"",genericName:G.genericName||"",route:G.route||"",dose:G.dose||"",duration:G.duration||"",timings:G.timings||"",notes:G.notes||""}))||[],lifestyleAdvice:{text:ne.lifestyleText||""||""},procedures:ne.procedures||"",referrals:ne.referrals||""}),p(!1),g(!0)},q=async()=>{if(!M){Ee.error("Clinic ID missing");return}const ne={system:v.system,disease:v.disease,templateName:v.templateName,tags:v.tags,templates:[{language:v.language,clinicalHistory:{chiefComplaint:v.chiefComplaint,investigations:v.investigations,diagnosis:{provisional:v.provisionalDiagnosis,final:v.finalDiagnosis}},treatmentPlan:{lifestyleAdvice:{text:v.lifestyleAdvice?.text||""},medicines:Array.isArray(v.medicines)?v.medicines.map((G,ee)=>({serial:ee+1,brandName:G.brandName||"",genericName:G.genericName||"",route:G.route||"",dose:G.dose||"",duration:G.duration||"",timings:G.timings||"",notes:G.notes||""})):[],procedures:v.procedures||"",referrals:v.referrals||""}}]};try{A?(await e(QF({templateId:A._id,clinicId:M,payload:ne})).unwrap(),Ee.success("Suggested template updated ")):(await e(ZF({clinicId:M,payload:ne})).unwrap(),Ee.success("Suggested template request sent ")),R(!1),k(null),e(km(t))}catch(G){Ee.error(G||"Suggested template save failed")}},te=ne=>{k(ne),console.log("tempsuggess",ne),b({templateName:ne.templateName||"",system:ne.system||"",disease:ne.disease||"",tags:ne.tags||[],language:"English",chiefComplaint:ne.chiefComplaint||"",investigations:ne.investigations||"",provisionalDiagnosis:ne.diagnosis?.provisional||"",finalDiagnosis:ne.diagnosis?.final||"",medicines:ne.prescription?.map(G=>({brandName:G.brand||"",genericName:G.generic||"",route:G.form||"",dose:G.dosage||"",duration:G.duration||"",timings:G.timings||"",notes:G.notes||""}))||[],lifestyleAdvice:{text:ne.lifestyleText||""||""},procedures:ne.procedures||"",referrals:ne.referrals||""}),R(!0)},K=async()=>{if(!M){Ee.error("Clinic ID missing");return}const ne={system:v.system,disease:v.disease,templateName:v.templateName,tags:v.tags,templates:[{language:v.language,clinicalHistory:{chiefComplaint:v.chiefComplaint,investigations:v.investigations,diagnosis:{provisional:v.provisionalDiagnosis,final:v.finalDiagnosis}},treatmentPlan:{medicines:Array.isArray(v.medicines)?v.medicines.map((G,ee)=>({serial:ee+1,brandName:G.brandName||"",genericName:G.genericName||"",route:G.route||"",dose:G.dose||"",duration:G.duration||"",timings:G.timings||"",notes:G.notes||""})):[],lifestyleAdvice:{text:v.lifestyleAdvice?.text||""},procedures:v.procedures,referrals:v.referrals}}]};try{f?(await e(Pv({clinicId:M,payload:ne})).unwrap(),Ee.success("Custom template created successfully ")):(await e(_v({templateId:A._id,clinicId:M,payload:ne})).unwrap(),Ee.success("Template updated successfully ")),g(!1),p(!1),P(!1),D(!1),e(Af(M))}catch(G){Ee.error(G||"Save failed")}},z=()=>{b(ne=>({...ne,medicines:[...ne.medicines||[],{brandName:"",genericName:"",route:"",dose:"",duration:"",timings:"",notes:""}]}))},V=(ne,G,ee)=>{const ue=[...v.medicines||[]];ue[ne][G]=ee,b({...v,medicines:ue})},Z=ne=>{const G=(v.medicines||[]).filter((ee,ue)=>ue!==ne);b({...v,medicines:G})},re=ne=>{if(!M){Ee.error("Clinic ID missing");return}O("Are you sure you want to delete this template?",async()=>{try{await e(Dv({templateId:ne,clinicId:M})).unwrap(),Ee.success("Template deleted successfully")}catch(G){Ee.error(G||"Delete failed")}})},me=ne=>{if(!M){Ee.error("Clinic ID missing");return}O("Are you sure you want to delete this template?",async()=>{try{await e(JF({templateId:ne,clinicId:M})).unwrap(),Ee.success("Template deleted successfully")}catch(G){Ee.error(G||"Delete failed")}})},ge=async ne=>{if(!M){Ee.error("Clinic ID missing");return}try{ne.isFavourite?(await e(Iv({templateId:ne._id,clinicId:M})).unwrap(),Ee.info("Removed from favourites")):(await e(Ov({templateId:ne._id,clinicId:M})).unwrap(),Ee.success("Added to favourites"))}catch(G){Ee.error(G||"Favourite action failed")}},{favouriteTemplates:Pe}=qe(ne=>ne.adminTemplates);w.useEffect(()=>{M&&(console.log("Clinic ID ",M),e(Af(M)),e($v(M)))},[M,e]);const{usedTemplates:X}=qe(ne=>ne.adminTemplates);console.log("usedTemplates",X),console.log("suggestedTemplate",a);const J=ne=>{k({_id:ne._id,templateName:ne.templateName||"",system:ne.system||"",disease:ne.disease||"",category:ne.category||"",usage:ne.usage||"",tags:ne.tags||[],chiefComplaint:ne.chiefComplaint||"",investigations:ne.investigations||"",diagnosis:{provisional:ne?.diagnosis?.provisional||"",final:ne?.diagnosis?.final||""},medicines:(ne.prescription||[]).map(G=>({brandName:G.brandName||G.brand||"",genericName:G.genericName||G.generic||"",route:G.route||G.form||"",dose:G.dose||G.dosage||"",duration:G.duration||"",timings:G.timings||"",notes:G.notes||""})),lifestyleAdvice:{text:ne.lifestyleText||"",images:ne.adviceImages||[],pdfs:ne.advicePdfs||[]},procedures:ne.procedures||"",referrals:ne.referrals||""}),P(!0)},ce=H.filter(ne=>C?ne.templateName?.toLowerCase().includes(C.toLowerCase())||ne.category?.toLowerCase().includes(C.toLowerCase()):!0),ae={grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(260px, 1fr))",gap:"16px",marginBottom:"30px"},card:{background:"#ffffff",borderRadius:"12px",padding:"16px",boxShadow:"0 6px 14px rgba(0, 0, 0, 0.08)",transition:"transform 0.25s ease, box-shadow 0.25s ease"},cardHeader:{marginBottom:"12px"},title:{margin:0,fontSize:"15px",fontWeight:600,color:"#05668d"},meta:{fontSize:"13px",color:"#666"},actions:{display:"flex",gap:"8px",marginTop:"12px"},previewBtn:{flex:1,background:"#05668d",color:"#fff",border:"none",padding:"6px",borderRadius:"6px",cursor:"pointer",fontSize:"13px"},editBtn:{flex:1,background:"#6c757d",color:"#fff",border:"none",padding:"6px",borderRadius:"6px",cursor:"pointer",fontSize:"13px"},emptyState:{padding:"20px",border:"1px dashed #ccc",borderRadius:"10px",textAlign:"center",color:"#666",background:"#fff",marginBottom:"30px"}};return o.jsxs(o.Fragment,{children:[o.jsx("style",{children:`
        .layout {
          display: flex;
          min-height: 100vh;
          background: #f4f9fc;
        }

        .page {
          flex: 1;
          padding: 30px;
          transition: margin-left 0.3s ease;
        }

        .toggle-btn {
          position: fixed;
          top: 15px;
          left: 15px;
          background: #05668d;
          color: white;
          border: none;
          padding: 10px;
          border-radius: 6px;
          cursor: pointer;
          z-index: 1000;
        }

        h1 {
          text-align: center;
          color: #05668d;
          margin-bottom: 30px;
        }

        
         

       
.template-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 20px;
  margin-top: 15px;
}

/* Responsive fallback */
@media (max-width: 1024px) {
  .template-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 600px) {
  .template-grid {
    grid-template-columns: 1fr;
  }
}


/* CARD */
.template-card-item {
  background: #ffffff;
  border-radius: 12px;
  padding: 18px;
  box-shadow: 0 6px 14px rgba(0, 0, 0, 0.08);
  transition: transform 0.25s ease, box-shadow 0.25s ease;
}

.template-card-item:hover {
  transform: translateY(-6px);
  box-shadow: 0 12px 24px rgba(0, 0, 0, 0.15);
}

/* TITLE */
.template-card-item h4 {
  margin: 0 0 6px;
  font-size: 16px;
  color: #05668d;
}

/* META */
.template-meta {
  font-size: 14px;
  color: #666;
  margin-bottom: 12px;
}

/* ACTIONS */
.card-actions {
  display: flex;
  gap: 8px;
}

.card-actions button {
  flex: 1;
  background: #05668d;
  border: none;
  color: white;
  padding: 6px;
  border-radius: 6px;
  cursor: pointer;
  font-size: 13px;
}

.card-actions button:hover {
  background: #0288d1;
}

.card-actions .favorite {
  background: #ffd700;
  color: #333;
}


.preview-modal {
  // max-height: auto;
  overflow-y: auto !important ;
}


        .modal-overlay {
  position: fixed;          /*  MOST IMPORTANT */
  top: 0;
  
  left: 0;
  overflow-y:auto;
  
  width: 100vw;
  height: 100vh;
  background: rgba(0, 0, 0, 0.6);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;            /* sidebar se upar */
}


        .modal {
          background: white;
          padding: 25px;
          border-radius: 10px;
          max-width: 600px;
          margin-top:30%;
          width: 90%;
        }

        .modal pre {
          background: #f4f4f4;
          padding: 15px;
          border-radius: 6px;
          max-height: 400px;
          overflow-y: auto;
        }

        .close-btn {
          background: #dc3545;
          color: white;
          border: none;
          padding: 6px 12px;
          border-radius: 5px;
          cursor: pointer;
          float: right;
        }

        .card-actions button:nth-child(3) {
  background: #6c757d;
}

.card-actions button:nth-child(3):hover {
  background: #5a6268;
}


.prescription-table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 10px;
}

.prescription-table th,
.prescription-table td {
  border: 1px solid #ccc;
  padding: 6px;
  font-size: 13px;
}

.image-preview img {
  max-width: 120px;
  margin-right: 8px;
  border-radius: 6px;
}

const btnStyle = {
  background: "#05668d",
  color: "#fff",
  border: "none",
  padding: "6px 10px",
  borderRadius: "6px",
  cursor: "pointer",
  marginRight: "8px",
};


@media print {
  body * {
    visibility: hidden;
  }

  .print-area,
  .print-area * {
    visibility: visible;
  }

  .print-area {
    position: absolute;
    inset: 0;
    padding: 20px;
    font-size: 13px;
  }

  .close-btn,
  button {
    display: none !important;
  }

  .prescription-table {
    width: 100%;
    border-collapse: collapse;
  }

  .prescription-table th,
  .prescription-table td {
    border: 1px solid #000;
    padding: 6px;
  }
}

.card {
  display: flex;
   justify-content:end;   

  align-items: center;
  padding: 16px 20px;
  // background: #ffffff;
  border-radius: 10px;
  // box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

/* Search box */
.search-box {
  padding: 10px 14px;
  font-size: 14px;
  border-radius: 6px;
  border: 1px solid #d0d5dd;
  width: 90%;
}

/* Buttons wrapper */
.action-buttons {
  display: flex;
  gap: 12px;
}

/* Primary button */
.create-temp-button {
  padding: 10px 16px;
  border-radius: 6px;
  border: none;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  background-color: #2563eb;
  color: #ffffff;
}

/* Secondary button */
.suggested-temp-button {
  padding: 10px 16px;
  border-radius: 6px;
  border: 1px solid #2563eb;
  background-color: #ffffff;
  color: #2563eb;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
}

/* Hover effects */
.create-temp-button:hover {
  background-color: #1e40af;
}

.suggested-temp-button:hover {
  background-color: #eff6ff;
}

/*  Responsive */
@media (max-width: 768px) {
  .card {
    grid-template-columns: 1fr;
  }

  .action-buttons {
    justify-content: flex-end;
    flex-wrap: wrap;
  }
}








        @media (max-width: 768px) {
          .page {
            padding: 20px 12px;
          }
        }

.searchh {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 15px;
}

      `}),o.jsxs("div",{className:"layout",children:[$&&o.jsx(Fo,{}),o.jsxs("div",{className:"page",children:[o.jsx("button",{className:"toggle-btn",onClick:()=>F(!$),children:o.jsx(pc,{})}),o.jsxs("h1",{children:[o.jsx(Qm,{})," Prescription Library"]}),i&&o.jsx("p",{children:"Loading admin templates..."}),o.jsx("div",{className:"card",children:o.jsx("div",{className:"action-buttons",children:o.jsx("button",{className:"create-temp-button",onClick:()=>{b({templateName:"",system:"",disease:"",tags:[],language:"English",chiefComplaint:"",investigations:"",provisionalDiagnosis:"",finalDiagnosis:"",medicines:[],lifestyleAdvice:{text:"",images:[],pdfs:[]},procedures:"",referrals:""}),R(!0)},children:"+ Add Suggested Template"})})}),o.jsx("h3",{style:{marginBottom:"12px"},children:"Used Templates"}),!X||X.length===0?o.jsx("div",{style:ae.emptyState,children:o.jsx("p",{children:"No templates used yet."})}):o.jsx("div",{style:ae.grid,children:X.map(ne=>o.jsxs("div",{style:ae.card,children:[o.jsxs("div",{style:ae.cardHeader,children:[o.jsx("h4",{style:ae.title,children:ne.templateName}),o.jsxs("span",{style:ae.meta,children:[ne.system,"  ",ne.disease]})]}),o.jsxs("div",{style:ae.actions,children:[o.jsx("button",{style:ae.previewBtn,onClick:()=>J(ne),children:"Preview"}),o.jsx("button",{style:ae.editBtn,onClick:()=>fe(ne),children:"Edit"}),o.jsx("button",{onClick:()=>re(ne._id),title:"Delete Template",style:{background:"#dc3545",color:"#fff",border:"none",padding:"6px",borderRadius:"6px",cursor:"pointer"},children:o.jsx(Im,{})})]})]},ne._id))}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[o.jsx("h3",{style:{margin:0},children:"Request Templates"}),o.jsxs("select",{style:{padding:"8px 12px",borderRadius:"8px",border:"1px solid #d1d5db",fontSize:"14px",cursor:"pointer"},value:t,onChange:ne=>n(ne.target.value),children:[" ",o.jsx("option",{value:"",children:"Select status"}),o.jsx("option",{value:"approved",children:"Approved"}),o.jsx("option",{value:"pending",children:"Pending"}),o.jsx("option",{value:"rejected",children:"Rejected"})]})]}),!a||a.length===0?o.jsx("div",{style:ae.emptyState,children:o.jsx("p",{children:"No suggested templates yet."})}):o.jsx("div",{style:ae.grid,children:a.map(ne=>o.jsxs("div",{style:ae.card,children:[o.jsxs("div",{style:ae.cardHeader,children:[o.jsx("h4",{style:ae.title,children:ne.templateName}),o.jsxs("span",{style:ae.meta,children:[ne.system,"  ",ne.disease]})]}),o.jsxs("div",{style:ae.actions,children:[o.jsx("button",{style:ae.previewBtn,onClick:()=>J(ne),children:"Preview"}),o.jsx("button",{style:ae.editBtn,onClick:()=>te(ne),children:"Edit"}),o.jsx("button",{onClick:()=>me(ne._id),title:"Delete Template",style:{background:"#dc3545",color:"#fff",border:"none",padding:"6px",borderRadius:"6px",cursor:"pointer"},children:o.jsx(Im,{})})]})]},ne._id))}),o.jsx("h3",{style:{marginBottom:"12px"},children:" Favourite Templates"}),!Pe||Pe.length===0?o.jsx("div",{style:ae.emptyState,children:o.jsx("p",{children:"No favourite templates yet."})}):o.jsx("div",{style:ae.grid,children:Pe.map(ne=>o.jsxs("div",{style:ae.card,children:[o.jsxs("div",{style:ae.cardHeader,children:[o.jsx("h4",{style:ae.title,children:ne.templateName}),o.jsxs("span",{style:ae.meta,children:[ne.system,"  ",ne.disease]})]}),o.jsxs("div",{style:ae.actions,children:[o.jsx("button",{style:ae.previewBtn,onClick:()=>J(ne),children:"Preview"}),o.jsx("button",{style:ae.editBtn,onClick:()=>fe(ne),children:"Edit"}),o.jsx("button",{onClick:()=>ge(ne),className:"favorite",style:{backgroundColor:"#dc3545",color:"white",border:"none",outline:"none",borderRadius:"5px"},title:"Remove Favourite",children:o.jsx(Im,{})})]})]},ne._id))}),o.jsxs("div",{className:"template-card",children:[o.jsxs("div",{className:"searchh",children:[o.jsx("h3",{children:"All Templates"}),o.jsx("div",{className:"",children:o.jsx("input",{className:"search-box",placeholder:"Search templates...",value:C,onChange:ne=>j(ne.target.value)})})]}),ce.length===0?o.jsx("p",{children:"No templates found."}):o.jsx("div",{className:"template-grid",children:ce.map(ne=>o.jsxs("div",{className:"template-card-item",children:[o.jsx("h4",{children:ne.templateName||ne.name}),o.jsxs("div",{className:"template-meta",children:[ne.category,"  ",ne.usage]}),o.jsxs("div",{className:"card-actions",children:[o.jsx("button",{onClick:()=>J(ne),children:"Preview"}),o.jsx("button",{onClick:()=>W(ne),children:"Use"}),o.jsx("button",{onClick:()=>fe(ne),children:"Edit"}),o.jsx("button",{className:ne.isFavourite?"favorite":"",onClick:()=>ge(ne),title:ne.isFavourite?"Remove Favourite":"Mark Favourite",children:ne.isFavourite?"":""})]})]},ne._id))})]})]})]}),E&&A&&o.jsx("div",{className:"modal-overlay",children:o.jsxs("div",{className:"modal preview-modal",children:[o.jsx("button",{className:"close-btn",onClick:()=>P(!1),children:""}),o.jsx("h2",{children:A.templateName}),o.jsxs("p",{children:[o.jsx("strong",{children:"Disease:"})," ",A.disease||""]}),o.jsxs("p",{children:[o.jsx("strong",{children:"System:"})," ",A.system||""]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Category:"})," ",A.category||""]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Usage:"})," ",A.usage||""]}),o.jsx("hr",{}),o.jsx("h3",{children:"Clinical History"}),o.jsx("p",{children:o.jsx("strong",{children:"Chief Complaint:"})}),m?o.jsx("textarea",{value:v.chiefComplaint,onChange:ne=>b({...v,chiefComplaint:ne.target.value}),rows:3,style:{width:"100%",padding:"8px"}}):o.jsx("p",{style:{whiteSpace:"pre-line"},children:A.chiefComplaint||""}),o.jsx("p",{children:o.jsx("strong",{children:"Provisional Diagnosis:"})}),o.jsx("p",{children:A.diagnosis?.provisional||""}),o.jsx("p",{children:o.jsx("strong",{children:"Final Diagnosis:"})}),m?o.jsx("input",{value:v.diagnosis?.final||"",onChange:ne=>b({...v,diagnosis:{...v.diagnosis,final:ne.target.value}}),style:{width:"100%",padding:"8px"}}):o.jsx("p",{children:A.diagnosis?.final||""}),o.jsx("p",{children:o.jsx("strong",{children:"Investigations:"})}),o.jsx("p",{style:{whiteSpace:"pre-line"},children:A.investigations||""}),o.jsx("hr",{}),o.jsx("h3",{children:"Prescription"}),o.jsxs("table",{className:"prescription-table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"#"}),o.jsx("th",{children:"Brand"}),o.jsx("th",{children:"Generic"}),o.jsx("th",{children:"Route"}),o.jsx("th",{children:"Dose"}),o.jsx("th",{children:"Duration"}),o.jsx("th",{children:"Timings"}),o.jsx("th",{children:"Notes"}),m&&o.jsx("th",{children:"Action"})]})}),o.jsx("tbody",{children:A.medicines?.length>0?A.medicines.map((ne,G)=>o.jsxs("tr",{children:[o.jsx("td",{children:G+1}),o.jsx("td",{children:ne.brandName}),o.jsx("td",{children:ne.genericName}),o.jsx("td",{children:ne.route}),o.jsx("td",{children:ne.dose}),o.jsx("td",{children:ne.duration}),o.jsx("td",{children:ne.timings}),o.jsx("td",{children:ne.notes})]},G)):o.jsx("tr",{children:o.jsx("td",{colSpan:"10",style:{textAlign:"center"},children:"No medicines found"})})})]}),o.jsx("hr",{}),o.jsx("h3",{children:"Lifestyle Advice"}),o.jsx("p",{style:{whiteSpace:"pre-line"},children:A.lifestyleAdvice?.text||""}),A.lifestyleAdvice?.images?.length>0&&o.jsx("div",{className:"image-preview",children:A.lifestyleAdvice.images.map((ne,G)=>o.jsx("img",{src:ne,alt:`Advice ${G}`},G))}),A.lifestyleAdvice?.pdfs?.length>0&&o.jsx("ul",{children:A.lifestyleAdvice.pdfs.map((ne,G)=>o.jsx("li",{children:o.jsxs("a",{href:ne,target:"_blank",rel:"noopener noreferrer",children:["View PDF ",G+1]})},G))}),o.jsx("hr",{}),o.jsx("h3",{children:"Procedures"}),o.jsx("p",{children:A.procedures||""}),o.jsx("h3",{children:"Referrals"}),o.jsx("p",{children:A.referrals||""})]})}),o.jsx(mEe,{isOpen:_||m,onClose:()=>{D(!1),g(!1)},editForm:v,setEditForm:b,addMedicine:z,updateMedicine:V,removeMedicine:Z,onSave:K}),o.jsx(yEe,{isOpen:L,onClose:()=>R(!1),editForm:v,setEditForm:b,addMedicine:z,updateMedicine:V,removeMedicine:Z,onSave:q})]})},bEe="690893db053f3d308bb2c449",lu="Other / Custom Service",xEe=({tax:e=5})=>{const t=wt(),{patient:n,patientStatus:r,patientError:i,settings:a,settingsStatus:s,billStatus:c,billResponse:d,billError:f}=qe(J=>J.patientBilling),p=s==="loading"||!a,m=a?.consultationFees?.consultationFee||a?.defaultConsultationFee||0,g=a?.consultationFees?.followUpFee||0,v=a?.tax?.gstPercent??e,b=a?.discountPercent??0,C=w.useMemo(()=>a?.paymentMethods?Object.keys(a.paymentMethods).filter(J=>a.paymentMethods[J]):[],[a?.paymentMethods]),j=w.useMemo(()=>{if(!a?.services||a?.services.length===0)return[lu];const J=a.services.map(ae=>ae.name);return[...new Set(J)].filter(ae=>ae!==lu).concat(lu)},[a?.services]),[A,k]=se.useState(""),[E,P]=se.useState(!0),[$,F]=se.useState(!1),[O,_]=se.useState(""),[D,L]=se.useState(""),[R,M]=se.useState(""),[H,W]=se.useState([]);w.useEffect(()=>{O===""&&m>0&&_(m.toString()),D===""&&g>0&&L(g.toString())},[m,g]),w.useEffect(()=>{C.length>0&&!R&&M(C[0])},[C]),w.useEffect(()=>{t(bv(bEe))},[t]),w.useEffect(()=>{c==="succeeded"&&(Ee.success(`Bill generated successfully! Bill No: #${d.billNumber}`),k(""),W([]),P(!0),F(!1),_(m.toString()),L(g.toString()),M(C[0]||""),t(V_()),t(H_())),c==="failed"&&(Ee.error("Failed to generate bill: "+(f||"Unknown error")),t(H_()))},[c,d,f,t,C,m,g]);const fe=J=>{const ce=J.target.value.toUpperCase().trim();k(ce),ce.length>4?t(vv({uhid:ce})):t(V_())},q=()=>{W([...H,{id:Date.now(),service:"",customName:"",amount:""}])},te=(J,ce,ae)=>{W(ne=>ne.map(G=>{if(G.id!==J)return G;const ee={...G,[ce]:ae};if(ce==="service"&&ae!==lu&&ae!==""){const ue=a?.services?.find(Ae=>Ae.name===ae);ee.amount=ue?.defaultAmount?.toString()||"",ee.customName=""}return ce==="service"&&ae!==lu&&(ee.customName=""),ee}))},K=J=>{W(H.filter(ce=>ce.id!==J))},z=()=>{if(!n)return Ee.warn("Please search and select a patient first.");if(!R)return Ee.warn("Select payment method.");const J=E?Number(O||0):0,ce=$?Number(D||0):0,ae=H.reduce((G,ee)=>G+Number(ee.amount||0),0);if(J+ce+ae===0)return Ee.warn("Add at least one charge before generating bill.");const ne=[];J>0&&ne.push({name:"Consultation Fee",quantity:1,customAmount:J}),ce>0&&ne.push({name:"Follow-Up Fee",quantity:1,customAmount:ce});for(const G of H){if(!G.amount||Number(G.amount)<=0)continue;let ee="";if(G.service===lu){if(ee=(G.customName||"").trim(),!ee){Ee.warn("Custom service name required.");return}}else ee=G.service;ne.push({name:ee,quantity:1,customAmount:Number(G.amount)})}t(xv({billData:{patientUhid:n.uhid,services:ne,discount:(J+ce+ae)*(b/100),paymentMethod:R,status:"paid"}}))},V=E?Number(O||0):0,Z=$?Number(D||0):0,re=V+Z+H.reduce((J,ce)=>J+Number(ce.amount||0),0),me=re*(b/100),ge=re-me,Pe=ge*(v/100),X=ge+Pe;return p?o.jsx("div",{className:"loading-box",children:"Loading billing settings..."}):o.jsxs("div",{className:"newbill-wrapper",children:[o.jsx("style",{jsx:!0,children:`
        .newbill-wrapper {
          max-width: 1150px;
          margin: 2rem auto;
          padding: 1rem;
          font-family: "Inter", sans-serif;
        }

        .page-title {
          font-size: 2.2rem;
          color: #14586d;
          font-weight: 700;
          margin-bottom: 1.5rem;
          text-align: center;
        }

        .card {
          background: #ffffff;
          padding: 1.8rem;
          margin-bottom: 1.6rem;
          border-radius: 16px;
          box-shadow: 0 4px 20px rgba(0, 0, 0, 0.06);
          transition: 0.3s ease;
        }

        .card:hover {
          box-shadow: 0 6px 26px rgba(0, 0, 0, 0.09);
        }

        .section-title {
          font-size: 1.3rem;
          font-weight: 600;
          color: #14586d;
          margin-bottom: 1rem;
          border-left: 5px solid #1abc9c;
          padding-left: 0.7rem;
        }

        .grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
          gap: 1.2rem;
        }

        .label {
          font-weight: 600;
          margin-bottom: 0.4rem;
          font-size: 0.95rem;
          color: #2d3e50;
        }

        .input,
        .select {
          padding: 0.85rem 1rem;
          border: 1.8px solid #cfd8dc;
          border-radius: 10px;
          font-size: 1rem;
          transition: 0.25s;
          background: #fcfcfc;
        }

        .input:focus,
        .select:focus {
          border-color: #1abc9c;
          box-shadow: 0 0 0 3px rgba(26, 188, 156, 0.25);
          outline: none;
        }

        .fee-toggle {
          display: flex;
          align-items: center;
          gap: 10px;
          margin-top: 0.5rem;
          margin-bottom: 0.4rem;
        }

        .services-header {
          margin-bottom: 1rem;
          display: flex;
          justify-content: space-between;
          align-items: center;
        }

        .add-btn {
          background: #1abc9c;
          color: white;
          padding: 0.6rem 1.2rem;
          border-radius: 10px;
          font-size: 0.95rem;
          border: none;
        }

        .add-btn:hover {
          background: #16a085;
        }

        .service-row {
          display: grid;
          grid-template-columns: 1.7fr 1.5fr 1fr auto;
          gap: 0.8rem;
          padding: 1rem;
          background: #f7fafc;
          border-radius: 12px;
          border: 1px solid #e2e8f0;
          margin-bottom: 0.8rem;
        }

        .remove-btn {
          background: #e74c3c;
          border: none;
          color: white;
          border-radius: 10px;
          width: 40px;
          height: 40px;
          font-size: 1.4rem;
        }

        .summary-card {
          text-align: center;
          padding: 2rem;
          border-radius: 16px;
          background: #f0fbff;
          border: 1px solid #d0edf7;
        }

        .total-amount {
          font-size: 2.4rem;
          font-weight: 700;
          color: #14586d;
          margin: 1rem 0;
        }

        .submit-btn {
          background: #14586d;
          color: white;
          padding: 1rem 3rem;
          border-radius: 10px;
          font-size: 1.2rem;
          font-weight: 600;
          border: none;
          margin-top: 1rem;
        }

        .submit-btn:hover {
          background: #0e4250;
        }
      `}),o.jsx("h1",{className:"page-title",children:"Generate New Bill"}),o.jsxs("div",{className:"card",children:[o.jsx("h2",{className:"section-title",children:"Patient Search"}),o.jsxs("div",{className:"grid",children:[o.jsxs("div",{children:[o.jsx("label",{className:"label",children:"Search by UHID *"}),o.jsx("input",{className:"input",value:A,placeholder:"Enter UHID",onChange:fe}),r==="loading"&&o.jsx("p",{style:{color:"#2980b9"},children:"Searching..."}),i&&o.jsx("p",{style:{color:"red"},children:i})]}),n&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"label",children:"Name"}),o.jsx("input",{type:"text",className:"input",value:n.name,readOnly:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"label",children:"Age / Gender"}),o.jsx("input",{className:"input",value:`${n.age} / ${n.gender}`,readOnly:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"label",children:"Mobile"}),o.jsx("input",{type:"number",className:"input",value:n.phone||n.mobile||"-",readOnly:!0})]})]})]})]}),o.jsxs("div",{className:"card",children:[o.jsx("h2",{className:"section-title",children:"Fees"}),o.jsxs("div",{className:"fee-toggle",children:[o.jsx("input",{type:"checkbox",checked:E,onChange:()=>P(!E)}),o.jsx("strong",{children:"Consultation Fee"}),o.jsxs("span",{style:{color:"#1abc9c"},children:["(",m,")"]})]}),E&&o.jsx("input",{type:"number",className:"input",value:O,onChange:J=>_(J.target.value),placeholder:"Consultation Fee"}),o.jsxs("div",{className:"fee-toggle",style:{marginTop:"1rem"},children:[o.jsx("input",{type:"checkbox",checked:$,onChange:()=>F(!$)}),o.jsx("strong",{children:"Follow-Up Fee"}),o.jsxs("span",{style:{color:"#1abc9c"},children:["(",g,")"]})]}),$&&o.jsx("input",{type:"number",className:"input",value:D,onChange:J=>L(J.target.value),placeholder:"Follow-up Fee"})]}),o.jsxs("div",{className:"card",children:[o.jsx("h2",{className:"section-title",children:"Payment Method"}),o.jsx("select",{className:"select",value:R,onChange:J=>M(J.target.value),children:C.map(J=>o.jsx("option",{value:J,children:J.toUpperCase()},J))})]}),o.jsxs("div",{className:"card",children:[o.jsxs("div",{className:"services-header",children:[o.jsx("h2",{className:"section-title",children:"Services / Tests / Procedures"}),o.jsx("button",{className:"add-btn",onClick:q,children:"+ Add Service"})]}),H.length===0&&o.jsx("p",{style:{textAlign:"center",opacity:.6},children:"No services added yet."}),H.map(J=>o.jsxs("div",{className:"service-row",children:[o.jsxs("select",{className:"select",value:J.service,onChange:ce=>te(J.id,"service",ce.target.value),children:[o.jsx("option",{value:"",children:"-- Select Service --"}),j.map(ce=>o.jsx("option",{value:ce,children:ce},ce))]}),J.service===lu?o.jsx("input",{className:"input",placeholder:"Enter custom name",value:J.customName,onChange:ce=>te(J.id,"customName",ce.target.value)}):o.jsx("input",{className:"input",readOnly:!0,value:J.service}),o.jsx("input",{type:"number",className:"input",placeholder:"Amount",value:J.amount,onChange:ce=>te(J.id,"amount",ce.target.value)}),o.jsx("button",{className:"remove-btn",onClick:()=>K(J.id),children:""})]},J.id))]}),o.jsx("div",{className:"card summary-card",children:o.jsxs("div",{children:[o.jsxs("p",{children:["Subtotal: ",o.jsxs("strong",{children:["",re.toFixed(2)]})]}),b>0&&o.jsxs("p",{style:{color:"#27ae60"},children:["Discount (",b,"%): -",me.toFixed(2)]}),o.jsxs("p",{children:["GST (",v,"%): ",Pe.toFixed(2)]}),o.jsxs("div",{className:"total-amount",children:["",X.toFixed(2)]}),o.jsx("button",{className:"submit-btn",onClick:z,disabled:!n||c==="loading",children:c==="loading"?"Generating...":"Generate Bill"})]})})]})},sM=()=>{const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`},wEe=()=>{const e=wt(),t=qe(j=>j.patientBilling.receipts),n=qe(j=>j.patientBilling.receiptsStatus),r=qe(j=>j.patientBilling.receiptsError),i=qe(j=>j.patientBilling.printStatus),a=qe(j=>j.patientBilling.printError),s=t.bills||[],[c,d]=w.useState(sM()),[f,p]=w.useState(sM());w.useEffect(()=>{e(wv())},[e]);const m=w.useMemo(()=>{const j=c?new Date(c):null,A=f?new Date(f):null;return j&&j.setHours(0,0,0,0),A&&A.setHours(23,59,59,999),!j&&!A?s:s.filter(k=>{const E=new Date(k.createdAt),P=j?E>=j:!0,$=A?E<=A:!0;return P&&$})},[s,c,f]),g=n==="loading",v=n==="failed",b=i==="loading",C=j=>{const A=j._id;a&&e({type:"patientBilling/resetPrintState"}),e(Sv({billId:A})).unwrap().catch(k=>console.error("PDF error:",k))};return g||b?o.jsxs("div",{className:"card",children:[o.jsx("h2",{className:"section-title",children:"Receipts"}),o.jsx("p",{className:"loading-msg",children:b?"Generating PDF for printing...":"Loading receipts..."}),o.jsx("style",{jsx:!0,children:`
          .card {
            --bg: #fff;
            --primary: #186476;
            --accent: #3fa3b9;
            --shadow: 0 6px 16px rgba(0, 0, 0, 0.08);
            background: var(--bg);
            border-radius: 18px;
            box-shadow: var(--shadow);
            padding: 2rem;
            max-width: 900px;
            margin: 0 auto;
            text-align: center;
          }
          .section-title {
            font-size: 1.8rem;
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 1rem;
          }
          .loading-msg {
            color: var(--primary);
            font-weight: 600;
          }
        `})]}):o.jsxs(o.Fragment,{children:[o.jsx("style",{jsx:!0,children:`
        :root {
          --bg: #fff;
          --card-bg: #fafafa;
          --primary: #186476;
          --accent: #3fa3b9;
          --danger: #dc3545;
          --border: #e6f2f7;
          --shadow-sm: 0 4px 12px rgba(0, 0, 0, 0.06);
          --shadow-md: 0 8px 20px rgba(0, 0, 0, 0.12);
          --radius: 12px;
          --gap: 1.5rem;
        }

        .card {
          background: var(--card-bg);
          border-radius: var(--radius);
          box-shadow: var(--shadow-sm);
          padding: 2rem;
          max-width: 960px;
          margin: 2rem auto;
          position: relative;
          overflow: hidden;
          transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .card:hover {
          transform: translateY(-6px);
          box-shadow: var(--shadow-md);
        }

        .card::before {
          content: "";
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 4px;
          background: linear-gradient(90deg, #1d9ad6, #44c2f5);
          transform: scaleX(0);
          transform-origin: left;
          transition: transform 0.4s ease;
        }

        .card:hover::before {
          transform: scaleX(1);
        }

        .section-title {
          font-size: 1.9rem;
          font-weight: 600;
          color: var(--primary);
          margin-bottom: 0.5rem;
          position: relative;
        }

        .section-title::after {
          content: "";
          position: absolute;
          bottom: -6px;
          left: 0;
          width: 60px;
          height: 3px;
          background: var(--accent);
          border-radius: 2px;
        }

        .error-msg {
          background: #ffe6e6;
          color: var(--danger);
          padding: 0.75rem 1rem;
          border-radius: 8px;
          margin-bottom: 1rem;
          text-align: center;
          font-weight: 600;
        }

        /* ---------- Filter Bar ---------- */
        .filter-bar {
          display: flex;
          flex-wrap: wrap;
          gap: var(--gap);
          align-items: flex-end;
          margin-bottom: 1.5rem;
        }

        .filter-group {
          display: flex;
          flex-direction: column;
          min-width: 160px;
        }

        .filter-group label {
          font-size: 0.9rem;
          font-weight: 600;
          color: var(--primary);
          margin-bottom: 0.35rem;
        }

        .filter-group input {
          padding: 0.55rem 0.75rem;
          border: 1.5px solid var(--accent);
          border-radius: 6px;
          font-size: 1rem;
          transition: border-color 0.2s;
        }

        .filter-group input:focus {
          outline: none;
          border-color: var(--primary);
          box-shadow: 0 0 0 3px rgba(24, 100, 118, 0.15);
        }

        .apply-btn {
          align-self: flex-end;
          padding: 0.55rem 1.2rem;
          background: var(--primary);
          color: #fff;
          border: none;
          border-radius: 6px;
          font-weight: 600;
          cursor: pointer;
          transition: background 0.2s;
        }

        .apply-btn:hover {
          background: var(--accent);
        }

        /* ---------- Desktop Table ---------- */
        .desktop-table {
          width: 100%;
          border-collapse: collapse;
          background: var(--bg);
          border-radius: var(--radius);
          overflow: hidden;
          box-shadow: var(--shadow-sm);
        }

        .desktop-table thead {
          background: var(--primary);
          color: #fff;
          position: sticky;
          top: 0;
          z-index: 1;
        }

        .desktop-table th {
          padding: 1rem;
          text-align: center;
          font-weight: 600;
        }

        .desktop-table td {
          padding: 0.9rem 0.75rem;
          text-align: center;
          border-bottom: 1px solid var(--border);
          color: #2c3e50;
        }

        .desktop-table tr:hover {
          background: #f1f9fc;
        }

        .print-link {
          background: none;
          border: none;
          color: var(--primary);
          text-decoration: underline;
          font-size: 0.95rem;
          cursor: pointer;
          transition: color 0.2s;
        }

        .print-link:hover {
          color: var(--accent);
        }

        .print-link:disabled {
          color: #95a5a6;
          cursor: not-allowed;
          text-decoration: none;
        }

        .no-data {
          text-align: center;
          padding: 2rem;
          color: #7f8c8d;
          font-style: italic;
        }

        /* ---------- Mobile Card List ---------- */
        .mobile-list {
          display: flex;
          flex-direction: column;
          gap: 1rem;
        }

        .mobile-card {
          background: var(--bg);
          border: 1px solid var(--border);
          border-radius: var(--radius);
          padding: 1rem;
          box-shadow: var(--shadow-sm);
        }

        .mobile-row {
          display: flex;
          justify-content: space-between;
          margin-bottom: 0.4rem;
          font-size: 0.95rem;
        }

        .mobile-label {
          font-weight: 600;
          color: var(--primary);
        }

        .mobile-value {
          color: #2c3e50;
        }

        @media (max-width: 768px) {
          .desktop-table {
            display: none;
          }
          .mobile-list {
            display: flex;
          }
          .filter-bar {
            justify-content: center;
          }
          .apply-btn {
            width: 100%;
          }
        }

        @media (min-width: 769px) {
          .mobile-list {
            display: none;
          }
        }
      `}),o.jsxs("div",{className:"card",children:[o.jsx("h2",{className:"section-title",children:"Receipts"}),v&&o.jsxs("div",{className:"error-msg",children:["Error fetching receipts: ",r]}),a&&o.jsxs("div",{className:"error-msg",children:["Print Error: ",a]}),o.jsxs("div",{className:"filter-bar",children:[o.jsxs("div",{className:"filter-group",children:[o.jsx("label",{htmlFor:"startDate",children:"Start Date"}),o.jsx("input",{type:"date",id:"startDate",value:c,onChange:j=>d(j.target.value)})]}),o.jsxs("div",{className:"filter-group",children:[o.jsx("label",{htmlFor:"endDate",children:"End Date"}),o.jsx("input",{type:"date",id:"endDate",value:f,onChange:j=>p(j.target.value)})]})]}),o.jsxs("table",{className:"desktop-table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Date"}),o.jsx("th",{children:"Patient"}),o.jsx("th",{children:"UHID"}),o.jsx("th",{children:"Total"}),o.jsx("th",{children:"Receipt"})]})}),o.jsx("tbody",{children:m.length>0?m.map(j=>{const A=j.patientId?.name||"Unknown",k=j.uhid||j.patientId?.uhid||"N/A",E=new Date(j.createdAt).toLocaleDateString(),P=j.totalAmount||0;return o.jsxs("tr",{children:[o.jsx("td",{children:E}),o.jsx("td",{children:A}),o.jsx("td",{children:k}),o.jsxs("td",{children:["",P.toFixed(2)]}),o.jsx("td",{children:o.jsx("button",{className:"print-link",onClick:()=>C(j),disabled:b,"aria-label":`Print receipt for ${A}`,children:"View / Print"})})]},j._id)}):o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"no-data",children:v?"Please check connection or authentication.":"No receipts match the selected filters."})})})]}),o.jsx("div",{className:"mobile-list",children:m.length>0?m.map(j=>{const A=j.patientId?.name||"Unknown",k=j.uhid||j.patientId?.uhid||"N/A",E=new Date(j.createdAt).toLocaleDateString(),P=j.totalAmount||0;return o.jsxs("div",{className:"mobile-card",children:[o.jsxs("div",{className:"mobile-row",children:[o.jsx("span",{className:"mobile-label",children:"Date"}),o.jsx("span",{className:"mobile-value",children:E})]}),o.jsxs("div",{className:"mobile-row",children:[o.jsx("span",{className:"mobile-label",children:"Patient"}),o.jsx("span",{className:"mobile-value",children:A})]}),o.jsxs("div",{className:"mobile-row",children:[o.jsx("span",{className:"mobile-label",children:"UHID"}),o.jsx("span",{className:"mobile-value",children:k})]}),o.jsxs("div",{className:"mobile-row",children:[o.jsx("span",{className:"mobile-label",children:"Total"}),o.jsxs("span",{className:"mobile-value",children:["",P.toFixed(2)]})]}),o.jsx("div",{className:"mobile-row",style:{marginTop:"0.75rem"},children:o.jsx("button",{className:"print-link",onClick:()=>C(j),disabled:b,style:{fontWeight:"600"},children:"View / Print"})})]},j._id)}):o.jsx("div",{className:"no-data",children:v?"Please check connection or authentication.":"No receipts match the selected filters."})})]})]})},SEe=()=>new Date().toISOString().split("T")[0],CEe=()=>{const e=wt(),t=qe(C=>C.patientBilling.ledgerData),n=qe(C=>C.patientBilling.ledgerStatus),r=qe(C=>C.patientBilling.ledgerError),i=n==="loading",a=n==="failed",s=SEe(),[c,d]=w.useState("today"),[f,p]=w.useState(s),[m,g]=w.useState(s),[v,b]=w.useState("");return w.useEffect(()=>{let C={range:c,uhid:null,startDate:null,endDate:null};c==="calendar"?f&&m&&(C.startDate=f,C.endDate=m):c==="UHID"&&v&&(C.uhid=v),e(Cv(C))},[e,c,f,m,v]),o.jsxs(o.Fragment,{children:[o.jsx("style",{jsx:!0,children:`
        .page-container {
          padding: 40px 20px;
          max-width: 1200px;
          margin: auto;
          font-family: "Segoe UI", sans-serif;
        }

        /* HEADER */
        .title-section {
          text-align: center;
          margin-bottom: 35px;
        }

        .title-icon {
          font-size: 3rem;
          color: #0284b7;
          animation: float 2s infinite ease-in-out;
        }

        .page-title {
          font-size: 2.3rem;
          font-weight: 700;
          margin-top: 10px;
          color: #034f6d;
        }

        @keyframes float {
          0% {
            transform: translateY(0px);
          }
          50% {
            transform: translateY(-6px);
          }
          100% {
            transform: translateY(0px);
          }
        }

        /* CARD */
        .card {
          background: white;
          border-radius: 18px;
          box-shadow: 0 6px 16px rgba(0, 0, 0, 0.08);
          padding: 32px 28px;
          transition: all 0.35s ease;
          position: relative;
          overflow: hidden;
        }

        .card::before {
          content: "";
          position: absolute;
          top: 0;
          left: 0;
          height: 4px;
          width: 100%;
          background: linear-gradient(90deg, #1d9ad6, #44c2f5);
          transform: scaleX(0);
          transform-origin: left;
          transition: transform 0.4s ease;
        }

        .card:hover::before {
          transform: scaleX(1);
        }

        .card:hover {
          transform: translateY(-8px);
          box-shadow: 0 14px 26px rgba(0, 0, 0, 0.16);
        }

        /* FILTER BAR */
        .filter-bar {
          display: flex;
          flex-wrap: wrap;
          gap: 18px;
          margin-bottom: 20px;
          align-items: center;
          background: #f5fcff;
          padding: 15px;
          border-radius: 12px;
          border: 1px solid #d6eef7;
        }

        .filter-bar label {
          font-weight: 600;
          color: #186476;
        }

        .filter-bar select,
        .filter-bar input[type="date"],
        .filter-bar input[type="text"] {
          padding: 10px;
          border: 1px solid #c8e8f3;
          border-radius: 6px;
          font-size: 0.95rem;
          outline: none;
          transition: 0.2s;
        }

        .filter-bar select:focus,
        .filter-bar input:focus {
          border-color: #1d9ad6;
          box-shadow: 0 0 0 3px rgba(29, 154, 214, 0.2);
        }

        /* TABLE */
        .table-container {
          overflow-x: auto;
          margin-top: 20px;
        }

        table {
          width: 100%;
          border-collapse: collapse;
        }

        th {
          background: #186476;
          color: white;
          padding: 12px;
          font-weight: 600;
          text-align: left;
          border: 1px solid #e6f2f7;
        }

        td {
          border: 1px solid #e6f2f7;
          padding: 12px;
          color: #2c3e50;
          background: white;
          transition: 0.2s ease-in-out;
        }

        tr:nth-child(even) td {
          background: #f7fcff;
        }

        tr:hover td {
          background: #eaf8ff;
          cursor: pointer;
        }

        /* RESPONSIVE */
        @media (max-width: 768px) {
          .page-title {
            font-size: 2rem;
          }
          .filter-bar {
            flex-direction: column;
            align-items: flex-start;
          }
        }

        .error-msg {
          color: #d9534f;
          text-align: center;
          font-weight: 600;
          margin-bottom: 20px;
        }

        .loading-msg {
          color: #0b7ea6;
          text-align: center;
          font-weight: 600;
          margin-bottom: 10px;
        }
      `}),o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"title-section",children:[o.jsx("div",{className:"title-icon",children:o.jsx(Nce,{})}),o.jsx("h1",{className:"page-title",children:"Billing Ledger"})]}),o.jsxs("div",{className:"card",children:[i&&o.jsx("p",{className:"loading-msg",children:"Loading Ledger Data..."}),a&&o.jsxs("p",{className:"error-msg",children:[" Error fetching ledger: ",r]}),o.jsxs("div",{className:"filter-bar",children:[o.jsx("label",{children:"Report Range:"}),o.jsxs("select",{value:c,onChange:C=>{d(C.target.value),C.target.value!=="UHID"&&b("")},children:[o.jsx("option",{value:"today",children:"Today"}),o.jsx("option",{value:"weekly",children:"This Week"}),o.jsx("option",{value:"monthly",children:"This Month"}),o.jsx("option",{value:"calendar",children:"Custom Range"}),o.jsx("option",{value:"UHID",children:"By UHID"})]}),c==="calendar"&&o.jsxs(o.Fragment,{children:[o.jsx("label",{children:"Start:"}),o.jsx("input",{type:"date",value:f,onChange:C=>p(C.target.value)}),o.jsx("label",{children:"End:"}),o.jsx("input",{type:"date",value:m,onChange:C=>g(C.target.value)})]}),c==="UHID"&&o.jsxs(o.Fragment,{children:[o.jsx("label",{children:"UHID:"}),o.jsx("input",{type:"text",value:v,placeholder:"JC-2025-0001",onChange:C=>b(C.target.value)})]})]}),o.jsx("div",{className:"table-container",children:o.jsxs("table",{children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Date"}),o.jsx("th",{children:"Patient (UHID)"}),o.jsx("th",{children:"Doctor"}),o.jsx("th",{children:"Consultation"}),o.jsx("th",{children:"Services"}),o.jsx("th",{children:"Discount"}),o.jsx("th",{children:"Tax"}),o.jsx("th",{children:"Total"}),o.jsx("th",{children:"Payment"})]})}),o.jsx("tbody",{children:t.length>0?t.map((C,j)=>o.jsxs("tr",{children:[o.jsx("td",{children:C.date}),o.jsxs("td",{children:[C.patient," (",C.uhid,")"]}),o.jsx("td",{children:C.doctor}),o.jsxs("td",{children:["",C.consultation?.toFixed(2)||"0.00"]}),o.jsx("td",{children:C.services||"N/A"}),o.jsxs("td",{children:["",C.discount?.toFixed(2)||"0.00"]}),o.jsxs("td",{children:["",C.tax?.toFixed(2)||"0.00"]}),o.jsxs("td",{children:["",C.total?.toFixed(2)||"0.00"]}),o.jsx("td",{children:C.paymentMethod})]},j)):o.jsx("tr",{children:o.jsx("td",{colSpan:"9",style:{textAlign:"center"},children:"No ledger entries found."})})})]})})]})]})]})};function jEe(e){return Ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M320 96L192 96 144.6 24.9C137.5 14.2 145.1 0 157.9 0L354.1 0c12.8 0 20.4 14.2 13.3 24.9L320 96zM192 128l128 0c3.8 2.5 8.1 5.3 13 8.4C389.7 172.7 512 250.9 512 416c0 53-43 96-96 96L96 512c-53 0-96-43-96-96C0 250.9 122.3 172.7 179 136.4c0 0 0 0 0 0s0 0 0 0c4.8-3.1 9.2-5.9 13-8.4zm84 88c0-11-9-20-20-20s-20 9-20 20l0 14c-7.6 1.7-15.2 4.4-22.2 8.5c-13.9 8.3-25.9 22.8-25.8 43.9c.1 20.3 12 33.1 24.7 40.7c11 6.6 24.7 10.8 35.6 14l1.7 .5c12.6 3.8 21.8 6.8 28 10.7c5.1 3.2 5.8 5.4 5.9 8.2c.1 5-1.8 8-5.9 10.5c-5 3.1-12.9 5-21.4 4.7c-11.1-.4-21.5-3.9-35.1-8.5c-2.3-.8-4.7-1.6-7.2-2.4c-10.5-3.5-21.8 2.2-25.3 12.6s2.2 21.8 12.6 25.3c1.9 .6 4 1.3 6.1 2.1c0 0 0 0 0 0s0 0 0 0c8.3 2.9 17.9 6.2 28.2 8.4l0 14.6c0 11 9 20 20 20s20-9 20-20l0-13.8c8-1.7 16-4.5 23.2-9c14.3-8.9 25.1-24.1 24.8-45c-.3-20.3-11.7-33.4-24.6-41.6c-11.5-7.2-25.9-11.6-37.1-15c0 0 0 0 0 0l-.7-.2c-12.8-3.9-21.9-6.7-28.3-10.5c-5.2-3.1-5.3-4.9-5.3-6.7c0-3.7 1.4-6.5 6.2-9.3c5.4-3.2 13.6-5.1 21.5-5c9.6 .1 20.2 2.2 31.2 5.2c10.7 2.8 21.6-3.5 24.5-14.2s-3.5-21.6-14.2-24.5c-6.5-1.7-13.7-3.4-21.1-4.7l0-13.9z"},child:[]}]})(e)}const TEe=()=>{const e=wt(),t=new Date,n=t.getFullYear(),r=`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}`,i=`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`,[a,s]=w.useState(n),[c,d]=w.useState(r),[f,p]=w.useState(i),{dailyCollection:m,monthlyIncome:g,yearlyIncome:v,monthlyExpenses:b,yearlyExpenses:C}=qe(P=>P.patientBilling.financeSummary),j=qe(P=>P.patientBilling.summaryStatus),A=qe(P=>P.patientBilling.summaryError),k=j==="loading";w.useEffect(()=>{e(wm({year:a,month:c,date:f}))},[]);const E=()=>{e(wm({year:a,month:c,date:f}))};return o.jsxs(o.Fragment,{children:[o.jsx("style",{jsx:!0,children:`
  .page-container {
    padding: 40px 20px;
    max-width: 1200px;
    margin: auto;
    font-family: "Segoe UI", sans-serif;
    animation: fadeIn 0.5s ease-in-out;
  }

  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  .page-title-box {
    text-align: center;
    margin-bottom: 35px;
  }

  .title-icon {
    font-size: 3.8rem;
    color: #0284b7;
    animation: float 2s infinite ease-in-out;
    display: inline-block;
  }

  .page-title {
    font-size: 2.5rem;
    font-weight: 700;
    margin-top: 12px;
    color: #034f6d;
    letter-spacing: 0.5px;
  }

  @keyframes float {
    0% { transform: translateY(0); }
    50% { transform: translateY(-8px); }
    100% { transform: translateY(0); }
  }

  /* Filter Bar */
  .filter-box {
    display: flex;
    gap: 15px;
    justify-content: center;
    margin-bottom: 25px;
    flex-wrap: wrap;
    padding: 15px;
    background: #f0faff;
    border-radius: 14px;
    border: 1px solid #cbe8f5;
  }

  .filter-select,
  .filter-input {
    padding: 10px 14px;
    border-radius: 8px;
    border: 1px solid #bcdff0;
    font-size: 1rem;
    outline: none;
    background: #f8fcff;
    transition: 0.3s ease;
  }

  .filter-select:focus,
  .filter-input:focus {
    border-color: #0284b7;
    box-shadow: 0 0 6px rgba(2, 132, 183, 0.4);
  }

  .filter-btn {
    padding: 10px 24px;
    background: #0284b7;
    color: #fff;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-size: 1rem;
    font-weight: 600;
    transition: 0.3s ease;
    position: relative;
    overflow: hidden;
  }

  .filter-btn::after {
    content: "";
    position: absolute;
    width: 0;
    height: 100%;
    top: 0;
    left: 0;
    background: rgba(255,255,255,0.2);
    transition: 0.4s;
  }

  .filter-btn:hover::after {
    width: 100%;
  }

  .summary-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 22px;
    margin-top: 20px;
  }

  .summary-box {
    background: linear-gradient(145deg, #ffffff, #e8f8ff);
    border-radius: 18px;
    padding: 30px 25px;
    text-align: center;
    border: 1px solid #dff2fb;
    box-shadow: 0 4px 14px rgba(0,0,0,0.08);
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
  }

  .summary-box::before {
    content: "";
    position: absolute;
    top: -60%;
    left: -60%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle, rgba(2,132,183,0.12), transparent 70%);
    transform: scale(0);
    transition: 0.4s ease;
    border-radius: 50%;
  }

  .summary-box:hover::before {
    transform: scale(1);
  }

  .summary-box:hover {
    transform: translateY(-6px) scale(1.02);
    box-shadow: 0 10px 32px rgba(0,0,0,0.15);
  }

  .label-text {
    font-size: 1.15rem;
    font-weight: 600;
    color: #0a5773;
  }

  .value-text {
    margin-top: 8px;
    font-size: 2rem;
    font-weight: 700;
    color: #0b7ea6;
    letter-spacing: 0.5px;
  }

  .loading-text,
  .error-text {
    text-align: center;
    margin-top: 25px;
    font-weight: 600;
  }

  .loading-text {
    color: #0b7ea6;
  }

  .error-text {
    color: #d9534f;
  }
`}),o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"page-title-box",children:[o.jsx("div",{className:"title-icon",children:o.jsx(jEe,{})}),o.jsx("h1",{className:"page-title",children:"Finance Summary Dashboard"})]}),o.jsxs("div",{className:"filter-box",children:[o.jsxs("select",{className:"filter-select",value:a,onChange:P=>s(P.target.value),children:[o.jsx("option",{value:2024,children:"2024"}),o.jsx("option",{value:2025,children:"2025"}),o.jsx("option",{value:2026,children:"2026"})]}),o.jsx("input",{type:"month",className:"filter-input",value:c,onChange:P=>d(P.target.value)}),o.jsx("input",{type:"date",className:"filter-input",value:f,onChange:P=>p(P.target.value)}),o.jsx("button",{className:"filter-btn",onClick:E,children:"Search"})]}),k&&o.jsx("p",{className:"loading-text",children:"Fetching financial data..."}),j==="failed"&&o.jsxs("p",{className:"error-text",children:["Error: ",A]}),!k&&j!=="failed"&&o.jsxs("div",{className:"summary-grid",children:[o.jsxs("div",{className:"summary-box",children:[o.jsx("p",{className:"label-text",children:"Daily Collection"}),o.jsxs("p",{className:"value-text",children:["",m?.toFixed(2)||"0.00"]})]}),o.jsxs("div",{className:"summary-box",children:[o.jsx("p",{className:"label-text",children:"Monthly Income"}),o.jsxs("p",{className:"value-text",children:["",g?.toFixed(2)||"0.00"]})]}),o.jsxs("div",{className:"summary-box",children:[o.jsx("p",{className:"label-text",children:"Yearly Income"}),o.jsxs("p",{className:"value-text",children:["",v?.toFixed(2)||"0.00"]})]}),o.jsxs("div",{className:"summary-box",children:[o.jsx("p",{className:"label-text",children:"Monthly Expenses"}),o.jsxs("p",{className:"value-text",children:["",b?.toFixed(2)||"0.00"]})]}),o.jsxs("div",{className:"summary-box",children:[o.jsx("p",{className:"label-text",children:"Yearly Expenses"}),o.jsxs("p",{className:"value-text",children:["",C?.toFixed(2)||"0.00"]})]})]})]})]})},AEe=()=>{const[e,t]=w.useState(!1),n=Fn(),r=Jr(),a=new URLSearchParams(r.search).get("tab"),[s,c]=w.useState(a||"newBill"),{patient:d,patientStatus:f,settings:p,billingHistory:m=[],billStatus:g,expenses:v=[]}=qe(D=>D.patientBilling),b=D=>{if(D===s)return;c(D);const L=new URLSearchParams(r.search);L.set("tab",D),n({search:L.toString()},{replace:!0})},C=w.useRef(),[j,A]=w.useState(!1),[k,E]=w.useState(null),P=()=>t(!e),$=D=>{E(D),A(!0)},F=()=>{const D=C.current.innerHTML,L=document.body.innerHTML;document.body.innerHTML=`
      <html>
        <head>
          <title>Receipt - ${k.billNumber}</title>
          <style>
            body { font-family: 'Segoe UI', sans-serif; padding: 40px; }
            h2 { color: #186476; text-align: center; }
            ul { padding-left: 20px; }
            .total { background: #e6f8fb; padding: 15px; border-radius: 8px; text-align: center; font-size: 1.4rem; font-weight: bold; color: #186476; }
          </style>
        </head>
        <body>${D}</body>
      </html>
    `,window.print(),document.body.innerHTML=L,window.location.reload()},O=m.reduce((D,L)=>D+(L.totalAmount||0),0),_=v.reduce((D,L)=>D+L.amount,0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{jsx:!0,children:`
        .layout {
          display: flex;
          min-height: 100vh;
          background: linear-gradient(to bottom, #f0f7fb, #e6f0fa);
          font-family: "Segoe UI", sans-serif;
        }

        .sidebar-wrapper {
          width: 250px;
          height: 100%;
          background: #fff;
          position: fixed;
          top: 0;
          left: 0;
          z-index: 999;
          transition: transform 0.35s ease;
          transform: translateX(${e?"0":"-250px"});
          border-right: 1px solid #e2e8f0;
          box-shadow: 0 0 25px rgba(0, 0, 0, 0.08);
        }

        .top-bar {
          position: fixed;
          top: 0;
          left: ${e?"250px":"0"};
          right: 0;
          height: 70px;
          display: flex;
          justify-content: flex-end;
          align-items: center;
          padding: 0 2rem;
          z-index: 998;
          transition: left 0.35s ease;
        }

        .toggle-btn {
          background: #186476;
          width: 42px;
          height: 42px;
          color: #fff;
          border: none;
          border-radius: 12px;
          display: grid;
          place-items: center;
          cursor: pointer;
          transition: all 0.3s;
        }

        .toggle-btn:hover {
          background: #0e4a5a;
        }

        .main-content {
          flex: 1;
          padding: 40px 25px 40px;
          transition: margin-left 0.35s ease;
          margin-left: ${e?"250px":"0"};
        }

        h1 {
          text-align: center;
          font-size: 2.6rem;
          color: #186476;
          margin-bottom: 35px;
          font-weight: 600;
        }

        .tab-container {
          display: flex;
          justify-content: center;
          gap: 15px;
          flex-wrap: wrap;
          margin-bottom: 35px;
        }

        .tab-button {
          padding: 13px 25px;
          border-radius: 12px;
          border: none;
          display: flex;
          gap: 8px;
          align-items: center;
          background: #e6f8fb;
          color: #186476;
          cursor: pointer;
          font-weight: 600;
          transition: all 0.3s;
        }

        .tab-button:hover {
          background: #cce9f0;
          transform: translateY(-2px);
        }

        .tab-button.active {
          background: #186476;
          color: #fff;
          box-shadow: 0 4px 15px rgba(24, 100, 118, 0.3);
        }

        .popup {
          position: fixed;
          inset: 0;
          background: rgba(0, 0, 0, 0.7);
          display: flex;
          justify-content: center;
          align-items: center;
          z-index: 9999;
          backdrop-filter: blur(5px);
        }

        .popup-content {
          background: white;
          padding: 2.5rem;
          border-radius: 16px;
          max-width: 520px;
          width: 90%;
          box-shadow: 0 25px 50px rgba(0, 0, 0, 0.25);
          max-height: 90vh;
          overflow-y: auto;
        }

        .popup-actions {
          display: flex;
          justify-content: center;
          gap: 20px;
          margin-top: 30px;
        }

        .popup-actions button {
          padding: 12px 28px;
          border: none;
          border-radius: 10px;
          font-weight: 600;
          cursor: pointer;
          display: flex;
          align-items: center;
          gap: 10px;
          font-size: 15px;
          transition: all 0.3s;
        }

        .print-btn {
          background: #186476;
          color: white;
        }

        .print-btn:hover {
          background: #0e4a5a;
        }

        .close-btn {
          background: #f1f1f1;
          color: #444;
        }

        .close-btn:hover {
          background: #ddd;
        }
      `}),o.jsxs("div",{className:"layout",children:[o.jsx("div",{className:"sidebar-wrapper",children:o.jsx(Fo,{})}),o.jsx("div",{className:"top-bar",children:o.jsx("button",{className:"toggle-btn",onClick:P,children:o.jsx(pc,{size:21})})}),o.jsxs("div",{className:"main-content",children:[o.jsx("h1",{children:"Clinic Accounts & Billing"}),o.jsx("div",{className:"tab-container",children:[{id:"newBill",label:"New Bill",icon:o.jsx(M8,{})},{id:"receipts",label:"Receipts",icon:o.jsx(Jce,{})},{id:"ledger",label:"Patient Ledger",icon:o.jsx($m,{})},{id:"finance",label:"Finance Summary",icon:o.jsx(Pce,{})}].map(D=>o.jsxs("button",{className:`tab-button ${s===D.id?"active":""}`,onClick:()=>b(D.id),children:[D.icon," ",D.label]},D.id))}),s==="newBill"&&o.jsx(xEe,{tax:p?.tax?.gstPercent||5}),s==="receipts"&&o.jsx(wEe,{billing:m,openReceipt:$}),s==="ledger"&&o.jsx(CEe,{billing:m}),s==="finance"&&o.jsx(TEe,{totalIncome:O,totalExpenses:_,expenses:v}),j&&k&&o.jsx("div",{className:"popup",onClick:()=>A(!1),children:o.jsxs("div",{className:"popup-content",ref:C,onClick:D=>D.stopPropagation(),children:[o.jsx("h2",{style:{textAlign:"center",color:"#186476",marginBottom:"20px",fontSize:"1.8rem"},children:"Clinic Receipt"}),o.jsxs("div",{style:{lineHeight:"2",fontSize:"15px"},children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Bill No:"})," ",k.billNumber]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Patient Name:"})," ",k.patientName]}),o.jsxs("p",{children:[o.jsx("strong",{children:"UHID:"})," ",k.patientUhid]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Date:"})," ",new Date(k.createdAt).toLocaleDateString("en-IN")]}),k.services&&k.services.length>0&&o.jsxs("div",{style:{margin:"18px 0"},children:[o.jsx("strong",{children:"Services:"}),o.jsx("ul",{style:{margin:"10px 0",paddingLeft:"25px"},children:k.services.map((D,L)=>o.jsxs("li",{style:{margin:"6px 0"},children:[D.name,D.name.toLowerCase().includes("consultation")&&o.jsxs("span",{style:{color:"#186476",fontWeight:"600"},children:[" ","(Consultation Fee)"]})," ","- ",D.amount?.toFixed(2)]},L))})]}),o.jsxs("div",{style:{borderTop:"2px dashed #186476",paddingTop:"15px",margin:"20px 0"},children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Subtotal:"})," ",k.subtotal?.toFixed(2)]}),k.discount>0&&o.jsxs("p",{children:[o.jsx("strong",{children:"Discount:"})," ",k.discount?.toFixed(2)]}),k.taxAmount>0&&o.jsxs("p",{children:[o.jsxs("strong",{children:["Tax (GST ",p?.tax?.gstPercent||0,"%):"]})," ","",k.taxAmount?.toFixed(2)]}),o.jsxs("div",{className:"total",style:{marginTop:"20px",fontSize:"1.5rem",padding:"15px",background:"#e6f8fb",borderRadius:"10px",textAlign:"center",color:"#186476",fontWeight:"bold"},children:["Total Amount: ",k.totalAmount?.toFixed(2)]})]})]}),o.jsxs("div",{className:"popup-actions",children:[o.jsxs("button",{className:"print-btn",onClick:F,children:[o.jsx(Bb,{})," Print Receipt"]}),o.jsxs("button",{className:"close-btn",onClick:()=>A(!1),children:[o.jsx(Gg,{})," Close"]})]})]})})]})]})]})},kEe=({searchTerm:e,setSearchTerm:t,onSearch:n})=>o.jsx("div",{style:vu.container,children:o.jsxs("div",{style:vu.searchWrapper,children:[o.jsx(d2,{style:vu.icon}),o.jsx("input",{type:"text",placeholder:"Search by Name, UHID, or Phone...",value:e,onChange:r=>t(r.target.value),onKeyPress:r=>r.key==="Enter"&&n?.(),style:vu.input}),e&&o.jsx("button",{onClick:()=>t(""),style:vu.clearBtn,"aria-label":"Clear search",children:""})]})}),vu={container:{width:"100%",padding:"8px 0"},searchWrapper:{position:"relative",display:"flex",alignItems:"center",width:"100%"},input:{width:"100%",padding:"16px 20px 16px 52px",fontSize:"1.1rem",fontWeight:"500",color:"#1e293b",background:"#ffffff",border:"2px solid #e2e8f0",borderRadius:"16px",outline:"none",transition:"all 0.3s ease",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.05)","::placeholder":{color:"#94a3b8",fontWeight:"400"}},icon:{position:"absolute",left:"18px",fontSize:"1.3rem",color:"#64748b",pointerEvents:"none",zIndex:2},clearBtn:{position:"absolute",right:"16px",background:"transparent",border:"none",fontSize:"1.6rem",fontWeight:"300",color:"#94a3b8",cursor:"pointer",padding:"0",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",transition:"all 0.2s ease",zIndex:2}},EEe=`
  input:focus {
    border-color: #186476 !important;
    box-shadow: 0 0 0 4px rgba(24, 100, 118, 0.15) !important;
    transform: translateY(-1px);
  }
  input:hover {
    border-color: #94a3b8;
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
  }
  button:hover {
    background: rgba(148, 163, 184, 0.15) !important;
    color: #475569 !important;
  }
`;if(typeof window<"u"&&!window.patientSearchBarStyleInjected){const e=document.createElement("style");e.textContent=EEe.replace(/input|button/g,"[data-search-input], [data-search-input] ~ button"),document.head.appendChild(e),window.patientSearchBarStyleInjected=!0}vu.input={...vu.input,"data-search-input":"true"};const NEe=({stats:e})=>o.jsxs("div",{style:Si.statsContainer,children:[o.jsxs("div",{style:{...Si.statCard,...Si.blueCard},children:[o.jsx("h2",{style:Si.statValue,children:e.total}),o.jsx("p",{style:Si.statLabel,children:"Total Patients"})]}),o.jsxs("div",{style:{...Si.statCard,...Si.orangeCard},children:[o.jsx("h2",{style:Si.statValue,children:e.pendingFollowUps}),o.jsx("p",{style:Si.statLabel,children:"Pending Follow-ups"})]}),o.jsxs("div",{style:{...Si.statCard,...Si.greenCard},children:[o.jsxs("h2",{style:Si.statValue,children:["",e.outstanding]}),o.jsx("p",{style:Si.statLabel,children:"Outstanding Billing"})]})]}),Si={statsContainer:{display:"flex",justifyContent:"center",alignItems:"center",gap:"20px",flexWrap:"wrap",marginBottom:"25px"},statCard:{background:"#fff",padding:"20px 30px",borderRadius:"15px",boxShadow:"0 6px 15px rgba(0,0,0,0.08)",textAlign:"center",transition:"transform 0.2s ease, box-shadow 0.2s ease",minWidth:"180px",cursor:"default"},statValue:{fontSize:"28px",fontWeight:"700",margin:"0"},statLabel:{fontSize:"14px",color:"#6b7280",marginTop:"4px"},blueCard:{borderBottom:"4px solid #3b82f6"},orangeCard:{borderBottom:"4px solid #f59e0b"},greenCard:{borderBottom:"4px solid #10b981"}},_Ee=({patients:e=[],selectedPatient:t,onSelectPatient:n})=>o.jsx("div",{style:cs.grid,children:e.length===0?o.jsx("p",{style:{textAlign:"center",color:"#6b7280"},children:"No patients found"}):e.map(r=>o.jsxs("div",{style:{...cs.patientCard,border:t?.UHID===r.UHID?"2px solid #2563eb":"1px solid #e5e7eb"},onClick:()=>n(r),children:[o.jsx(fue,{size:50,style:{color:"#2563eb"}}),o.jsx("h3",{style:cs.patientName,children:r.name||"Unknown"}),o.jsxs("p",{style:cs.patientInfo,children:["UHID: ",r.UHID||"N/A"]}),o.jsxs("p",{style:cs.patientInfo,children:["Age ",r.age||"-",", ",r.gender||"-"]}),o.jsx("p",{style:cs.patientInfo,children:r.phone||"No phone"}),o.jsxs("div",{style:cs.badges,children:[(r.history||[]).map((i,a)=>o.jsx("span",{style:{...cs.badge,background:"#f87171"},children:i},`h-${a}`)),(r.allergies||[]).map((i,a)=>o.jsx("span",{style:{...cs.badge,background:"#fcd34d"},children:i},`a-${a}`))]})]},r.UHID||r._id))}),cs={grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:"16px"},patientCard:{background:"#fff",padding:"20px",borderRadius:"15px",boxShadow:"0 6px 20px rgba(0,0,0,0.08)",cursor:"pointer",textAlign:"center"},patientName:{fontSize:"16px",fontWeight:"bold",margin:"10px 0 4px"},patientInfo:{fontSize:"13px",color:"#4b5563",margin:"2px 0"},badges:{display:"flex",flexWrap:"wrap",gap:"6px",justifyContent:"center",marginTop:"10px"},badge:{padding:"2px 8px",borderRadius:"6px",fontSize:"11px",color:"#fff"}},PEe=({patient:e,editPatient:t,setEditPatient:n,patients:r,setPatients:i,setSelectedPatient:a,showNotification:s,isLoading:c,setIsLoading:d})=>{const f=wt(),[p,m]=w.useState(!1),g={...e,address:e?.address??null},v=(()=>{const A={...t};if(typeof A.address=="string"){const k=A.address.trim();A.address=k?{locality:k}:{}}else A.address=A.address||{};return A})(),b=async()=>{const A=v.uhid||v.UHID;if(!v.name?.trim()||!A||!v.age||!v.phone?.trim()){s("Name, UHID, Age, and Phone are required","error");return}try{d(!0);const k=[v.address?.locality,v.address?.city,v.address?.state,v.address?.country].filter(Boolean).join(", ");await f(mm({uhid:A,clinicId:e?.clinicId,updateData:{name:v.name.trim(),phone:v.phone.trim(),address:k,gender:v.gender,fatherName:v.fatherName,dob:v.dob,age:v.age,email:v.email,referredBy:v.referredBy}})).unwrap(),Ee.success("Patient updated successfully"),s("Patient updated successfully","success"),m(!1);const E=r.map(P=>(P.uhid||P.UHID)===A?{...P,...v}:P);i(E),a({...e,...v}),x}catch(k){console.error(k),s("Failed to update patient","error")}finally{d(!1)}},C=g.address;let j="N/A";if(typeof C=="string")j=C.trim()||"N/A";else if(C&&typeof C=="object"){const A=[C.locality,C.city,C.state,C.country].map(k=>typeof k=="string"?k.trim():"").filter(Boolean);j=A.length?A.join(", "):"N/A"}return p?o.jsxs("div",{style:mn.card,children:[o.jsx("div",{style:mn.header,children:o.jsxs("h3",{style:mn.cardTitle,children:[o.jsx(Fb,{style:mn.icon})," Edit Patient"]})}),o.jsxs("div",{style:mn.editGrid,children:[o.jsx(rm,{icon:o.jsx(r7,{}),value:v.uhid||v.UHID||"",disabled:!0,placeholder:"UHID"}),o.jsx(rm,{icon:o.jsx(O3,{}),value:v.name||"",onChange:A=>n({...v,name:A}),placeholder:"Full Name *"}),o.jsx(rm,{icon:o.jsx(Is,{}),type:"number",value:v.age||"",onChange:A=>n({...v,age:A}),placeholder:"Age *"}),o.jsx(rm,{icon:o.jsx(a7,{}),value:v.phone||"",onChange:A=>n({...v,phone:A}),placeholder:"Phone *"}),o.jsx(rm,{icon:o.jsx(i7,{}),value:v.address.locality||"",onChange:A=>n({...v,address:{...v.address,locality:A}}),placeholder:"Locality"})]}),o.jsxs("div",{style:mn.actionButtons,children:[o.jsx("button",{style:mn.saveBtn,onClick:b,disabled:c,children:c?"Saving...":o.jsxs(o.Fragment,{children:[o.jsx(Sj,{})," Save Changes"]})}),o.jsxs("button",{style:mn.cancelBtn,onClick:()=>m(!1),children:[o.jsx(Gg,{})," Cancel"]})]})]}):o.jsxs("div",{style:mn.card,children:[o.jsxs("div",{style:mn.header,children:[o.jsxs("h3",{style:mn.cardTitle,children:[o.jsx(O3,{style:mn.icon})," Patient Demographics"]}),o.jsxs("button",{style:mn.editBtn,onClick:()=>{n({...g,address:typeof g.address=="string"?{locality:g.address}:g.address||{}}),m(!0)},children:[o.jsx(Fb,{})," Edit"]})]}),o.jsxs("div",{style:mn.infoGrid,children:[o.jsx(Rl,{icon:o.jsx(O3,{}),label:"Name",value:g.name}),o.jsx(Rl,{icon:o.jsx(r7,{}),label:"UHID",value:g.uhid||g.UHID||"N/A"}),o.jsx(Rl,{icon:o.jsx(Is,{}),label:"Age",value:g.age}),o.jsx(Rl,{icon:o.jsx(vue,{}),label:"Gender",value:g.gender}),o.jsx(Rl,{icon:o.jsx(a7,{}),label:"Phone",value:g.phone}),o.jsx(Rl,{icon:o.jsx(Bce,{}),label:"Email",value:g.email||"N/A"}),o.jsx(Rl,{icon:o.jsx(i7,{}),label:"Address",value:j}),o.jsx(Rl,{icon:o.jsx(Kg,{}),label:"Referred By",value:g.referredBy||"N/A"})]})]})},Rl=({icon:e,label:t,value:n})=>o.jsxs("div",{style:mn.infoItem,children:[o.jsxs("div",{style:mn.infoLabel,children:[e,o.jsx("span",{children:t})]}),o.jsx("div",{style:mn.infoValue,children:n})]}),rm=({icon:e,value:t,onChange:n,placeholder:r,type:i="text",disabled:a})=>o.jsxs("div",{style:mn.inputWrapper,children:[e&&o.jsx("span",{style:mn.inputIcon,children:e}),o.jsx("input",{type:i,value:t,disabled:a,onChange:s=>n&&n(s.target.value),placeholder:" ",style:mn.input}),o.jsx("label",{style:mn.floatingLabel,children:r})]}),mn={card:{background:"#ffffff",borderRadius:"16px",padding:"24px",boxShadow:"0 10px 25px rgba(0,0,0,0.08)",border:"1px solid #e2e8f0",transition:"transform 0.2s, box-shadow 0.2s"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",paddingBottom:"12px",borderBottom:"1px solid #f1f5f9"},cardTitle:{fontSize:"20px",fontWeight:"700",color:"#1e293b",margin:0,display:"flex",alignItems:"center",gap:"8px"},icon:{color:"#186476",fontSize:"18px"},editBtn:{background:"linear-gradient(135deg, #2563eb, #1d4ed8)",color:"#fff",border:"none",borderRadius:"10px",padding:"10px 18px",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",transition:"all 0.2s",boxShadow:"0 4px 10px rgba(37,99,235,0.3)"},infoGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"16px"},infoItem:{background:"#f8fafc",padding:"14px 16px",borderRadius:"12px",border:"1px solid #e2e8f0",transition:"all 0.2s"},infoLabel:{display:"flex",alignItems:"center",gap:"8px",fontSize:"13px",fontWeight:"600",color:"#64748b",marginBottom:"4px"},infoValue:{fontSize:"15px",color:"#1e293b",fontWeight:"500"},editGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))",gap:"20px",marginBottom:"20px"},inputWrapper:{position:"relative",marginBottom:"4px"},inputIcon:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#64748b",fontSize:"16px",pointerEvents:"none",zIndex:1},input:{width:"100%",padding:"14px 28px",borderRadius:"12px",border:"2px solid #e2e8f0",fontSize:"14px",background:"#fff",transition:"all 0.2s",outline:"none"},floatingLabel:{position:"absolute",left:"40px",top:"50%",transform:"translateY(-50%)",fontSize:"14px",color:"#9ca3af",pointerEvents:"none",transition:"all 0.2s",background:"#fff",padding:"0 4px"},actionButtons:{display:"flex",gap:"12px",marginTop:"8px"},saveBtn:{flex:1,background:"linear-gradient(135deg, #16a34a, #15803d)",color:"#fff",border:"none",borderRadius:"12px",padding:"14px",fontSize:"15px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"all 0.2s",boxShadow:"0 4px 12px rgba(22,163,74,0.3)"},cancelBtn:{flex:1,background:"linear-gradient(135deg, #dc2626, #b91c1c)",color:"#fff",border:"none",borderRadius:"12px",padding:"14px",fontSize:"15px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"all 0.2s",boxShadow:"0 4px 12px rgba(220,38,38,0.3)"}};Object.assign(mn.editBtn,{":hover":{transform:"translateY(-2px)",boxShadow:"0 6px 16px rgba(37,99,235,0.4)"}});Object.assign(mn.saveBtn,{":hover":{transform:"translateY(-2px)",boxShadow:"0 6px 16px rgba(22,163,74,0.4)"}});Object.assign(mn.cancelBtn,{":hover":{transform:"translateY(-2px)",boxShadow:"0 6px 16px rgba(220,38,38,0.4)"}});Object.assign(mn.infoItem,{":hover":{background:"#f1f5f9",borderColor:"#cbd5e1",transform:"translateY(-1px)"}});const wG=document.createElement("style");wG.innerHTML=`
  @keyframes spin {
    to { transform: rotate(360deg); }
  }
  input:focus, select:focus {
    border-color: #2563eb !important;
    box-shadow: 0 0 0 3px rgba(37,99,235,0.2) !important;
  }
  input:focus + label, select:focus + label,
  input:not(:placeholder-shown) + label, select:not(:empty) + label {
    top: -8px !important;
    font-size: 12px !important;
    color: #186476 !important;
  }
  button:hover {
    transform: translateY(-2px);
  }
  .info-item:hover {
    background: #f1f5f9 !important;
    border-color: #cbd5e1 !important;
  }
`;document.head.appendChild(wG);const DEe=({patient:e={}})=>{const t=Array.isArray(e.history)?e.history:[];console.log("History",t);const n=Array.isArray(e.allergies)?e.allergies:[],r=t.length>0,i=n.length>0;return o.jsxs("div",{style:yr.card,children:[o.jsxs("div",{style:yr.section,children:[o.jsxs("div",{style:yr.sectionHeader,children:[o.jsx(Qm,{style:yr.icon}),o.jsx("h3",{style:yr.sectionTitle,children:"Medical History"})]}),r?o.jsx("div",{style:yr.chipGrid,children:t.map((a,s)=>o.jsxs("div",{style:yr.conditionChip,title:a,children:[o.jsx(Cj,{style:yr.chipIcon}),o.jsx("span",{children:a})]},s))}):o.jsx(lM,{icon:o.jsx(Qm,{}),message:"No medical history recorded."})]}),o.jsxs("div",{style:yr.section,children:[o.jsxs("div",{style:yr.sectionHeader,children:[o.jsx(zce,{style:yr.icon}),o.jsx("h3",{style:yr.sectionTitle,children:"Allergies"})]}),i?o.jsx("div",{style:yr.chipGrid,children:n.map((a,s)=>o.jsxs("div",{style:yr.allergyChip,title:a,children:[o.jsx(JP,{style:yr.chipIcon}),o.jsx("span",{children:a})]},s))}):o.jsx(lM,{icon:o.jsx(JP,{}),message:"No known allergies."})]})]})},lM=({icon:e,message:t})=>o.jsxs("div",{style:yr.emptyState,children:[o.jsx("div",{style:yr.emptyIcon,children:e}),o.jsx("p",{style:yr.emptyText,children:t})]}),yr={card:{background:"#ffffff",borderRadius:"16px",padding:"28px",boxShadow:"0 10px 25px rgba(0,0,0,0.08)",border:"1px solid #e2e8f0",marginTop:"8px"},section:{marginBottom:"32px"},sectionHeader:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"16px",paddingBottom:"10px",borderBottom:"2px solid #f1f5f9"},icon:{color:"#186476",fontSize:"20px"},sectionTitle:{fontSize:"18px",fontWeight:"700",color:"#1e293b",margin:0},chipGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))",gap:"12px",marginTop:"8px"},conditionChip:{background:"linear-gradient(135deg, #fee2e2, #fecaca)",color:"#991b1b",padding:"10px 14px",borderRadius:"14px",fontSize:"13.5px",fontWeight:"600",display:"flex",alignItems:"center",gap:"8px",border:"1px solid #fca5a5",boxShadow:"0 2px 6px rgba(254, 226, 226, 0.4)",transition:"all 0.25s ease",cursor:"default"},allergyChip:{background:"linear-gradient(135deg, #fef3c7, #fde68a)",color:"#92400e",padding:"10px 14px",borderRadius:"14px",fontSize:"13.5px",fontWeight:"600",display:"flex",alignItems:"center",gap:"8px",border:"1px solid #fbbf24",boxShadow:"0 2px 6px rgba(254, 243, 199, 0.4)",transition:"all 0.25s ease",cursor:"default"},chipIcon:{fontSize:"15px",opacity:.9},emptyState:{display:"flex",flexDirection:"column",alignItems:"center",padding:"32px 20px",color:"#94a3b8",background:"#f8fafc",borderRadius:"12px",border:"2px dashed #e2e8f0",marginTop:"12px"},emptyIcon:{fontSize:"32px",marginBottom:"12px",opacity:.6},emptyText:{fontSize:"15px",fontStyle:"italic",margin:0,color:"#64748b"}};if(typeof document<"u"){const e=document.createElement("style");e.id="history-tab-enhanced-styles",e.innerHTML=`
    [style*="fee2e2"]:hover,
    [style*="conditionChip"]:hover {
      transform: translateY(-3px) scale(1.04) !important;
      box-shadow: 0 8px 20px rgba(254, 178, 178, 0.5) !important;
      background: linear-gradient(135deg, #fecaca, #fca5a5) !important;
    }
    [style*="fef3c7"]:hover,
    [style*="allergyChip"]:hover {
      transform: translateY(-3px) scale(1.04) !important;
      box-shadow: 0 8px 20px rgba(253, 230, 138, 0.5) !important;
      background: linear-gradient(135deg, #fde68a, #fbbf24) !important;
    }
    .empty-state:hover {
      background: #f1f5f9 !important;
      border-color: #cbd5e1 !important;
    }
  `,document.getElementById(e.id)||document.head.appendChild(e)}const OEe=({patient:e={}})=>{const t=e.vitals||{},n=(a,s)=>{if(!s||s==="")return"#64748b";const c=parseFloat(s);switch(a){case"BP":const[d,f]=s.split("/").map(parseFloat);return d>140||f>90?"#ef4444":d<90||f<60?"#f97316":"#22c55e";case"Pulse":return c>100||c<60?"#f97316":"#22c55e";case"Temperature":return c>100.4?"#ef4444":c<97?"#f97316":"#22c55e";case"SpO":return c<95?"#ef4444":"#22c55e";case"Respiration":return c>20||c<12?"#f97316":"#22c55e";case"BMI":return c>=30?"#ef4444":c>=25||c<18.5?"#f97316":"#22c55e";default:return"#64748b"}},r=[{icon:o.jsx(nue,{}),label:"Height",value:t.heightCm?`${t.heightCm} cm`:""},{icon:o.jsx(bue,{}),label:"Weight",value:t.weightKg?`${t.weightKg} kg`:""},{icon:o.jsx(Hh,{}),label:"BMI",value:t.bmi||""},{icon:o.jsx(Hh,{}),label:"BP",value:t.bp||""},{icon:o.jsx(Hh,{}),label:"Pulse",value:t.pulse?`${t.pulse} bpm`:""},{icon:o.jsx(sue,{}),label:"Temperature",value:t.temperature?`${t.temperature} F`:""},{icon:o.jsx(Qce,{}),label:"Respiration",value:t.respiration?`${t.respiration}/min`:""},{icon:o.jsx(lue,{}),label:"SpO",value:t.spo2?`${t.spo2}%`:""}],i=r.some(a=>a.value!=="");return o.jsxs("div",{style:Hn.container,children:[o.jsxs("div",{style:Hn.header,children:[o.jsx("div",{style:Hn.headerIconWrapper,children:o.jsx(Hh,{style:Hn.headerIcon})}),o.jsx("h3",{style:Hn.title,children:"Vital Signs"})]}),i?o.jsx("div",{style:Hn.grid,children:r.map((a,s)=>{a.value!==""&&["BP","Pulse","Temperature","SpO","Respiration","BMI"].includes(a.label);const c=a.value!==""?n(a.label,a.value):"#cbd5e1",d=c==="#ef4444";return o.jsxs("div",{style:{...Hn.vitalCard,borderColor:c,boxShadow:d?`0 0 20px ${c}30`:Hn.vitalCard.boxShadow},className:`vital-card ${d?"critical":""}`,title:`${a.label}: ${a.value}`,children:[o.jsx("div",{style:Hn.iconCircle,className:"icon-circle",children:se.cloneElement(a.icon,{style:{...Hn.vitalIcon,color:c}})}),o.jsx("div",{style:Hn.label,children:a.label}),o.jsx("div",{style:{...Hn.value,color:c},children:a.value})]},s)})}):o.jsx($Ee,{icon:o.jsx(Hh,{}),message:"No vital signs recorded for this visit."}),t.findings&&o.jsxs("div",{style:Hn.findingsCard,className:"findings-card",children:[o.jsxs("div",{style:Hn.findingsHeader,children:[o.jsx($m,{style:Hn.findingsIcon}),o.jsx("span",{style:Hn.findingsTitle,children:"Clinical Findings"})]}),o.jsx("p",{style:Hn.findingsText,children:t.findings})]})]})},$Ee=({icon:e,message:t})=>o.jsxs("div",{style:Hn.emptyState,children:[o.jsx("div",{style:Hn.emptyIconWrapper,children:se.cloneElement(e,{style:Hn.emptyIcon})}),o.jsx("p",{style:Hn.emptyMessage,children:t})]}),Hn={container:{borderRadius:"20px",padding:"32px",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},header:{display:"flex",alignItems:"center",gap:"14px",marginBottom:"28px"},headerIconWrapper:{background:"linear-gradient(135deg, #fee2e2, #fecaca)",padding:"12px",borderRadius:"16px",boxShadow:"0 4px 15px rgba(254, 99, 99, 0.2)"},headerIcon:{fontSize:"26px",color:"#dc2626"},title:{fontSize:"22px",fontWeight:"800",color:"#1e293b",margin:0,letterSpacing:"-0.5px"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(160px, 1fr))",gap:"20px",marginBottom:"24px"},vitalCard:{background:"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(12px)",padding:"24px 16px",borderRadius:"18px",textAlign:"center",border:"2.5px solid transparent",boxShadow:"0 8px 25px rgba(0, 0, 0, 0.08)",transition:"all 0.35s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",overflow:"hidden"},iconCircle:{width:"60px",height:"60px",margin:"0 auto 14px",borderRadius:"50%",background:"rgba(255, 255, 255, 0.9)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"inset 0 2px 8px rgba(0,0,0,0.1), 0 4px 12px rgba(0,0,0,0.08)",transition:"all 0.3s ease"},vitalIcon:{fontSize:"28px",transition:"all 0.3s ease"},label:{fontSize:"12.5px",color:"#64748b",fontWeight:"700",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"6px"},value:{fontSize:"19px",fontWeight:"800",letterSpacing:"-0.5px"},findingsCard:{background:"linear-gradient(135deg, #fffbeb 0%, #fefce8 100%)",border:"1px solid #fde68a",borderRadius:"16px",padding:"20px",marginTop:"24px",boxShadow:"0 8px 25px rgba(251, 191, 36, 0.15)",transition:"all 0.3s ease"},findingsHeader:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px"},findingsIcon:{fontSize:"18px",color:"#d97706"},findingsTitle:{fontSize:"15px",fontWeight:"700",color:"#92400e"},findingsText:{margin:0,fontSize:"15px",lineHeight:"1.7",color:"#78350f"},emptyState:{textAlign:"center",padding:"60px 20px",background:"rgba(248, 250, 252, 0.7)",borderRadius:"18px",border:"2px dashed #cbd5e1",backdropFilter:"blur(8px)"},emptyIconWrapper:{fontSize:"48px",marginBottom:"16px",opacity:.5,color:"#94a3b8"},emptyMessage:{fontSize:"16px",color:"#64748b",fontStyle:"normal",fontWeight:"500"}};if(typeof document<"u"){const e=document.createElement("style");e.innerHTML=`
    @keyframes pulseGlow {
      0%, 100% { box-shadow: 0 0 20px transparent; }
      50% { box-shadow: 0 0 30px currentColor; }
    }
    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-6px); }
    }
    .vital-card:hover {
      transform: translateY(-8px) scale(1.03) !important;
      z-index: 10;
    }
    .vital-card:hover .icon-circle {
      transform: scale(1.15);
      box-shadow: 0 8px 25px rgba(0,0,0,0.15) !important;
    }
    .vital-card.critical {
      animation: pulseGlow 2s infinite;
    }
    .findings-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 16px 35px rgba(251, 191, 36, 0.25) !important;
    }
    .vital-card:hover .icon-circle {
      animation: float 1.5s ease-in-out infinite;
    }
  `,document.getElementById("vitals-enhanced-styles")||(e.id="vitals-enhanced-styles",document.head.appendChild(e))}const IEe=({visits:e=[],patient:t})=>{const n=e.map(r=>({...r,doctor:"Dr.",chiefComplaints:t?.prescriptions?.[0]?.chiefComplaints,hpi:t?.prescriptions?.[0]?.hpi,provisionalDiagnosis:t?.prescriptions?.[0]?.provisionalDiagnosis,finalDiagnosis:t?.prescriptions?.[0]?.finalDiagnosis,treatmentPlan:t?.prescriptions?.[0]?.treatmentPlan,medicines:t?.prescriptions?.[0]?.medicines||t?.prescriptions?.[0]?.customizedMedicines,doctorComments:t?.prescriptions?.[0]?.doctorComments}));return n.length?o.jsx("div",{style:xt.container,children:n.map((r,i)=>o.jsxs("div",{style:xt.visitCard,children:[o.jsxs("div",{style:xt.visitHeader,children:[o.jsxs("div",{style:xt.dateDoctor,children:[o.jsxs("div",{style:xt.dateRow,children:[o.jsx(_ce,{style:xt.icon}),o.jsx("span",{children:r.date?new Date(r.date).toLocaleDateString("en-IN"):"-"})]}),o.jsxs("div",{style:xt.doctorRow,children:[o.jsx(Kg,{style:xt.icon}),o.jsx("span",{children:r.doctor||"-"})]})]}),r.status&&o.jsx("span",{style:{...xt.statusBadge,background:r.status==="completed"?"#dcfce7":"#fef3c7",color:r.status==="completed"?"#166534":"#92400e"},children:r.status.toUpperCase()})]}),(r.chiefComplaints||r.hpi||r.provisionalDiagnosis||r.finalDiagnosis)&&o.jsxs("div",{style:xt.section,children:[o.jsxs("h4",{style:xt.sectionTitle,children:[o.jsx($m,{style:xt.sectionIcon}),"Complaints & History"]}),r.chiefComplaints&&o.jsxs("p",{style:xt.text,children:[o.jsx("strong",{children:"Complaint:"})," ",r.chiefComplaints]}),r.hpi&&o.jsxs("p",{style:xt.text,children:[o.jsx("strong",{children:"HPI:"})," ",r.hpi]}),r.provisionalDiagnosis&&o.jsxs("p",{style:xt.text,children:[o.jsx("strong",{children:"Provisional Diagnosis:"})," ",r.provisionalDiagnosis]}),r.finalDiagnosis&&o.jsxs("p",{style:xt.text,children:[o.jsx("strong",{children:"Final Diagnosis:"})," ",r.finalDiagnosis]})]}),r.medicines?.length>0&&o.jsxs("div",{style:xt.section,children:[o.jsxs("h4",{style:xt.sectionTitle,children:[o.jsx(u2,{style:xt.sectionIcon}),"Medicines Prescribed"]}),o.jsx("div",{style:xt.medicinesGrid,children:r.medicines.map((a,s)=>o.jsxs("div",{style:xt.medCard,children:[o.jsx("div",{style:xt.medName,children:a.medicineName||a.name}),o.jsxs("div",{style:xt.medDose,children:[a.dosage,"  ",a.frequency]})]},s))})]}),r.treatmentPlan&&o.jsxs("div",{style:xt.section,children:[o.jsxs("h4",{style:xt.sectionTitle,children:[o.jsx($m,{style:xt.sectionIcon}),"Treatment Plan"]}),r.treatmentPlan.lifestyleAdvice&&o.jsxs("p",{style:xt.text,children:[o.jsx("strong",{children:"Lifestyle Advice:"})," ",r.treatmentPlan.lifestyleAdvice]}),r.treatmentPlan.procedures&&o.jsxs("p",{style:xt.text,children:[o.jsx("strong",{children:"Procedures:"})," ",r.treatmentPlan.procedures]}),r.treatmentPlan.referrals&&o.jsxs("p",{style:xt.text,children:[o.jsx("strong",{children:"Referrals:"})," ",r.treatmentPlan.referrals]}),r.treatmentPlan.notes&&o.jsxs("p",{style:xt.text,children:[o.jsx("strong",{children:"Notes:"})," ",r.treatmentPlan.notes]})]}),r.doctorComments&&o.jsxs("div",{style:xt.section,children:[o.jsxs("h4",{style:xt.sectionTitle,children:[o.jsx($ce,{style:xt.sectionIcon}),"Doctor's Note"]}),o.jsx("p",{style:xt.comment,children:r.doctorComments})]}),r.billing?.length>0&&o.jsxs("div",{style:xt.section,children:[o.jsxs("h4",{style:xt.sectionTitle,children:[o.jsx($m,{style:xt.sectionIcon}),"Billing"]}),r.billing.map((a,s)=>o.jsxs("p",{style:xt.text,children:[o.jsx("strong",{children:"Bill Number:"})," ",a.billNumber,"  ",o.jsx("strong",{children:"Amount:"})," ",a.totalAmount,"  ",o.jsx("strong",{children:"Status:"})," ",a.status]},s))]})]},r._id||i))}):o.jsx(REe,{message:"No visits recorded."})},REe=({message:e})=>o.jsx("div",{style:xt.empty,children:o.jsx("p",{style:xt.emptyText,children:e})}),xt={container:{display:"flex",flexDirection:"column",gap:"20px"},visitCard:{background:"#fff",borderRadius:"16px",padding:"20px",border:"1px solid #e2e8f0",boxShadow:"0 4px 12px rgba(0,0,0,0.06)"},visitHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px",flexWrap:"wrap",gap:"12px"},dateDoctor:{display:"flex",gap:"16px",flexWrap:"wrap"},dateRow:{display:"flex",alignItems:"center",gap:"8px",fontWeight:600,color:"#1e293b"},doctorRow:{display:"flex",alignItems:"center",gap:"8px",color:"#475569"},icon:{color:"#2563eb",fontSize:"16px"},statusBadge:{padding:"6px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:600},section:{marginTop:"16px"},sectionTitle:{fontSize:"15px",fontWeight:700,color:"#186476",marginBottom:"8px",display:"flex",alignItems:"center",gap:"8px"},sectionIcon:{color:"#2563eb"},text:{fontSize:"14px",color:"#475569",margin:"4px 0"},medicinesGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))",gap:"12px"},medCard:{background:"#f8fafc",padding:"12px",borderRadius:"12px",border:"1px solid #e2e8f0"},medName:{fontWeight:600,color:"#1e293b"},medDose:{fontSize:"13px",color:"#64748b"},comment:{background:"#f1f5f9",padding:"12px",borderRadius:"10px",fontStyle:"italic",color:"#475569",borderLeft:"4px solid #2563eb"},empty:{textAlign:"center",padding:"40px"},emptyText:{fontSize:"15px",color:"#94a3b8"}},MEe=({reports:e=[]})=>{const[t,n]=w.useState(null),r=i=>i?.includes("pdf")?o.jsx(Yce,{color:"#dc2626"}):i?.includes("image")?o.jsx(Vce,{color:"#2563eb"}):o.jsx(wj,{});return e.length?o.jsxs(o.Fragment,{children:[o.jsx("div",{style:us.grid,children:e.map(i=>o.jsxs("div",{style:us.card,children:[o.jsx("div",{style:us.icon,children:r(i.fileType)}),o.jsx("div",{style:us.name,children:i.public_id?.split("/").slice(-1).join("/")}),o.jsxs("div",{style:us.actions,children:[o.jsx("button",{style:us.viewBtn,onClick:()=>n(i),children:o.jsx(Uce,{})}),o.jsx("a",{href:i.url,download:!0,target:"_blank",rel:"noreferrer",style:us.downloadBtn,children:o.jsx(Fce,{})})]})]},i._id))}),t&&o.jsx("div",{style:us.modalOverlay,onClick:()=>n(null),children:o.jsx("div",{style:us.modal,onClick:i=>i.stopPropagation(),children:t.fileType.includes("image")?o.jsx("img",{src:t.url,alt:"report",style:{maxWidth:"100%",borderRadius:"12px"}}):o.jsx("iframe",{src:t.url,title:"pdf",width:"100%",height:"500px"})})})]}):o.jsx("p",{style:{textAlign:"center",color:"#94a3b8"},children:"No reports"})},us={grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px,1fr))",gap:"16px"},card:{background:"#fff",borderRadius:"14px",padding:"18px",textAlign:"center",boxShadow:"0 6px 18px rgba(0,0,0,0.08)"},icon:{fontSize:"34px",marginBottom:"10px"},name:{fontSize:"14px",fontWeight:"600",marginBottom:"10px",wordBreak:"break-word"},actions:{display:"flex",justifyContent:"center",gap:"12px"},viewBtn:{background:"#e0f2fe",border:"none",padding:"10px",borderRadius:"10px",cursor:"pointer"},downloadBtn:{background:"#dcfce7",padding:"10px",borderRadius:"10px",color:"#166534"},modalOverlay:{position:"fixed",inset:0,background:"rgba(0,0,0,0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},modal:{background:"#fff",padding:"20px",borderRadius:"16px",maxWidth:"90%",maxHeight:"90%"}},LEe=({patient:e})=>{console.log("pat",e);const t=w.useMemo(()=>e?.visits?e.visits.flatMap(a=>(a.billing||[]).map(s=>({invoice:s.billNumber,amount:s.totalAmount,paymentMethod:s.paymentMethod,status:s.status==="paid"?"Paid":"Due",date:s.createdAt,consultation:0,services:"-",discount:0,tax:0}))):[],[e]),n=t.filter(a=>a.status==="Due").reduce((a,s)=>a+Number(s.amount||0),0),r=a=>{Ee.success(`Reprinting invoice ${a}... (PDF generation pending)`)},i=()=>{const s=[["Invoice","Date","Consultation","Services","Discount","Tax","Total","Payment Method","Status"],...t.map(p=>[p.invoice,p.date,p.consultation||0,`"${p.services||"N/A"}"`,p.discount||0,p.tax||0,p.amount,p.paymentMethod||"N/A",p.status])].map(p=>p.join(",")).join(`
`),c=new Blob([s],{type:"text/csv"}),d=URL.createObjectURL(c),f=document.createElement("a");f.href=d,f.download=`${e.name}_Billing_Ledger_${new Date().toISOString().slice(0,10)}.csv`,f.click(),URL.revokeObjectURL(d)};return t.length===0?o.jsxs("div",{style:{textAlign:"center",padding:"60px 20px",color:"#94a3b8"},children:[o.jsx(M8,{style:{fontSize:"48px",marginBottom:"16px",opacity:.5}}),o.jsx("p",{style:{fontSize:"1.2rem"},children:"No billing records found for this patient."})]}):o.jsxs("div",{style:{fontFamily:"system-ui, sans-serif"},children:[n>0&&o.jsxs("div",{style:{background:"linear-gradient(135deg, #fee2e2, #fecaca)",border:"2px solid #fca5a5",borderRadius:"16px",padding:"20px",marginBottom:"24px",textAlign:"center",boxShadow:"0 4px 15px rgba(220,38,38,0.15)"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",fontWeight:"bold",color:"#991b1b"},children:[o.jsx(rue,{style:{fontSize:"22px"}}),o.jsx("span",{children:"Outstanding Amount"})]}),o.jsxs("div",{style:{fontSize:"2rem",fontWeight:"900",color:"#7f1d1d",marginTop:"8px"},children:["",n.toLocaleString("en-IN")]})]}),o.jsx("div",{style:{display:"grid",gap:"16px"},children:t.map((a,s)=>o.jsxs("div",{style:{background:"white",borderRadius:"16px",padding:"20px",border:`2px solid ${a.status==="Paid"?"#86efac":"#fca5a5"}`,boxShadow:"0 4px 12px rgba(0,0,0,0.08)",transition:"all 0.3s"},onMouseEnter:c=>c.currentTarget.style.transform="translateY(-4px)",onMouseLeave:c=>c.currentTarget.style.transform="translateY(0)",children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",gap:"12px"},children:[o.jsxs("div",{children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"8px"},children:[o.jsx(M8,{style:{color:"#2563eb"}}),o.jsx("strong",{style:{fontSize:"1.1rem"},children:a.invoice}),o.jsxs("span",{style:{fontSize:"0.9rem",color:"#64748b",display:"flex",alignItems:"center",gap:"4px"},children:[o.jsx(Is,{})," ",a.date]})]}),a.services&&o.jsxs("p",{style:{margin:"8px 0",color:"#475569",fontSize:"0.95rem",display:"flex",alignItems:"center"},children:[o.jsx(Cj,{style:{marginRight:"6px",opacity:.7}}),a.services]}),o.jsxs("div",{style:{display:"flex",gap:"16px",flexWrap:"wrap",fontSize:"0.9rem",color:"#64748b"},children:[o.jsxs("span",{children:["Consultation: ",a.consultation||0]}),a.discount>0&&o.jsxs("span",{children:["Discount: ",a.discount]}),o.jsxs("span",{children:["Tax: ",a.tax||0]}),o.jsxs("span",{children:["Paid via: ",a.paymentMethod||"Cash"]})]})]}),o.jsxs("div",{style:{textAlign:"right"},children:[o.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:a.status==="Paid"?"#16a34a":"#dc2626"},children:["",Number(a.amount||0).toLocaleString("en-IN")]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginTop:"6px",fontSize:"0.9rem",fontWeight:"600",color:a.status==="Paid"?"#16a34a":"#dc2626"},children:[a.status==="Paid"?o.jsx(hc,{}):o.jsx(c2,{}),a.status]})]})]}),o.jsx("div",{style:{marginTop:"16px",textAlign:"right"},children:o.jsxs("button",{onClick:()=>r(a.invoice),style:{background:"#e0e7ff",color:"#4338ca",border:"none",padding:"8px 16px",borderRadius:"8px",cursor:"pointer",fontWeight:"600",display:"flex",alignItems:"center",gap:"6px"},children:[o.jsx(Bb,{})," Reprint"]})})]},s))}),o.jsxs("button",{onClick:i,style:{marginTop:"24px",width:"100%",background:"#1e293b",color:"white",padding:"14px",border:"none",borderRadius:"12px",fontSize:"1.1rem",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px"},children:[o.jsx(Hce,{})," Export Full Billing Ledger (CSV)"]})]})},FEe=({followUps:e=[]})=>{const t=Array.isArray(e)?e:[];return w.useEffect(()=>{const n="followups-tab-internal-css";if(document.getElementById(n))return;const r=document.createElement("style");r.id=n,r.innerHTML=`
      .followups-container {
        background: #ffffff;
        border-radius: 24px;
        padding: 28px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.08);
        border: 1px solid #e2e8f0;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      }
      .followups-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 28px;
        padding-bottom: 16px;
        border-bottom: 2px solid #f1f5f9;
      }
      .followups-title-section {
        display: flex;
        align-items: center;
        gap: 16px;
      }
      .followups-icon {
        padding: 12px;
        background: #dbeafe;
        border-radius: 20px;
        color: #2563eb;
        font-size: 28px;
      }
      .followups-title {
        font-size: 24px;
        font-weight: 800;
        color: #1e293b;
        margin: 0;
      }
      .followups-subtitle {
        font-size: 14px;
        color: #64748b;
        margin: 4px 0 0;
      }
      .followups-badge {
        background: linear-gradient(135deg, #dbeafe, #bfdbfe);
        color: #1e40af;
        font-weight: 700;
        font-size: 13px;
        padding: 8px 18px;
        border-radius: 30px;
        box-shadow: 0 2px 8px rgba(59,130,246,0.2);
        border: 1px solid #93c5fd;
      }
      .followups-list {
        display: flex;
        flex-direction: column;
        gap: 20px;
      }
      .followup-card {
        background: linear-gradient(145deg, #f8fafc, #ffffff);
        border-radius: 20px;
        padding: 24px;
        border: 2px solid #e2e8f0;
        box-shadow: 0 6px 20px rgba(0,0,0,0.06);
        transition: all 0.35s ease;
        position: relative;
        overflow: hidden;
      }
      .followup-card:hover {
        transform: translateY(-8px);
        box-shadow: 0 24px 48px rgba(37, 99, 235, 0.18);
        border-color: #93c5fd;
      }
      .followup-date-section {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        flex-wrap: wrap;
        gap: 16px;
      }
      .followup-date-box {
        display: flex;
        align-items: center;
        gap: 16px;
      }
      .followup-cal-icon {
        font-size: 30px;
        color: #2563eb;
        background: #eff6ff;
        padding: 12px;
        border-radius: 18px;
        transition: all 0.3s ease;
      }
      .followup-card:hover .followup-cal-icon {
        background: #2563eb;
        color: white;
      }
      .followup-date {
        font-size: 19px;
        font-weight: 700;
        color: #1e293b;
      }
      .followup-time {
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 14px;
        color: #64748b;
        margin-top: 6px;
      }
      .followup-status {
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 10px 18px;
        border-radius: 30px;
        font-weight: 600;
        font-size: 14px;
        min-width: 120px;
        justify-content: center;
        transition: transform 0.3s ease;
      }
      .followup-card:hover .followup-status {
        transform: scale(1.08);
      }
      .status-completed {
        background: #dcfce7;
        color: #166534;
        border: 1px solid #86efac;
      }
      .status-pending {
        background: #fef3c7;
        color: #92400e;
        border: 1px solid #fcd34d;
      }
      .followup-notes {
        margin-top: 20px;
        background: #fefce8;
        padding: 14px 18px;
        border-radius: 14px;
        border-left: 5px solid #facc15;
        display: flex;
        gap: 12px;
      }
      .followup-note-icon {
        color: #d97706;
        font-size: 20px;
        margin-top: 2px;
      }
      .followup-note-text {
        margin: 0;
        font-size: 14.5px;
        color: #92400e;
        line-height: 1.6;
      }
      .empty-state {
        text-align: center;
        padding: 80px 20px;
        background: linear-gradient(to bottom, #f8fafc, #ffffff);
        border-radius: 24px;
        border: 2px dashed #cbd5e1;
      }
      .empty-icon {
        font-size: 64px;
        color: #94a3b8;
        margin-bottom: 20px;
        opacity: 0.7;
      }
      .empty-title {
        font-size: 20px;
        font-weight: 700;
        color: #475569;
        margin: 0 0 10px;
      }
      .empty-text {
        font-size: 15px;
        color: #64748b;
        max-width: 420px;
        margin: 0 auto;
        line-height: 1.6;
      }
      @media (max-width: 640px) {
        .followups-container { padding: 20px; }
        .followups-header { flex-direction: column; align-items: flex-start; gap: 12px; }
        .followups-badge { margin-left: 0; }
        .followup-date-section { flex-direction: column; }
      }
    `,document.head.appendChild(r)},[]),t.length===0?o.jsx(BEe,{}):o.jsxs("div",{className:"followups-container",children:[o.jsxs("div",{className:"followups-header",children:[o.jsxs("div",{className:"followups-title-section",children:[o.jsx(Is,{className:"followups-icon"}),o.jsxs("div",{children:[o.jsx("h3",{className:"followups-title",children:"Follow-up Schedule"}),o.jsx("p",{className:"followups-subtitle",children:"Your upcoming appointments"})]})]}),o.jsxs("span",{className:"followups-badge",children:[t.length," upcoming"]})]}),o.jsx("div",{className:"followups-list",children:t.map((n,r)=>o.jsxs("div",{className:"followup-card",children:[o.jsxs("div",{className:"followup-date-section",children:[o.jsxs("div",{className:"followup-date-box",children:[o.jsx(Is,{className:"followup-cal-icon"}),o.jsxs("div",{children:[o.jsx("div",{className:"followup-date",children:n.date}),n.time&&o.jsxs("div",{className:"followup-time",children:[o.jsx(Bz,{}),o.jsx("span",{children:n.time})]})]})]}),o.jsxs("div",{className:`followup-status ${n.status==="Completed"?"status-completed":"status-pending"}`,children:[n.status==="Completed"?o.jsx(hc,{}):o.jsx(c2,{}),o.jsx("span",{children:n.status||"Pending"})]})]}),n.notes&&o.jsxs("div",{className:"followup-notes",children:[o.jsx(oue,{className:"followup-note-icon"}),o.jsx("p",{className:"followup-note-text",children:n.notes})]})]},r))})]})},BEe=()=>o.jsxs("div",{className:"empty-state",children:[o.jsx("div",{className:"empty-icon",children:o.jsx(Is,{})}),o.jsx("h4",{className:"empty-title",children:"No follow-ups scheduled yet"}),o.jsx("p",{className:"empty-text",children:"Your doctor will schedule the next visit during or after your consultation."})]}),zEe=({notification:e})=>{if(w.useEffect(()=>{if(!e)return;const n=setTimeout(()=>{const r=document.getElementById("toast");r&&(r.style.animation="slideOutRight 0.3s ease forwards")},2700);return()=>clearTimeout(n)},[e]),!e)return null;const t=e.type==="success";return o.jsxs("div",{id:"toast",style:{...BS.toast,background:t?"#16a34a":"#dc2626"},children:[o.jsx("span",{style:BS.icon,children:t?o.jsx(hc,{}):o.jsx(c2,{})}),o.jsx("span",{style:BS.message,children:e.message})]})},BS={toast:{position:"fixed",top:"20px",right:"20px",display:"flex",alignItems:"center",gap:"12px",padding:"12px 20px",borderRadius:"8px",color:"#fff",fontSize:"15px",fontWeight:"500",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",zIndex:2e3,animation:"slideInRight 0.3s ease",minWidth:"260px"},icon:{fontSize:"18px"},message:{flex:1}},SG=document.createElement("style");SG.innerHTML=`
  @keyframes slideInRight {
    from { transform: translateX(100%); opacity: 0; }
    to   { transform: translateX(0);   opacity: 1; }
  }
  @keyframes slideOutRight {
    from { transform: translateX(0);   opacity: 1; }
    to   { transform: translateX(100%); opacity: 0; }
  }
`;document.head.appendChild(SG);const zS="https://api.mediscript.in/api",cM=()=>{const[e,t]=w.useState([]),[n,r]=w.useState({}),[i,a]=w.useState(""),[s,c]=w.useState(null),[d,f]=w.useState(null),[p,m]=w.useState(!0),[g,v]=w.useState(!1),[b,C]=w.useState(!1),[j,A]=w.useState(!1),[k,E]=w.useState(),P=Jr(),$=new URLSearchParams(P.search),F=$.get("patientId"),O=$.get("tab"),[_,D]=w.useState(O||"demographics");w.useEffect(()=>{if(!F||!e.length)return;const De=e.find(ye=>ye._id===F);De&&(c(De),J(De._id))},[F,e]),w.useEffect(()=>{O&&O!==_&&D(O)},[O]);const L=De=>{if(De===_)return;D(De);const ye=new URLSearchParams(P.search);s?._id&&ye.set("patientId",s._id),ye.set("tab",De),M({search:ye.toString()},{replace:!0})},R=w.useRef(null),M=Fn(),{clinicId:H}=fc(),{token:W,user:fe}=qe(De=>De.auth||{}),q=qe(De=>De.clinic?.currentClinic),te=W||localStorage.getItem("token"),K=H||q?._id||localStorage.getItem("selectedClinicId")||localStorage.getItem("clinicId")||fe?.clinicId,z=q?.name||"Clinic",[V,Z]=w.useState(!1),[re,me]=w.useState({name:"",gender:"male",age:"",phone:"",email:"",address:""});console.log("selected Patient ",s),w.useEffect(()=>{K&&!H&&M(`/patients/${K}`,{replace:!0})},[K,H,M]);const ge=(De,ye="success")=>{f({message:De,type:ye}),R.current&&clearTimeout(R.current),R.current=setTimeout(()=>f(null),4e3)},Pe=async()=>{if(!(!K||!te))try{const{data:De}=await $e.get(`${zS}/reception/patient/all`,{params:{clinicId:K},headers:{Authorization:`Bearer ${te}`}}),ye=(De.patients||De.data||[]).map(Oe=>({...Oe,UHID:Oe.uhid,address:Oe.address&&`${Oe.address.locality||""}, ${Oe.address.city||""}`.trim()||"-"}));t(ye)}catch{ge("Failed to load patient list","error")}},X=De=>{if(!De)return{age:"",ageUnit:""};const ye=new Date(De),Oe=new Date,Re=Math.floor((Oe-ye)/(1e3*60*60*24));if(Re<30)return{age:Re,ageUnit:"Days"};const it=Oe.getMonth()-ye.getMonth()+12*(Oe.getFullYear()-ye.getFullYear());if(it<12)return{age:it,ageUnit:"Months"};let ut=Oe.getFullYear()-ye.getFullYear();return(Oe.getMonth()<ye.getMonth()||Oe.getMonth()===ye.getMonth()&&Oe.getDate()<ye.getDate())&&ut--,{age:ut,ageUnit:"Years"}},J=async De=>{try{const ye=e.find(pe=>pe._id===De);if(!ye)return;const{data:Oe}=await $e.get(`/api/doctor/prescriptions/by-uhid/${ye.uhid}`,{headers:{Authorization:`Bearer ${te}`}});if(!Oe.success||!Oe.data){r(pe=>({...pe,[De]:{...ye,vitals:{},history:[],prescriptions:[],investigations:[],followUps:[],visits:[],billing:[]}}));return}const Re=Oe.data,it=(Oe.visits||[]).map(pe=>({visitId:pe._id,appointmentId:pe.appointmentId,date:new Date(pe.date).toLocaleDateString("en-IN"),time:pe.time,status:pe.status,visitType:pe.visitType,tokenNumber:pe.tokenNumber,billing:(pe.billing||[]).map(ke=>({billNumber:ke.billNumber,totalAmount:ke.totalAmount,paymentMethod:ke.paymentMethod,status:ke.status,createdAt:new Date(ke.createdAt).toLocaleDateString("en-IN")}))})),ut=it.flatMap(pe=>(pe.billing||[]).map(ke=>({invoice:ke.billNumber||"-",amount:ke.totalAmount||0,paymentMethod:ke.paymentMethod||"N/A",status:ke.status==="paid"?"Paid":"Due",date:ke.createdAt||pe.date,consultation:ke.consultation||0,services:ke.services||"N/A",discount:ke.discount||0,tax:ke.tax||0}))),ze={_id:De,name:Re.patient.name,UHID:Re.patient.uhid,gender:Re.patient.gender,age:Re.patient.age,ageUnit:Re.patient.ageUnit,dob:Re.patient.dob,phone:Re.patient.phone||"-",address:Re.patient.address||"-",reports:Re.patient.reports||[],vitals:Re.vitals?{heightCm:Re.vitals.heightCm,weightKg:Re.vitals.weightKg,bmi:Re.vitals.bmi?.toFixed(2),bp:Re.vitals.bp,pulse:Re.vitals.pulse,temperature:Re.vitals.temperature,respiration:Re.vitals.respiration,spo2:Re.vitals.spo2}:{},history:[Re.chiefComplaints&&`Chief: ${Re.chiefComplaints}`,Re.hpi&&`HPI: ${Re.hpi}`,Re.pastMedicalHistory&&`PMH: ${Re.pastMedicalHistory}`,Re.pastSurgicalHistory&&`Past Surgery: ${Re.pastSurgicalHistory}`,Re.allergies&&Re.allergies!=="No"&&`Allergies: ${Re.allergies}`].filter(Boolean),prescriptions:[{id:Re._id,date:new Date(Re.createdAt).toLocaleDateString("en-IN"),doctor:"Dr.",chiefComplaints:Re.chiefComplaints,hpi:Re.hpi,provisionalDiagnosis:Re.provisionalDiagnosis,finalDiagnosis:Re.finalDiagnosis,treatmentPlan:Re.treatmentPlan,medicines:Re.customizedMedicines||[],status:Re.status}],investigations:Re.investigations?.map(pe=>({name:pe.name,result:pe.result||"Pending",date:new Date(Re.createdAt).toLocaleDateString("en-IN")}))||[],followUps:Re.followUp?.nextAppointmentDate?[{date:new Date(Re.followUp.nextAppointmentDate).toLocaleDateString("en-IN"),notes:"Follow-up advised",status:Re.status==="approved"?"Completed":"Pending"}]:[],visits:it,billing:ut};r(pe=>({...pe,[De]:ze}))}catch(ye){console.error("Error fetching patient prescriptions:",ye)}};w.useEffect(()=>{K&&te&&(Pe(),m(!1))},[K,te]);const ce=async()=>{if(!i.trim()){Pe();return}try{const{data:De}=await $e.get(`${zS}/reception/patient/search`,{params:{clinicId:K,query:i.trim()},headers:{Authorization:`Bearer ${te}`}}),ye=(De.patients||De.data||[]).map(Oe=>({...Oe,UHID:Oe.uhid}));t(ye)}catch{ge("Search failed","error")}},ae=e.filter(De=>[De.name,De.uhid,De.phone].some(ye=>ye?.toString().toLowerCase().includes(i.toLowerCase()))),ne=async()=>{if(!re.name?.trim()||!re.phone?.trim()||!re.age){ge("Name, Phone & Age required","error");return}A(!0);const De=localStorage.getItem("selectedClinicId");try{const{data:ye}=await $e.post(`${zS}/reception/patient/register?clinicId=${De}`,{clinicId:De,...re,age:+re.age,category:"general"},{headers:{Authorization:`Bearer ${te}`}});ge(`${ye.patient.name} added!`,"success"),me({name:"",gender:"male",age:"",phone:"",email:"",address:""}),C(!1),Pe()}catch(ye){ge(ye.response?.data?.message||"Failed","error")}finally{A(!1)}},G=De=>{c(De),J(De._id);const ye=new URLSearchParams;ye.set("patientId",De._id),ye.set("tab","demographics"),M({search:ye.toString()},{replace:!0})},ee={fontWeight:600,color:"#334155",fontSize:"0.9rem"},ue={padding:"16px",border:"2px solid #e2e8f0",borderRadius:"14px",fontSize:"1.1rem",outline:"none"},Ae={textAlign:"center",color:"#94a3b8",fontSize:"1.3rem"},Ie=s?n[s._id]||s:null;return console.log("Patient Details",Ie),o.jsxs("div",{style:{display:"flex",minHeight:"100vh"},children:[g&&o.jsx(Fo,{}),o.jsxs("div",{style:{flex:1,padding:"32px",background:"#f8fafc",marginLeft:g?"250px":"0",transition:"margin-left 0.3s ease"},children:[o.jsx("button",{onClick:()=>v(!g),style:{position:"fixed",top:20,right:20,zIndex:1e3,background:"#186476",color:"#fff",border:"none",padding:"12px 18px",borderRadius:"12px",fontWeight:"bold",fontSize:"1rem",cursor:"pointer",boxShadow:"0 4px 12px rgba(0,0,0,0.15)"},children:"Menu"}),o.jsxs("h1",{style:{fontSize:"2.8rem",fontWeight:"800",color:"#186476",textAlign:"center",marginBottom:"32px",textShadow:"0 2px 4px rgba(0,0,0,0.05)"},children:["Patient Dashboard  ",z]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"20px",marginBottom:"28px",flexWrap:"wrap"},children:[o.jsx("div",{style:{flex:"1 1 420px",minWidth:"300px"},children:o.jsx(kEe,{searchTerm:i,setSearchTerm:a,onSearch:ce})}),o.jsx("button",{onClick:()=>C(!0),style:{background:"#186476",color:"#fff",padding:"14px 32px",border:"none",borderRadius:"12px",fontSize:"1.05rem",fontWeight:"600",cursor:"pointer",boxShadow:"0 6px 16px rgba(24, 100, 118, 0.3)",transition:"all 0.2s ease",whiteSpace:"nowrap"},onMouseEnter:De=>De.target.style.transform="translateY(-2px)",onMouseLeave:De=>De.target.style.transform="translateY(0)",children:"+ Add Patient"})]}),o.jsx(NEe,{stats:{total:e.length,pendingFollowUps:0,outstanding:0}}),b&&o.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.75)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3},children:o.jsxs("div",{style:{background:"#fff",padding:"44px",borderRadius:"24px",width:"90%",maxWidth:"560px",boxShadow:"0 30px 90px rgba(0,0,0,0.3)"},children:[o.jsx("h2",{style:{textAlign:"center",color:"#186476",marginBottom:"32px",fontSize:"2.2rem",fontWeight:"700"},children:"Add New Patient"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:[o.jsx("label",{style:ee,children:"Name *"}),o.jsx("input",{placeholder:"Enter patient name",value:re.name,onChange:De=>me({...re,name:De.target.value}),style:ue})]}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:[o.jsx("label",{style:ee,children:"Gender *"}),o.jsxs("select",{value:re.gender,onChange:De=>me({...re,gender:De.target.value}),style:ue,children:[o.jsx("option",{value:"",children:"Select gender"}),o.jsx("option",{value:"male",children:"Male"}),o.jsx("option",{value:"female",children:"Female"}),o.jsx("option",{value:"other",children:"Other"})]})]}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:[o.jsx("label",{style:ee,children:"Date of Birth *"}),o.jsx("input",{type:"date",value:re.dob,onChange:De=>{const ye=De.target.value,{age:Oe,ageUnit:Re}=X(ye);me({...re,dob:ye,age:Oe,ageUnit:Re})},style:ue})]}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:[o.jsx("label",{style:ee,children:"Age"}),o.jsx("div",{style:{display:"flex",gap:"10px"},children:o.jsx("input",{value:re.age,readOnly:!0,style:{...ue,flex:1,background:"#f1f5f9",cursor:"not-allowed"}})})]}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:[o.jsx("label",{style:ee,children:"Phone *"}),o.jsx("input",{type:"number",placeholder:"Enter phone number",value:re.phone,onChange:De=>me({...re,phone:De.target.value}),style:ue})]}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:[o.jsx("label",{style:ee,children:"Age Unit *"}),o.jsx("input",{value:re.ageUnit,readOnly:!0,style:ue})]}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:[o.jsx("label",{style:ee,children:"Address *"}),o.jsx("input",{type:"text",placeholder:"Enter address",value:re.address,onChange:De=>me({...re,address:De.target.value}),style:ue})]}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:[o.jsx("label",{style:ee,children:"Father Name *"}),o.jsx("input",{type:"text",placeholder:"Enter father name",value:re.fatherName,onChange:De=>me({...re,fatherName:De.target.value}),style:ue})]})]}),o.jsxs("div",{style:{marginTop:"40px",display:"flex",justifyContent:"flex-end",gap:"20px"},children:[o.jsx("button",{onClick:()=>{C(!1),me({name:"",gender:"male",age:"",phone:"",email:"",address:""})},style:{padding:"14px 32px",background:"#ef4444",color:"#fff",border:"none",borderRadius:"12px",cursor:"pointer",fontWeight:"600"},children:"Cancel"}),o.jsx("button",{onClick:ne,disabled:j,style:{padding:"14px 36px",background:"#186476",color:"#fff",border:"none",borderRadius:"12px",cursor:j?"not-allowed":"pointer",fontWeight:"600",opacity:j?.7:1},children:j?"Adding...":"Add Patient"})]})]})}),p?o.jsx("div",{style:{textAlign:"center",marginTop:"140px",fontSize:"2rem",color:"#186476",fontWeight:"600"},children:"Loading patients..."}):s?o.jsxs("div",{style:{marginTop:"40px"},children:[o.jsxs("div",{style:{textAlign:"center",position:"relative",marginBottom:"36px"},children:[o.jsx("h2",{style:{fontSize:"2.8rem",color:"#186476",fontWeight:"800"},children:s.name||Ie?.name}),o.jsxs("p",{style:{color:"#64748b",fontSize:"1.3rem",marginTop:"8px"},children:["UHID: ",s.UHID||Ie?.UHID]}),o.jsx("button",{onClick:()=>{c(null),M(`/patients/${K}`,{replace:!0})},style:{position:"absolute",left:0,top:"50%",transform:"translateY(-50%)",background:"#dc2626",color:"#fff",padding:"14px 28px",border:"none",borderRadius:"14px",fontWeight:"bold",fontSize:"1.1rem"},children:" Back to Patients"})]}),o.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"14px",justifyContent:"center",marginBottom:"36px"},children:["demographics","history","vitals","visits","reports","billing","followups"].map(De=>o.jsx("button",{onClick:()=>L(De),style:{padding:"16px 32px",background:_===De?"#186476":"#f1f5f9",color:_===De?"#fff":"#475569",border:"none",borderRadius:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s"},children:De==="followups"?"Follow-ups":De.charAt(0).toUpperCase()+De.slice(1)},De))}),o.jsxs("div",{style:{background:"#fff",padding:"44px",borderRadius:"24px",boxShadow:"0 12px 40px rgba(0,0,0,0.08)"},children:[_==="demographics"&&o.jsx(PEe,{patient:Ie,isEditing:V,setIsEditing:Z,editPatient:k,setEditPatient:E,setIsLoading:m}),_==="history"&&(Ie?.history?.length?o.jsx(DEe,{history:Ie.history,patient:Ie}):o.jsx("p",{style:Ae,children:"No history recorded"})),_==="vitals"&&(Object.keys(Ie?.vitals||{}).length?o.jsx(OEe,{vitals:Ie.vitals,patient:Ie}):o.jsx("p",{style:Ae,children:"No vitals recorded"})),_==="visits"&&(Ie?.prescriptions?.length?o.jsx(IEe,{visits:Ie.visits,patient:Ie}):o.jsx("p",{style:Ae,children:"No visits yet"})),_==="reports"&&(Ie?.reports?.length?o.jsx(MEe,{reports:Ie.reports}):o.jsx("p",{style:Ae,children:"No reports"})),_==="billing"&&(Ie?.billing?.length?o.jsx(LEe,{patient:Ie}):o.jsx("p",{style:Ae,children:"No billing records"})),_==="followups"&&(Ie?.followUps?.length?o.jsx(FEe,{followUps:Ie.followUps,patient:Ie}):o.jsx("p",{style:Ae,children:"No follow-ups"}))]})]}):o.jsx(_Ee,{patients:ae,onSelectPatient:G}),d&&o.jsx(zEe,{notification:d})]})]})},uM="https://api.mediscript.in/api",dM=()=>{const[e,t]=w.useState([]),[n,r]=w.useState(""),[i,a]=w.useState(null),[s,c]=w.useState(""),[d,f]=w.useState(!0),[p,m]=w.useState(!1),{accessToken:g,user:v}=qe(_=>_.auth),{clinics:b,currentClinic:C}=qe(_=>_.clinic),j=wt(),A=Fn(),{clinicId:k}=fc(),E=localStorage.getItem("selectedClinicId");w.useEffect(()=>{(async()=>{!g&&localStorage.getItem("accessToken")&&(j(Ri(localStorage.getItem("accessToken"))),await j(ko()));let D=k||E||v?.clinicId;if(!D)return A("/clinic-management");const L=b.find(R=>(R.id||R._id)===D)||(await j(bf()).unwrap()).find(R=>(R.id||R._id)===D);j(jF(L)),localStorage.setItem("selectedClinicId",D),P(L.id||L._id)})()},[]);const P=async _=>{try{const D=await $e.get(`${uM}/clinic/drugliberary/doctor?clinicId=${_}`);t(D.data.data||[])}catch{Ee.error("Failed to fetch drugs")}finally{f(!1)}},$=(_,D)=>{a(_),c(D||"")},F=async _=>{try{const D=C.id||C._id;await $e.post(`${uM}/clinic/drugliberary/doctor/override`,{masterDrugId:_.masterDrugId,brandName:s},{params:{clinicId:D}});const L=[...e];L[i].brandName=s,t(L),a(null),Ee.success("Brand updated successfully")}catch{Ee.error("Update failed")}},O=e.filter(_=>{const D=_.medicineName?.toLowerCase()||"",L=_.brandName?.toLowerCase()||"",R=n.toLowerCase();return D.includes(R)||L.includes(R)});return o.jsxs(o.Fragment,{children:[o.jsx("style",{jsx:!0,children:`
        .layout {
          display: flex;
          min-height: 100vh;
          overflow: hidden;
        }

        .page {
          padding: 40px 24px;
          font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
          background: linear-gradient(to right, #f8fbfd, #eef6fa);
          color: #2c3e50;
          min-height: 100vh;
          transition: margin-left 0.3s ease;
          margin-left: ${p?"250px":"0"};
          width: 100%;
        }

        .top-bar {
          display: flex;
          justify-content: flex-start;
          align-items: center;
          margin-bottom: 20px;
        }

        .toggle-button {
          background: linear-gradient(135deg, #186476, #0d3f4f);
          color: white;
          border: none;
          border-radius: 12px;
          padding: 12px;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          box-shadow: 0 4px 12px rgba(0,0,0,0.15);
          transition: all 0.3s ease;
        }

        .toggle-button:hover {
          transform: translateY(-3px);
          box-shadow: 0 6px 16px rgba(0,0,0,0.2);
        }

        .header {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 12px;
          margin-bottom: 60px;
        }

        .header h1 {
          font-size: 2.5rem;
          font-weight: 700;
          color: #03678f;
          letter-spacing: 0.03em;
          text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.08);
        }

        .clinic-info {
          font-size: 1.1rem;
          color: #4b5c6a;
          margin-bottom: 20px;
          text-align: center;
        }

        .search-bar {
          display: flex;
          align-items: center;
          background: white;
          border: 1px solid #d0e3f0;
          border-radius: 12px;
          padding: 8px 16px;
        
          margin-bottom: 40px;
          box-shadow: 0 6px 16px rgba(0, 0, 0, 0.08);
          max-width: 600px;
          margin-left: auto;
          margin-right: auto;
          transition: all 0.3s;
        }

        .search-bar:hover {
          box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
        }

        .search-bar input {
          flex: 1;
          border: none;
          outline: none !important;
          font-size: 1rem;
          padding: 6px;
          color: #2c3e50;
          background: transparent;
        }

        .search-bar svg {
          color: #1d9ad6;
          font-size: 18px;
        }
          .search-bar input:focus {
  outline: none !important;
  box-shadow: none !important; 
}

        .card {
          background: white;
          border-radius: 20px;
          box-shadow: 0 6px 16px rgba(0, 0, 0, 0.08);
          padding: 32px 28px;
          margin-bottom: 40px;
          position: relative;
          overflow: hidden;
          transition: all 0.35s ease;
        }

        .card::before {
          content: "";
          position: absolute;
          top: 0;
          left: 0;
          height: 5px;
          width: 100%;
          background: linear-gradient(90deg, #1d9ad6, #44c2f5);
          transform: scaleX(0);
          transform-origin: left;
          transition: transform 0.4s ease;
        }

        .card:hover::before {
          transform: scaleX(1);
        }

        .card:hover {
          transform: translateY(-8px);
          box-shadow: 0 14px 26px rgba(0, 0, 0, 0.15);
        }

        .card-header {
          display: flex;
          align-items: center;
          gap: 12px;
          margin-bottom: 20px;
        }

        .card-title {
          font-size: 1.8rem;
          font-weight: 600;
          color: #025b84;
          border-bottom: 2px solid #e6f2f7;
          padding-bottom: 6px;
        }

        .form-row {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
          gap: 20px;
          margin-bottom: 20px;
        }

        .form-row input,
        .form-row select {
          padding: 12px 16px;
          border: 1px solid #e0e0e0;
          border-radius: 10px;
          font-size: 1rem;
          color: #2c3e50;
          background: #f9fbfc;
          transition: all 0.3s ease;
        }

        .form-row input:focus,
        .form-row select:focus {
          outline: none;
          border-color: #186476;
          box-shadow: 0 0 0 3px rgba(24,100,118,0.1);
        }

        .add-button {
          display: inline-flex;
          align-items: center;
          gap: 8px;
          background: linear-gradient(135deg, #186476, #0d3f4f);
          border: none;
          color: white;
          padding: 12px 24px;
          font-size: 1rem;
          border-radius: 12px;
          cursor: pointer;
          box-shadow: 0 4px 12px rgba(0,0,0,0.15);
          transition: all 0.3s ease;
        }

        .add-button:hover {
          transform: translateY(-3px);
          box-shadow: 0 6px 16px rgba(0,0,0,0.2);
        }

        table {
          width: 100%;
          border-collapse: collapse;
          border-radius: 12px;
          overflow: hidden;
        }

        th,
        td {
          padding: 14px 12px;
          border-bottom: 1px solid #e6f2f7;
          text-align: left;
        }

        th {
          background: linear-gradient(135deg, #186476, #0d3f4f);
          color: white;
          font-weight: 600;
          font-size: 0.95rem;
        }

        td input,
        td select {
          width: 100%;
          padding: 10px 14px;
          border: 1px solid #e0e0e0;
          border-radius: 10px;
          font-size: 0.95rem;
          color: #2c3e50;
          background: #f9fbfc;
          transition: all 0.3s ease;
        }

        td input:focus,
        td select:focus {
          outline: none;
          border-color: #186476;
          box-shadow: 0 0 0 3px rgba(24,100,118,0.1);
        }

        .save-btn, .delete-btn {
          background: linear-gradient(135deg, #186476, #0d3f4f);
          color: white;
          border: none;
          padding: 10px 20px;
          border-radius: 10px;
          cursor: pointer;
          display: inline-flex;
          align-items: center;
          gap: 6px;
          box-shadow: 0 4px 12px rgba(0,0,0,0.15);
          transition: all 0.3s ease;
          margin-right: 8px;
        }

        .delete-btn {
          background: linear-gradient(135deg, #d32f2f, #b71c1c);
        }

        .save-btn:hover, .delete-btn:hover {
          transform: translateY(-3px);
          box-shadow: 0 6px 16px rgba(0,0,0,0.2);
        }

        .saved {
          font-size: 0.85rem;
          color: #1d9ad6;
          margin-left: 10px;
        }

        .note {
          font-size: 1.05rem;
          line-height: 1.65;
          color: #4b5c6a;
          text-align: center;
          margin-top: 20px;
        }

        .loading {
          text-align: center;
          padding: 24px;
          color: #666;
          font-size: 1.1rem;
        }

        @media (max-width: 768px) {
          .page {
            margin-left: 0;
            padding: 24px 16px;
          }

          .header h1 {
            font-size: 2.2rem;
            margin-bottom: 40px;
          }

          .toggle-button {
            left: 10px;
            top: 10px;
            right: auto;
          }

          .form-row {
            grid-template-columns: 1fr;
          }
        }

        @media (max-width: 480px) {
          .header h1 {
            font-size: 1.8rem;
          }

          .search-bar input,
          .form-row input,
          .form-row select,
          .save-btn,
          .delete-btn,
          .add-button {
            font-size: 0.9rem;
            padding: 10px;
          }

          th,
          td {
            padding: 8px;
          }
        }

        .action-btn {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 8px 16px;
  border-radius: 10px;
  border: none;
  font-size: 0.9rem;
  cursor: pointer;
  transition: all 0.25s ease;
  box-shadow: 0 4px 12px rgba(0,0,0,0.12);
}

.action-btn.edit {
  background: linear-gradient(135deg, #1d9ad6, #1580b3);
  color: white;
}

.action-btn.save {
  background: linear-gradient(135deg, #2ecc71, #27ae60);
  color: white;
}

.action-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 16px rgba(0,0,0,0.18);
}

.action-btn:active {
  transform: scale(0.96);
}
  .brand-input {
  width: 90%;
  padding: 8px 12px;
  border-radius: 8px;
  border: 1px solid #cfdfe8;
  font-size: 0.9rem;
  background: #f8fbfd;
  transition: all 0.25s ease;
}

.brand-input:focus {
  outline: none;
  border-color: #1d9ad6;
  box-shadow: 0 0 0 3px rgba(29,154,214,0.15);
}

.brand-text {
  font-weight: 500;
  color: #2c3e50;
}
  .menu-toggle-btn {
  background: linear-gradient(135deg, #186476, #0d3f4f);
  border: none;
  color: white;
  width: 44px;
  height: 44px;
  border-radius: 12px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 4px 14px rgba(0,0,0,0.18);
  transition: all 0.3s ease;
}

.menu-toggle-btn svg {
  font-size: 18px;
}

.menu-toggle-btn:hover {
  transform: translateY(-3px);
  box-shadow: 0 7px 20px rgba(0,0,0,0.25);
}

.menu-toggle-btn:active {
  transform: scale(0.95);
}



      `}),o.jsxs("div",{className:"layout",children:[p&&o.jsx(Fo,{}),o.jsxs("div",{className:"page",children:[o.jsx("button",{className:"menu-toggle-btn",onClick:()=>m(!p),children:o.jsx(pc,{})}),o.jsxs("div",{className:"header",children:[o.jsx(u2,{size:28}),o.jsx("h1",{children:"Drug Library"})]}),o.jsxs("div",{className:"search-bar",children:[o.jsx(d2,{}),o.jsx("input",{placeholder:"Search medicine or brand...",value:n,onChange:_=>r(_.target.value)})]}),d?o.jsx("p",{children:"Loading..."}):o.jsxs("table",{children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Medicine"}),o.jsx("th",{children:"Brand Name"}),o.jsx("th",{children:"Dosage"}),o.jsx("th",{children:"Frequency"}),o.jsx("th",{children:"Duration"}),o.jsx("th",{children:"Instructions"}),o.jsx("th",{children:"Route"}),o.jsx("th",{children:"Action"})]})}),o.jsx("tbody",{children:O.length===0?o.jsx("td",{children:"Not Found"}):O.map((_,D)=>o.jsxs("tr",{children:[o.jsx("td",{children:_.medicineName}),o.jsx("td",{children:i===D?o.jsx("input",{className:"brand-input",type:"text",value:s,placeholder:"Enter brand name",onChange:L=>c(L.target.value)}):o.jsx("span",{className:"brand-text",children:_.brandName||""})}),o.jsx("td",{children:_.route}),o.jsx("td",{children:_.dosage}),o.jsx("td",{children:_.frequency}),o.jsx("td",{children:_.duration}),o.jsx("td",{children:_.instructions}),o.jsx("td",{style:{display:"flex",gap:"10px",justifyContent:"center"},children:i===D?o.jsxs("button",{className:"action-btn save",onClick:()=>F(_),children:[o.jsx(Sj,{})," Save"]}):o.jsx("button",{className:"action-btn edit",onClick:()=>$(D,_.brandName),children:"Edit"})})]},_.masterDrugId))})]})]})]})]})};function UEe(){const[e,t]=w.useState(!1);Fn();const n=()=>{t(!e)};return o.jsxs(o.Fragment,{children:[o.jsx("style",{jsx:!0,children:`
        .layout {
          display: flex;
          min-height: 100vh;
          background: linear-gradient(135deg, #f0f7fb 0%, #e6f0fa 100%);
          font-family: "Segoe UI", sans-serif;
        }

        /* Sidebar Wrapper - Slides in from left */
        .sidebar-wrapper {
          position: fixed;
          top: 0;
          left: 0;
          height: 100%;
          width: 250px;
          z-index: 999;
          transition: transform 0.35s ease-in-out;
          transform: translateX(${e?"0":"-250px"});
        }

        /* Main Content - Shifts when sidebar opens */
        .main-content {
          flex: 1;
          transition: margin-left 0.35s ease-in-out;
          margin-left: ${e?"250px":"0"};
          min-height: 100vh;
        }

        /* Top Bar with Toggle Button */
        .top-bar {
          position: fixed;
          top: 0;
          left: ${e?"250px":"0"};
          right: 0;
          height: 70px;
         
          
          z-index: 998;
          display: flex;
          align-items: center;
          justify-content: flex-end;
          padding: 0 2rem;
          
          transition: left 0.35s ease-in-out;
        }

        .toggle-btn {
          background: #186476;
          color: white;
          border: none;
          border-radius: 20%;
          width: 40px;
          height: 40px;
          cursor: pointer;
          display: grid;
          place-items: center;
          box-shadow: 0 4px 15px rgba(24, 100, 118, 0.4);
          transition: all 0.3s ease;
        }

        .toggle-btn:hover {
          background: #186476;
        }

        .toggle-btn:hover {
          background: #3fa3b9;
          transform: scale(1.1);
        }

        /* Page Content */
        .page-container {
          padding: 100px 40px 40px;
          max-width: 1300px;
          margin: 0 auto;
        }

        h1 {
          font-size: 2.8rem;
          font-weight: 700;
          text-align: center;
          color: #186476;
          margin-bottom: 3rem;
          text-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .cards-container {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(340px, 1fr));
          gap: 40px;
          justify-content: center;
        }

        .card {
          background: white;
          border-radius: 20px;
          padding: 36px;
          box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
          transition: all 0.4s ease;
          text-decoration: none;
          color: inherit;
          position: relative;
          overflow: hidden;
        }

        .card::before {
          content: "";
          position: absolute;
          top: 0;
          left: 0;
          height: 5px;
          width: 100%;
          background: linear-gradient(90deg, #1d9ad6, #44c2f5);
          transform: scaleX(0);
          transform-origin: left;
          transition: transform 0.5s ease;
        }

        .card:hover::before {
          transform: scaleX(1);
        }

        .card:hover {
          transform: translateY(-12px);
          box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }

        .card-header {
          display: flex;
          align-items: center;
          gap: 16px;
          margin-bottom: 24px;
        }

        .card-icon {
          font-size: 2.8rem;
          color: #1d9ad6;
        }

        .card-title {
          font-size: 2rem;
          font-weight: 700;
          color: #025b84;
        }

        .card-content {
          font-size: 1.1rem;
          line-height: 1.7;
          color: #4b5563;
        }

        /* Responsive */
        @media (max-width: 768px) {
          .main-content {
            margin-left: 0 !important;
          }
          .top-bar {
            left: 0 !important;
            padding: 0 1rem;
          }
          .page-container {
            padding: 90px 20px 40px;
          }
          h1 {
            font-size: 2.4rem;
          }
          .toggle-btn {
            width: 36px;
            height: 36px;
          }
        }
      `}),o.jsxs("div",{className:"layout",children:[o.jsx("div",{className:"sidebar-wrapper",children:o.jsx(Fo,{})}),o.jsx("div",{className:"top-bar",children:o.jsx("button",{className:"toggle-btn",onClick:n,"aria-label":"Toggle sidebar",children:o.jsx(pc,{size:22})})}),o.jsx("div",{className:"main-content",children:o.jsxs("div",{className:"page-container",children:[o.jsx("h1",{children:"Medical Library"}),o.jsxs("div",{className:"cards-container",children:[o.jsxs(Tb,{to:"/prescription-library",className:"card",children:[o.jsxs("div",{className:"card-header",children:[o.jsx(Qm,{className:"card-icon"}),o.jsx("h2",{className:"card-title",children:"Prescription Library"})]}),o.jsx("p",{className:"card-content",children:"Manage comprehensive patient prescriptions efficiently. Quickly search, review, and update prescriptions ensuring optimal care continuity and accurate medication records."})]}),o.jsxs(Tb,{to:"/drugs-library",className:"card",children:[o.jsxs("div",{className:"card-header",children:[o.jsx(u2,{className:"card-icon"}),o.jsx("h2",{className:"card-title",children:"Drugs Library"})]}),o.jsx("p",{className:"card-content",children:"Access a detailed and up-to-date database of drugs including generics, brand names, dosing guidelines, and interactions to support safe prescribing practices."})]})]})]})})]})]})}const US="#26A69A",fM="#424242",pM="#F5F5F5",HEe="#757575",VEe=({isOpen:e,onClose:t,userName:n,onAddClinicClicked:r,onOpenDashboardClicked:i})=>{const a=w.useRef(null),s=w.useCallback(()=>{try{sessionStorage.setItem("welcomeClosedThisSession","1")}catch{}t()},[t]),c=w.useCallback(()=>{t(),r&&r()},[t,r]);if(w.useCallback(()=>{t(),i&&i()},[t,i]),w.useEffect(()=>{if(!e)return;a.current?.querySelector("button")?.focus();const v=C=>{C.key==="Escape"&&s()},b=C=>{const j=a.current?.querySelectorAll("button, [href], input, select, textarea, [tabindex]:not([tabindex='-1'])");if(!j||j.length===0)return;const A=j[0],k=j[j.length-1];C.key==="Tab"&&(C.shiftKey?document.activeElement===A&&(k.focus(),C.preventDefault()):document.activeElement===k&&(A.focus(),C.preventDefault()))};return window.addEventListener("keydown",v),window.addEventListener("keydown",b),()=>{window.removeEventListener("keydown",v),window.removeEventListener("keydown",b)}},[e,s]),!e)return null;const d={border:"none",padding:"12px 24px",borderRadius:"10px",cursor:"pointer",fontWeight:"700",transition:"transform 0.1s, box-shadow 0.1s, background-color 0.2s",fontSize:"0.9rem",letterSpacing:"0.5px"},f={...d,background:US,color:"#fff",boxShadow:`0 4px 15px ${US}50`},p={...d,background:pM,color:fM,fontWeight:"600",boxShadow:"none",border:`1px solid ${pM}`},m=n||"";return o.jsx("div",{role:"dialog","aria-modal":"true",className:"welcome-backdrop",style:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.5)",display:"grid",placeItems:"center",zIndex:9999,padding:20},children:o.jsxs("div",{ref:a,className:"welcome-modal",tabIndex:"-1",style:{width:"min(640px, 96%)",background:"#fff",borderRadius:14,padding:28,boxShadow:"0 18px 60px rgba(2,6,23,0.3)",position:"relative"},children:[o.jsx("button",{onClick:s,"aria-label":"Close",style:{position:"absolute",right:12,top:12,background:"transparent",border:"none",color:HEe,fontSize:16,cursor:"pointer"},children:o.jsx(Gg,{})}),o.jsxs("div",{style:{textAlign:"center"},children:[o.jsx("div",{style:{fontSize:36,marginBottom:8},children:""}),o.jsx("h2",{style:{margin:0,color:fM,fontSize:24,fontWeight:800},children:m?`Dr. ${m}`:"Welcome"}),o.jsxs("p",{style:{color:"#546e7a",fontSize:15,marginTop:12,lineHeight:1.6},children:[o.jsx("strong",{style:{color:US},children:" Congratulations"}),"  your professional workspace is ready.",o.jsx("br",{}),"Add your first clinic or open your dashboard to manage patients, appointments and staff."]}),o.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:12,marginTop:22,flexWrap:"wrap"},children:[o.jsx("button",{onClick:c,style:f,"aria-label":"Add first clinic",children:"Add First Clinic"}),o.jsx("button",{onClick:t,style:p,"aria-label":"Close welcome message",children:"Maybe Later"})]})]})]})})},qEe={version:4,country_calling_codes:{1:["US","AG","AI","AS","BB","BM","BS","CA","DM","DO","GD","GU","JM","KN","KY","LC","MP","MS","PR","SX","TC","TT","VC","VG","VI"],7:["RU","KZ"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT","VA"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CC","CX"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA","EH"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["RE","YT"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH","TA"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["FI","AX"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],380:["UA"],381:["RS"],382:["ME"],383:["XK"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["CW","BQ"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],880:["BD"],886:["TW"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]},countries:{AC:["247","00","(?:[01589]\\d|[46])\\d{4}",[5,6]],AD:["376","00","(?:1|6\\d)\\d{7}|[135-9]\\d{5}",[6,8,9],[["(\\d{3})(\\d{3})","$1 $2",["[135-9]"]],["(\\d{4})(\\d{4})","$1 $2",["1"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]]],AE:["971","00","(?:[4-7]\\d|9[0-689])\\d{7}|800\\d{2,9}|[2-4679]\\d{7}",[5,6,7,8,9,10,11,12],[["(\\d{3})(\\d{2,9})","$1 $2",["60|8"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[236]|[479][2-8]"],"0$1"],["(\\d{3})(\\d)(\\d{5})","$1 $2 $3",["[479]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"]],"0"],AF:["93","00","[2-7]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"]],"0"],AG:["1","011","(?:268|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([457]\\d{6})$|1","268$1",0,"268"],AI:["1","011","(?:264|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2457]\\d{6})$|1","264$1",0,"264"],AL:["355","00","(?:700\\d\\d|900)\\d{3}|8\\d{5,7}|(?:[2-5]|6\\d)\\d{7}",[6,7,8,9],[["(\\d{3})(\\d{3,4})","$1 $2",["80|9"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["4[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2358][2-5]|4"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["[23578]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["6"],"0$1"]],"0"],AM:["374","00","(?:[1-489]\\d|55|60|77)\\d{6}",[8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[89]0"],"0 $1"],["(\\d{3})(\\d{5})","$1 $2",["2|3[12]"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["1|47"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[3-9]"],"0$1"]],"0"],AO:["244","00","[29]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[29]"]]]],AR:["54","00","(?:11|[89]\\d\\d)\\d{8}|[2368]\\d{9}",[10,11],[["(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])","2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(?:2[24-9]|3[1-59]|47)","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5[56][46]|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|58|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|54(?:4|5[13-7]|6[89])|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:454|85[56])[46]|3(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["[23]"],"0$1",1],["(\\d)(\\d{4})(\\d{2})(\\d{4})","$2 15-$3-$4",["9(?:2[2-469]|3[3-578])","9(?:2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))","9(?:2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(?:2[24-9]|3[1-59]|47)","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5(?:[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|5(?:4(?:4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",0,"$1 $2 $3-$4"],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 15-$3-$4",["91"],"0$1",0,"$1 $2 $3-$4"],["(\\d{3})(\\d{3})(\\d{5})","$1-$2-$3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 15-$3-$4",["9"],"0$1",0,"$1 $2 $3-$4"]],"0",0,"0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))15)?","9$1"],AS:["1","011","(?:[58]\\d\\d|684|900)\\d{7}",[10],0,"1",0,"([267]\\d{6})$|1","684$1",0,"684"],AT:["43","00","1\\d{3,12}|2\\d{6,12}|43(?:(?:0\\d|5[02-9])\\d{3,9}|2\\d{4,5}|[3467]\\d{4}|8\\d{4,6}|9\\d{4,7})|5\\d{4,12}|8\\d{7,12}|9\\d{8,12}|(?:[367]\\d|4[0-24-9])\\d{4,11}",[4,5,6,7,8,9,10,11,12,13],[["(\\d)(\\d{3,12})","$1 $2",["1(?:11|[2-9])"],"0$1"],["(\\d{3})(\\d{2})","$1 $2",["517"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["5[079]"],"0$1"],["(\\d{3})(\\d{3,10})","$1 $2",["(?:31|4)6|51|6(?:48|5[0-3579]|[6-9])|7(?:20|32|8)|[89]","(?:31|4)6|51|6(?:485|5[0-3579]|[6-9])|7(?:20|32|8)|[89]"],"0$1"],["(\\d{4})(\\d{3,9})","$1 $2",["[2-467]|5[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["5"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,7})","$1 $2 $3",["5"],"0$1"]],"0"],AU:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{7}(?:\\d(?:\\d{2})?)?|8[0-24-9]\\d{7})|[2-478]\\d{8}|1\\d{4,7}",[5,6,7,8,9,10,12],[["(\\d{2})(\\d{3,4})","$1 $2",["16"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["14|4"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:30|[89])"]]],"0",0,"(183[12])|0",0,0,0,[["(?:(?:241|349)0\\d\\d|8(?:51(?:0(?:0[03-9]|[12479]\\d|3[2-9]|5[0-8]|6[1-9]|8[0-7])|1(?:[0235689]\\d|1[0-69]|4[0-589]|7[0-47-9])|2(?:0[0-79]|[18][13579]|2[14-9]|3[0-46-9]|[4-6]\\d|7[89]|9[0-4])|[34]\\d\\d)|91(?:(?:[0-58]\\d|6[0135-9])\\d|7(?:0[0-24-9]|[1-9]\\d)|9(?:[0-46-9]\\d|5[0-79]))))\\d{3}|(?:2(?:[0-26-9]\\d|3[0-8]|4[02-9]|5[0135-9])|3(?:[0-3589]\\d|4[0-578]|6[1-9]|7[0-35-9])|7(?:[013-57-9]\\d|2[0-8])|8(?:55|6[0-8]|[78]\\d|9[02-9]))\\d{6}",[9]],["4(?:79[01]|83[0-36-9]|95[0-3])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-47-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,["163\\d{2,6}",[5,6,7,8,9]],["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],AW:["297","00","(?:[25-79]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[25-9]"]]]],AX:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","2\\d{4,9}|35\\d{4,5}|(?:60\\d\\d|800)\\d{4,6}|7\\d{5,11}|(?:[14]\\d|3[0-46-9]|50)\\d{4,8}",[5,6,7,8,9,10,11,12],0,"0",0,0,0,0,"18",0,"00"],AZ:["994","00","365\\d{6}|(?:[124579]\\d|60|88)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[28]|2|365|46","1[28]|2|365[45]|46","1[28]|2|365(?:4|5[02])|46"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[13-9]"],"0$1"]],"0"],BA:["387","00","6\\d{8}|(?:[35689]\\d|49|70)\\d{6}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-3]|[7-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]|6[56]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6"],"0$1"]],"0"],BB:["1","011","(?:246|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","246$1",0,"246"],BD:["880","00","[1-469]\\d{9}|8[0-79]\\d{7,8}|[2-79]\\d{8}|[2-9]\\d{7}|[3-9]\\d{6}|[57-9]\\d{5}",[6,7,8,9,10],[["(\\d{2})(\\d{4,6})","$1-$2",["31[5-8]|[459]1"],"0$1"],["(\\d{3})(\\d{3,7})","$1-$2",["3(?:[67]|8[013-9])|4(?:6[168]|7|[89][18])|5(?:6[128]|9)|6(?:[15]|28|4[14])|7[2-589]|8(?:0[014-9]|[12])|9[358]|(?:3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(?:44|66)[01346-9]"],"0$1"],["(\\d{4})(\\d{3,6})","$1-$2",["[13-9]|2[23]"],"0$1"],["(\\d)(\\d{7,8})","$1-$2",["2"],"0$1"]],"0"],BE:["32","00","4\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:80|9)0"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[239]|4[23]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[15-8]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4"],"0$1"]],"0"],BF:["226","00","(?:[025-7]\\d|44)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[024-7]"]]]],BG:["359","00","00800\\d{7}|[2-7]\\d{6,7}|[89]\\d{6,8}|2\\d{5}",[6,7,8,9,12],[["(\\d)(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["43[1-6]|70[1-9]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:70|8)0"],"0$1"],["(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[1-7]|7"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[48]|9[08]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"]],"0"],BH:["973","00","[136-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[13679]|8[02-4679]"]]]],BI:["257","00","(?:[267]\\d|31)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2367]"]]]],BJ:["229","00","(?:01\\d|8)\\d{7}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["0"]]]],BL:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:2[7-9]|3[3-7]|5[12]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],BM:["1","011","(?:441|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","441$1",0,"441"],BN:["673","00","[2-578]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-578]"]]]],BO:["591","00(?:1\\d)?","8001\\d{5}|(?:[2-467]\\d|50)\\d{6}",[8,9],[["(\\d)(\\d{7})","$1 $2",["[235]|4[46]"]],["(\\d{8})","$1",["[67]"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["8"]]],"0",0,"0(1\\d)?"],BQ:["599","00","(?:[34]1|7\\d)\\d{5}",[7],0,0,0,0,0,0,"[347]"],BR:["55","00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)","[1-467]\\d{9,10}|55[0-46-9]\\d{8}|[34]\\d{7}|55\\d{7,8}|(?:5[0-46-9]|[89]\\d)\\d{7,9}",[8,9,10,11],[["(\\d{4})(\\d{4})","$1-$2",["300|4(?:0[02]|37|86)","300|4(?:0(?:0|20)|370|864)"]],["(\\d{3})(\\d{2,3})(\\d{4})","$1 $2 $3",["(?:[358]|90)0"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-57]"],"($1)"],["(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[16][1-9]|[2-57-9]"],"($1)"]],"0",0,"(?:0|90)(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?","$2"],BS:["1","011","(?:242|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([3-8]\\d{6})$|1","242$1",0,"242"],BT:["975","00","[178]\\d{7}|[2-8]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[2-6]|7[246]|8[2-4]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[67]|[78]"]]]],BW:["267","00","(?:0800|(?:[37]|800)\\d)\\d{6}|(?:[2-6]\\d|90)\\d{5}",[7,8,10],[["(\\d{2})(\\d{5})","$1 $2",["90"]],["(\\d{3})(\\d{4})","$1 $2",["[24-6]|3[15-9]"]],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37]"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["8"]]]],BY:["375","810","(?:[12]\\d|33|44|902)\\d{7}|8(?:0[0-79]\\d{5,7}|[1-7]\\d{9})|8(?:1[0-489]|[5-79]\\d)\\d{7}|8[1-79]\\d{6,7}|8[0-79]\\d{5}|8\\d{5}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3})","$1 $2",["800"],"8 $1"],["(\\d{3})(\\d{2})(\\d{2,4})","$1 $2 $3",["800"],"8 $1"],["(\\d{4})(\\d{2})(\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["1(?:[56]|7[467])|2[1-3]"],"8 0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-4]"],"8 0$1"],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["[89]"],"8 $1"]],"8",0,"0|80?",0,0,0,0,"8~10"],BZ:["501","00","(?:0800\\d|[2-8])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1-$2",["[2-8]"]],["(\\d)(\\d{3})(\\d{4})(\\d{3})","$1-$2-$3-$4",["0"]]]],CA:["1","011","[2-9]\\d{9}|3\\d{6}",[7,10],0,"1",0,0,0,0,0,[["(?:2(?:04|[23]6|[48]9|5[07]|63)|3(?:06|43|54|6[578]|82)|4(?:03|1[68]|[26]8|3[178]|50|74)|5(?:06|1[49]|48|79|8[147])|6(?:04|[18]3|39|47|72)|7(?:0[59]|42|53|78|8[02])|8(?:[06]7|19|25|7[39])|9(?:0[25]|42))[2-9]\\d{6}",[10]],["",[10]],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",[10]],["900[2-9]\\d{6}",[10]],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|(?:5(?:2[125-9]|33|44|66|77|88)|6(?:22|33))[2-9]\\d{6}",[10]],0,["310\\d{4}",[7]],0,["600[2-9]\\d{6}",[10]]]],CC:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:02|31|60|89)|1(?:18|76)|223)|91(?:0(?:1[0-2]|29)|1(?:[28]2|50|79)|2(?:10|64)|3(?:[06]8|22)|4[29]8|62\\d|70[23]|959))\\d{3}",[9]],["4(?:79[01]|83[0-36-9]|95[0-3])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-47-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CD:["243","00","(?:(?:[189]|5\\d)\\d|2)\\d{7}|[1-68]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[1-6]"],"0$1"],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["5"],"0$1"]],"0"],CF:["236","00","(?:[27]\\d{3}|8776)\\d{4}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[278]"]]]],CG:["242","00","222\\d{6}|(?:0\\d|80)\\d{7}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02]"]]]],CH:["41","00","8\\d{11}|[2-9]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8[047]|90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]|81"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["8"],"0$1"]],"0"],CI:["225","00","[02]\\d{9}",[10],[["(\\d{2})(\\d{2})(\\d)(\\d{5})","$1 $2 $3 $4",["2"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3 $4",["0"]]]],CK:["682","00","[2-578]\\d{4}",[5],[["(\\d{2})(\\d{3})","$1 $2",["[2-578]"]]]],CL:["56","(?:0|1(?:1[0-69]|2[02-5]|5[13-58]|69|7[0167]|8[018]))0","12300\\d{6}|6\\d{9,10}|[2-9]\\d{8}",[9,10,11],[["(\\d{5})(\\d{4})","$1 $2",["219","2196"],"($1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["60|809"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["44"]],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[1-36]"],"($1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["9(?:10|[2-9])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["3[2-5]|[47]|5[1-3578]|6[13-57]|8(?:0[1-8]|[1-9])"],"($1)"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{3})(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"]]]],CM:["237","00","[26]\\d{8}|88\\d{6,7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["88"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]|88"]]]],CN:["86","00|1(?:[12]\\d|79)\\d\\d00","(?:(?:1[03-689]|2\\d)\\d\\d|6)\\d{8}|1\\d{10}|[126]\\d{6}(?:\\d(?:\\d{2})?)?|86\\d{5,6}|(?:[3-579]\\d|8[0-57-9])\\d{5,9}",[7,8,9,10,11,12],[["(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2[0-57-9])[19]|3(?:[157]|35|49|9[1-68])|4(?:1[124-9]|2[179]|6[47-9]|7|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:07|1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3|4[13]|5[1-5]|7[0-79]|9[0-35-9])|(?:4[35]|59|85)[1-9]","(?:10|2[0-57-9])(?:1[02]|9[56])|8078|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))1","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|80781|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))12","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|807812|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:078|1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123"],"0$1"],["(\\d{3})(\\d{5,6})","$1 $2",["3(?:[157]|35|49|9[1-68])|4(?:[17]|2[179]|6[47-9]|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(?:4[35]|59|85)[1-9]","(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))[19]","85[23](?:10|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:10|9[56])","85[23](?:100|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100|9[56])"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["(?:4|80)0"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|2(?:[02-57-9]|1[1-9])","10|2(?:[02-57-9]|1[1-9])","10[0-79]|2(?:[02-57-9]|1[1-79])|(?:10|21)8(?:0[1-9]|[1-9])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:[3-59]|7[02-68])|4(?:[26-8]|3[3-9]|5[2-9])|5(?:3[03-9]|[468]|7[028]|9[2-46-9])|6|7(?:[0-247]|3[04-9]|5[0-4689]|6[2368])|8(?:[1-358]|9[1-7])|9(?:[013479]|5[1-5])|(?:[34]1|55|79|87)[02-9]"],"0$1",1],["(\\d{3})(\\d{7,8})","$1 $2",["9"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[3-578]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-9]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["[12]"],"0$1",1]],"0",0,"(1(?:[12]\\d|79)\\d\\d)|0",0,0,0,0,"00"],CO:["57","00(?:4(?:[14]4|56)|[579])","(?:46|60\\d\\d)\\d{6}|(?:1\\d|[39])\\d{9}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["46"]],["(\\d{3})(\\d{7})","$1 $2",["6|90"],"($1)"],["(\\d{3})(\\d{7})","$1 $2",["3[0-357]|9[14]"]],["(\\d)(\\d{3})(\\d{7})","$1-$2-$3",["1"],"0$1",0,"$1 $2 $3"]],"0",0,"0([3579]|4(?:[14]4|56))?"],CR:["506","00","(?:8\\d|90)\\d{8}|(?:[24-8]\\d{3}|3005)\\d{4}",[8,10],[["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[3-9]"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[89]"]]],0,0,"(19(?:0[0-2468]|1[09]|20|66|77|99))"],CU:["53","119","(?:[2-7]|8\\d\\d)\\d{7}|[2-47]\\d{6}|[34]\\d{5}",[6,7,8,10],[["(\\d{2})(\\d{4,6})","$1 $2",["2[1-4]|[34]"],"(0$1)"],["(\\d)(\\d{6,7})","$1 $2",["7"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["[56]"],"0$1"],["(\\d{3})(\\d{7})","$1 $2",["8"],"0$1"]],"0"],CV:["238","0","(?:[2-59]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2-589]"]]]],CW:["599","00","(?:[34]1|60|(?:7|9\\d)\\d)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[3467]"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["9[4-8]"]]],0,0,0,0,0,"[69]"],CX:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:01|30|59|88)|1(?:17|46|75)|2(?:22|35))|91(?:00[6-9]|1(?:[28]1|49|78)|2(?:09|63)|3(?:12|26|75)|4(?:56|97)|64\\d|7(?:0[01]|1[0-2])|958))\\d{3}",[9]],["4(?:79[01]|83[0-36-9]|95[0-3])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-47-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CY:["357","00","(?:[279]\\d|[58]0)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[257-9]"]]]],CZ:["420","00","(?:[2-578]\\d|60)\\d{7}|9\\d{8,11}",[9,10,11,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3 $4",["96"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]]],DE:["49","00","[2579]\\d{5,14}|49(?:[34]0|69|8\\d)\\d\\d?|49(?:37|49|60|7[089]|9\\d)\\d{1,3}|49(?:2[024-9]|3[2-689]|7[1-7])\\d{1,8}|(?:1|[368]\\d|4[0-8])\\d{3,13}|49(?:[015]\\d|2[13]|31|[46][1-8])\\d{1,9}",[4,5,6,7,8,9,10,11,12,13,14,15],[["(\\d{2})(\\d{3,13})","$1 $2",["3[02]|40|[68]9"],"0$1"],["(\\d{3})(\\d{3,12})","$1 $2",["2(?:0[1-389]|1[124]|2[18]|3[14])|3(?:[35-9][15]|4[015])|906|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1","2(?:0[1-389]|12[0-8])|3(?:[35-9][15]|4[015])|906|2(?:[13][14]|2[18])|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1"],"0$1"],["(\\d{4})(\\d{2,11})","$1 $2",["[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]","[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|4[13578]|9[1346])|5(?:0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(?:2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|6|7[1467]|8[136])|9(?:0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(?:47|60)[1356]|3(?:3[46]|46|5[49])[1246]|3[4579]3[1357]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["138"],"0$1"],["(\\d{5})(\\d{2,10})","$1 $2",["3"],"0$1"],["(\\d{3})(\\d{5,11})","$1 $2",["181"],"0$1"],["(\\d{3})(\\d)(\\d{4,10})","$1 $2 $3",["1(?:3|80)|9"],"0$1"],["(\\d{3})(\\d{7,8})","$1 $2",["1[67]"],"0$1"],["(\\d{3})(\\d{7,12})","$1 $2",["8"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["185","1850","18500"],"0$1"],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["18[68]"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["15[1279]"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["15[03568]","15(?:[0568]|3[13])"],"0$1"],["(\\d{3})(\\d{8})","$1 $2",["18"],"0$1"],["(\\d{3})(\\d{2})(\\d{7,8})","$1 $2 $3",["1(?:6[023]|7)"],"0$1"],["(\\d{4})(\\d{2})(\\d{7})","$1 $2 $3",["15[279]"],"0$1"],["(\\d{3})(\\d{2})(\\d{8})","$1 $2 $3",["15"],"0$1"]],"0"],DJ:["253","00","(?:2\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[27]"]]]],DK:["45","00","[2-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-9]"]]]],DM:["1","011","(?:[58]\\d\\d|767|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","767$1",0,"767"],DO:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,0,0,0,"8001|8[024]9"],DZ:["213","00","(?:[1-4]|[5-79]\\d|80)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-8]"],"0$1"]],"0"],EC:["593","00","1\\d{9,10}|(?:[2-7]|9\\d)\\d{7}",[8,9,10,11],[["(\\d)(\\d{3})(\\d{4})","$1 $2-$3",["[2-7]"],"(0$1)",0,"$1-$2-$3"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{3})(\\d{3,4})","$1 $2 $3",["1"]]],"0"],EE:["372","00","8\\d{9}|[4578]\\d{7}|(?:[3-8]\\d|90)\\d{5}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]|88","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]|88"]],["(\\d{4})(\\d{3,4})","$1 $2",["[45]|8(?:00|[1-49])","[45]|8(?:00[1-9]|[1-49])"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],EG:["20","00","[189]\\d{8,9}|[24-6]\\d{8}|[135]\\d{7}",[8,9,10],[["(\\d)(\\d{7,8})","$1 $2",["[23]"],"0$1"],["(\\d{2})(\\d{6,7})","$1 $2",["1[35]|[4-6]|8[2468]|9[235-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{8})","$1 $2",["1"],"0$1"]],"0"],EH:["212","00","[5-8]\\d{8}",[9],0,"0",0,0,0,0,"528[89]"],ER:["291","00","[178]\\d{6}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[178]"],"0$1"]],"0"],ES:["34","00","[5-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]00"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-9]"]]]],ET:["251","00","(?:11|[2-579]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-579]"],"0$1"]],"0"],FI:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","[1-35689]\\d{4}|7\\d{10,11}|(?:[124-7]\\d|3[0-46-9])\\d{8}|[1-9]\\d{5,8}",[5,6,7,8,9,10,11,12],[["(\\d{5})","$1",["20[2-59]"],"0$1"],["(\\d{3})(\\d{3,7})","$1 $2",["(?:[1-3]0|[68])0|70[07-9]"],"0$1"],["(\\d{2})(\\d{4,8})","$1 $2",["[14]|2[09]|50|7[135]"],"0$1"],["(\\d{2})(\\d{6,10})","$1 $2",["7"],"0$1"],["(\\d)(\\d{4,9})","$1 $2",["(?:19|[2568])[1-8]|3(?:0[1-9]|[1-9])|9"],"0$1"]],"0",0,0,0,0,"1[03-79]|[2-9]",0,"00"],FJ:["679","0(?:0|52)","45\\d{5}|(?:0800\\d|[235-9])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1 $2",["[235-9]|45"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]]],0,0,0,0,0,0,0,"00"],FK:["500","00","[2-7]\\d{4}",[5]],FM:["691","00","(?:[39]\\d\\d|820)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[389]"]]]],FO:["298","00","[2-9]\\d{5}",[6],[["(\\d{6})","$1",["[2-9]"]]],0,0,"(10(?:01|[12]0|88))"],FR:["33","00","[1-9]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1"]],"0"],GA:["241","00","(?:[067]\\d|11)\\d{6}|[2-7]\\d{6}",[7,8],[["(\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["11|[67]"],"0$1"]],0,0,"0(11\\d{6}|60\\d{6}|61\\d{6}|6[256]\\d{6}|7[467]\\d{6})","$1"],GB:["44","00","[1-357-9]\\d{9}|[18]\\d{8}|8\\d{6}",[7,9,10],[["(\\d{3})(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["845","8454","84546","845464"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["800"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["1(?:[2-69][02-9]|[78])"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[25]|7(?:0|6[02-9])","[25]|7(?:0|6(?:[03-9]|2[356]))"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[1389]"],"0$1"]],"0",0,"0|180020",0,0,0,[["(?:1(?:1(?:3(?:[0-58]\\d\\d|73[0-5])|4(?:(?:[0-5]\\d|70)\\d|69[7-9])|(?:(?:5[0-26-9]|[78][0-49])\\d|6(?:[0-4]\\d|5[01]))\\d)|(?:2(?:(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9\\d)\\d|1(?:[0-7]\\d|8[0-3]))|(?:3(?:0\\d|1[0-8]|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[137]\\d|[28][02-57-9]|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|[16]\\d|2[024-9]|3[015689]|4[02-9]|5[03-9]|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|1\\d|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0-24578])|7(?:0[0246-9]|2\\d|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|[18]\\d|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|9[2-57]))\\d)\\d)|2(?:0[013478]|3[0189]|4[017]|8[0-46-9]|9[0-2])\\d{3})\\d{4}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[3-5])))|3(?:6(?:38[2-5]|47[23])|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[1-3]))|5(?:2(?:4(?:3[2-79]|6\\d)|76\\d)|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[5-7]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|9(?:55[0-4]|77[23]))|7(?:26(?:6[13-9]|7[0-7])|(?:442|688)\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|843[2-58])|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d{3}",[9,10]],["7(?:457[0-57-9]|700[01]|911[028])\\d{5}|7(?:[1-3]\\d\\d|4(?:[0-46-9]\\d|5[0-689])|5(?:0[0-8]|[13-9]\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\d|8[02-9]|9[0-689])|8(?:[014-9]\\d|[23][0-8])|9(?:[024-9]\\d|1[02-9]|3[0-689]))\\d{6}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[2-49]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]],0," x"],GD:["1","011","(?:473|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","473$1",0,"473"],GE:["995","00","(?:[3-57]\\d\\d|800)\\d{6}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["32"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[57]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[348]"],"0$1"]],"0"],GF:["594","00","(?:[56]94\\d|7093)\\d{5}|(?:80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]|9[47]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[89]"],"0$1"]],"0"],GG:["44","00","(?:1481|[357-9]\\d{3})\\d{6}|8\\d{6}(?:\\d{2})?",[7,9,10],0,"0",0,"([25-9]\\d{5})$|0|180020","1481$1",0,0,[["1481[25-9]\\d{5}",[10]],["7(?:(?:781|839)\\d|911[17])\\d{5}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[0-3]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]]],GH:["233","00","(?:[235]\\d{3}|800)\\d{5}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1"]],"0"],GI:["350","00","(?:[25]\\d|60)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["2"]]]],GL:["299","00","(?:19|[2-689]\\d|70)\\d{4}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["19|[2-9]"]]]],GM:["220","00","[2-9]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],GN:["224","00","722\\d{6}|(?:3|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["3"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[67]"]]]],GP:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[["590(?:0[1-68]|[14][0-24-9]|2[0-68]|3[1-9]|5[3-579]|[68][0-689]|7[08]|9\\d)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],GQ:["240","00","222\\d{6}|(?:3\\d|55|[89]0)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235]"]],["(\\d{3})(\\d{6})","$1 $2",["[89]"]]]],GR:["30","00","5005000\\d{3}|8\\d{9,11}|(?:[269]\\d|70)\\d{8}",[10,11,12],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["21|7"]],["(\\d{4})(\\d{6})","$1 $2",["2(?:2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])|5"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2689]"]],["(\\d{3})(\\d{3,4})(\\d{5})","$1 $2 $3",["8"]]]],GT:["502","00","80\\d{6}|(?:1\\d{3}|[2-7])\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1 $2",["[2-8]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],GU:["1","011","(?:[58]\\d\\d|671|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","671$1",0,"671"],GW:["245","00","[49]\\d{8}|4\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["40"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"]]]],GY:["592","001","(?:[2-8]\\d{3}|9008)\\d{3}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],HK:["852","00(?:30|5[09]|[126-9]?)","8[0-46-9]\\d{6,7}|9\\d{4,7}|(?:[2-7]|9\\d{3})\\d{7}",[5,6,7,8,9,11],[["(\\d{3})(\\d{2,5})","$1 $2",["900","9003"]],["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[1-4]|9(?:0[1-9]|[1-8])"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{3})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]],0,0,0,0,0,0,0,"00"],HN:["504","00","8\\d{10}|[237-9]\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1-$2",["[237-9]"]]]],HR:["385","00","[2-69]\\d{8}|80\\d{5,7}|[1-79]\\d{7}|6\\d{6}",[7,8,9],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["6[01]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{4})(\\d{3})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6|7[245]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-57]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"]],"0"],HT:["509","00","[2-589]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[2-589]"]]]],HU:["36","00","[235-7]\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27][2-9]|3[2-7]|4[24-9]|5[2-79]|6|8[2-57-9]|9[2-69]"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"06 $1"]],"06"],ID:["62","00[89]","00[1-9]\\d{9,14}|(?:[1-36]|8\\d{5})\\d{6}|00\\d{9}|[1-9]\\d{8,10}|[2-9]\\d{7}",[7,8,9,10,11,12,13,14,15,16,17],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["15"]],["(\\d{2})(\\d{5,9})","$1 $2",["2[124]|[36]1"],"(0$1)"],["(\\d{3})(\\d{5,7})","$1 $2",["800"],"0$1"],["(\\d{3})(\\d{5,8})","$1 $2",["[2-79]"],"(0$1)"],["(\\d{3})(\\d{3,4})(\\d{3})","$1-$2-$3",["8[1-35-9]"],"0$1"],["(\\d{3})(\\d{6,8})","$1 $2",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["804"],"0$1"],["(\\d{3})(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1-$2-$3",["8"],"0$1"]],"0"],IE:["353","00","(?:1\\d|[2569])\\d{6,8}|4\\d{6,9}|7\\d{8}|8\\d{8,9}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"],"(0$1)"],["(\\d{3})(\\d{5})","$1 $2",["[45]0"],"(0$1)"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["1"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2569]|4[1-69]|7[14]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["81"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[78]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["4"],"(0$1)"],["(\\d{2})(\\d)(\\d{3})(\\d{4})","$1 $2 $3 $4",["8"],"0$1"]],"0"],IL:["972","0(?:0|1[2-9])","1\\d{6}(?:\\d{3,5})?|[57]\\d{8}|[1-489]\\d{7}",[7,8,9,10,11,12],[["(\\d{4})(\\d{3})","$1-$2",["125"]],["(\\d{4})(\\d{2})(\\d{2})","$1-$2-$3",["121"]],["(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[2-489]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1-$2-$3",["12"]],["(\\d{4})(\\d{6})","$1-$2",["159"]],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3-$4",["1[7-9]"]],["(\\d{3})(\\d{1,2})(\\d{3})(\\d{4})","$1-$2 $3-$4",["15"]]],"0"],IM:["44","00","1624\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([25-8]\\d{5})$|0|180020","1624$1",0,"74576|(?:16|7[56])24"],IN:["91","00","(?:000800|[2-9]\\d\\d)\\d{7}|1\\d{7,12}",[8,9,10,11,12,13],[["(\\d{8})","$1",["5(?:0|2[23]|3[03]|[67]1|88)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|888)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|8888)"],0,1],["(\\d{4})(\\d{4,5})","$1 $2",["180","1800"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["140"],0,1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79[1-7]|80[2-46]","11|2[02]|33|4[04]|79(?:[1-6]|7[19])|80(?:[2-4]|6[0-589])","11|2[02]|33|4[04]|79(?:[124-6]|3(?:[02-9]|1[0-24-9])|7(?:1|9[1-6]))|80(?:[2-4]|6[0-589])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(?:12|[2-4]1|5[17]|6[13]|80)|7(?:12|3[134]|4[47]|61|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(?:43|59|75)[15]|(?:1[59]|29|67|72)[14]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|674|7(?:(?:2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(?:70[2-6]|84[235-7]|91[3-7])|(?:1(?:29|60|8[06])|261|552|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))[2-7]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12(?:[2-6]|7[0-8])|74[2-7])|7(?:(?:2[14]|5[15])[2-6]|3171|61[346]|88(?:[2-7]|82))|8(?:70[2-6]|84(?:[2356]|7[19])|91(?:[3-6]|7[19]))|73[134][2-6]|(?:74[47]|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[2-6]|7[19])|(?:1(?:29|60|8[06])|261|552|6(?:[2-4]1|5[17]|6[13]|7(?:1|4[0189])|80)|7(?:12|88[01]))[2-7]"],"0$1",1],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2[2457-9]|3[2-5]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807","1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1(?:[013-8]|9[6-9])|28[6-8]|3(?:17|2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]","1(?:[2-479]|5(?:[0236-9]|5[013-9]))|[2-5]|6(?:2(?:84|95)|355|8(?:28[235-7]|3))|73179|807(?:1|9[1-3])|(?:1552|6(?:(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689])\\d|8(?:[14-6]\\d|2[0-79]))|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]))[2-7]"],"0$1",1],["(\\d{5})(\\d{5})","$1 $2",["16|[6-9]"],"0$1",1],["(\\d{4})(\\d{2,4})(\\d{4})","$1 $2 $3",["18[06]","18[06]0"],0,1],["(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18"],0,1]],"0"],IO:["246","00","3\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["3"]]]],IQ:["964","00","(?:1|7\\d\\d)\\d{7}|[2-6]\\d{7,8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-6]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],IR:["98","00","[1-9]\\d{9}|(?:[1-8]\\d\\d|9)\\d{3,4}",[4,5,6,7,10],[["(\\d{4,5})","$1",["96"],"0$1"],["(\\d{2})(\\d{4,5})","$1 $2",["(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])[12689]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[1-8]"],"0$1"]],"0"],IS:["354","00|1(?:0(?:01|[12]0)|100)","(?:38\\d|[4-9])\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["[4-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["3"]]],0,0,0,0,0,0,0,"00"],IT:["39","00","0\\d{5,11}|1\\d{8,10}|3(?:[0-8]\\d{7,10}|9\\d{7,8})|(?:43|55|70)\\d{8}|8\\d{5}(?:\\d{2,4})?",[6,7,8,9,10,11,12],[["(\\d{2})(\\d{4,6})","$1 $2",["0[26]"]],["(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[2-5])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|3[04]|[45][0-4]))"]],["(\\d{4})(\\d{2,6})","$1 $2",["0(?:[13-579][2-46-8]|8[236-8])"]],["(\\d{4})(\\d{4})","$1 $2",["894"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|5"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["1(?:44|[679])|[378]|43"]],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]|14"]],["(\\d{2})(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[03]"]]],0,0,0,0,0,0,[["0(?:669[0-79]\\d{1,6}|831\\d{2,8})|0(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|2\\d\\d|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|6(?:[0-57-9]\\d|6[0-8])|7(?:[0159]\\d|2[12]|3[1-7]|4[2-46]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\d|2[3-578]|3[2356]|[6-8][1-5])|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\d{2,7}"],["3[2-9]\\d{7,8}|(?:31|43)\\d{8}",[9,10]],["80(?:0\\d{3}|3)\\d{3}",[6,9]],["(?:0878\\d{3}|89(?:2\\d|3[04]|4(?:[0-4]|[5-9]\\d\\d)|5[0-4]))\\d\\d|(?:1(?:44|6[346])|89(?:38|5[5-9]|9))\\d{6}",[6,8,9,10]],["1(?:78\\d|99)\\d{6}",[9,10]],["3[2-8]\\d{9,10}",[11,12]],0,0,["55\\d{8}",[10]],["84(?:[08]\\d{3}|[17])\\d{3}",[6,9]]]],JE:["44","00","1534\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([0-24-8]\\d{5})$|0|180020","1534$1",0,0,[["1534[0-24-8]\\d{5}"],["7(?:(?:(?:50|82)9|937)\\d|7(?:00[378]|97\\d))\\d{5}"],["80(?:07(?:35|81)|8901)\\d{4}"],["(?:8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|90(?:066[59]|1810|71(?:07|55)))\\d{4}"],["701511\\d{4}"],0,["(?:3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|55\\d{4})\\d{4}"],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}"],["56\\d{8}"]]],JM:["1","011","(?:[58]\\d\\d|658|900)\\d{7}",[10],0,"1",0,0,0,0,"658|876"],JO:["962","00","(?:(?:[2689]|7\\d)\\d|32|427|53)\\d{6}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)"],["(\\d{3})(\\d{5,6})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["70"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[47]"],"0$1"]],"0"],JP:["81","010","00[1-9]\\d{6,14}|[25-9]\\d{9}|(?:00|[1-9]\\d\\d)\\d{6}",[8,9,10,11,12,13,14,15,16,17],[["(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],["(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51)|9(?:80|9[16])","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[7-9]|96)|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[7-9]|96[2457-9])|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["3|4(?:2[09]|7[01])|6[1-9]","3|4(?:2(?:0|9[02-69])|7(?:0[019]|1))|6[1-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1(?:1|5[45]|77|88|9[69])|2(?:2[1-37]|3[0-269]|4[59]|5|6[24]|7[1-358]|8[1369]|9[0-38])|4(?:[28][1-9]|3[0-57]|[45]|6[248]|7[2-579]|9[29])|5(?:2|3[0459]|4[0-369]|5[29]|8[02389]|9[0-389])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|8(?:2[124589]|3[26-9]|49|51|6|7[0-468]|8[68]|9[019])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9[1-489])","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2(?:[127]|3[014-9])|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9[19])|62|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|8[1-9]|9[29])|5(?:2|3(?:[045]|9[0-8])|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0-2469])|3(?:[29]|60)|49|51|6(?:[0-24]|36|5[0-3589]|7[23]|9[01459])|7[0-468]|8[68])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3[34]|4[0178]))|(?:264|837)[016-9]|2(?:57|93)[015-9]|(?:25[0468]|422|838)[01]|(?:47[59]|59[89]|8(?:6[68]|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3(?:[045]|9(?:[0-58]|6[4-9]|7[0-35689]))|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0169])|3(?:[29]|60|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[2-57-9]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|7(?:2[2-468]|3[78])|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:8294|96)[1-3]|2(?:57|93)[015-9]|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|8292|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]"],"0$1"],["(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["[14]|[289][2-9]|5[3-9]|7[2-4679]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[25-9]"],"0$1"]],"0",0,"(000[2569]\\d{4,6})$|(?:(?:003768)0?)|0","$1"],KE:["254","000","(?:[17]\\d\\d|900)\\d{6}|(?:2|80)0\\d{6,7}|[4-6]\\d{6,8}",[7,8,9,10],[["(\\d{2})(\\d{5,7})","$1 $2",["[24-6]"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[17]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0"],KG:["996","00","8\\d{9}|[235-9]\\d{8}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["3(?:1[346]|[24-79])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-79]|88"],"0$1"],["(\\d{3})(\\d{3})(\\d)(\\d{2,3})","$1 $2 $3 $4",["8"],"0$1"]],"0"],KH:["855","00[14-9]","1\\d{9}|[1-9]\\d{7,8}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],KI:["686","00","(?:[37]\\d|6[0-79])\\d{6}|(?:[2-48]\\d|50)\\d{3}",[5,8],0,"0"],KM:["269","00","[3478]\\d{6}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[3478]"]]]],KN:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","869$1",0,"869"],KP:["850","00|99","85\\d{6}|(?:19\\d|[2-7])\\d{7}",[8,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"]],"0"],KR:["82","00(?:[125689]|3(?:[46]5|91)|7(?:00|27|3|55|6[126]))","00[1-9]\\d{8,11}|(?:[12]|5\\d{3})\\d{7}|[13-6]\\d{9}|(?:[1-6]\\d|80)\\d{7}|[3-6]\\d{4,5}|(?:00|7)0\\d{8}",[5,6,8,9,10,11,12,13,14],[["(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1"],["(\\d{4})(\\d{4})","$1-$2",["1"]],["(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[36]0|8"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["[1346]|5[1-5]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{2})(\\d{5})(\\d{4})","$1-$2-$3",["5"],"0$1"]],"0",0,"0(8(?:[1-46-8]|5\\d\\d))?"],KW:["965","00","18\\d{5}|(?:[2569]\\d|41)\\d{6}",[7,8],[["(\\d{4})(\\d{3,4})","$1 $2",["[169]|2(?:[235]|4[1-35-9])|52"]],["(\\d{3})(\\d{5})","$1 $2",["[245]"]]]],KY:["1","011","(?:345|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","345$1",0,"345"],KZ:["7","810","(?:33622|8\\d{8})\\d{5}|[78]\\d{9}",[10,14],0,"8",0,0,0,0,"33622|7",0,"8~10"],LA:["856","00","[23]\\d{9}|3\\d{8}|(?:[235-8]\\d|41)\\d{6}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["3"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[23]"],"0$1"]],"0"],LB:["961","00","[27-9]\\d{7}|[13-9]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[13-69]|7(?:[2-57]|62|8[0-6]|9[04-9])|8[02-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27-9]"]]],"0"],LC:["1","011","(?:[58]\\d\\d|758|900)\\d{7}",[10],0,"1",0,"([2-8]\\d{6})$|1","758$1",0,"758"],LI:["423","00","[68]\\d{8}|(?:[2378]\\d|90)\\d{5}",[7,9],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2379]|8(?:0[09]|7)","[2379]|8(?:0(?:02|9)|7)"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["69"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]],"0",0,"(1001)|0"],LK:["94","00","[1-9]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[1-689]"],"0$1"]],"0"],LR:["231","00","(?:[2457]\\d|33|88)\\d{7}|(?:2\\d|[4-6])\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["4[67]|[56]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-578]"],"0$1"]],"0"],LS:["266","00","(?:[256]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2568]"]]]],LT:["370","00","(?:[3469]\\d|52|[78]0)\\d{6}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["52[0-7]"],"(0-$1)",1],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[7-9]"],"0 $1",1],["(\\d{2})(\\d{6})","$1 $2",["37|4(?:[15]|6[1-8])"],"(0-$1)",1],["(\\d{3})(\\d{5})","$1 $2",["[3-6]"],"(0-$1)",1]],"0",0,"[08]"],LU:["352","00","35[013-9]\\d{4,8}|6\\d{8}|35\\d{2,4}|(?:[2457-9]\\d|3[0-46-9])\\d{2,9}",[4,5,6,7,8,9,10,11],[["(\\d{2})(\\d{3})","$1 $2",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["20[2-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"]],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["80[01]|90[015]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["20"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,5})","$1 $2 $3 $4",["[3-57]|8[13-9]|9(?:0[89]|[2-579])|(?:2|80)[2-9]"]]],0,0,"(15(?:0[06]|1[12]|[35]5|4[04]|6[26]|77|88|99)\\d)"],LV:["371","00","(?:[268]\\d|78|90)\\d{6}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2679]|8[01]"]]]],LY:["218","00","[2-9]\\d{8}",[9],[["(\\d{2})(\\d{7})","$1-$2",["[2-9]"],"0$1"]],"0"],MA:["212","00","[5-8]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5[45]"],"0$1"],["(\\d{4})(\\d{5})","$1-$2",["5(?:[19]|2[2-46-9]|3[3-9])|8(?:0[89]|92)"],"0$1"],["(\\d{2})(\\d{7})","$1-$2",["8"],"0$1"],["(\\d{3})(\\d{6})","$1-$2",["[5-7]"],"0$1"]],"0",0,0,0,0,0,[["5(?:(?:18|4[0679]|5[03])\\d|2(?:[0-25-79]\\d|3[1-578]|4[02-46-8]|8[0235-7])|3(?:[0-47]\\d|5[02-9]|6[02-8]|8[014-9]|9[3-9]))\\d{5}"],["(?:6(?:[0-79]\\d|8[0-247-9])|7(?:[016-8]\\d|2[0-8]|5[0-5]))\\d{6}"],["80[0-7]\\d{6}"],["89\\d{7}"],0,0,0,0,["(?:592(?:4[0-2]|93)|80[89]\\d\\d)\\d{4}"]]],MC:["377","00","(?:[3489]|[67]\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[389]"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[67]"],"0$1"]],"0"],MD:["373","00","(?:[235-7]\\d|[89]0)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["22|3"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[25-7]"],"0$1"]],"0"],ME:["382","00","(?:20|[3-79]\\d)\\d{6}|80\\d{6,7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"0$1"]],"0"],MF:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:0[079]|[14]3|[27][79]|3[03-7]|5[0-268]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],MG:["261","00","[23]\\d{8}",[9],[["(\\d{2})(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3 $4",["[23]"],"0$1"]],"0",0,"([24-9]\\d{6})$|0","20$1"],MH:["692","011","329\\d{4}|(?:[256]\\d|45)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1-$2",["[2-6]"]]],"1"],MK:["389","00","[2-578]\\d{7}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2|34[47]|4(?:[37]7|5[47]|64)"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[347]"],"0$1"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["[58]"],"0$1"]],"0"],ML:["223","00","[24-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-9]"]]]],MM:["95","00","1\\d{5,7}|95\\d{6}|(?:[4-7]|9[0-46-9])\\d{6,8}|(?:2|8\\d)\\d{5,8}",[6,7,8,9,10],[["(\\d)(\\d{2})(\\d{3})","$1 $2 $3",["16|2"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["4(?:[2-46]|5[3-5])|5|6(?:[1-689]|7[235-7])|7(?:[0-4]|5[2-7])|8[1-5]|(?:60|86)[23]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]|452|678|86","[12]|452|6788|86"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[4-7]|8[1-35]"],"0$1"],["(\\d)(\\d{3})(\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["92"],"0$1"],["(\\d)(\\d{5})(\\d{4})","$1 $2 $3",["9"],"0$1"]],"0"],MN:["976","001","[12]\\d{7,9}|[5-9]\\d{7}",[8,9,10],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[12]1"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[5-9]"]],["(\\d{3})(\\d{5,6})","$1 $2",["[12]2[1-3]"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["[12](?:27|3[2-8]|4[2-68]|5[1-4689])","[12](?:27|3[2-8]|4[2-68]|5[1-4689])[0-3]"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["[12]"],"0$1"]],"0"],MO:["853","00","0800\\d{3}|(?:28|[68]\\d)\\d{6}",[7,8],[["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{4})(\\d{4})","$1 $2",["[268]"]]]],MP:["1","011","[58]\\d{9}|(?:67|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","670$1",0,"670"],MQ:["596","00","(?:596\\d|7091)\\d{5}|(?:69|[89]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]|8(?:0[6-9]|[36])"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],MR:["222","00","(?:[2-4]\\d\\d|800)\\d{5}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-48]"]]]],MS:["1","011","(?:[58]\\d\\d|664|900)\\d{7}",[10],0,"1",0,"([34]\\d{6})$|1","664$1",0,"664"],MT:["356","00","3550\\d{4}|(?:[2579]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2357-9]"]]]],MU:["230","0(?:0|[24-7]0|3[03])","(?:[57]|8\\d\\d)\\d{7}|[2-468]\\d{6}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[2-46]|8[013]"]],["(\\d{4})(\\d{4})","$1 $2",["[57]"]],["(\\d{5})(\\d{5})","$1 $2",["8"]]],0,0,0,0,0,0,0,"020"],MV:["960","0(?:0|19)","(?:800|9[0-57-9]\\d)\\d{7}|[34679]\\d{6}",[7,10],[["(\\d{3})(\\d{4})","$1-$2",["[34679]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"]]],0,0,0,0,0,0,0,"00"],MW:["265","00","(?:[1289]\\d|31|77)\\d{7}|1\\d{6}",[7,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[137-9]"],"0$1"]],"0"],MX:["52","0[09]","[2-9]\\d{9}",[10],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["33|5[56]|81"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2-9]"]]],0,0,0,0,0,0,0,"00"],MY:["60","00","1\\d{8,9}|(?:3\\d|[4-9])\\d{7}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["[4-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1-$2 $3",["1(?:[02469]|[378][1-9]|53)|8","1(?:[02469]|[37][1-9]|53|8(?:[1-46-9]|5[7-9]))|8"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2 $3",["3"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3-$4",["1(?:[367]|80)"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2 $3",["15"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2 $3",["1"],"0$1"]],"0"],MZ:["258","00","(?:2|8\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2|8[2-79]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],NA:["264","00","[68]\\d{7,8}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["87"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],NC:["687","00","(?:050|[2-57-9]\\d\\d)\\d{3}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[02-57-9]"]]]],NE:["227","00","[027-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["08"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[089]|2[013]|7[0467]"]]]],NF:["672","00","[13]\\d{5}",[6],[["(\\d{2})(\\d{4})","$1 $2",["1[0-3]"]],["(\\d)(\\d{5})","$1 $2",["[13]"]]],0,0,"([0-258]\\d{4})$","3$1"],NG:["234","009","(?:20|9\\d)\\d{8}|[78]\\d{9,13}",[10,11,12,13,14],[["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[7-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["20[129]"],"0$1"],["(\\d{4})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[78]"],"0$1"],["(\\d{3})(\\d{5})(\\d{5,6})","$1 $2 $3",["[78]"],"0$1"]],"0"],NI:["505","00","(?:1800|[25-8]\\d{3})\\d{4}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[125-8]"]]]],NL:["31","00","(?:[124-7]\\d\\d|3(?:[02-9]\\d|1[0-8]))\\d{6}|8\\d{6,9}|9\\d{6,10}|1\\d{4,5}",[5,6,7,8,9,10,11],[["(\\d{3})(\\d{4,7})","$1 $2",["[89]0"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["66"],"0$1"],["(\\d)(\\d{8})","$1 $2",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-578]|91"],"0$1"],["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3",["9"],"0$1"]],"0"],NO:["47","00","(?:0|[2-9]\\d{3})\\d{4}",[5,8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]"]]],0,0,0,0,0,"[02-689]|7[0-8]"],NP:["977","00","(?:1\\d|9)\\d{9}|[1-9]\\d{7}",[8,10,11],[["(\\d)(\\d{7})","$1-$2",["1[2-6]"],"0$1"],["(\\d{2})(\\d{6})","$1-$2",["1[01]|[2-8]|9(?:[1-59]|[67][2-6])"],"0$1"],["(\\d{3})(\\d{7})","$1-$2",["9"]]],"0"],NR:["674","00","(?:222|444|(?:55|8\\d)\\d|666|777|999)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[24-9]"]]]],NU:["683","00","(?:[4-7]|888\\d)\\d{3}",[4,7],[["(\\d{3})(\\d{4})","$1 $2",["8"]]]],NZ:["64","0(?:0|161)","[1289]\\d{9}|50\\d{5}(?:\\d{2,3})?|[27-9]\\d{7,8}|(?:[34]\\d|6[0-35-9])\\d{6}|8\\d{4,6}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,8})","$1 $2",["8[1-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["50[036-8]|8|90","50(?:[0367]|88)|8|90"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["24|[346]|7[2-57-9]|9[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:10|74)|[589]"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["1|2[028]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,5})","$1 $2 $3",["2(?:[169]|7[0-35-9])|7"],"0$1"]],"0",0,0,0,0,0,0,"00"],OM:["968","00","(?:1505|[279]\\d{3}|500)\\d{4}|800\\d{5,6}",[7,8,9],[["(\\d{3})(\\d{4,6})","$1 $2",["[58]"]],["(\\d{2})(\\d{6})","$1 $2",["2"]],["(\\d{4})(\\d{4})","$1 $2",["[179]"]]]],PA:["507","00","(?:00800|8\\d{3})\\d{6}|[68]\\d{7}|[1-57-9]\\d{6}",[7,8,10,11],[["(\\d{3})(\\d{4})","$1-$2",["[1-57-9]"]],["(\\d{4})(\\d{4})","$1-$2",["[68]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]]],PE:["51","00|19(?:1[124]|77|90)00","(?:[14-8]|9\\d)\\d{7}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["80"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["1"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[4-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"]]],"0",0,0,0,0,0,0,"00"," Anexo "],PF:["689","00","4\\d{5}(?:\\d{2})?|8\\d{7,8}",[6,8,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["44"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4|8[7-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],PG:["675","00|140[1-3]","(?:180|[78]\\d{3})\\d{4}|(?:[2-589]\\d|64)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["18|[2-69]|85"]],["(\\d{4})(\\d{4})","$1 $2",["[78]"]]],0,0,0,0,0,0,0,"00"],PH:["63","00","(?:[2-7]|9\\d)\\d{8}|2\\d{5}|(?:1800|8)\\d{7,9}",[6,8,9,10,11,12,13],[["(\\d)(\\d{5})","$1 $2",["2"],"(0$1)"],["(\\d{4})(\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|544|88[245]|(?:52|64|86)2","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)"],["(\\d{5})(\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|8[2-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{4})(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1"]]],"0"],PK:["92","00","122\\d{6}|[24-8]\\d{10,11}|9(?:[013-9]\\d{8,10}|2(?:[01]\\d\\d|2(?:[06-8]\\d|1[01]))\\d{7})|(?:[2-8]\\d{3}|92(?:[0-7]\\d|8[1-9]))\\d{6}|[24-9]\\d{8}|[89]\\d{7}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,7})","$1 $2 $3",["[89]0"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["1"]],["(\\d{3})(\\d{6,7})","$1 $2",["2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])","9(?:2[3-8]|98)|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]"],"(0$1)"],["(\\d{2})(\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],"(0$1)"],["(\\d{5})(\\d{5})","$1 $2",["58"],"(0$1)"],["(\\d{3})(\\d{7})","$1 $2",["3"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[24-9]"],"(0$1)"]],"0"],PL:["48","00","(?:6|8\\d\\d)\\d{7}|[1-9]\\d{6}(?:\\d{2})?|[26]\\d{5}",[6,7,8,9,10],[["(\\d{5})","$1",["19"]],["(\\d{3})(\\d{3})","$1 $2",["11|20|64"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])1","(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])19"]],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["64"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["21|39|45|5[0137]|6[0469]|7[02389]|8(?:0[14]|8)"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[2-8]|[2-7]|8[1-79]|9[145]"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["8"]]]],PM:["508","00","[45]\\d{5}|(?:708|8\\d\\d)\\d{6}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[45]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],PR:["1","011","(?:[589]\\d\\d|787)\\d{7}",[10],0,"1",0,0,0,0,"787|939"],PS:["970","00","[2489]2\\d{6}|(?:1\\d|5)\\d{8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2489]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["5"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],PT:["351","00","1693\\d{5}|(?:[26-9]\\d|30)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["2[12]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["16|[236-9]"]]]],PW:["680","01[12]","(?:[24-8]\\d\\d|345|900)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],PY:["595","00","59\\d{4,6}|9\\d{5,10}|(?:[2-46-8]\\d|5[0-8])\\d{4,7}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3,6})","$1 $2",["[2-9]0"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],["(\\d{3})(\\d{4,5})","$1 $2",["2[279]|3[13-5]|4[359]|5|6(?:[34]|7[1-46-8])|7[46-8]|85"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2[14-68]|3[26-9]|4[1246-8]|6(?:1|75)|7[1-35]|8[1-36]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["87"]],["(\\d{3})(\\d{6})","$1 $2",["9(?:[5-79]|8[1-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["9"]]],"0"],QA:["974","00","800\\d{4}|(?:2|800)\\d{6}|(?:0080|[3-7])\\d{7}",[7,8,9,11],[["(\\d{3})(\\d{4})","$1 $2",["2[136]|8"]],["(\\d{4})(\\d{4})","$1 $2",["[3-7]"]]]],RE:["262","00","709\\d{6}|(?:26|[689]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[26-9]"],"0$1"]],"0",0,0,0,0,0,[["26(?:2\\d\\d|3(?:0\\d|1[0-6]))\\d{4}"],["(?:69(?:2\\d\\d|3(?:[06][0-6]|1[0-3]|2[0-2]|3[0-39]|4\\d|5[0-5]|7[0-37]|8[0-8]|9[0-479]))|7092[0-3])\\d{4}"],["80\\d{7}"],["89[1-37-9]\\d{6}"],0,0,0,0,["9(?:399[0-3]|479[0-6]|76(?:2[278]|3[0-37]))\\d{4}"],["8(?:1[019]|2[0156]|84|90)\\d{6}"]]],RO:["40","00","(?:[236-8]\\d|90)\\d{7}|[23]\\d{5}",[6,9],[["(\\d{3})(\\d{3})","$1 $2",["2[3-6]","2[3-6]\\d9"],"0$1"],["(\\d{2})(\\d{4})","$1 $2",["219|31"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23]1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[236-9]"],"0$1"]],"0",0,0,0,0,0,0,0," int "],RS:["381","00","38[02-9]\\d{6,9}|6\\d{7,9}|90\\d{4,8}|38\\d{5,6}|(?:7\\d\\d|800)\\d{3,9}|(?:[12]\\d|3[0-79])\\d{5,10}",[6,7,8,9,10,11,12],[["(\\d{3})(\\d{3,9})","$1 $2",["(?:2[389]|39)0|[7-9]"],"0$1"],["(\\d{2})(\\d{5,10})","$1 $2",["[1-36]"],"0$1"]],"0"],RU:["7","810","8\\d{13}|[347-9]\\d{9}",[10,14],[["(\\d{4})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-8]|2[1-9])","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:1[23]|[2-9]2))","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:13[03-69]|62[013-9]))|72[1-57-9]2"],"8 ($1)",1],["(\\d{5})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-68]|2[1-9])","7(?:1(?:[06][3-6]|[18]|2[35]|[3-5][3-5])|2(?:[13][3-5]|[24-689]|7[457]))","7(?:1(?:0(?:[356]|4[023])|[18]|2(?:3[013-9]|5)|3[45]|43[013-79]|5(?:3[1-8]|4[1-7]|5)|6(?:3[0-35-9]|[4-6]))|2(?:1(?:3[178]|[45])|[24-689]|3[35]|7[457]))|7(?:14|23)4[0-8]|71(?:33|45)[1-79]"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[349]|8(?:[02-7]|1[1-8])"],"8 ($1)",1],["(\\d{4})(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3 $4",["8"],"8 ($1)"]],"8",0,0,0,0,0,[["336(?:[013-9]\\d|2[013-9])\\d{5}|(?:3(?:0[12]|4[1-35-79]|5[1-3]|65|8[1-58]|9[0145])|4(?:01|1[1356]|2[13467]|7[1-5]|8[1-7]|9[1-689])|8(?:1[1-8]|2[01]|3[13-6]|4[0-8]|5[15-7]|6[0-35-79]|7[1-37-9]))\\d{7}",[10]],["9\\d{9}",[10]],["8(?:0[04]|108\\d{3})\\d{7}"],["80[39]\\d{7}",[10]],["808\\d{7}",[10]]],"8~10"],RW:["250","00","(?:06|[27]\\d\\d|[89]00)\\d{6}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"],"0$1"]],"0"],SA:["966","00","(?:[15]\\d|800|92)\\d{7}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["9"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]],"0"],SB:["677","0[01]","[6-9]\\d{6}|[1-6]\\d{4}",[5,7],[["(\\d{2})(\\d{5})","$1 $2",["6[89]|7|8[4-9]|9(?:[1-8]|9[0-8])"]]]],SC:["248","010|0[0-2]","(?:[2489]\\d|64)\\d{5}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[246]|9[57]"]]],0,0,0,0,0,0,0,"00"],SD:["249","00","[19]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[19]"],"0$1"]],"0"],SE:["46","00","(?:[26]\\d\\d|9)\\d{9}|[1-9]\\d{8}|[1-689]\\d{7}|[1-4689]\\d{6}|2\\d{5}",[6,7,8,9,10,12],[["(\\d{2})(\\d{2,3})(\\d{2})","$1-$2 $3",["20"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{4})","$1-$2",["9(?:00|39|44|9)"],"0$1",0,"$1 $2"],["(\\d{2})(\\d{3})(\\d{2})","$1-$2 $3",["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3"],["(\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2,3})(\\d{2})","$1-$2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[125689]|4[02-57]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{2,3})(\\d{3})","$1-$2 $3",["9(?:00|39|44)"],"0$1",0,"$1 $2 $3"],["(\\d{2})(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[13689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3 $4"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["10|7"],"0$1",0,"$1 $2 $3 $4"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1-$2 $3 $4",["[13-5]|2(?:[247-9]|5[0138])|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{3})","$1-$2 $3 $4",["9"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4 $5",["[26]"],"0$1",0,"$1 $2 $3 $4 $5"]],"0"],SG:["65","0[0-3]\\d","(?:(?:1\\d|8)\\d\\d|7000)\\d{7}|[3689]\\d{7}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["[369]|8(?:0[1-9]|[1-9])"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]],["(\\d{4})(\\d{4})(\\d{3})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],SH:["290","00","(?:[256]\\d|8)\\d{3}",[4,5],0,0,0,0,0,0,"[256]"],SI:["386","00|10(?:22|66|88|99)","[1-7]\\d{7}|8\\d{4,7}|90\\d{4,6}",[5,6,7,8],[["(\\d{2})(\\d{3,6})","$1 $2",["8[09]|9"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["59|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-57]"],"(0$1)"]],"0",0,0,0,0,0,0,"00"],SJ:["47","00","0\\d{4}|(?:[489]\\d|79)\\d{6}",[5,8],0,0,0,0,0,0,"79"],SK:["421","00","[2-689]\\d{8}|[2-59]\\d{6}|[2-5]\\d{5}",[6,7,9],[["(\\d)(\\d{2})(\\d{3,4})","$1 $2 $3",["21"],"0$1"],["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["[3-5][1-8]1","[3-5][1-8]1[67]"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1"]],"0"],SL:["232","00","(?:[237-9]\\d|66)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[236-9]"],"(0$1)"]],"0"],SM:["378","00","(?:0549|[5-7]\\d)\\d{6}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],["(\\d{4})(\\d{6})","$1 $2",["0"]]],0,0,"([89]\\d{5})$","0549$1"],SN:["221","00","(?:[378]\\d|93)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[379]"]]]],SO:["252","00","[346-9]\\d{8}|[12679]\\d{7}|[1-5]\\d{6}|[1348]\\d{5}",[6,7,8,9],[["(\\d{2})(\\d{4})","$1 $2",["8[125]"]],["(\\d{6})","$1",["[134]"]],["(\\d)(\\d{6})","$1 $2",["[15]|2[0-79]|3[0-46-8]|4[0-7]"]],["(\\d)(\\d{7})","$1 $2",["(?:2|90)4|[67]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[348]|64|79|90"]],["(\\d{2})(\\d{5,7})","$1 $2",["1|28|6[0-35-9]|7[67]|9[2-9]"]]],"0"],SR:["597","00","(?:[2-5]|[6-8]\\d|90)\\d{5}",[6,7],[["(\\d{2})(\\d{2})(\\d{2})","$1-$2-$3",["56"]],["(\\d{3})(\\d{3})","$1-$2",["[2-5]"]],["(\\d{3})(\\d{4})","$1-$2",["[6-9]"]]]],SS:["211","00","[19]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[19]"],"0$1"]],"0"],ST:["239","00","(?:22|9\\d)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[29]"]]]],SV:["503","00","[25-7]\\d{7}|(?:80\\d|900)\\d{4}(?:\\d{4})?",[7,8,11],[["(\\d{3})(\\d{4})","$1 $2",["[89]"]],["(\\d{4})(\\d{4})","$1 $2",["[25-7]"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[89]"]]]],SX:["1","011","7215\\d{6}|(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"(5\\d{6})$|1","721$1",0,"721"],SY:["963","00","[1-359]\\d{8}|[1-5]\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-4]|5[1-3]"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[59]"],"0$1",1]],"0"],SZ:["268","00","0800\\d{4}|(?:[237]\\d|900)\\d{6}",[8,9],[["(\\d{4})(\\d{4})","$1 $2",["[0237]"]],["(\\d{5})(\\d{4})","$1 $2",["9"]]]],TA:["290","00","8\\d{3}",[4],0,0,0,0,0,0,"8"],TC:["1","011","(?:[58]\\d\\d|649|900)\\d{7}",[10],0,"1",0,"([2-479]\\d{6})$|1","649$1",0,"649"],TD:["235","00|16","(?:22|30|[689]\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[236-9]"]]],0,0,0,0,0,0,0,"00"],TG:["228","00","[279]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[279]"]]]],TH:["66","00[1-9]","(?:001800|[2-57]|[689]\\d)\\d{7}|1\\d{7,9}",[8,9,10,13],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],TJ:["992","810","(?:[0-57-9]\\d|66)\\d{7}",[9],[["(\\d{6})(\\d)(\\d{2})","$1 $2 $3",["331","3317"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["44[02-479]|[34]7"]],["(\\d{4})(\\d)(\\d{4})","$1 $2 $3",["3(?:[1245]|3[12])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["\\d"]]],0,0,0,0,0,0,0,"8~10"],TK:["690","00","[2-47]\\d{3,6}",[4,5,6,7]],TL:["670","00","7\\d{7}|(?:[2-47]\\d|[89]0)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[2-489]|70"]],["(\\d{4})(\\d{4})","$1 $2",["7"]]]],TM:["993","810","(?:[1-6]\\d|71)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["12"],"(8 $1)"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-5]"],"(8 $1)"],["(\\d{2})(\\d{6})","$1 $2",["[67]"],"8 $1"]],"8",0,0,0,0,0,0,"8~10"],TN:["216","00","[2-57-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-57-9]"]]]],TO:["676","00","(?:0800|(?:[5-8]\\d\\d|999)\\d)\\d{3}|[2-8]\\d{4}",[5,7],[["(\\d{2})(\\d{3})","$1-$2",["[2-4]|50|6[09]|7[0-24-69]|8[05]"]],["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[5-9]"]]]],TR:["90","00","4\\d{6}|8\\d{11,12}|(?:[2-58]\\d\\d|900)\\d{7}",[7,10,12,13],[["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["512|8[01589]|90"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:[0-59]|61)","5(?:[0-59]|61[06])","5(?:[0-59]|61[06]1)"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24][1-8]|3[1-9]"],"(0$1)",1],["(\\d{3})(\\d{3})(\\d{6,7})","$1 $2 $3",["80"],"0$1",1]],"0"],TT:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-46-8]\\d{6})$|1","868$1",0,"868"],TV:["688","00","(?:2|7\\d\\d|90)\\d{4}",[5,6,7],[["(\\d{2})(\\d{3})","$1 $2",["2"]],["(\\d{2})(\\d{4})","$1 $2",["90"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],TW:["886","0(?:0[25-79]|19)","[2-689]\\d{8}|7\\d{9,10}|[2-8]\\d{7}|2\\d{6}",[7,8,9,10,11],[["(\\d{2})(\\d)(\\d{4})","$1 $2 $3",["202"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[258]0"],"0$1"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["[23568]|4(?:0[02-48]|[1-47-9])|7[1-9]","[23568]|4(?:0[2-48]|[1-47-9])|(?:400|7)[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,5})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,0,0,"#"],TZ:["255","00[056]","(?:[25-8]\\d|41|90)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[24]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["5"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[67]"],"0$1"]],"0"],UA:["380","00","[89]\\d{9}|[3-9]\\d{8}",[9,10],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6[12][29]|(?:3[1-8]|4[136-8]|5[12457]|6[49])2|(?:56|65)[24]","6[12][29]|(?:35|4[1378]|5[12457]|6[49])2|(?:56|65)[24]|(?:3[1-46-8]|46)2[013-9]"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6[0135689]|7[4-6])|6(?:[12][3-7]|[459])","3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6(?:[015689]|3[02389])|7[4-6])|6(?:[12][3-7]|[459])"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|89|9[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0",0,0,0,0,0,0,"0~0"],UG:["256","00[057]","800\\d{6}|(?:[29]0|[347]\\d)\\d{7}",[9],[["(\\d{4})(\\d{5})","$1 $2",["202","2024"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[27-9]|4(?:6[45]|[7-9])"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[34]"],"0$1"]],"0"],US:["1","011","[2-9]\\d{9}|3\\d{6}",[10],[["(\\d{3})(\\d{4})","$1-$2",["310"],0,1],["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",["[2-9]"],0,1,"$1-$2-$3"]],"1",0,0,0,0,0,[["3052(?:0[0-8]|[1-9]\\d)\\d{4}|(?:2742|305[3-9])\\d{6}|(?:472|983)[2-47-9]\\d{6}|(?:2(?:0[1-35-9]|1[02-9]|2[03-57-9]|3[1459]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-47-9]|1[02-9]|2[013-79]|3[0-24679]|4[167]|5[0-3]|6[01349]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[023578]|58|6[349]|7[0589]|8[04])|5(?:0[1-57-9]|1[0235-8]|20|3[0149]|4[01]|5[179]|6[1-47]|7[0-5]|8[0256])|6(?:0[1-35-9]|1[024-9]|2[03689]|3[016]|4[0156]|5[01679]|6[0-279]|78|8[0-269])|7(?:0[1-46-8]|1[2-9]|2[04-8]|3[0-247]|4[0378]|5[47]|6[02359]|7[0-59]|8[156])|8(?:0[1-68]|1[02-8]|2[0168]|3[0-2589]|4[03578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[0146-8]|4[01357-9]|5[12469]|7[0-3589]|8[04-69]))[2-9]\\d{6}"],[""],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-9]|33|44|66|77|88)[2-9]\\d{6}"],0,0,0,["305209\\d{4}"]]],UY:["598","0(?:0|1[3-9]\\d)","0004\\d{2,9}|[1249]\\d{7}|2\\d{3,4}|(?:[49]\\d|80)\\d{5}",[4,5,6,7,8,9,10,11,12,13],[["(\\d{4,5})","$1",["21"]],["(\\d{3})(\\d{3,4})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[49]0|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[124]"]],["(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3 $4",["0"]]],"0",0,0,0,0,0,0,"00"," int. "],UZ:["998","00","(?:20|33|[5-9]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[235-9]"]]]],VA:["39","00","0\\d{5,10}|3[0-8]\\d{7,10}|55\\d{8}|8\\d{5}(?:\\d{2,4})?|(?:1\\d|39)\\d{7,8}",[6,7,8,9,10,11,12],0,0,0,0,0,0,"06698"],VC:["1","011","(?:[58]\\d\\d|784|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","784$1",0,"784"],VE:["58","00","[68]00\\d{7}|(?:[24]\\d|[59]0)\\d{8}",[10],[["(\\d{3})(\\d{7})","$1-$2",["[24-689]"],"0$1"]],"0"],VG:["1","011","(?:284|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-578]\\d{6})$|1","284$1",0,"284"],VI:["1","011","[58]\\d{9}|(?:34|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","340$1",0,"340"],VN:["84","00","[12]\\d{9}|[135-9]\\d{8}|[16]\\d{7}|[16-8]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["80"],"0$1",1],["(\\d{4})(\\d{4,6})","$1 $2",["1"],0,1],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["6"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[357-9]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2[48]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["2"],"0$1",1]],"0"],VU:["678","00","[57-9]\\d{6}|(?:[238]\\d|48)\\d{3}",[5,7],[["(\\d{3})(\\d{4})","$1 $2",["[57-9]"]]]],WF:["681","00","(?:40|72|8\\d{4})\\d{4}|[89]\\d{5}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[47-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],WS:["685","0","(?:[2-6]|8\\d{5})\\d{4}|[78]\\d{6}|[68]\\d{5}",[5,6,7,10],[["(\\d{5})","$1",["[2-5]|6[1-9]"]],["(\\d{3})(\\d{3,7})","$1 $2",["[68]"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],XK:["383","00","2\\d{7,8}|3\\d{7,11}|(?:4\\d\\d|[89]00)\\d{5}",[8,9,10,11,12],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2|39"],"0$1"],["(\\d{2})(\\d{7,10})","$1 $2",["3"],"0$1"]],"0"],YE:["967","00","(?:1|7\\d)\\d{7}|[1-7]\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-6]|7(?:[24-6]|8[0-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"],"0$1"]],"0"],YT:["262","00","7093\\d{5}|(?:80|9\\d)\\d{7}|(?:26|63)9\\d{6}",[9],0,"0",0,0,0,0,0,[["269(?:0[0-467]|15|5[0-4]|6\\d|[78]0)\\d{4}"],["(?:639(?:0[0-79]|1[019]|[267]\\d|3[09]|40|5[05-9]|9[04-79])|7093[5-7])\\d{4}"],["80\\d{7}"],0,0,0,0,0,["9(?:(?:39|47)8[01]|769\\d)\\d{4}"]]],ZA:["27","00","[1-79]\\d{8}|8\\d{4,9}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,4})","$1 $2",["8[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["8[1-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["860"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],ZM:["260","00","800\\d{6}|(?:21|[579]\\d|63)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[28]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[579]"],"0$1"]],"0"],ZW:["263","00","2(?:[0-57-9]\\d{6,8}|6[0-24-9]\\d{6,7})|[38]\\d{9}|[35-8]\\d{8}|[3-6]\\d{7}|[1-689]\\d{6}|[1-3569]\\d{5}|[1356]\\d{4}",[5,6,7,8,9,10],[["(\\d{3})(\\d{3,5})","$1 $2",["2(?:0[45]|2[278]|[49]8)|3(?:[09]8|17)|6(?:[29]8|37|75)|[23][78]|(?:33|5[15]|6[68])[78]"],"0$1"],["(\\d)(\\d{3})(\\d{2,4})","$1 $2 $3",["[49]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["80"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["24|8[13-59]|(?:2[05-79]|39|5[45]|6[15-8])2","2(?:02[014]|4|[56]20|[79]2)|392|5(?:42|525)|6(?:[16-8]21|52[013])|8[13-59]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:1[39]|2[0157]|[378]|[56][14])|3(?:12|29)","2(?:1[39]|2[0157]|[378]|[56][14])|3(?:123|29)"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["1|2(?:0[0-36-9]|12|29|[56])|3(?:1[0-689]|[24-6])|5(?:[0236-9]|1[2-4])|6(?:[013-59]|7[0-46-9])|(?:33|55|6[68])[0-69]|(?:29|3[09]|62)[0-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["29[013-9]|39|54"],"0$1"],["(\\d{4})(\\d{3,5})","$1 $2",["(?:25|54)8","258|5483"],"0$1"]],"0"]},nonGeographic:{800:["800",0,"(?:00|[1-9]\\d)\\d{6}",[8],[["(\\d{4})(\\d{4})","$1 $2",["\\d"]]],0,0,0,0,0,0,[0,0,["(?:00|[1-9]\\d)\\d{6}"]]],808:["808",0,"[1-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[1-9]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,0,["[1-9]\\d{7}"]]],870:["870",0,"7\\d{11}|[235-7]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-7]"]]],0,0,0,0,0,0,[0,["(?:[356]|774[45])\\d{8}|7[6-8]\\d{7}"],0,0,0,0,0,0,["2\\d{8}",[9]]]],878:["878",0,"10\\d{10}",[12],[["(\\d{2})(\\d{5})(\\d{5})","$1 $2 $3",["1"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["10\\d{10}"]]],881:["881",0,"6\\d{9}|[0-36-9]\\d{8}",[9,10],[["(\\d)(\\d{3})(\\d{5})","$1 $2 $3",["[0-37-9]"]],["(\\d)(\\d{3})(\\d{5,6})","$1 $2 $3",["6"]]],0,0,0,0,0,0,[0,["6\\d{9}|[0-36-9]\\d{8}"]]],882:["882",0,"[13]\\d{6}(?:\\d{2,5})?|[19]\\d{7}|(?:[25]\\d\\d|4)\\d{7}(?:\\d{2})?",[7,8,9,10,11,12],[["(\\d{2})(\\d{5})","$1 $2",["16|342"]],["(\\d{2})(\\d{6})","$1 $2",["49"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["1[36]|9"]],["(\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["3[23]"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["16"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|23|3(?:[15]|4[57])|4|51"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["34"]],["(\\d{2})(\\d{4,5})(\\d{5})","$1 $2 $3",["[1-35]"]]],0,0,0,0,0,0,[0,["342\\d{4}|(?:337|49)\\d{6}|(?:3(?:2|47|7\\d{3})|50\\d{3})\\d{7}",[7,8,9,10,12]],0,0,0,["348[57]\\d{7}",[11]],0,0,["1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15-8]|9[0689])\\d{4}|6\\d{5,10})|(?:345\\d|9[89])\\d{6}|(?:10|2(?:3|85\\d)|3(?:[15]|[69]\\d\\d)|4[15-8]|51)\\d{8}"]]],883:["883",0,"(?:[1-4]\\d|51)\\d{6,10}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,8})","$1 $2 $3",["[14]|2[24-689]|3[02-689]|51[24-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["510"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["21"]],["(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3",["51[13]"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[235]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["(?:2(?:00\\d\\d|10)|(?:370[1-9]|51\\d0)\\d)\\d{7}|51(?:00\\d{5}|[24-9]0\\d{4,7})|(?:1[0-79]|2[24-689]|3[02-689]|4[0-4])0\\d{5,9}"]]],888:["888",0,"\\d{11}",[11],[["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3"]],0,0,0,0,0,0,[0,0,0,0,0,0,["\\d{11}"]]],979:["979",0,"[1359]\\d{8}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[1359]"]]],0,0,0,0,0,0,[0,0,0,["[1359]\\d{8}"]]]}};var YEe=pG();const He=di(YEe);var HS={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var hM;function WEe(){return hM||(hM=1,(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var a="",s=0;s<arguments.length;s++){var c=arguments[s];c&&(a=i(a,r(c)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return n.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var s="";for(var c in a)t.call(a,c)&&a[c]&&(s=i(s,c));return s}function i(a,s){return s?a?a+" "+s:a+s:a}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(HS)),HS.exports}var GEe=WEe();const Ox=di(GEe);function KEe(e,t,n){switch(n){case"Backspace":t>0&&(e=e.slice(0,t-1)+e.slice(t),t--);break;case"Delete":e=e.slice(0,t)+e.slice(t+1);break}return{value:e,caret:t}}function XEe(e,t,n){for(var r={},i="",a=0,s=0;s<e.length;){var c=n(e[s],i,r);c!==void 0&&(i+=c,t!==void 0&&(t===s?a=i.length-1:t>s&&(a=i.length))),s++}t===void 0&&(a=i.length);var d={value:i,caret:a};return d}function QEe(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=ZEe(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZEe(e,t){if(e){if(typeof e=="string")return mM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mM(e,t)}}function mM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function n5(e,t){for(var n=0,r=QEe(t.split("")),i;!(i=r()).done;){var a=i.value;a===e&&n++}return n}function JEe(e,t){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"x",r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",i=e.length,a=n5("(",e),s=n5(")",e),c=a-s;c>0&&i<t.length;)e+=t[i].replace(n,r),t[i]===")"&&c--,i++;return e}function eNe(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=tNe(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tNe(e,t){if(e){if(typeof e=="string")return gM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gM(e,t)}}function gM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nNe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",n=arguments.length>2?arguments[2]:void 0;if(!e)return function(i){return{text:i}};var r=n5(t,e);return function(i){if(!i)return{text:"",template:e};for(var a=0,s="",c=eNe(e.split("")),d;!(d=c()).done;){var f=d.value;if(f!==t){s+=f;continue}if(s+=i[a],a++,a===i.length&&i.length<r)break}return n&&(s=JEe(s,e)),{text:s,template:e}}}function rNe(e,t,n){typeof n=="string"&&(n=nNe(n));var r=n(e)||{},i=r.text,a=r.template;if(i===void 0&&(i=e),a)if(t===void 0)t=i.length;else{for(var s=0,c=!1,d=-1;s<i.length&&s<a.length;){if(i[s]!==a[s]){if(t===0){c=!0,t=s;break}d=s,t--}s++}c||(t=d+1)}return{text:i,caret:t}}function iNe(e){return e.hasAttribute("readonly")}function aNe(e){if(e.selectionStart!==e.selectionEnd)return{start:e.selectionStart,end:e.selectionEnd}}var yM={Backspace:8,Delete:46};function oNe(e){switch(e.keyCode){case yM.Backspace:return"Backspace";case yM.Delete:return"Delete"}}function sNe(e){return e.selectionStart}function CG(e,t){t!==void 0&&(lNe()?setTimeout(function(){return e.setSelectionRange(t,t)},0):e.setSelectionRange(t,t))}function lNe(){if(typeof navigator<"u")return cNe.test(navigator.userAgent)}var cNe=/Android/i;function uNe(e,t,n,r,i){r5(t,n,r,void 0,i)}function dNe(e,t,n,r,i){if(!iNe(t)){var a=oNe(e);switch(a){case"Delete":case"Backspace":e.preventDefault();var s=aNe(t);return s?(fNe(t,s),r5(t,n,r,void 0,i)):r5(t,n,r,a,i)}}}function fNe(e,t){var n=e.value;n=n.slice(0,t.start)+n.slice(t.end),e.value=n,CG(e,t.start)}function r5(e,t,n,r,i){var a=XEe(e.value,sNe(e),t),s=a.value,c=a.caret;if(r){var d=KEe(s,c,r);s=d.value,c=d.caret}var f=rNe(s,c,n),p=f.text;c=f.caret,e.value=p,CG(e,c),i&&i(s)}var pNe=["ref","parse","format","value","defaultValue","controlled","onChange","onKeyDown"];function vM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vM(Object(n),!0).forEach(function(r){hNe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hNe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mNe(e,t){if(e==null)return{};var n=gNe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function gNe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function yNe(e){var t=e.ref,n=e.parse,r=e.format,i=e.value,a=e.defaultValue,s=e.controlled,c=s===void 0?!0:s,d=e.onChange,f=e.onKeyDown,p=mNe(e,pNe),m=w.useRef(),g=w.useCallback(function(j){m.current=j,t&&(typeof t=="function"?t(j):t.current=j)},[t]),v=w.useCallback(function(j){return uNe(j,m.current,n,r,d)},[m,n,r,d]),b=w.useCallback(function(j){if(f&&f(j),!j.defaultPrevented)return dNe(j,m.current,n,r,d)},[m,n,r,d,f]),C=nf(nf({},p),{},{ref:g,onChange:v,onKeyDown:b});return c?nf(nf({},C),{},{value:r(bM(i)?"":i).text}):nf(nf({},C),{},{defaultValue:r(bM(a)?"":a).text})}function bM(e){return e==null}var vNe=["inputComponent","parse","format","value","defaultValue","onChange","controlled","onKeyDown","type"];function xM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bNe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xM(Object(n),!0).forEach(function(r){xNe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xNe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wNe(e,t){if(e==null)return{};var n=SNe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function SNe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function $x(e,t){var n=e.inputComponent,r=n===void 0?"input":n,i=e.parse,a=e.format,s=e.value,c=e.defaultValue,d=e.onChange,f=e.controlled,p=e.onKeyDown,m=e.type,g=m===void 0?"text":m,v=wNe(e,vNe),b=yNe(bNe({ref:t,parse:i,format:a,value:s,defaultValue:c,onChange:d,controlled:f,onKeyDown:p,type:g},v));return se.createElement(r,b)}$x=se.forwardRef($x);$x.propTypes={parse:He.func.isRequired,format:He.func.isRequired,inputComponent:He.elementType,type:He.string,value:He.string,defaultValue:He.string,onChange:He.func,controlled:He.bool,onKeyDown:He.func,onCut:He.func,onPaste:He.func};function wM(e,t){e=e.split("-"),t=t.split("-");for(var n=e[0].split("."),r=t[0].split("."),i=0;i<3;i++){var a=Number(n[i]),s=Number(r[i]);if(a>s)return 1;if(s>a)return-1;if(!isNaN(a)&&isNaN(s))return 1;if(isNaN(a)&&!isNaN(s))return-1}return e[1]&&t[1]?e[1]>t[1]?1:e[1]<t[1]?-1:0:!e[1]&&t[1]?1:e[1]&&!t[1]?-1:0}var CNe={}.constructor;function qu(e){return e!=null&&e.constructor===CNe}function cp(e){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cp(e)}function Q2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jNe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,TNe(r.key),r)}}function Z2(e,t,n){return t&&jNe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function TNe(e){var t=ANe(e,"string");return cp(t)=="symbol"?t:t+""}function ANe(e,t){if(cp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(cp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var kNe="1.2.0",ENe="1.7.35",SM=" ext. ",NNe=/^\d+$/,ir=(function(){function e(t){Q2(this,e),jG(t),this.metadata=t,AG.call(this,t)}return Z2(e,[{key:"getCountries",value:function(){return Object.keys(this.metadata.countries).filter(function(n){return n!=="001"})}},{key:"getCountryMetadata",value:function(n){return this.metadata.countries[n]}},{key:"nonGeographic",value:function(){if(!(this.v1||this.v2||this.v3))return this.metadata.nonGeographic||this.metadata.nonGeographical}},{key:"hasCountry",value:function(n){return this.getCountryMetadata(n)!==void 0}},{key:"hasCallingCode",value:function(n){if(this.getCountryCodesForCallingCode(n))return!0;if(this.nonGeographic()){if(this.nonGeographic()[n])return!0}else{var r=this.countryCallingCodes()[n];if(r&&r.length===1&&r[0]==="001")return!0}}},{key:"isNonGeographicCallingCode",value:function(n){return this.nonGeographic()?!!this.nonGeographic()[n]:!this.getCountryCodesForCallingCode(n)}},{key:"country",value:function(n){return this.selectNumberingPlan(n)}},{key:"selectNumberingPlan",value:function(n,r){if(n&&NNe.test(n)&&(r=n,n=null),n&&n!=="001"){if(!this.hasCountry(n))throw new Error("Unknown country: ".concat(n));this.numberingPlan=new CM(this.getCountryMetadata(n),this)}else if(r){if(!this.hasCallingCode(r))throw new Error("Unknown calling code: ".concat(r));this.numberingPlan=new CM(this.getNumberingPlanMetadata(r),this)}else this.numberingPlan=void 0;return this}},{key:"getCountryCodesForCallingCode",value:function(n){var r=this.countryCallingCodes()[n];if(r)return r.length===1&&r[0].length===3?void 0:r}},{key:"getCountryCodeForCallingCode",value:function(n){var r=this.getCountryCodesForCallingCode(n);if(r)return r[0]}},{key:"getNumberingPlanMetadata",value:function(n){var r=this.getCountryCodeForCallingCode(n);if(r)return this.getCountryMetadata(r);if(this.nonGeographic()){var i=this.nonGeographic()[n];if(i)return i}else{var a=this.countryCallingCodes()[n];if(a&&a.length===1&&a[0]==="001")return this.metadata.countries["001"]}}},{key:"countryCallingCode",value:function(){return this.numberingPlan.callingCode()}},{key:"IDDPrefix",value:function(){return this.numberingPlan.IDDPrefix()}},{key:"defaultIDDPrefix",value:function(){return this.numberingPlan.defaultIDDPrefix()}},{key:"nationalNumberPattern",value:function(){return this.numberingPlan.nationalNumberPattern()}},{key:"possibleLengths",value:function(){return this.numberingPlan.possibleLengths()}},{key:"formats",value:function(){return this.numberingPlan.formats()}},{key:"nationalPrefixForParsing",value:function(){return this.numberingPlan.nationalPrefixForParsing()}},{key:"nationalPrefixTransformRule",value:function(){return this.numberingPlan.nationalPrefixTransformRule()}},{key:"leadingDigits",value:function(){return this.numberingPlan.leadingDigits()}},{key:"hasTypes",value:function(){return this.numberingPlan.hasTypes()}},{key:"type",value:function(n){return this.numberingPlan.type(n)}},{key:"ext",value:function(){return this.numberingPlan.ext()}},{key:"countryCallingCodes",value:function(){return this.v1?this.metadata.country_phone_code_to_countries:this.metadata.country_calling_codes}},{key:"chooseCountryByCountryCallingCode",value:function(n){return this.selectNumberingPlan(n)}},{key:"hasSelectedNumberingPlan",value:function(){return this.numberingPlan!==void 0}}])})(),CM=(function(){function e(t,n){Q2(this,e),this.globalMetadataObject=n,this.metadata=t,AG.call(this,n.metadata)}return Z2(e,[{key:"callingCode",value:function(){return this.metadata[0]}},{key:"getDefaultCountryMetadataForRegion",value:function(){return this.globalMetadataObject.getNumberingPlanMetadata(this.callingCode())}},{key:"IDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[1]}},{key:"defaultIDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[12]}},{key:"nationalNumberPattern",value:function(){return this.v1||this.v2?this.metadata[1]:this.metadata[2]}},{key:"possibleLengths",value:function(){if(!this.v1)return this.metadata[this.v2?2:3]}},{key:"_getFormats",value:function(n){return n[this.v1?2:this.v2?3:4]}},{key:"formats",value:function(){var n=this,r=this._getFormats(this.metadata)||this._getFormats(this.getDefaultCountryMetadataForRegion())||[];return r.map(function(i){return new _Ne(i,n)})}},{key:"nationalPrefix",value:function(){return this.metadata[this.v1?3:this.v2?4:5]}},{key:"_getNationalPrefixFormattingRule",value:function(n){return n[this.v1?4:this.v2?5:6]}},{key:"nationalPrefixFormattingRule",value:function(){return this._getNationalPrefixFormattingRule(this.metadata)||this._getNationalPrefixFormattingRule(this.getDefaultCountryMetadataForRegion())}},{key:"_nationalPrefixForParsing",value:function(){return this.metadata[this.v1?5:this.v2?6:7]}},{key:"nationalPrefixForParsing",value:function(){return this._nationalPrefixForParsing()||this.nationalPrefix()}},{key:"nationalPrefixTransformRule",value:function(){return this.metadata[this.v1?6:this.v2?7:8]}},{key:"_getNationalPrefixIsOptionalWhenFormatting",value:function(){return!!this.metadata[this.v1?7:this.v2?8:9]}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return this._getNationalPrefixIsOptionalWhenFormatting(this.metadata)||this._getNationalPrefixIsOptionalWhenFormatting(this.getDefaultCountryMetadataForRegion())}},{key:"leadingDigits",value:function(){return this.metadata[this.v1?8:this.v2?9:10]}},{key:"types",value:function(){return this.metadata[this.v1?9:this.v2?10:11]}},{key:"hasTypes",value:function(){return this.types()&&this.types().length===0?!1:!!this.types()}},{key:"type",value:function(n){if(this.hasTypes()&&jM(this.types(),n))return new DNe(jM(this.types(),n),this)}},{key:"ext",value:function(){return this.v1||this.v2?SM:this.metadata[13]||SM}}])})(),_Ne=(function(){function e(t,n){Q2(this,e),this._format=t,this.metadata=n}return Z2(e,[{key:"pattern",value:function(){return this._format[0]}},{key:"format",value:function(){return this._format[1]}},{key:"leadingDigitsPatterns",value:function(){return this._format[2]||[]}},{key:"nationalPrefixFormattingRule",value:function(){return this._format[3]||this.metadata.nationalPrefixFormattingRule()}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return!!this._format[4]||this.metadata.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"nationalPrefixIsMandatoryWhenFormattingInNationalFormat",value:function(){return this.usesNationalPrefix()&&!this.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"usesNationalPrefix",value:function(){return!!(this.nationalPrefixFormattingRule()&&!PNe.test(this.nationalPrefixFormattingRule()))}},{key:"internationalFormat",value:function(){return this._format[5]||this.format()}}])})(),PNe=/^\(?\$1\)?$/,DNe=(function(){function e(t,n){Q2(this,e),this.type=t,this.metadata=n}return Z2(e,[{key:"pattern",value:function(){return this.metadata.v1?this.type:this.type[0]}},{key:"possibleLengths",value:function(){if(!this.metadata.v1)return this.type[1]||this.metadata.possibleLengths()}}])})();function jM(e,t){switch(t){case"FIXED_LINE":return e[0];case"MOBILE":return e[1];case"TOLL_FREE":return e[2];case"PREMIUM_RATE":return e[3];case"PERSONAL_NUMBER":return e[4];case"VOICEMAIL":return e[5];case"UAN":return e[6];case"PAGER":return e[7];case"VOIP":return e[8];case"SHARED_COST":return e[9]}}function jG(e){if(!e)throw new Error("[libphonenumber-js] `metadata` argument not passed. Check your arguments.");if(!qu(e)||!qu(e.countries))throw new Error("[libphonenumber-js] `metadata` argument was passed but it's not a valid metadata. Must be an object having `.countries` child object property. Got ".concat(qu(e)?"an object of shape: { "+Object.keys(e).join(", ")+" }":"a "+ONe(e)+": "+e,"."))}var ONe=function(t){return cp(t)};function jc(e,t){if(t=new ir(t),t.hasCountry(e))return t.selectNumberingPlan(e).countryCallingCode();throw new Error("Unknown country: ".concat(e))}function TG(e,t){return t.countries.hasOwnProperty(e)}function AG(e){var t=e.version;typeof t=="number"?(this.v1=t===1,this.v2=t===2,this.v3=t===3,this.v4=t===4):t?wM(t,kNe)===-1?this.v2=!0:wM(t,ENe)===-1?this.v3=!0:this.v4=!0:this.v1=!0}function J2(e,t,n){return $Ne(e,t,void 0,n)}function $Ne(e,t,n,r){t&&(r=new ir(r.metadata),r.selectNumberingPlan(t));var i=r.type(n),a=i&&i.possibleLengths()||r.possibleLengths();if(!a)return"IS_POSSIBLE";var s=e.length,c=a[0];return c===s?"IS_POSSIBLE":c>s?"TOO_SHORT":a[a.length-1]<s?"TOO_LONG":a.indexOf(s,1)>=0?"IS_POSSIBLE":"INVALID_LENGTH"}function INe(e,t,n){if(t===void 0&&(t={}),n=new ir(n),t.v2){if(!e.countryCallingCode)throw new Error("Invalid phone number object passed");n.selectNumberingPlan(e.countryCallingCode)}else{if(!e.phone)return!1;if(e.country){if(!n.hasCountry(e.country))throw new Error("Unknown country: ".concat(e.country));n.selectNumberingPlan(e.country)}else{if(!e.countryCallingCode)throw new Error("Invalid phone number object passed");n.selectNumberingPlan(e.countryCallingCode)}}if(n.possibleLengths())return kG(e.phone||e.nationalNumber,e.country,n);if(e.countryCallingCode&&n.isNonGeographicCallingCode(e.countryCallingCode))return!0;throw new Error('Missing "possibleLengths" in metadata. Perhaps the metadata has been generated before v1.0.18.')}function kG(e,t,n){switch(J2(e,t,n)){case"IS_POSSIBLE":return!0;default:return!1}}function Vs(e,t){return e=e||"",new RegExp("^(?:"+t+")$").test(e)}function RNe(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=MNe(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MNe(e,t){if(e){if(typeof e=="string")return TM(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?TM(e,t):void 0}}function TM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var LNe=["MOBILE","PREMIUM_RATE","TOLL_FREE","SHARED_COST","VOIP","PERSONAL_NUMBER","PAGER","UAN","VOICEMAIL"];function vk(e,t,n){if(t=t||{},!(!e.country&&!e.countryCallingCode)){n=new ir(n),n.selectNumberingPlan(e.country,e.countryCallingCode);var r=t.v2?e.nationalNumber:e.phone;if(Vs(r,n.nationalNumberPattern())){if(VS(r,"FIXED_LINE",n))return n.type("MOBILE")&&n.type("MOBILE").pattern()===""||!n.type("MOBILE")||VS(r,"MOBILE",n)?"FIXED_LINE_OR_MOBILE":"FIXED_LINE";for(var i=RNe(LNe),a;!(a=i()).done;){var s=a.value;if(VS(r,s,n))return s}}}}function VS(e,t,n){return t=n.type(t),!t||!t.pattern()||t.possibleLengths()&&t.possibleLengths().indexOf(e.length)<0?!1:Vs(e,t.pattern())}function FNe(e,t,n){if(t=t||{},n=new ir(n),n.selectNumberingPlan(e.country,e.countryCallingCode),n.hasTypes())return vk(e,t,n.metadata)!==void 0;var r=t.v2?e.nationalNumber:e.phone;return Vs(r,n.nationalNumberPattern())}function BNe(e,t,n){var r=new ir(n),i=r.getCountryCodesForCallingCode(e);return i?i.filter(function(a){return zNe(t,a,n)}):[]}function zNe(e,t,n){var r=new ir(n);return r.selectNumberingPlan(t),r.numberingPlan.possibleLengths().indexOf(e.length)>=0}var bk=2,UNe=17,HNe=3,Zr="0-9---",VNe="--",qNe="/",YNe=".",WNe=" ",GNe="()\\[\\]",KNe="~",Va="".concat(VNe).concat(qNe).concat(YNe).concat(WNe).concat(GNe).concat(KNe),ew="+",XNe=new RegExp("(["+Zr+"])");function EG(e,t,n,r){if(t){var i=new ir(r);i.selectNumberingPlan(t,n);var a=new RegExp(i.IDDPrefix());if(e.search(a)===0){e=e.slice(e.match(a)[0].length);var s=e.match(XNe);if(!(s&&s[1]!=null&&s[1].length>0&&s[1]==="0"))return e}}}function i5(e,t){if(e&&t.numberingPlan.nationalPrefixForParsing()){var n=new RegExp("^(?:"+t.numberingPlan.nationalPrefixForParsing()+")"),r=n.exec(e);if(r){var i,a,s=r.length-1,c=s>0&&r[s];if(t.nationalPrefixTransformRule()&&c)i=e.replace(n,t.nationalPrefixTransformRule()),s>1&&(a=r[1]);else{var d=r[0];i=e.slice(d.length),c&&(a=r[1])}var f;if(c){var p=e.indexOf(r[1]),m=e.slice(0,p);m===t.numberingPlan.nationalPrefix()&&(f=t.numberingPlan.nationalPrefix())}else f=r[0];return{nationalNumber:i,nationalPrefix:f,carrierCode:a}}}return{nationalNumber:e}}function QNe(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=ZNe(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZNe(e,t){if(e){if(typeof e=="string")return AM(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?AM(e,t):void 0}}function AM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function NG(e,t){var n=t.countries,r=t.metadata;r=new ir(r);for(var i=QNe(n),a;!(a=i()).done;){var s=a.value;if(r.selectNumberingPlan(s),r.leadingDigits()){if(e&&e.search(r.leadingDigits())===0)return s}else if(vk({phone:e,country:s},void 0,r.metadata))return s}}function xk(e,t){var n=t.nationalNumber,r=t.metadata,i=r.getCountryCodesForCallingCode(e);if(i)return i.length===1?i[0]:NG(n,{countries:i,metadata:r.metadata})}function a5(e,t,n){var r=i5(e,n),i=r.carrierCode,a=r.nationalNumber;if(a!==e){if(!JNe(e,a,n))return{nationalNumber:e};if(n.numberingPlan.possibleLengths()&&(t||(t=xk(n.numberingPlan.callingCode(),{nationalNumber:a,metadata:n})),!e_e(a,t,n)))return{nationalNumber:e}}return{nationalNumber:a,carrierCode:i}}function JNe(e,t,n){return!(Vs(e,n.nationalNumberPattern())&&!Vs(t,n.nationalNumberPattern()))}function e_e(e,t,n){switch(J2(e,t,n)){case"TOO_SHORT":case"INVALID_LENGTH":return!1;default:return!0}}function _G(e,t,n,r,i){var a=t||n?jc(t||n,i):r;if(e.indexOf(a)===0){i=new ir(i),i.selectNumberingPlan(t||n,a);var s=e.slice(a.length),c=a5(s,t,i),d=c.nationalNumber,f=a5(e,t,i),p=f.nationalNumber;if(!Vs(p,i.nationalNumberPattern())&&Vs(d,i.nationalNumberPattern())||J2(p,t,i)==="TOO_LONG")return{countryCallingCode:a,number:s}}return{number:e}}function wk(e,t,n,r,i){if(!e)return{};var a;if(e[0]!=="+"){var s=EG(e,t||n,r,i);if(s&&s!==e)a=!0,e="+"+s;else{if(t||n||r){var c=_G(e,t,n,r,i),d=c.countryCallingCode,f=c.number;if(d)return{countryCallingCodeSource:"FROM_NUMBER_WITHOUT_PLUS_SIGN",countryCallingCode:d,number:f}}return{number:e}}}if(e[1]==="0")return{};i=new ir(i);for(var p=2;p-1<=HNe&&p<=e.length;){var m=e.slice(1,p);if(i.hasCallingCode(m))return i.selectNumberingPlan(m),{countryCallingCodeSource:a?"FROM_NUMBER_WITH_IDD":"FROM_NUMBER_WITH_PLUS_SIGN",countryCallingCode:m,number:e.slice(p)};p++}return{}}function PG(e){return e.replace(new RegExp("[".concat(Va,"]+"),"g")," ").trim()}var DG=/(\$\d)/;function OG(e,t,n){var r=n.useInternationalFormat,i=n.withNationalPrefix;n.carrierCode,n.metadata;var a=e.replace(new RegExp(t.pattern()),r?t.internationalFormat():i&&t.nationalPrefixFormattingRule()?t.format().replace(DG,t.nationalPrefixFormattingRule()):t.format());return r?PG(a):a}var t_e=/^[\d]+(?:[~\u2053\u223C\uFF5E][\d]+)?$/;function n_e(e,t,n){var r=new ir(n);if(r.selectNumberingPlan(e,t),r.defaultIDDPrefix())return r.defaultIDDPrefix();if(t_e.test(r.IDDPrefix()))return r.IDDPrefix()}var r_e=";ext=",rf=function(t){return"([".concat(Zr,"]{1,").concat(t,"})")};function $G(e){var t="20",n="15",r="9",i="6",a="[ \\t,]*",s="[:\\.]?[ \\t,-]*",c="#?",d="(?:e?xt(?:ensi(?:o?|))?n?|??||anexo)",f="(?:[x#~]|int|)",p="[- ]+",m="[ \\t]*",g="(?:,{2}|;)",v=r_e+rf(t),b=a+d+s+rf(t)+c,C=a+f+s+rf(r)+c,j=p+rf(i)+"#",A=m+g+s+rf(n)+c,k=m+"(?:,)+"+s+rf(r)+c;return v+"|"+b+"|"+C+"|"+j+"|"+A+"|"+k}var i_e="["+Zr+"]{"+bk+"}",a_e="["+ew+"]{0,1}(?:["+Va+"]*["+Zr+"]){3,}["+Va+Zr+"]*",o_e=new RegExp("^["+ew+"]{0,1}(?:["+Va+"]*["+Zr+"]){1,2}$","i"),s_e=a_e+"(?:"+$G()+")?",l_e=new RegExp("^"+i_e+"$|^"+s_e+"$","i");function c_e(e){return e.length>=bk&&l_e.test(e)}function u_e(e){return o_e.test(e)}function d_e(e){var t=e.number,n=e.ext;if(!t)return"";if(t[0]!=="+")throw new Error('"formatRFC3966()" expects "number" to be in E.164 format.');return"tel:".concat(t).concat(n?";ext="+n:"")}var kM={formatExtension:function(t,n,r){return"".concat(t).concat(r.ext()).concat(n)}};function f_e(e,t,n,r){if(n?n=m_e({},kM,n):n=kM,r=new ir(r),e.country&&e.country!=="001"){if(!r.hasCountry(e.country))throw new Error("Unknown country: ".concat(e.country));r.selectNumberingPlan(e.country)}else if(e.countryCallingCode)r.selectNumberingPlan(e.countryCallingCode);else return e.phone||"";var i=r.countryCallingCode(),a=n.v2?e.nationalNumber:e.phone,s;switch(t){case"NATIONAL":return a?(s=Ix(a,e.carrierCode,"NATIONAL",r,n),qS(s,e.ext,r,n.formatExtension)):"";case"INTERNATIONAL":return a?(s=Ix(a,null,"INTERNATIONAL",r,n),s="+".concat(i," ").concat(s),qS(s,e.ext,r,n.formatExtension)):"+".concat(i);case"E.164":return"+".concat(i).concat(a);case"RFC3966":return d_e({number:"+".concat(i).concat(a),ext:e.ext});case"IDD":if(!n.fromCountry)return;var c=h_e(a,e.carrierCode,i,n.fromCountry,r);return qS(c,e.ext,r,n.formatExtension);default:throw new Error('Unknown "format" argument passed to "formatNumber()": "'.concat(t,'"'))}}function Ix(e,t,n,r,i){var a=p_e(r.formats(),e);return a?OG(e,a,{useInternationalFormat:n==="INTERNATIONAL",withNationalPrefix:!(a.nationalPrefixIsOptionalWhenFormattingInNationalFormat()&&i&&i.nationalPrefix===!1),carrierCode:t,metadata:r}):e}function p_e(e,t){return g_e(e,function(n){if(n.leadingDigitsPatterns().length>0){var r=n.leadingDigitsPatterns()[n.leadingDigitsPatterns().length-1];if(t.search(r)!==0)return!1}return Vs(t,n.pattern())})}function qS(e,t,n,r){return t?r(e,t,n):e}function h_e(e,t,n,r,i){var a=jc(r,i.metadata);if(a===n){var s=Ix(e,t,"NATIONAL",i);return n==="1"?n+" "+s:s}var c=n_e(r,void 0,i.metadata);if(c)return"".concat(c," ").concat(n," ").concat(Ix(e,null,"INTERNATIONAL",i))}function m_e(){for(var e=1,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(;e<n.length;){if(n[e])for(var i in n[e])n[0][i]=n[e][i];e++}return n[0]}function g_e(e,t){for(var n=0;n<e.length;){if(t(e[n]))return e[n];n++}}function vg(e){"@babel/helpers - typeof";return vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vg(e)}function EM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function NM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EM(Object(n),!0).forEach(function(r){y_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function y_e(e,t,n){return(t=IG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b_e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,IG(r.key),r)}}function x_e(e,t,n){return t&&b_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function IG(e){var t=w_e(e,"string");return vg(t)=="symbol"?t:t+""}function w_e(e,t){if(vg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(vg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var RG=(function(){function e(t,n,r){if(v_e(this,e),!t)throw new TypeError("First argument is required");if(typeof t!="string")throw new TypeError("First argument must be a string");if(t[0]==="+"&&!n)throw new TypeError("`metadata` argument not passed");if(qu(n)&&qu(n.countries)){r=n;var i=t;if(!j_e.test(i))throw new Error('Invalid `number` argument passed: must consist of a "+" followed by digits');var a=wk(i,void 0,void 0,void 0,r),s=a.countryCallingCode,c=a.number;if(n=c,t=s,!n)throw new Error("Invalid `number` argument passed: too short")}if(!n)throw new TypeError("`nationalNumber` argument is required");if(typeof n!="string")throw new TypeError("`nationalNumber` argument must be a string");jG(r);var d=C_e(t,r),f=d.country,p=d.countryCallingCode;this.country=f,this.countryCallingCode=p,this.nationalNumber=n,this.number="+"+this.countryCallingCode+this.nationalNumber,this.getMetadata=function(){return r}}return x_e(e,[{key:"setExt",value:function(n){this.ext=n}},{key:"getPossibleCountries",value:function(){return this.country?[this.country]:BNe(this.countryCallingCode,this.nationalNumber,this.getMetadata())}},{key:"isPossible",value:function(){return INe(this,{v2:!0},this.getMetadata())}},{key:"isValid",value:function(){return FNe(this,{v2:!0},this.getMetadata())}},{key:"isNonGeographic",value:function(){var n=new ir(this.getMetadata());return n.isNonGeographicCallingCode(this.countryCallingCode)}},{key:"isEqual",value:function(n){return this.number===n.number&&this.ext===n.ext}},{key:"getType",value:function(){return vk(this,{v2:!0},this.getMetadata())}},{key:"format",value:function(n,r){return f_e(this,n,r?NM(NM({},r),{},{v2:!0}):{v2:!0},this.getMetadata())}},{key:"formatNational",value:function(n){return this.format("NATIONAL",n)}},{key:"formatInternational",value:function(n){return this.format("INTERNATIONAL",n)}},{key:"getURI",value:function(n){return this.format("RFC3966",n)}}])})(),S_e=function(t){return/^[A-Z]{2}$/.test(t)};function C_e(e,t){var n,r,i=new ir(t);return S_e(e)?(n=e,i.selectNumberingPlan(n),r=i.countryCallingCode()):r=e,{country:n,countryCallingCode:r}}var j_e=/^\+\d+$/;function o5(e){"@babel/helpers - typeof";return o5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o5(e)}function T_e(e,t,n){return Object.defineProperty(e,"prototype",{writable:!1}),e}function A_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k_e(e,t,n){return t=xg(t),E_e(e,Sk()?Reflect.construct(t,n||[],xg(e).constructor):t.apply(e,n))}function E_e(e,t){if(t&&(o5(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N_e(e)}function N_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function __e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bg(e,t)}function s5(e){var t=typeof Map=="function"?new Map:void 0;return s5=function(r){if(r===null||!D_e(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(r))return t.get(r);t.set(r,i)}function i(){return P_e(r,arguments,xg(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),bg(i,r)},s5(e)}function P_e(e,t,n){if(Sk())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var i=new(e.bind.apply(e,r));return n&&bg(i,n.prototype),i}function Sk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Sk=function(){return!!e})()}function D_e(e){try{return Function.toString.call(e).indexOf("[native code]")!==-1}catch{return typeof e=="function"}}function bg(e,t){return bg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},bg(e,t)}function xg(e){return xg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xg(e)}var fs=(function(e){function t(n){var r;return A_e(this,t),r=k_e(this,t,[n]),Object.setPrototypeOf(r,t.prototype),r.name=r.constructor.name,r}return __e(t,e),T_e(t)})(s5(Error)),_M=new RegExp("(?:"+$G()+")$","i");function O_e(e){var t=e.search(_M);if(t<0)return{};for(var n=e.slice(0,t),r=e.match(_M),i=1;i<r.length;){if(r[i])return{number:n,ext:r[i]};i++}}function $_e(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=I_e(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I_e(e,t){if(e){if(typeof e=="string")return PM(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?PM(e,t):void 0}}function PM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var R_e={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9"};function MG(e){return R_e[e]}function Rx(e){for(var t="",n=$_e(e.split("")),r;!(r=n()).done;){var i=r.value,a=MG(i);a&&(t+=a)}return t}function M_e(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=L_e(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L_e(e,t){if(e){if(typeof e=="string")return DM(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?DM(e,t):void 0}}function DM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function l5(e){for(var t="",n=M_e(e.split("")),r;!(r=n()).done;){var i=r.value;t+=LG(i,t)||""}return t}function LG(e,t,n){if(e==="+"){if(t){typeof n=="function"&&n("end");return}return"+"}return MG(e)}var FG="+",F_e="[\\-\\.\\(\\)]?",OM="(["+Zr+"]|"+F_e+")",B_e="^\\"+FG+OM+"*["+Zr+"]"+OM+"*$",z_e=new RegExp(B_e,"g"),c5=Zr,U_e="["+c5+"]+((\\-)*["+c5+"])*",H_e="a-zA-Z",V_e="["+H_e+"]+((\\-)*["+c5+"])*",q_e="^("+U_e+"\\.)*"+V_e+"\\.?$",Y_e=new RegExp(q_e,"g"),$M="tel:",u5=";phone-context=",W_e=";isub=";function G_e(e){var t=e.indexOf(u5);if(t<0)return null;var n=t+u5.length;if(n>=e.length)return"";var r=e.indexOf(";",n);return r>=0?e.substring(n,r):e.substring(n)}function K_e(e){return e===null?!0:e.length===0?!1:z_e.test(e)||Y_e.test(e)}function X_e(e,t){var n=t.extractFormattedPhoneNumber,r=G_e(e);if(!K_e(r))throw new fs("NOT_A_NUMBER");var i;if(r===null)i=n(e)||"";else{i="",r.charAt(0)===FG&&(i+=r);var a=e.indexOf($M),s;a>=0?s=a+$M.length:s=0;var c=e.indexOf(u5);i+=e.substring(s,c)}var d=i.indexOf(W_e);if(d>0&&(i=i.substring(0,d)),i!=="")return i}var Q_e=250,Z_e=new RegExp("["+ew+Zr+"]"),J_e=new RegExp("[^"+Zr+"#]+$");function ePe(e,t,n){if(t=t||{},n=new ir(n),t.defaultCountry&&!n.hasCountry(t.defaultCountry))throw t.v2?new fs("INVALID_COUNTRY"):new Error("Unknown country: ".concat(t.defaultCountry));var r=nPe(e,t.v2,t.extract),i=r.number,a=r.ext,s=r.error;if(!i){if(t.v2)throw s==="TOO_SHORT"?new fs("TOO_SHORT"):new fs("NOT_A_NUMBER");return{}}var c=iPe(i,t.defaultCountry,t.defaultCallingCode,n),d=c.country,f=c.nationalNumber,p=c.countryCallingCode,m=c.countryCallingCodeSource,g=c.carrierCode;if(!n.hasSelectedNumberingPlan()){if(t.v2)throw new fs("INVALID_COUNTRY");return{}}if(!f||f.length<bk){if(t.v2)throw new fs("TOO_SHORT");return{}}if(f.length>UNe){if(t.v2)throw new fs("TOO_LONG");return{}}if(t.v2){var v=new RG(p,f,n.metadata);return d&&(v.country=d),g&&(v.carrierCode=g),a&&(v.ext=a),v.__countryCallingCodeSource=m,v}var b=(t.extended?n.hasSelectedNumberingPlan():d)?Vs(f,n.nationalNumberPattern()):!1;return t.extended?{country:d,countryCallingCode:p,carrierCode:g,valid:b,possible:b?!0:!!(t.extended===!0&&n.possibleLengths()&&kG(f,d,n)),phone:f,ext:a}:b?rPe(d,f,a):{}}function tPe(e,t,n){if(e){if(e.length>Q_e){if(n)throw new fs("TOO_LONG");return}if(t===!1)return e;var r=e.search(Z_e);if(!(r<0))return e.slice(r).replace(J_e,"")}}function nPe(e,t,n){var r=X_e(e,{extractFormattedPhoneNumber:function(s){return tPe(s,n,t)}});if(!r)return{};if(!c_e(r))return u_e(r)?{error:"TOO_SHORT"}:{};var i=O_e(r);return i.ext?i:{number:r}}function rPe(e,t,n){var r={country:e,phone:t};return n&&(r.ext=n),r}function iPe(e,t,n,r){var i=wk(l5(e),void 0,t,n,r.metadata),a=i.countryCallingCodeSource,s=i.countryCallingCode,c=i.number,d;if(s)r.selectNumberingPlan(s);else if(c&&(t||n))r.selectNumberingPlan(t,n),t&&(d=t),s=n||jc(t,r.metadata);else return{};if(!c)return{countryCallingCodeSource:a,countryCallingCode:s};var f=a5(l5(c),d,r),p=f.nationalNumber,m=f.carrierCode,g=xk(s,{nationalNumber:p,metadata:r});return g&&(d=g,g==="001"||r.selectNumberingPlan(d)),{country:d,countryCallingCode:s,countryCallingCodeSource:a,nationalNumber:p,carrierCode:m}}function wg(e){"@babel/helpers - typeof";return wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wg(e)}function IM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function RM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IM(Object(n),!0).forEach(function(r){aPe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aPe(e,t,n){return(t=oPe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oPe(e){var t=sPe(e,"string");return wg(t)=="symbol"?t:t+""}function sPe(e,t){if(wg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(wg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lPe(e,t,n){return ePe(e,RM(RM({},t),{},{v2:!0}),n)}function Sg(e){"@babel/helpers - typeof";return Sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sg(e)}function MM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cPe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MM(Object(n),!0).forEach(function(r){uPe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uPe(e,t,n){return(t=dPe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dPe(e){var t=fPe(e,"string");return Sg(t)=="symbol"?t:t+""}function fPe(e,t){if(Sg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Sg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pPe(e,t){return yPe(e)||gPe(e,t)||mPe(e,t)||hPe()}function hPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mPe(e,t){if(e){if(typeof e=="string")return LM(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?LM(e,t):void 0}}function LM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function gPe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,s,c=[],d=!0,f=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(d=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return c}}function yPe(e){if(Array.isArray(e))return e}function vPe(e){var t=Array.prototype.slice.call(e),n=pPe(t,4),r=n[0],i=n[1],a=n[2],s=n[3],c,d,f;if(typeof r=="string")c=r;else throw new TypeError("A text for parsing must be a string.");if(!i||typeof i=="string")s?(d=a,f=s):(d=void 0,f=a),i&&(d=cPe({defaultCountry:i},d));else if(qu(i))a?(d=i,f=a):f=i;else throw new Error("Invalid second argument: ".concat(i));return{text:c,options:d,metadata:f}}function Cg(e){"@babel/helpers - typeof";return Cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cg(e)}function FM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function BM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FM(Object(n),!0).forEach(function(r){bPe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bPe(e,t,n){return(t=xPe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xPe(e){var t=wPe(e,"string");return Cg(t)=="symbol"?t:t+""}function wPe(e,t){if(Cg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Cg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SPe(e,t,n){t&&t.defaultCountry&&!TG(t.defaultCountry,n)&&(t=BM(BM({},t),{},{defaultCountry:void 0}));try{return lPe(e,t,n)}catch(r){if(!(r instanceof fs))throw r}}function CPe(){var e=vPe(arguments),t=e.text,n=e.options,r=e.metadata;return SPe(t,n,r)}function jg(e){"@babel/helpers - typeof";return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jg(e)}function jPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TPe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kPe(r.key),r)}}function APe(e,t,n){return t&&TPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function kPe(e){var t=EPe(e,"string");return jg(t)=="symbol"?t:t+""}function EPe(e,t){if(jg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(jg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var NPe=(function(){function e(t){var n=t.onCountryChange,r=t.onCallingCodeChange;jPe(this,e),this.onCountryChange=n,this.onCallingCodeChange=r}return APe(e,[{key:"reset",value:function(n){var r=n.country,i=n.callingCode;this.international=!1,this.missingPlus=!1,this.IDDPrefix=void 0,this.callingCode=void 0,this.digits="",this.resetNationalSignificantNumber(),this.initCountryAndCallingCode(r,i)}},{key:"resetNationalSignificantNumber",value:function(){this.nationalSignificantNumber=this.getNationalDigits(),this.nationalSignificantNumberIsModified=!1,this.nationalPrefix=void 0,this.carrierCode=void 0,this.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix=void 0}},{key:"update",value:function(n){for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this[a]=n[a]}}},{key:"initCountryAndCallingCode",value:function(n,r){this.setCountry(n),this.setCallingCode(r)}},{key:"setCountry",value:function(n){this.country=n,this.onCountryChange(n)}},{key:"setCallingCode",value:function(n){this.callingCode=n,this.onCallingCodeChange(n,this.country)}},{key:"startInternationalNumber",value:function(n,r){this.international=!0,this.initCountryAndCallingCode(n,r)}},{key:"appendDigits",value:function(n){this.digits+=n}},{key:"appendNationalSignificantNumberDigits",value:function(n){this.nationalSignificantNumber+=n}},{key:"getNationalDigits",value:function(){return this.international?this.digits.slice((this.IDDPrefix?this.IDDPrefix.length:0)+(this.callingCode?this.callingCode.length:0)):this.digits}},{key:"getDigitsWithoutInternationalPrefix",value:function(){return this.international&&this.IDDPrefix?this.digits.slice(this.IDDPrefix.length):this.digits}}])})();function _Pe(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=PPe(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PPe(e,t){if(e){if(typeof e=="string")return zM(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zM(e,t):void 0}}function zM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var _a="x",YS=new RegExp(_a);function rb(e,t){if(t<1)return"";for(var n="";t>1;)t&1&&(n+=e),t>>=1,e+=e;return n+e}function UM(e,t){return e[t]===")"&&t++,DPe(e.slice(0,t))}function DPe(e){for(var t=[],n=0;n<e.length;)e[n]==="("?t.push(n):e[n]===")"&&t.pop(),n++;var r=0,i="";t.push(e.length);for(var a=0,s=t;a<s.length;a++){var c=s[a];i+=e.slice(r,c),r=c+1}return i}function OPe(e,t,n){for(var r=_Pe(n.split("")),i;!(i=r()).done;){var a=i.value;if(e.slice(t+1).search(YS)<0)return;t=e.search(YS),e=e.replace(YS,a)}return[e,t]}function $Pe(e,t,n){var r=n.metadata,i=n.shouldTryNationalPrefixFormattingRule,a=n.getSeparatorAfterNationalPrefix,s=new RegExp("^(?:".concat(t.pattern(),")$"));if(s.test(e.nationalSignificantNumber))return RPe(e,t,{metadata:r,shouldTryNationalPrefixFormattingRule:i,getSeparatorAfterNationalPrefix:a})}function IPe(e,t,n){return J2(e,t,n)==="IS_POSSIBLE"}function RPe(e,t,n){var r=n.metadata,i=n.shouldTryNationalPrefixFormattingRule,a=n.getSeparatorAfterNationalPrefix;if(e.nationalSignificantNumber,e.international,e.nationalPrefix,e.carrierCode,i(t)){var s=HM(e,t,{useNationalPrefixFormattingRule:!0,getSeparatorAfterNationalPrefix:a,metadata:r});if(s)return s}return HM(e,t,{useNationalPrefixFormattingRule:!1,getSeparatorAfterNationalPrefix:a,metadata:r})}function HM(e,t,n){var r=n.metadata,i=n.useNationalPrefixFormattingRule,a=n.getSeparatorAfterNationalPrefix,s=OG(e.nationalSignificantNumber,t,{carrierCode:e.carrierCode,useInternationalFormat:e.international,withNationalPrefix:i,metadata:r});if(i||(e.nationalPrefix?s=e.nationalPrefix+a(t)+s:e.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix&&(s=e.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix+" "+s)),MPe(s,e))return s}function MPe(e,t){return Rx(e)===t.getNationalDigits()}function Tg(e){"@babel/helpers - typeof";return Tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tg(e)}function LPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FPe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zPe(r.key),r)}}function BPe(e,t,n){return t&&FPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zPe(e){var t=UPe(e,"string");return Tg(t)=="symbol"?t:t+""}function UPe(e,t){if(Tg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Tg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var HPe=(function(){function e(){LPe(this,e)}return BPe(e,[{key:"parse",value:function(n){if(this.context=[{or:!0,instructions:[]}],this.parsePattern(n),this.context.length!==1)throw new Error("Non-finalized contexts left when pattern parse ended");var r=this.context[0],i=r.branches,a=r.instructions;if(i)return{op:"|",args:i.concat([WS(a)])};if(a.length===0)throw new Error("Pattern is required");return a.length===1?a[0]:a}},{key:"startContext",value:function(n){this.context.push(n)}},{key:"endContext",value:function(){this.context.pop()}},{key:"getContext",value:function(){return this.context[this.context.length-1]}},{key:"parsePattern",value:function(n){if(!n)throw new Error("Pattern is required");var r=n.match(YPe);if(!r){if(qPe.test(n))throw new Error("Illegal characters found in a pattern: ".concat(n));this.getContext().instructions=this.getContext().instructions.concat(n.split(""));return}var i=r[1],a=n.slice(0,r.index),s=n.slice(r.index+i.length);switch(i){case"(?:":a&&this.parsePattern(a),this.startContext({or:!0,instructions:[],branches:[]});break;case")":if(!this.getContext().or)throw new Error('")" operator must be preceded by "(?:" operator');if(a&&this.parsePattern(a),this.getContext().instructions.length===0)throw new Error('No instructions found after "|" operator in an "or" group');var c=this.getContext(),d=c.branches;d.push(WS(this.getContext().instructions)),this.endContext(),this.getContext().instructions.push({op:"|",args:d});break;case"|":if(!this.getContext().or)throw new Error('"|" operator can only be used inside "or" groups');if(a&&this.parsePattern(a),!this.getContext().branches)if(this.context.length===1)this.getContext().branches=[];else throw new Error('"branches" not found in an "or" group context');this.getContext().branches.push(WS(this.getContext().instructions)),this.getContext().instructions=[];break;case"[":a&&this.parsePattern(a),this.startContext({oneOfSet:!0});break;case"]":if(!this.getContext().oneOfSet)throw new Error('"]" operator must be preceded by "[" operator');this.endContext(),this.getContext().instructions.push({op:"[]",args:VPe(a)});break;default:throw new Error("Unknown operator: ".concat(i))}s&&this.parsePattern(s)}}])})();function VPe(e){for(var t=[],n=0;n<e.length;){if(e[n]==="-"){if(n===0||n===e.length-1)throw new Error("Couldn't parse a one-of set pattern: ".concat(e));for(var r=e[n-1].charCodeAt(0)+1,i=e[n+1].charCodeAt(0)-1,a=r;a<=i;)t.push(String.fromCharCode(a)),a++}else t.push(e[n]);n++}return t}var qPe=/[\(\)\[\]\?\:\|]/,YPe=new RegExp("(\\||\\(\\?\\:|\\)|\\[|\\])");function WS(e){return e.length===1?e[0]:e}function VM(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=WPe(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WPe(e,t){if(e){if(typeof e=="string")return qM(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qM(e,t):void 0}}function qM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ag(e){"@babel/helpers - typeof";return Ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ag(e)}function GPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KPe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,QPe(r.key),r)}}function XPe(e,t,n){return t&&KPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function QPe(e){var t=ZPe(e,"string");return Ag(t)=="symbol"?t:t+""}function ZPe(e,t){if(Ag(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ag(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var JPe=(function(){function e(t){GPe(this,e),this.matchTree=new HPe().parse(t)}return XPe(e,[{key:"match",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.allowOverflow;if(!n)throw new Error("String is required");var a=d5(n.split(""),this.matchTree,!0);if(a&&a.match&&delete a.matchedChars,!(a&&a.overflow&&!i))return a}}])})();function d5(e,t,n){if(typeof t=="string"){var r=e.join("");return t.indexOf(r)===0?e.length===t.length?{match:!0,matchedChars:e}:{partialMatch:!0}:r.indexOf(t)===0?n&&e.length>t.length?{overflow:!0}:{match:!0,matchedChars:e.slice(0,t.length)}:void 0}if(Array.isArray(t)){for(var i=e.slice(),a=0;a<t.length;){var s=t[a],c=d5(i,s,n&&a===t.length-1);if(c){if(c.overflow)return c;if(c.match){if(i=i.slice(c.matchedChars.length),i.length===0)return a===t.length-1?{match:!0,matchedChars:e}:{partialMatch:!0}}else{if(c.partialMatch)return{partialMatch:!0};throw new Error(`Unsupported match result:
`.concat(JSON.stringify(c,null,2)))}}else return;a++}return n?{overflow:!0}:{match:!0,matchedChars:e.slice(0,e.length-i.length)}}switch(t.op){case"|":for(var d,f=VM(t.args),p;!(p=f()).done;){var m=p.value,g=d5(e,m,n);if(g){if(g.overflow)return g;if(g.match)return{match:!0,matchedChars:g.matchedChars};if(g.partialMatch)d=!0;else throw new Error(`Unsupported match result:
`.concat(JSON.stringify(g,null,2)))}}return d?{partialMatch:!0}:void 0;case"[]":for(var v=VM(t.args),b;!(b=v()).done;){var C=b.value;if(e[0]===C)return e.length===1?{match:!0,matchedChars:e}:n?{overflow:!0}:{match:!0,matchedChars:[C]}}return;default:throw new Error("Unsupported instruction tree: ".concat(t))}}function kg(e){"@babel/helpers - typeof";return kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kg(e)}function YM(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=e7e(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e7e(e,t){if(e){if(typeof e=="string")return WM(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?WM(e,t):void 0}}function WM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function t7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n7e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i7e(r.key),r)}}function r7e(e,t,n){return t&&n7e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function i7e(e){var t=a7e(e,"string");return kg(t)=="symbol"?t:t+""}function a7e(e,t){if(kg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(kg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var f5="9",o7e=15,s7e=rb(f5,o7e),l7e=/[- ]/,c7e=function(){return/\[([^\[\]])*\]/g},u7e=function(){return/\d(?=[^,}][^,}])/g},d7e=new RegExp("["+Va+"]*\\$1["+Va+"]*(\\$\\d["+Va+"]*)*$"),GM=3,f7e=(function(){function e(t){t.state;var n=t.metadata;t7e(this,e),this.metadata=n,this.resetFormat()}return r7e(e,[{key:"resetFormat",value:function(){this.chosenFormat=void 0,this.template=void 0,this.nationalNumberTemplate=void 0,this.populatedNationalNumberTemplate=void 0,this.populatedNationalNumberTemplatePosition=-1}},{key:"reset",value:function(n,r){this.resetFormat(),n?(this.isNANP=n.callingCode()==="1",this.matchingFormats=n.formats(),r.nationalSignificantNumber&&this.narrowDownMatchingFormats(r)):(this.isNANP=void 0,this.matchingFormats=[])}},{key:"format",value:function(n,r){var i=this;if(IPe(r.nationalSignificantNumber,r.country,this.metadata))for(var a=YM(this.matchingFormats),s;!(s=a()).done;){var c=s.value,d=$Pe(r,c,{metadata:this.metadata,shouldTryNationalPrefixFormattingRule:function(p){return i.shouldTryNationalPrefixFormattingRule(p,{international:r.international,nationalPrefix:r.nationalPrefix})},getSeparatorAfterNationalPrefix:function(p){return i.getSeparatorAfterNationalPrefix(p)}});if(d)return this.resetFormat(),this.chosenFormat=c,this.setNationalNumberTemplate(d.replace(/\d/g,_a),r),this.populatedNationalNumberTemplate=d,this.populatedNationalNumberTemplatePosition=this.template.lastIndexOf(_a),d}return this.formatNationalNumberWithNextDigits(n,r)}},{key:"formatNationalNumberWithNextDigits",value:function(n,r){var i=this.chosenFormat,a=this.chooseFormat(r);if(a)return a===i?this.formatNextNationalNumberDigits(n):this.formatNextNationalNumberDigits(r.getNationalDigits())}},{key:"narrowDownMatchingFormats",value:function(n){var r=this,i=n.nationalSignificantNumber,a=n.nationalPrefix,s=n.international,c=i,d=c.length-GM;d<0&&(d=0),this.matchingFormats=this.matchingFormats.filter(function(f){return r.formatSuits(f,s,a)&&r.formatMatches(f,c,d)}),this.chosenFormat&&this.matchingFormats.indexOf(this.chosenFormat)===-1&&this.resetFormat()}},{key:"formatSuits",value:function(n,r,i){return!(i&&!n.usesNationalPrefix()&&!n.nationalPrefixIsOptionalWhenFormattingInNationalFormat()||!r&&!i&&n.nationalPrefixIsMandatoryWhenFormattingInNationalFormat())}},{key:"formatMatches",value:function(n,r,i){var a=n.leadingDigitsPatterns().length;if(a===0)return!0;i=Math.min(i,a-1);var s=n.leadingDigitsPatterns()[i];if(r.length<GM)try{return new JPe(s).match(r,{allowOverflow:!0})!==void 0}catch(c){return console.error(c),!0}return new RegExp("^(".concat(s,")")).test(r)}},{key:"getFormatFormat",value:function(n,r){return r?n.internationalFormat():n.format()}},{key:"chooseFormat",value:function(n){for(var r=this,i=function(){var f=c.value;return r.chosenFormat===f?0:d7e.test(r.getFormatFormat(f,n.international))?r.createTemplateForFormat(f,n)?(r.chosenFormat=f,0):(r.matchingFormats=r.matchingFormats.filter(function(p){return p!==f}),1):1},a,s=YM(this.matchingFormats.slice()),c;!(c=s()).done&&(a=i(),a!==0););return this.chosenFormat||this.resetFormat(),this.chosenFormat}},{key:"createTemplateForFormat",value:function(n,r){if(!(n.pattern().indexOf("|")>=0)){var i=this.getTemplateForFormat(n,r);if(i)return this.setNationalNumberTemplate(i,r),!0}}},{key:"getSeparatorAfterNationalPrefix",value:function(n){return this.isNANP||n&&n.nationalPrefixFormattingRule()&&l7e.test(n.nationalPrefixFormattingRule())?" ":""}},{key:"getInternationalPrefixBeforeCountryCallingCode",value:function(n,r){var i=n.IDDPrefix,a=n.missingPlus;return i?r&&r.spacing===!1?i:i+" ":a?"":"+"}},{key:"getTemplate",value:function(n){if(this.template){for(var r=-1,i=0,a=n.international?this.getInternationalPrefixBeforeCountryCallingCode(n,{spacing:!1}):"";i<a.length+n.getDigitsWithoutInternationalPrefix().length;)r=this.template.indexOf(_a,r+1),i++;return UM(this.template,r+1)}}},{key:"setNationalNumberTemplate",value:function(n,r){this.nationalNumberTemplate=n,this.populatedNationalNumberTemplate=n,this.populatedNationalNumberTemplatePosition=-1,r.international?this.template=this.getInternationalPrefixBeforeCountryCallingCode(r).replace(/[\d\+]/g,_a)+rb(_a,r.callingCode.length)+" "+n:this.template=n}},{key:"getTemplateForFormat",value:function(n,r){var i=r.nationalSignificantNumber,a=r.international,s=r.nationalPrefix,c=r.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix,d=n.pattern();d=d.replace(c7e(),"\\d").replace(u7e(),"\\d");var f=s7e.match(d)[0];if(!(i.length>f.length)){var p=new RegExp("^"+d+"$"),m=i.replace(/\d/g,f5);p.test(m)&&(f=m);var g=this.getFormatFormat(n,a),v;if(this.shouldTryNationalPrefixFormattingRule(n,{international:a,nationalPrefix:s})){var b=g.replace(DG,n.nationalPrefixFormattingRule());if(Rx(n.nationalPrefixFormattingRule())===(s||"")+Rx("$1")&&(g=b,v=!0,s))for(var C=s.length;C>0;)g=g.replace(/\d/,_a),C--}var j=f.replace(new RegExp(d),g).replace(new RegExp(f5,"g"),_a);return v||(c?j=rb(_a,c.length)+" "+j:s&&(j=rb(_a,s.length)+this.getSeparatorAfterNationalPrefix(n)+j)),a&&(j=PG(j)),j}}},{key:"formatNextNationalNumberDigits",value:function(n){var r=OPe(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition,n);if(!r){this.resetFormat();return}return this.populatedNationalNumberTemplate=r[0],this.populatedNationalNumberTemplatePosition=r[1],UM(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition+1)}},{key:"shouldTryNationalPrefixFormattingRule",value:function(n,r){var i=r.international,a=r.nationalPrefix;if(n.nationalPrefixFormattingRule()){var s=n.usesNationalPrefix();if(s&&a||!s&&!i)return!0}}}])})();function Eg(e){"@babel/helpers - typeof";return Eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eg(e)}function BG(e,t){return g7e(e)||m7e(e,t)||h7e(e,t)||p7e()}function p7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h7e(e,t){if(e){if(typeof e=="string")return KM(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?KM(e,t):void 0}}function KM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function m7e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,s,c=[],d=!0,f=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(d=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return c}}function g7e(e){if(Array.isArray(e))return e}function y7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v7e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,x7e(r.key),r)}}function b7e(e,t,n){return t&&v7e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function x7e(e){var t=w7e(e,"string");return Eg(t)=="symbol"?t:t+""}function w7e(e,t){if(Eg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Eg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var S7e="["+Va+Zr+"]+",C7e=new RegExp("^"+S7e+"$","i"),j7e="(?:["+ew+"]["+Va+Zr+"]*|["+Va+Zr+"]+)",T7e=new RegExp("[^"+Va+Zr+"]+.*$"),A7e=/[^\d\[\]]/,k7e=(function(){function e(t){var n=t.defaultCountry,r=t.defaultCallingCode,i=t.metadata,a=t.onNationalSignificantNumberChange;y7e(this,e),this.defaultCountry=n,this.defaultCallingCode=r,this.metadata=i,this.onNationalSignificantNumberChange=a}return b7e(e,[{key:"input",value:function(n,r){var i=_7e(n),a=BG(i,2),s=a[0],c=a[1],d=Rx(s),f;return c&&(r.digits||(r.startInternationalNumber(void 0,void 0),d||(f=!0))),d&&this.inputDigits(d,r),{digits:d,justLeadingPlus:f}}},{key:"inputDigits",value:function(n,r){var i=r.digits,a=i.length<3&&i.length+n.length>=3;if(r.appendDigits(n),a&&this.extractIddPrefix(r),this.isWaitingForCountryCallingCode(r)){if(!this.extractCountryCallingCode(r))return}else r.appendNationalSignificantNumberDigits(n);r.international||this.hasExtractedNationalSignificantNumber||this.extractNationalSignificantNumber(r.getNationalDigits(),function(s){return r.update(s)})}},{key:"isWaitingForCountryCallingCode",value:function(n){var r=n.international,i=n.callingCode;return r&&!i}},{key:"extractCountryCallingCode",value:function(n){var r=wk("+"+n.getDigitsWithoutInternationalPrefix(),n.country,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),i=r.countryCallingCode,a=r.number;if(i)return n.setCallingCode(i),n.update({nationalSignificantNumber:a}),!0}},{key:"reset",value:function(n){if(n){this.hasSelectedNumberingPlan=!0;var r=n._nationalPrefixForParsing();this.couldPossiblyExtractAnotherNationalSignificantNumber=r&&A7e.test(r)}else this.hasSelectedNumberingPlan=void 0,this.couldPossiblyExtractAnotherNationalSignificantNumber=void 0}},{key:"extractNationalSignificantNumber",value:function(n,r){if(this.hasSelectedNumberingPlan){var i=i5(n,this.metadata),a=i.nationalPrefix,s=i.nationalNumber,c=i.carrierCode;if(s!==n)return this.onExtractedNationalNumber(a,c,s,n,r),!0}}},{key:"extractAnotherNationalSignificantNumber",value:function(n,r,i){if(!this.hasExtractedNationalSignificantNumber)return this.extractNationalSignificantNumber(n,i);if(this.couldPossiblyExtractAnotherNationalSignificantNumber){var a=i5(n,this.metadata),s=a.nationalPrefix,c=a.nationalNumber,d=a.carrierCode;if(c!==r)return this.onExtractedNationalNumber(s,d,c,n,i),!0}}},{key:"onExtractedNationalNumber",value:function(n,r,i,a,s){var c=!1,d,f=a.lastIndexOf(i);if(f<0||f!==a.length-i.length)c=!0;else{var p=a.slice(0,f);p&&p!==n&&(d=p)}s({nationalPrefix:n,carrierCode:r,nationalSignificantNumber:i,nationalSignificantNumberIsModified:c,prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix:d}),this.hasExtractedNationalSignificantNumber=!0,this.onNationalSignificantNumberChange()}},{key:"reExtractNationalSignificantNumber",value:function(n){if(this.extractAnotherNationalSignificantNumber(n.getNationalDigits(),n.nationalSignificantNumber,function(r){return n.update(r)}))return!0;if(this.extractIddPrefix(n))return this.extractCallingCodeAndNationalSignificantNumber(n),!0;if(this.fixMissingPlus(n))return this.extractCallingCodeAndNationalSignificantNumber(n),!0}},{key:"extractIddPrefix",value:function(n){var r=n.international,i=n.IDDPrefix,a=n.digits;if(n.nationalSignificantNumber,!(r||i)){var s=EG(a,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata);if(s!==void 0&&s!==a)return n.update({IDDPrefix:a.slice(0,a.length-s.length)}),this.startInternationalNumber(n,{country:void 0,callingCode:void 0}),!0}}},{key:"fixMissingPlus",value:function(n){if(!n.international){var r=_G(n.digits,n.country,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),i=r.countryCallingCode;if(i)return n.update({missingPlus:!0}),this.startInternationalNumber(n,{country:n.country,callingCode:i}),!0}}},{key:"startInternationalNumber",value:function(n,r){var i=r.country,a=r.callingCode;n.startInternationalNumber(i,a),n.nationalSignificantNumber&&(n.resetNationalSignificantNumber(),this.onNationalSignificantNumberChange(),this.hasExtractedNationalSignificantNumber=void 0)}},{key:"extractCallingCodeAndNationalSignificantNumber",value:function(n){this.extractCountryCallingCode(n)&&this.extractNationalSignificantNumber(n.getNationalDigits(),function(r){return n.update(r)})}}])})();function E7e(e){var t=e.search(j7e);if(!(t<0)){e=e.slice(t);var n;return e[0]==="+"&&(n=!0,e=e.slice(1)),e=e.replace(T7e,""),n&&(e="+"+e),e}}function N7e(e){var t=E7e(e)||"";return t[0]==="+"?[t.slice(1),!0]:[t]}function _7e(e){var t=N7e(e),n=BG(t,2),r=n[0],i=n[1];return C7e.test(r)||(r=""),[r,i]}function Ng(e){"@babel/helpers - typeof";return Ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ng(e)}function P7e(e,t){return I7e(e)||$7e(e,t)||O7e(e,t)||D7e()}function D7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O7e(e,t){if(e){if(typeof e=="string")return XM(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?XM(e,t):void 0}}function XM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function $7e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,s,c=[],d=!0,f=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(d=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return c}}function I7e(e){if(Array.isArray(e))return e}function R7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M7e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,F7e(r.key),r)}}function L7e(e,t,n){return t&&M7e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function F7e(e){var t=B7e(e,"string");return Ng(t)=="symbol"?t:t+""}function B7e(e,t){if(Ng(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ng(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ip=(function(){function e(t,n){R7e(this,e),this.metadata=new ir(n);var r=this.getCountryAndCallingCode(t),i=P7e(r,2),a=i[0],s=i[1];this.defaultCountry=a,this.defaultCallingCode=s,this.reset()}return L7e(e,[{key:"getCountryAndCallingCode",value:function(n){var r,i;return n&&(qu(n)?(r=n.defaultCountry,i=n.defaultCallingCode):r=n),r&&!this.metadata.hasCountry(r)&&(r=void 0),[r,i]}},{key:"input",value:function(n){var r=this.parser.input(n,this.state),i=r.digits,a=r.justLeadingPlus;if(a)this.formattedOutput="+";else if(i){this.determineTheCountryIfNeeded(),this.state.nationalSignificantNumber&&this.formatter.narrowDownMatchingFormats(this.state);var s;if(this.metadata.hasSelectedNumberingPlan()&&(s=this.formatter.format(i,this.state)),s===void 0&&this.parser.reExtractNationalSignificantNumber(this.state)){this.determineTheCountryIfNeeded();var c=this.state.getNationalDigits();c&&(s=this.formatter.format(c,this.state))}this.formattedOutput=s?this.getFullNumber(s):this.getNonFormattedNumber()}return this.formattedOutput}},{key:"reset",value:function(){var n=this;return this.state=new NPe({onCountryChange:function(i){n.country=i},onCallingCodeChange:function(i,a){n.metadata.selectNumberingPlan(a,i),n.formatter.reset(n.metadata.numberingPlan,n.state),n.parser.reset(n.metadata.numberingPlan)}}),this.formatter=new f7e({state:this.state,metadata:this.metadata}),this.parser=new k7e({defaultCountry:this.defaultCountry,defaultCallingCode:this.defaultCallingCode,metadata:this.metadata,state:this.state,onNationalSignificantNumberChange:function(){n.determineTheCountryIfNeeded(),n.formatter.reset(n.metadata.numberingPlan,n.state)}}),this.state.reset({country:this.defaultCountry,callingCode:this.defaultCallingCode}),this.formattedOutput="",this}},{key:"isInternational",value:function(){return this.state.international}},{key:"getCallingCode",value:function(){if(this.isInternational())return this.state.callingCode}},{key:"getCountryCallingCode",value:function(){return this.getCallingCode()}},{key:"getCountry",value:function(){var n=this.state.digits;if(n)return this._getCountry()}},{key:"_getCountry",value:function(){var n=this.state.country;return n}},{key:"determineTheCountryIfNeeded",value:function(){(!this.state.country||this.isCountryCallingCodeAmbiguous())&&this.determineTheCountry()}},{key:"getFullNumber",value:function(n){var r=this;if(this.isInternational()){var i=function(c){return r.formatter.getInternationalPrefixBeforeCountryCallingCode(r.state,{spacing:!!c})+c},a=this.state.callingCode;return i(a?n?"".concat(a," ").concat(n):a:"".concat(this.state.getDigitsWithoutInternationalPrefix()))}return n}},{key:"getNonFormattedNationalNumberWithPrefix",value:function(){var n=this.state,r=n.nationalSignificantNumber,i=n.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix,a=n.nationalPrefix,s=r,c=i||a;return c&&(s=c+s),s}},{key:"getNonFormattedNumber",value:function(){var n=this.state.nationalSignificantNumberIsModified;return this.getFullNumber(n?this.state.getNationalDigits():this.getNonFormattedNationalNumberWithPrefix())}},{key:"getNonFormattedTemplate",value:function(){var n=this.getNonFormattedNumber();if(n)return n.replace(/[\+\d]/g,_a)}},{key:"isCountryCallingCodeAmbiguous",value:function(){var n=this.state.callingCode,r=this.metadata.getCountryCodesForCallingCode(n);return r&&r.length>1}},{key:"determineTheCountry",value:function(){this.state.setCountry(xk(this.isInternational()?this.state.callingCode:this.defaultCallingCode,{nationalNumber:this.state.nationalSignificantNumber,metadata:this.metadata}))}},{key:"getNumberValue",value:function(){var n=this.state,r=n.digits,i=n.callingCode,a=n.country,s=n.nationalSignificantNumber;if(r){if(this.isInternational())return i?"+"+i+s:"+"+r;if(a||i){var c=a?this.metadata.countryCallingCode():i;return"+"+c+s}}}},{key:"getNumber",value:function(){var n=this.state,r=n.nationalSignificantNumber,i=n.carrierCode,a=n.callingCode,s=this._getCountry();if(r&&!(!s&&!a)){if(s&&s===this.defaultCountry){var c=new ir(this.metadata.metadata);c.selectNumberingPlan(s);var d=c.numberingPlan.callingCode(),f=this.metadata.getCountryCodesForCallingCode(d);if(f.length>1){var p=NG(r,{countries:f,metadata:this.metadata.metadata});p&&(s=p)}}var m=new RG(s||a,r,this.metadata.metadata);return i&&(m.carrierCode=i),m}}},{key:"isPossible",value:function(){var n=this.getNumber();return n?n.isPossible():!1}},{key:"isValid",value:function(){var n=this.getNumber();return n?n.isValid():!1}},{key:"getNationalNumber",value:function(){return this.state.nationalSignificantNumber}},{key:"getChars",value:function(){return(this.state.international?"+":"")+this.state.digits}},{key:"getTemplate",value:function(){return this.formatter.getTemplate(this.state)||this.getNonFormattedTemplate()||""}}])})();function QM(e){return new ir(e).getCountries()}function z7e(e,t,n){return n||(n=t,t=void 0),new Ip(t,n).input(e)}function zG(e){var t=e.inputFormat,n=e.country,r=e.metadata;return t==="NATIONAL_PART_OF_INTERNATIONAL"?"+".concat(jc(n,r)):""}function p5(e,t){return t&&(e=e.slice(t.length),e[0]===" "&&(e=e.slice(1))),e}function U7e(e,t,n){if(!(n&&n.ignoreRest)){var r=function(a){if(n)switch(a){case"end":n.ignoreRest=!0;break}};return LG(e,t,r)}}function UG(e){var t=e.onKeyDown,n=e.inputFormat;return w.useCallback(function(r){if(r.keyCode===V7e&&n==="INTERNATIONAL"&&r.target instanceof HTMLInputElement&&H7e(r.target)===q7e.length){r.preventDefault();return}t&&t(r)},[t,n])}function H7e(e){return e.selectionStart}var V7e=8,q7e="+",Y7e=["onKeyDown","country","inputFormat","metadata","international","withCountryCallingCode"];function h5(){return h5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h5.apply(this,arguments)}function W7e(e,t){if(e==null)return{};var n=G7e(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function G7e(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function K7e(e){function t(n,r){var i=n.onKeyDown,a=n.country,s=n.inputFormat,c=n.metadata,d=c===void 0?e:c;n.international,n.withCountryCallingCode;var f=W7e(n,Y7e),p=w.useCallback(function(g){var v=new Ip(a,d),b=zG({inputFormat:s,country:a,metadata:d}),C=v.input(b+g),j=v.getTemplate();return b&&(C=p5(C,b),j&&(j=p5(j,b))),{text:C,template:j}},[a,d]),m=UG({onKeyDown:i,inputFormat:s});return se.createElement($x,h5({},f,{ref:r,parse:U7e,format:p,onKeyDown:m}))}return t=se.forwardRef(t),t.propTypes={value:He.string.isRequired,onChange:He.func.isRequired,onKeyDown:He.func,country:He.string,inputFormat:He.oneOf(["INTERNATIONAL","NATIONAL_PART_OF_INTERNATIONAL","NATIONAL","INTERNATIONAL_OR_NATIONAL"]).isRequired,metadata:He.object},t}const X7e=K7e();var Q7e=["value","onChange","onKeyDown","country","inputFormat","metadata","inputComponent","international","withCountryCallingCode"];function m5(){return m5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m5.apply(this,arguments)}function Z7e(e,t){if(e==null)return{};var n=J7e(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function J7e(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function eDe(e){function t(n,r){var i=n.value,a=n.onChange,s=n.onKeyDown,c=n.country,d=n.inputFormat,f=n.metadata,p=f===void 0?e:f,m=n.inputComponent,g=m===void 0?"input":m;n.international,n.withCountryCallingCode;var v=Z7e(n,Q7e),b=zG({inputFormat:d,country:c,metadata:p}),C=w.useCallback(function(A){var k=l5(A.target.value);if(k===i){var E=ZM(b,k,c,p);E.indexOf(A.target.value)===0&&(k=k.slice(0,-1))}a(k)},[b,i,a,c,p]),j=UG({onKeyDown:s,inputFormat:d});return se.createElement(g,m5({},v,{ref:r,value:ZM(b,i,c,p),onChange:C,onKeyDown:j}))}return t=se.forwardRef(t),t.propTypes={value:He.string.isRequired,onChange:He.func.isRequired,onKeyDown:He.func,country:He.string,inputFormat:He.oneOf(["INTERNATIONAL","NATIONAL_PART_OF_INTERNATIONAL","NATIONAL","INTERNATIONAL_OR_NATIONAL"]).isRequired,metadata:He.object,inputComponent:He.elementType},t}const tDe=eDe();function ZM(e,t,n,r){return p5(z7e(e+t,n,r),e)}function nDe(e){return JM(e[0])+JM(e[1])}function JM(e){return String.fromCodePoint(127397+e.toUpperCase().charCodeAt(0))}var rDe=["value","onChange","options","disabled","readOnly"],iDe=["value","options","className","iconComponent","getIconAspectRatio","arrowComponent","unicodeFlags"];function aDe(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=oDe(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oDe(e,t){if(e){if(typeof e=="string")return eL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eL(e,t)}}function eL(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Mx(){return Mx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mx.apply(this,arguments)}function HG(e,t){if(e==null)return{};var n=sDe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function sDe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function VG(e){var t=e.value,n=e.onChange,r=e.options,i=e.disabled,a=e.readOnly,s=HG(e,rDe),c=w.useCallback(function(d){var f=d.target.value;n(f==="ZZ"?void 0:f)},[n]);return w.useMemo(function(){return YG(r,t)},[r,t]),se.createElement("select",Mx({},s,{disabled:i||a,readOnly:a,value:t||"ZZ",onChange:c}),r.map(function(d){var f=d.value,p=d.label,m=d.divider;return se.createElement("option",{key:m?"|":f||"ZZ",value:m?"|":f||"ZZ",disabled:!!m,style:m?lDe:void 0},p)}))}VG.propTypes={value:He.string,onChange:He.func.isRequired,options:He.arrayOf(He.shape({value:He.string,label:He.string,divider:He.bool})).isRequired,disabled:He.bool,readOnly:He.bool};var lDe={fontSize:"1px",backgroundColor:"currentColor",color:"inherit"};function qG(e){var t=e.value,n=e.options,r=e.className,i=e.iconComponent;e.getIconAspectRatio;var a=e.arrowComponent,s=a===void 0?cDe:a,c=e.unicodeFlags,d=HG(e,iDe),f=w.useMemo(function(){return YG(n,t)},[n,t]);return se.createElement("div",{className:"PhoneInputCountry"},se.createElement(VG,Mx({},d,{value:t,options:n,className:Ox("PhoneInputCountrySelect",r)})),f&&(c&&t?se.createElement("div",{className:"PhoneInputCountryIconUnicode"},nDe(t)):se.createElement(i,{"aria-hidden":!0,country:t,label:f.label,aspectRatio:c?1:void 0})),se.createElement(s,null))}qG.propTypes={iconComponent:He.elementType,arrowComponent:He.elementType,unicodeFlags:He.bool};function cDe(){return se.createElement("div",{className:"PhoneInputCountrySelectArrow"})}function YG(e,t){for(var n=aDe(e),r;!(r=n()).done;){var i=r.value;if(!i.divider&&uDe(i.value,t))return i}}function uDe(e,t){return e==null?t==null:e===t}var dDe=["country","countryName","flags","flagUrl"];function g5(){return g5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g5.apply(this,arguments)}function fDe(e,t){if(e==null)return{};var n=pDe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function pDe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Ck(e){var t=e.country,n=e.countryName,r=e.flags,i=e.flagUrl,a=fDe(e,dDe);return r&&r[t]?r[t]({title:n}):se.createElement("img",g5({},a,{alt:n,role:n?void 0:"presentation",src:i.replace("{XX}",t).replace("{xx}",t.toLowerCase())}))}Ck.propTypes={country:He.string.isRequired,countryName:He.string.isRequired,flags:He.objectOf(He.elementType),flagUrl:He.string.isRequired};var hDe=["aspectRatio"],mDe=["title"],gDe=["title"];function Lx(){return Lx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lx.apply(this,arguments)}function jk(e,t){if(e==null)return{};var n=yDe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function yDe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function tw(e){var t=e.aspectRatio,n=jk(e,hDe);return t===1?se.createElement(GG,n):se.createElement(WG,n)}tw.propTypes={title:He.string.isRequired,aspectRatio:He.number};function WG(e){var t=e.title,n=jk(e,mDe);return se.createElement("svg",Lx({},n,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 75 50"}),se.createElement("title",null,t),se.createElement("g",{className:"PhoneInputInternationalIconGlobe",stroke:"currentColor",fill:"none",strokeWidth:"2",strokeMiterlimit:"10"},se.createElement("path",{strokeLinecap:"round",d:"M47.2,36.1C48.1,36,49,36,50,36c7.4,0,14,1.7,18.5,4.3"}),se.createElement("path",{d:"M68.6,9.6C64.2,12.3,57.5,14,50,14c-7.4,0-14-1.7-18.5-4.3"}),se.createElement("line",{x1:"26",y1:"25",x2:"74",y2:"25"}),se.createElement("line",{x1:"50",y1:"1",x2:"50",y2:"49"}),se.createElement("path",{strokeLinecap:"round",d:"M46.3,48.7c1.2,0.2,2.5,0.3,3.7,0.3c13.3,0,24-10.7,24-24S63.3,1,50,1S26,11.7,26,25c0,2,0.3,3.9,0.7,5.8"}),se.createElement("path",{strokeLinecap:"round",d:"M46.8,48.2c1,0.6,2.1,0.8,3.2,0.8c6.6,0,12-10.7,12-24S56.6,1,50,1S38,11.7,38,25c0,1.4,0.1,2.7,0.2,4c0,0.1,0,0.2,0,0.2"})),se.createElement("path",{className:"PhoneInputInternationalIconPhone",stroke:"none",fill:"currentColor",d:"M12.4,17.9c2.9-2.9,5.4-4.8,0.3-11.2S4.1,5.2,1.3,8.1C-2,11.4,1.1,23.5,13.1,35.6s24.3,15.2,27.5,11.9c2.8-2.8,7.8-6.3,1.4-11.5s-8.3-2.6-11.2,0.3c-2,2-7.2-2.2-11.7-6.7S10.4,19.9,12.4,17.9z"}))}WG.propTypes={title:He.string.isRequired};function GG(e){var t=e.title,n=jk(e,gDe);return se.createElement("svg",Lx({},n,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50"}),se.createElement("title",null,t),se.createElement("g",{className:"PhoneInputInternationalIconGlobe",stroke:"currentColor",fill:"none",strokeWidth:"2",strokeLinecap:"round"},se.createElement("path",{d:"M8.45,13A21.44,21.44,0,1,1,37.08,41.56"}),se.createElement("path",{d:"M19.36,35.47a36.9,36.9,0,0,1-2.28-13.24C17.08,10.39,21.88.85,27.8.85s10.72,9.54,10.72,21.38c0,6.48-1.44,12.28-3.71,16.21"}),se.createElement("path",{d:"M17.41,33.4A39,39,0,0,1,27.8,32.06c6.62,0,12.55,1.5,16.48,3.86"}),se.createElement("path",{d:"M44.29,8.53c-3.93,2.37-9.86,3.88-16.49,3.88S15.25,10.9,11.31,8.54"}),se.createElement("line",{x1:"27.8",y1:"0.85",x2:"27.8",y2:"34.61"}),se.createElement("line",{x1:"15.2",y1:"22.23",x2:"49.15",y2:"22.23"})),se.createElement("path",{className:"PhoneInputInternationalIconPhone",stroke:"transparent",fill:"currentColor",d:"M9.42,26.64c2.22-2.22,4.15-3.59.22-8.49S3.08,17,.93,19.17c-2.49,2.48-.13,11.74,9,20.89s18.41,11.5,20.89,9c2.15-2.15,5.91-4.77,1-8.71s-6.27-2-8.49.22c-1.55,1.55-5.48-1.69-8.86-5.08S7.87,28.19,9.42,26.64Z"}))}GG.propTypes={title:He.string.isRequired};function vDe(e){if(e.length<2||e[0]!=="+")return!1;for(var t=1;t<e.length;){var n=e.charCodeAt(t);if(!(n>=48&&n<=57))return!1;t++}return!0}function KG(e){vDe(e)||console.error("[react-phone-number-input] Expected the initial `value` to be a E.164 phone number. Got",e)}function bDe(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=xDe(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xDe(e,t){if(e){if(typeof e=="string")return tL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tL(e,t)}}function tL(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wDe(e,t){if(!t)return e;for(var n=[],r=[],i=n,a=function(){var f=c.value;if(f==="|")i.push({divider:!0});else if(f==="..."||f==="")i=r;else{var p;f===""?p=void 0:p=f;var m=e.indexOf(e.filter(function(v){return v.value===p})[0]),g=e[m];e.splice(m,1),i.push(g)}},s=bDe(t),c;!(c=s()).done;)a();return n.concat(e).concat(r)}function SDe(e,t){if(e&&(e=e.filter(function(n){switch(n){case"":case"|":case"...":case"":return!0;default:return nw(n,t)}}),e.length>0))return e}function nw(e,t){return TG(e,t)?!0:(console.error("Country not found: ".concat(e)),!1)}function XG(e,t){return e&&(e=e.filter(function(n){return nw(n,t)}),e.length===0&&(e=void 0)),e}var CDe=["country","label","aspectRatio"];function y5(){return y5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y5.apply(this,arguments)}function jDe(e,t){if(e==null)return{};var n=TDe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function TDe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function QG(e){var t=e.flags,n=e.flagUrl,r=e.flagComponent,i=e.internationalIcon;function a(s){var c=s.country,d=s.label,f=s.aspectRatio,p=jDe(s,CDe),m=i===tw?f:void 0;return se.createElement("div",y5({},p,{className:Ox("PhoneInputCountryIcon",{"PhoneInputCountryIcon--square":m===1,"PhoneInputCountryIcon--border":c})}),c?se.createElement(r,{country:c,countryName:d,flags:t,flagUrl:n,className:"PhoneInputCountryIconImg"}):se.createElement(i,{title:d,aspectRatio:m,className:"PhoneInputCountryIconImg"}))}return a.propTypes={country:He.string,label:He.string.isRequired,aspectRatio:He.number},a}QG({flagUrl:"https://purecatamphetamine.github.io/country-flag-icons/3x2/{XX}.svg",flagComponent:Ck,internationalIcon:tw});function ADe(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=kDe(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kDe(e,t){if(e){if(typeof e=="string")return nL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nL(e,t)}}function nL(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function EDe(e,t){for(var n=ADe(e),r;!(r=n()).done;){var i=r.value;i&&NDe(i,t)}}function NDe(e,t){typeof e=="function"?e(t):e.current=t}var ZG=He.shape({country_calling_codes:He.object.isRequired,countries:He.object.isRequired}),JG=He.objectOf(He.string);function Ns(e,t){var n="+"+jc(e,t);return n}function _De(e){var t=e.value,n=e.phoneNumber,r=e.defaultCountry,i=e.getAnyCountry,a=e.countries,s=e.required,c=e.metadata,d;return n&&n.country?d=n.country:r&&(!t||Mf(t,r,c))&&(d=r),a&&a.indexOf(d)<0&&(d=void 0),!d&&s&&a&&a.length>0&&(d=i()),d}function PDe(e){var t=e.countries,n=e.countryNames,r=e.addInternationalOption,i=e.compareStringsLocales,a=e.compareStrings;a||(a=LDe);var s=t.map(function(c){return{value:c,label:n[c]||c}});return s.sort(function(c,d){return a(c.label,d.label,i)}),r&&s.unshift({label:n.ZZ}),s}function eK(e,t){return CPe(e||"",t)}function DDe(e){return e.formatNational().replace(/\D/g,"")}function ODe(e,t){var n=t.prevCountry,r=t.newCountry,i=t.metadata,a=t.useNationalFormat;if(n===r)return e;if(!e)return a?"":r?Ns(r,i):"";if(r){if(e[0]==="+"){if(a)return e.indexOf("+"+jc(r,i))===0?FDe(e,r,i):"";if(n){var s=Ns(r,i);return e.indexOf(s)===0?e:s}else{var c=Ns(r,i);return e.indexOf(c)===0?e:c}}}else if(e[0]!=="+")return gf(e,n,i)||"";return e}function gf(e,t,n){if(e){if(e[0]==="+"){if(e==="+")return;var r=new Ip(t,n);return r.input(e),r.getNumberValue()}if(t){var i=nK(e,t,n);return"+".concat(jc(t,n)).concat(i||"")}}}function $De(e,t,n){var r=nK(e,t,n);if(r){var i=r.length-IDe(t,n);if(i>0)return e.slice(0,e.length-i)}return e}function IDe(e,t){return t=new ir(t),t.selectNumberingPlan(e),t.numberingPlan.possibleLengths()[t.numberingPlan.possibleLengths().length-1]}function tK(e,t){var n=t.country,r=t.countries,i=t.defaultCountry,a=t.latestCountrySelectedByUser,s=t.required,c=t.metadata;if(e==="+")return n;var d=MDe(e,c);if(d)return!r||r.indexOf(d)>=0?d:void 0;if(n){if(Mf(e,n,c)){if(a&&Mf(e,a,c))return a;if(i&&Mf(e,i,c))return i;if(!s)return}else if(!s)return}return n}function RDe(e,t){var n=t.prevPhoneDigits,r=t.country,i=t.defaultCountry,a=t.latestCountrySelectedByUser,s=t.countryRequired,c=t.getAnyCountry,d=t.countries,f=t.international,p=t.limitMaxLength,m=t.countryCallingCodeEditable,g=t.metadata;if(f&&m===!1&&r){var v=Ns(r,g);if(e.indexOf(v)!==0){var b,C=e&&e[0]!=="+";return C?(e=v+e,b=gf(e,r,g)):e=v,{phoneDigits:e,value:b,country:r}}}f===!1&&r&&e&&e[0]==="+"&&(e=rL(e,r,g)),e&&r&&p&&(e=$De(e,r,g)),e&&e[0]!=="+"&&(!r||f)&&(e="+"+e),!e&&n&&n[0]==="+"&&(f?r=void 0:r=i),e==="+"&&n&&n[0]==="+"&&n.length>1&&(r=void 0);var j;return e&&(e[0]==="+"&&(e==="+"||r&&Ns(r,g).indexOf(e)===0)?j=void 0:j=gf(e,r,g)),j&&(r=tK(j,{country:r,countries:d,defaultCountry:i,latestCountrySelectedByUser:a,required:!1,metadata:g}),f===!1&&r&&e&&e[0]==="+"&&(e=rL(e,r,g),j=gf(e,r,g))),!r&&s&&(r=i||c()),{phoneDigits:e,country:r,value:j}}function rL(e,t,n){if(e.indexOf(Ns(t,n))===0){var r=new Ip(t,n);r.input(e);var i=r.getNumber();return i?i.formatNational().replace(/\D/g,""):""}else return e.replace(/\D/g,"")}function MDe(e,t){var n=new Ip(null,t);return n.input(e),n.getCountry()}function LDe(e,t,n){return String.prototype.localeCompare?e.localeCompare(t,n):e<t?-1:e>t?1:0}function FDe(e,t,n){if(t){var r="+"+jc(t,n);if(e.length<r.length){if(r.indexOf(e)===0)return""}else if(e.indexOf(r)===0)return e.slice(r.length)}for(var i=0,a=Object.keys(n.country_calling_codes);i<a.length;i++){var s=a[i];if(e.indexOf(s)===1)return e.slice(1+s.length)}return""}function nK(e,t,n){var r=new Ip(t,n);r.input(e);var i=r.getNumber();return i&&i.nationalNumber}function Mf(e,t,n){for(var r=Ns(t,n),i=0;i<e.length&&i<r.length;){if(e[i]!==r[i])return!1;i++}return!0}function rK(e){var t=e.value,n=e.phoneNumber,r=e.defaultCountry,i=e.international,a=e.useNationalFormat,s=e.metadata;return(i===!1||a)&&n&&n.country?DDe(n):!t&&i&&r?Ns(r,s):t}function _g(e){"@babel/helpers - typeof";return _g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_g(e)}function iL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function S1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iL(Object(n),!0).forEach(function(r){BDe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BDe(e,t,n){return t=zDe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zDe(e){var t=UDe(e,"string");return _g(t)=="symbol"?t:t+""}function UDe(e,t){if(_g(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(_g(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HDe(e,t,n){var r=e.metadata,i=e.countries,a=e.defaultCountry,s=e.value,c=e.reset,d=e.international,f=e.displayInitialValueAsLocalNumber,p=e.initialValueFormat,m=t.defaultCountry,g=t.value,v=t.reset;n.country;var b=n.value,C=n.hasUserSelectedACountry,j=n.latestCountrySelectedByUser,A=function(R){return rK(S1(S1({},R),{},{international:d,useNationalFormat:f||p==="national",metadata:r}))};if(c!==v)return{phoneDigits:A({value:void 0,defaultCountry:a}),value:void 0,country:a,latestCountrySelectedByUser:void 0,hasUserSelectedACountry:void 0};if(a!==m){var k=!a||nw(a,r),E=!b||d&&b===A({value:void 0,defaultCountry:m}),P=!s&&E;if(!C&&k&&P)return{country:a,phoneDigits:A({value:void 0,defaultCountry:a}),value:void 0}}if(!aL(s,g)&&!aL(s,b)){var $,F;if(s){s&&KG(s),$=eK(s,r);var O=XG(i,r);$&&$.country?(!O||O.indexOf($.country)>=0)&&(F=$.country):(F=tK(s,{country:void 0,countries:O,metadata:r}),F||a&&s.indexOf(Ns(a,r))===0&&(F=a))}var _;if(s){if(j){var D=F?j===F:Mf(s,j,r);D?F||(F=j):_={latestCountrySelectedByUser:void 0}}}else _={latestCountrySelectedByUser:void 0,hasUserSelectedACountry:void 0};return S1(S1({},_),{},{phoneDigits:A({phoneNumber:$,value:s,defaultCountry:a}),value:s,country:s?F:a})}}function aL(e,t){return e===null&&(e=void 0),t===null&&(t=void 0),e===t}var VDe=["name","disabled","readOnly","autoComplete","style","className","inputRef","inputComponent","numberInputProps","smartCaret","countrySelectComponent","countrySelectProps","containerComponent","containerComponentProps","defaultCountry","countries","countryOptionsOrder","labels","flags","flagComponent","flagUrl","addInternationalOption","internationalIcon","displayInitialValueAsLocalNumber","initialValueFormat","onCountryChange","limitMaxLength","countryCallingCodeEditable","focusInputOnCountrySelection","reset","metadata","international","locales"];function up(e){"@babel/helpers - typeof";return up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},up(e)}function oL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function iK(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oL(Object(n),!0).forEach(function(r){Aa(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lf(){return Lf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lf.apply(this,arguments)}function qDe(e,t){if(e==null)return{};var n=YDe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function YDe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function WDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,oK(r.key),r)}}function GDe(e,t,n){return t&&sL(e.prototype,t),n&&sL(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function KDe(e,t,n){return t=Fx(t),XDe(e,aK()?Reflect.construct(t,n||[],Fx(e).constructor):t.apply(e,n))}function XDe(e,t){if(t&&(up(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QDe(e)}function QDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aK=function(){return!!e})()}function Fx(e){return Fx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fx(e)}function ZDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v5(e,t)}function v5(e,t){return v5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},v5(e,t)}function Aa(e,t,n){return t=oK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oK(e){var t=JDe(e,"string");return up(t)=="symbol"?t:t+""}function JDe(e,t){if(up(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(up(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eOe=(function(e){function t(n){var r;WDe(this,t),r=KDe(this,t,[n]),Aa(r,"setInputRef",function(j){EDe([r.props.inputRef,r.inputRef],j)}),Aa(r,"isCountrySupportedWithError",function(j){var A=r.props.metadata;return nw(j,A)}),Aa(r,"onCountryChange",function(j){var A=r.props,k=A.international,E=A.metadata,P=A.onChange,$=A.focusInputOnCountrySelection,F=r.state,O=F.phoneDigits,_=F.country,D=ODe(O,{prevCountry:_,newCountry:j,metadata:E,useNationalFormat:!k}),L=gf(D,j,E);$&&r.inputRef.current.focus(),r.setState({country:j,latestCountrySelectedByUser:j,hasUserSelectedACountry:!0,phoneDigits:D,value:L},function(){P(L)})}),Aa(r,"onChange",function(j){var A=r.props,k=A.defaultCountry,E=A.onChange,P=A.addInternationalOption,$=A.international,F=A.limitMaxLength,O=A.countryCallingCodeEditable,_=A.metadata,D=r.state,L=D.countries,R=D.phoneDigits,M=D.country,H=D.latestCountrySelectedByUser,W=RDe(j,{prevPhoneDigits:R,country:M,countryRequired:!P,defaultCountry:k,latestCountrySelectedByUser:H,getAnyCountry:function(){return r.getFirstSupportedCountry({countries:L})},countries:L,international:$,limitMaxLength:F,countryCallingCodeEditable:O,metadata:_}),fe=W.phoneDigits,q=W.country,te=W.value,K={phoneDigits:fe,value:te,country:q};H&&te&&!Mf(te,H,_)&&(K.latestCountrySelectedByUser=void 0),O===!1&&!te&&fe===r.state.phoneDigits&&(K.forceRerender={}),r.setState(K,function(){return E(te)})}),Aa(r,"_onFocus",function(){return r.setState({isFocused:!0})}),Aa(r,"_onBlur",function(){return r.setState({isFocused:!1})}),Aa(r,"onFocus",function(j){r._onFocus();var A=r.props.onFocus;A&&A(j)}),Aa(r,"onBlur",function(j){var A=r.props.onBlur;r._onBlur(),A&&A(j)}),Aa(r,"onCountryFocus",function(j){r._onFocus();var A=r.props.countrySelectProps;if(A){var k=A.onFocus;k&&k(j)}}),Aa(r,"onCountryBlur",function(j){r._onBlur();var A=r.props.countrySelectProps;if(A){var k=A.onBlur;k&&k(j)}}),r.inputRef=se.createRef();var i=r.props,a=i.value;i.labels;var s=i.international,c=i.addInternationalOption,d=i.displayInitialValueAsLocalNumber,f=i.initialValueFormat,p=i.metadata,m=r.props,g=m.defaultCountry,v=m.countries;g&&(r.isCountrySupportedWithError(g)||(g=void 0)),a&&KG(a),v=XG(v,p);var b=eK(a,p);r.CountryIcon=QG(r.props);var C=_De({value:a,phoneNumber:b,defaultCountry:g,required:!c,countries:v||QM(p),getAnyCountry:function(){return r.getFirstSupportedCountry({countries:v})},metadata:p});return r.state={props:r.props,country:C,countries:v,phoneDigits:rK({value:a,phoneNumber:b,defaultCountry:g,international:s,useNationalFormat:d||f==="national",metadata:p}),value:a},r}return ZDe(t,e),GDe(t,[{key:"componentDidMount",value:function(){var r=this.props.onCountryChange,i=this.props.defaultCountry,a=this.state.country;r&&(i&&(this.isCountrySupportedWithError(i)||(i=void 0)),a!==i&&r(a))}},{key:"componentDidUpdate",value:function(r,i){var a=this.props.onCountryChange,s=this.state.country;a&&s!==i.country&&a(s)}},{key:"getCountrySelectOptions",value:function(r){var i=r.countries,a=this.props,s=a.international,c=a.countryCallingCodeEditable,d=a.countryOptionsOrder,f=a.addInternationalOption,p=a.labels,m=a.locales,g=a.metadata;return this.useMemoCountrySelectOptions(function(){return wDe(PDe({countries:i||QM(g),countryNames:p,addInternationalOption:s&&c===!1?!1:f,compareStringsLocales:m}),SDe(d,g))},[i,d,f,p,g])}},{key:"useMemoCountrySelectOptions",value:function(r,i){return(!this.countrySelectOptionsMemoDependencies||!nOe(i,this.countrySelectOptionsMemoDependencies))&&(this.countrySelectOptionsMemo=r(),this.countrySelectOptionsMemoDependencies=i),this.countrySelectOptionsMemo}},{key:"getFirstSupportedCountry",value:function(r){var i=r.countries,a=this.getCountrySelectOptions({countries:i});return a[0].value}},{key:"render",value:function(){var r=this.props,i=r.name,a=r.disabled,s=r.readOnly,c=r.autoComplete,d=r.style,f=r.className;r.inputRef;var p=r.inputComponent,m=r.numberInputProps,g=r.smartCaret,v=r.countrySelectComponent,b=r.countrySelectProps,C=r.containerComponent,j=r.containerComponentProps;r.defaultCountry,r.countries,r.countryOptionsOrder;var A=r.labels;r.flags,r.flagComponent,r.flagUrl,r.addInternationalOption,r.internationalIcon,r.displayInitialValueAsLocalNumber,r.initialValueFormat,r.onCountryChange,r.limitMaxLength,r.countryCallingCodeEditable,r.focusInputOnCountrySelection,r.reset;var k=r.metadata,E=r.international;r.locales;var P=qDe(r,VDe),$=this.state,F=$.country,O=$.countries,_=$.phoneDigits,D=$.isFocused,L=g?X7e:tDe,R=this.getCountrySelectOptions({countries:O});return se.createElement(C,Lf({style:d,className:Ox(f,"PhoneInput",{"PhoneInput--focus":D,"PhoneInput--disabled":a,"PhoneInput--readOnly":s})},j),se.createElement(v,Lf({name:i?"".concat(i,"Country"):void 0,"aria-label":A.country},b,{value:F,options:R,onChange:this.onCountryChange,onFocus:this.onCountryFocus,onBlur:this.onCountryBlur,disabled:a||b&&b.disabled,readOnly:s||b&&b.readOnly,iconComponent:this.CountryIcon})),se.createElement(L,Lf({ref:this.setInputRef,type:"tel",autoComplete:c},m,P,{inputFormat:E===!0?"INTERNATIONAL":E===!1?"NATIONAL":"INTERNATIONAL_OR_NATIONAL",international:E?!0:void 0,withCountryCallingCode:E?!0:void 0,name:i,metadata:k,country:F,value:_||"",onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,disabled:a,readOnly:s,inputComponent:p,className:Ox("PhoneInputInput",m&&m.className,P.className)})))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return iK({props:r},HDe(r,i.props,i))}}])})(se.PureComponent),sK=se.forwardRef(function(e,t){return se.createElement(eOe,Lf({},tOe(e),{inputRef:t}))});sK.propTypes={value:He.string,onChange:He.func.isRequired,onFocus:He.func,onBlur:He.func,disabled:He.bool,readOnly:He.bool,autoComplete:He.string,initialValueFormat:He.oneOf(["national"]),displayInitialValueAsLocalNumber:He.bool,defaultCountry:He.string,countries:He.arrayOf(He.string),labels:JG,locales:He.oneOfType([He.string,He.arrayOf(He.string)]),flagUrl:He.string,flags:He.objectOf(He.elementType),flagComponent:He.elementType,addInternationalOption:He.bool,internationalIcon:He.elementType,countryOptionsOrder:He.arrayOf(He.string),style:He.object,className:He.string,countrySelectComponent:He.elementType,countrySelectProps:He.object,inputComponent:He.elementType,numberInputProps:He.object,containerComponent:He.elementType,containerComponentProps:He.object,smartCaret:He.bool,international:He.bool,limitMaxLength:He.bool,countryCallingCodeEditable:He.bool,metadata:ZG,onCountryChange:He.func,focusInputOnCountrySelection:He.bool};var lL={autoComplete:"tel",countrySelectComponent:qG,flagComponent:Ck,flagUrl:"https://purecatamphetamine.github.io/country-flag-icons/3x2/{XX}.svg",internationalIcon:tw,inputComponent:"input",containerComponent:"div",reset:He.any,smartCaret:!0,addInternationalOption:!0,countryCallingCodeEditable:!0,focusInputOnCountrySelection:!0};function tOe(e){e=iK({},e);for(var t in lL)e[t]===void 0&&(e[t]=lL[t]);return e}function nOe(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;){if(e[n]!==t[n])return!1;n++}return!0}const rOe={ext:"ext.",country:"Phone number country",phone:"Phone",AC:"Ascension Island",AD:"Andorra",AE:"United Arab Emirates",AF:"Afghanistan",AG:"Antigua and Barbuda",AI:"Anguilla",AL:"Albania",AM:"Armenia",AO:"Angola",AQ:"Antarctica",AR:"Argentina",AS:"American Samoa",AT:"Austria",AU:"Australia",AW:"Aruba",AX:"land Islands",AZ:"Azerbaijan",BA:"Bosnia and Herzegovina",BB:"Barbados",BD:"Bangladesh",BE:"Belgium",BF:"Burkina Faso",BG:"Bulgaria",BH:"Bahrain",BI:"Burundi",BJ:"Benin",BL:"Saint Barthlemy",BM:"Bermuda",BN:"Brunei Darussalam",BO:"Bolivia",BQ:"Bonaire, Sint Eustatius and Saba",BR:"Brazil",BS:"Bahamas",BT:"Bhutan",BV:"Bouvet Island",BW:"Botswana",BY:"Belarus",BZ:"Belize",CA:"Canada",CC:"Cocos (Keeling) Islands",CD:"Congo, Democratic Republic of the",CF:"Central African Republic",CG:"Congo",CH:"Switzerland",CI:"Cote d'Ivoire",CK:"Cook Islands",CL:"Chile",CM:"Cameroon",CN:"China",CO:"Colombia",CR:"Costa Rica",CU:"Cuba",CV:"Cape Verde",CW:"Curaao",CX:"Christmas Island",CY:"Cyprus",CZ:"Czech Republic",DE:"Germany",DJ:"Djibouti",DK:"Denmark",DM:"Dominica",DO:"Dominican Republic",DZ:"Algeria",EC:"Ecuador",EE:"Estonia",EG:"Egypt",EH:"Western Sahara",ER:"Eritrea",ES:"Spain",ET:"Ethiopia",FI:"Finland",FJ:"Fiji",FK:"Falkland Islands",FM:"Federated States of Micronesia",FO:"Faroe Islands",FR:"France",GA:"Gabon",GB:"United Kingdom",GD:"Grenada",GE:"Georgia",GF:"French Guiana",GG:"Guernsey",GH:"Ghana",GI:"Gibraltar",GL:"Greenland",GM:"Gambia",GN:"Guinea",GP:"Guadeloupe",GQ:"Equatorial Guinea",GR:"Greece",GS:"South Georgia and the South Sandwich Islands",GT:"Guatemala",GU:"Guam",GW:"Guinea-Bissau",GY:"Guyana",HK:"Hong Kong",HM:"Heard Island and McDonald Islands",HN:"Honduras",HR:"Croatia",HT:"Haiti",HU:"Hungary",ID:"Indonesia",IE:"Ireland",IL:"Israel",IM:"Isle of Man",IN:"India",IO:"British Indian Ocean Territory",IQ:"Iraq",IR:"Iran",IS:"Iceland",IT:"Italy",JE:"Jersey",JM:"Jamaica",JO:"Jordan",JP:"Japan",KE:"Kenya",KG:"Kyrgyzstan",KH:"Cambodia",KI:"Kiribati",KM:"Comoros",KN:"Saint Kitts and Nevis",KP:"North Korea",KR:"South Korea",KW:"Kuwait",KY:"Cayman Islands",KZ:"Kazakhstan",LA:"Laos",LB:"Lebanon",LC:"Saint Lucia",LI:"Liechtenstein",LK:"Sri Lanka",LR:"Liberia",LS:"Lesotho",LT:"Lithuania",LU:"Luxembourg",LV:"Latvia",LY:"Libya",MA:"Morocco",MC:"Monaco",MD:"Moldova",ME:"Montenegro",MF:"Saint Martin (French Part)",MG:"Madagascar",MH:"Marshall Islands",MK:"North Macedonia",ML:"Mali",MM:"Myanmar",MN:"Mongolia",MO:"Macao",MP:"Northern Mariana Islands",MQ:"Martinique",MR:"Mauritania",MS:"Montserrat",MT:"Malta",MU:"Mauritius",MV:"Maldives",MW:"Malawi",MX:"Mexico",MY:"Malaysia",MZ:"Mozambique",NA:"Namibia",NC:"New Caledonia",NE:"Niger",NF:"Norfolk Island",NG:"Nigeria",NI:"Nicaragua",NL:"Netherlands",NO:"Norway",NP:"Nepal",NR:"Nauru",NU:"Niue",NZ:"New Zealand",OM:"Oman",PA:"Panama",PE:"Peru",PF:"French Polynesia",PG:"Papua New Guinea",PH:"Philippines",PK:"Pakistan",PL:"Poland",PM:"Saint Pierre and Miquelon",PN:"Pitcairn",PR:"Puerto Rico",PS:"Palestine",PT:"Portugal",PW:"Palau",PY:"Paraguay",QA:"Qatar",RE:"Reunion",RO:"Romania",RS:"Serbia",RU:"Russia",RW:"Rwanda",SA:"Saudi Arabia",SB:"Solomon Islands",SC:"Seychelles",SD:"Sudan",SE:"Sweden",SG:"Singapore",SH:"Saint Helena",SI:"Slovenia",SJ:"Svalbard and Jan Mayen",SK:"Slovakia",SL:"Sierra Leone",SM:"San Marino",SN:"Senegal",SO:"Somalia",SR:"Suriname",SS:"South Sudan",ST:"Sao Tome and Principe",SV:"El Salvador",SX:"Sint Maarten",SY:"Syria",SZ:"Swaziland",TA:"Tristan da Cunha",TC:"Turks and Caicos Islands",TD:"Chad",TF:"French Southern Territories",TG:"Togo",TH:"Thailand",TJ:"Tajikistan",TK:"Tokelau",TL:"Timor-Leste",TM:"Turkmenistan",TN:"Tunisia",TO:"Tonga",TR:"Turkey",TT:"Trinidad and Tobago",TV:"Tuvalu",TW:"Taiwan",TZ:"Tanzania",UA:"Ukraine",UG:"Uganda",UM:"United States Minor Outlying Islands",US:"United States",UY:"Uruguay",UZ:"Uzbekistan",VA:"Holy See (Vatican City State)",VC:"Saint Vincent and the Grenadines",VE:"Venezuela",VG:"Virgin Islands, British",VI:"Virgin Islands, U.S.",VN:"Vietnam",VU:"Vanuatu",WF:"Wallis and Futuna",WS:"Samoa",XA:"Abkhazia",XK:"Kosovo",XO:"South Ossetia",YE:"Yemen",YT:"Mayotte",ZA:"South Africa",ZM:"Zambia",ZW:"Zimbabwe",ZZ:"International"};var iOe=["metadata","labels"];function b5(){return b5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b5.apply(this,arguments)}function aOe(e,t){if(e==null)return{};var n=oOe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function oOe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function lK(e){var t=se.forwardRef(function(n,r){var i=n.metadata,a=i===void 0?e:i,s=n.labels,c=s===void 0?rOe:s,d=aOe(n,iOe);return se.createElement(sK,b5({},d,{ref:r,metadata:a,labels:c}))});return t.propTypes={metadata:ZG,labels:JG},t}lK();const sOe=lK(qEe),lOe=()=>{const[e,t]=w.useState(!1),n=()=>t(X=>!X),r=wt(),i=Fn(),{accessToken:a,user:s}=qe(X=>X.auth),{doctorProfile:c}=qe(X=>X.doctorDetail),f=c?.doctorDegrees?.[0]?.registryInfo?.full_name||c?.name||"Doctor",[p,m]=w.useState({clinicName:"",address:"",contactNumber:"",email:"",whatsappLink:"",code:""}),[g,v]=w.useState(!1),[b,C]=w.useState(!1),[j,A]=w.useState({clinicName:"",contactNumber:"",email:"",address:""}),k=w.useRef(null),E=w.useRef(null),[P,$]=w.useState(!1),[F,O]=w.useState(!1),[_,D]=w.useState({isOpen:!1,title:"",message:"",type:"info"}),L=X=>{const J=(X||"").trim();return J?J.length<3?"Clinic name must be at least 3 characters.":J.length>80?"Clinic name cannot be more than 80 characters.":/^[A-Za-z\s]+$/.test(J)?"":"Clinic name can only contain letters and spaces (no numbers).":"Clinic name is required."},R=X=>{const J=(X||"").trim();return J?J.length<10?"Address must be at least 10 characters.":J.length>300?"Address cannot exceed 300 characters.":"":"Address is required."},M=X=>{const J=X.replace(/\D/g,"");return!J.startsWith("91")||J.length!==12?"Please enter a valid number.":""},H=X=>{const J=(X||"").trim();return J?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(J)?"":"Please enter a valid email address.":""},W=X=>{if(X==null)return"";if(typeof X=="string")return X;if(X instanceof Error)return X.message||String(X);try{return typeof X=="object"?typeof X.message=="string"?X.message:JSON.stringify(X):String(X)}catch{return"An error occurred"}},fe=(X,J,ce="success")=>{D({isOpen:!0,title:X,message:W(J),type:ce}),setTimeout(()=>{D({isOpen:!0,title:X,message:W(J),type:ce})},10)},q=()=>D(X=>({...X,isOpen:!1})),{clinics:te=[],loading:K,error:z,message:V}=qe(X=>X.clinic);w.useEffect(()=>{console.log("DOCTOR PROFILE OBJECT ",c)},[c]),w.useEffect(()=>{r(Cf())},[r]),w.useEffect(()=>{V&&(fe("Success",V,"success"),r(lf())),z&&(fe("Error",z,"error"),r(lf()))},[V,z,r]),w.useEffect(()=>{const X=localStorage.getItem("token");a&&s?(O(!0),r(bf())):X&&!s?(r(Ri(X)),r(ko()).then(J=>{ko.fulfilled.match(J)?(O(!0),r(bf())):(localStorage.removeItem("token"),localStorage.removeItem("user"),i("/signin"))})):i("/signin")},[a,s,r,i]),w.useEffect(()=>{if(!s)return;if(Array.isArray(te)&&te.length>0){v(!1);return}if(sessionStorage.getItem("welcomeClosedThisSession")==="1"){v(!1);return}v(!0)},[s,te]),w.useEffect(()=>{if(p.clinicName){const X=p.clinicName.trim().split(" ").map(J=>J.charAt(0).toUpperCase()).join("").slice(0,3);m(J=>({...J,code:X||""}))}else m(X=>({...X,code:""}))},[p.clinicName]);const Z=async X=>{X.preventDefault(),C(!0);const J=L(p.clinicName),ce=M(p.contactNumber),ae=R(p.address),ne=(p.email||"").trim(),G=ne?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(ne)?"":"Please enter a valid email address.":"";if(A({clinicName:J,contactNumber:ce,email:G}),J||ce||G||ae){if(J)k.current?.focus();else if(ae)addressRef.current?.focus();else{if(ce)return;G&&E.current?.focus()}fe("Please fix errors","Please check highlighted fields","error");return}try{await r(R1(p)).unwrap(),fe("Success","Clinic added successfully!","success"),m({clinicName:"",address:"",contactNumber:"",email:"",whatsappLink:"",code:""}),A({clinicName:"",contactNumber:"",email:""}),C(!1),$(!1)}catch(ee){fe("Error",W(ee),"error")}},re=()=>{m({clinicName:"",address:"",contactNumber:"",email:"",whatsappLink:"",code:""}),A({clinicName:"",contactNumber:""}),$(!1),r(lf())},me=()=>{$(!0),r(lf())},ge=X=>{const J=X.id||X._id;localStorage.setItem("selectedClinicId",J),r(jF(X)),i(`/doctor-dashboard?clinicId=${J}`)},Pe=X=>{const J=X.id||X._id;$p.confirmAlert({customUI:({onClose:ce})=>o.jsx("div",{className:"custom-overlay",children:o.jsxs("div",{className:"modal-card",children:[o.jsx("h2",{children:"Confirm Delete"}),o.jsxs("p",{children:['Are you sure you want to delete "',o.jsx("strong",{children:X.clinicName||X.name}),'"? This action cannot be undone.']}),o.jsxs("div",{className:"modal-buttons",children:[o.jsx("button",{className:"btn btn-danger",onClick:async()=>{try{await r(M1(J)).unwrap(),fe("Deleted","Clinic deleted successfully","success")}catch(ae){const ne=W(ae);fe("Error",ne||"Failed to delete clinic","error")}finally{ce()}},children:"Yes, Delete"}),o.jsx("button",{className:"btn btn-secondary",onClick:ce,children:"Cancel"})]})]})})})};return F?o.jsxs(o.Fragment,{children:[o.jsx("style",{jsx:!0,children:`
        .layout {
          display: flex;
          min-height: 100vh;
          background: linear-gradient(135deg, #f0f7fb 0%, #e6f0fa 100%);
          font-family: "Segoe UI", sans-serif;
        }
        .sidebar-wrapper {
          position: fixed;
          top: 0;
          left: 0;
          height: 100%;
          width: 250px;
          z-index: 999;
          transition: transform 0.3s ease-in-out;
          transform: translateX(${e?"0":"-250px"});
        }
        .main-content {
          flex: 1;
          transition: margin-left 0.3s ease-in-out;
          margin-left: ${e?"250px":"0"};
          padding: 2rem;
        }
        .top-bar {
          position: fixed;
          top: 0;
          left: ${e?"250px":"0"};
          right: 0;
          height: 70px;
          background-color: white;

          z-index: 998;
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: 0 2rem;
          transition: left 0.3s ease-in-out;
        }
        .toggle-btn {
          background: #186476;
          color: white;
          border: none;
          border-radius: 20%;
          width: 30px;
          height: 30px;
          cursor: pointer;
          display: grid;
          place-items: center;
          box-shadow: 0 4px 15px rgba(24, 100, 118, 0.3);
          transition: all 0.3s;
        }
        .toggle-btn:hover {
          background: #3fa3b9;
          transform: scale(1.1);
        }
        .page-container {
          max-width: 1300px;
          margin: 90px auto 2rem;
          padding: 0 1rem;
        }
        .card {
          background: white;
          border-radius: 16px;
          box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
          transition: all 0.3s ease;
        }
        .card:hover {
          transform: translateY(-8px);
          box-shadow: 0 20px 40px rgba(0, 0, 0, 0.12);
        }
        .clinic-card {
          border-left: 6px solid #5ac5d8;
        }
        .btn-primary {
          background: #5ac5d8;
          color: white;
          border: none;
          padding: 12px 24px;
          border-radius: 12px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.3s;
        }
        .btn-primary:hover {
          background: #3fa3b9;
          transform: translateY(-2px);
        }
        /* --- GLOBAL FORM CONTAINER --- */
        form {
          width: 100%;
          max-width: 520px;
          margin: auto;
        }

        /* --- INPUT GROUP WRAPPER --- */
        .input-group {
          margin-bottom: 1.5rem;
          display: flex;
          flex-direction: column;
          box-sizing: border-box;
        }

        .input-group label {
          font-weight: 600;
          margin-bottom: 6px;
          color: #374151;
        }

        /* --- INPUT FIELDS --- */
        .input-group input,
        .phone-wrapper input,
        .country-select {
          width: 100%;
          padding: 12px 14px;
          border: 2px solid #e5e7eb;
          border-radius: 12px;
          font-size: 1rem;
          transition: 0.3s ease;
          background: white;
        }

        .input-group input:focus,
        .phone-wrapper input:focus,
        .country-select:focus {
          border-color: #5ac5d8;
          box-shadow: 0 0 0 4px rgba(90, 197, 216, 0.2);
          outline: none;
        }

        /* --- PHONE INPUT GROUP FIX --- */
        .phone-wrapper {
          display: flex;
          gap: 10px;
          align-items: center;
          width: 100%;
        }

        .country-select {
          width: 140px;
          padding: 12px 10px;
          border-radius: 12px;
          background: #f9fafb;
          cursor: pointer;
        }

        /* Right-side  icon positioning */
        .input-valid-icon {
          position: absolute;
          right: 12px;
          top: 50%;
          transform: translateY(-50%);
          color: #16a34a;
          font-weight: 700;
        }

        /* --- HELPER & ERROR TEXT --- */
        .error-text {
          margin-top: 4px;
          color: #dc2626;
          font-size: 0.85rem;
        }

        .helper-text {
          margin-top: 4px;
          color: #065f46;
          font-size: 0.85rem;
        }

        /* --- BUTTONS --- */
        .btn-primary {
          background: #5ac5d8;
          border: none;
          padding: 12px 28px;
          border-radius: 12px;
          color: white;
          cursor: pointer;
          font-weight: 600;
          transition: 0.2s ease;
        }

        .btn-primary:hover {
          background: #46b8cd;
        }

        .btn-primary:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }

        @media (max-width: 768px) {
          .main-content {
            margin-left: 0 !important;
            padding: 1rem;
          }
          .top-bar {
            left: 0 !important;
            padding: 0 1rem;
            justify-content: flex-start;
          }
          .top-bar > div:first-child {
            margin-left: 1rem;
          }
          .toggle-btn {
            margin-left: auto;
          }
          .page-container {
            margin-top: 100px;
          }
        }
        .phone-row {
          display: flex;
          gap: 0.5rem;
          align-items: center;
        }

        /* Country dropdown width thodi kam */
        .phone-row select {
          width: 40%;
        }

        /* Number input remaining space le */
        .phone-row input {
          flex: 1;
        }

        .phone-wrapper {
          display: flex;
          gap: 0.75rem;
          align-items: center;
        }

        /* Country dropdown small and neat */
        .country-select {
          min-width: 160px;
          padding: 10px;
          border: 2px solid #e5e7eb;
          border-radius: 10px;
          font-size: 0.9rem;
          background: #ffffff;
          cursor: pointer;
          white-space: nowrap; /* flag + text cut na ho */
        }

        /* Large input box */
        .phone-input {
          flex: 1;
          padding: 12px 16px;
          border: 2px solid #e5e7eb;
          border-radius: 12px;
          font-size: 1rem;
        }

        .phone-input:focus,
        .country-select:focus {
          outline: none;
          border-color: #5ac5d8;
          box-shadow: 0 0 0 4px rgba(90, 197, 216, 0.2);
        }

        /* Mobile responsive: neeche stack ho jaye */
        @media (max-width: 600px) {
          .phone-wrapper {
            flex-direction: column;
            align-items: stretch;
          }

          .country-select {
            width: 100%;
          }

          .phone-input {
            width: 100%;
          }
        }

        .error-text {
          color: #b91c1c;
          font-size: 0.85rem;
          margin-top: 0.25rem;
        }
        .helper-text {
          color: #065f46;
          font-size: 0.85rem;
          margin-top: 0.25rem;
        }

        /* make sure the  icon doesn't overlap on small screens */
        @media (max-width: 480px) {
          .phone-input,
          .input-group input {
            padding-right: 40px;
          }
        }
        .PhoneInput {
          display: flex;
          gap: 10px;
        }

        .PhoneInputInput {
          width: 100%;
          padding: 12px 14px;
          border: 2px solid #e5e7eb;
          border-radius: 12px;
          font-size: 1rem;
        }

        .PhoneInputInput:focus {
          border-color: #5ac5d8;
          outline: none;
          box-shadow: 0 0 0 4px rgba(90, 197, 216, 0.2);
        }
        .PhoneInputCountry {
          display: none;
        }

        textarea {
          font-family: "Segoe UI", sans-serif;
          line-height: 1.5;
        }
      `}),o.jsxs("div",{className:"layout",children:[o.jsx("div",{className:"sidebar-wrapper",children:o.jsx(Fo,{})}),o.jsxs("div",{className:"top-bar",children:[o.jsxs("div",{style:{fontWeight:500,color:"#374151"},children:["Welcome, Dr. ",f]}),o.jsx("button",{className:"toggle-btn",onClick:n,"aria-label":"Toggle sidebar",children:o.jsx(pc,{size:20})})]}),o.jsx("div",{className:"main-content",children:o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{style:{textAlign:"center",marginBottom:"3rem"},children:[o.jsxs("h1",{style:{fontSize:"2.8rem",color:"#186476",marginBottom:"0.5rem",fontWeight:700},children:[o.jsx(n7,{style:{marginRight:"1rem",color:"#5ac5d8"}}),"Clinic Management"]}),o.jsx("p",{style:{color:"#6b7280",fontSize:"1.1rem"},children:"Manage and access all your registered clinics"})]}),V&&o.jsxs("div",{style:{padding:"1rem",background:"#d1fae5",color:"#065f46",borderRadius:"12px",textAlign:"center",marginBottom:"1.5rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[o.jsx(hc,{})," ",W(V)]}),z&&o.jsxs("div",{style:{padding:"1rem",background:"#fee2e2",color:"#991b1b",borderRadius:"12px",textAlign:"center",marginBottom:"1.5rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[o.jsx(c2,{})," ",W(z)]}),!P&&o.jsx("div",{style:{textAlign:"center",marginBottom:"2.5rem"},children:o.jsxs("button",{onClick:me,className:"btn-primary",style:{fontSize:"1.1rem",padding:"14px 32px"},children:[o.jsx(eue,{style:{marginRight:"8px"}})," Add New Clinic"]})}),P&&o.jsxs("div",{className:"card",style:{padding:"2rem",maxWidth:"600px",margin:"0 auto 3rem"},children:[o.jsx("h2",{style:{textAlign:"center",color:"#186476",marginBottom:"1.5rem"},children:"Register New Clinic"}),o.jsxs("form",{onSubmit:Z,children:[o.jsxs("div",{className:"input-group",children:[o.jsx("label",{htmlFor:"clinicName",children:"Clinic Name *"}),o.jsx("input",{id:"clinicName",ref:k,type:"text",value:p.clinicName,onBlur:X=>{const J=L(X.target.value);A(ce=>({...ce,clinicName:J}))},onChange:X=>{const J=X.target.value.replace(/[0-9]/g,"");m(ce=>({...ce,clinicName:J})),b&&A(ce=>({...ce,clinicName:L(J)}))},placeholder:"e.g. Harmony Health Clinic",style:{borderColor:j.clinicName?"#f87171":"#e5e7eb"}}),j.clinicName&&o.jsx("p",{className:"error-text",children:j.clinicName})]}),o.jsxs("div",{className:"input-group",children:[o.jsx("label",{children:"Address *"}),o.jsx("textarea",{rows:3,value:p.address,onBlur:X=>{const J=R(X.target.value);A(ce=>({...ce,address:J}))},onChange:X=>{const J=X.target.value;m(ce=>({...ce,address:J})),b&&A(ce=>({...ce,address:R(J)}))},placeholder:"Enter full clinic address",style:{resize:"vertical",padding:"12px 14px",borderRadius:"12px",border:j.address?"2px solid #f87171":"2px solid #e5e7eb",fontSize:"1rem"}}),j.address&&o.jsx("p",{className:"error-text",children:j.address})]}),o.jsxs("div",{className:"input-group",children:[o.jsx("label",{children:"Contact Number *"}),o.jsx(sOe,{defaultCountry:"IN",countries:["IN"],international:!0,withCountryCallingCode:!0,countryCallingCodeEditable:!1,value:p.contactNumber,onChange:X=>{if(!X){m(ce=>({...ce,contactNumber:"",whatsappLink:""}));return}const J=X.replace(/\D/g,"");if(J.length>=3){const ce=J.charAt(2);if(!["6","7","8","9"].includes(ce))return}m(ce=>({...ce,contactNumber:X,whatsappLink:`https://wa.me/${J}`})),b&&A(ce=>({...ce,contactNumber:M(X)}))}}),j.contactNumber&&o.jsx("p",{className:"error-text",children:j.contactNumber})]}),o.jsxs("div",{className:"input-group",children:[o.jsx("label",{htmlFor:"email",children:"Email"}),o.jsx("div",{style:{position:"relative"},children:o.jsx("input",{id:"email",ref:E,type:"email",value:p.email,onBlur:X=>{A(J=>({...J,email:H(X.target.value)}))},onChange:X=>{const J=X.target.value;if(m({...p,email:J}),b){const ce=J?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(J)?"":"Please enter a valid email address.":"";A(ae=>({...ae,email:ce}))}},placeholder:"clinic@example.com","aria-invalid":!!j.email,"aria-describedby":"emailError",style:{paddingRight:"36px",borderColor:j.email?"#f87171":void 0}})})]}),o.jsxs("div",{className:"input-group",children:[o.jsx("label",{children:"WhatsApp Link (optional)"}),o.jsx("input",{type:"url",value:p.whatsappLink,style:{paddingRight:"36px"},onChange:X=>m({...p,whatsappLink:X.target.value}),placeholder:"https://wa.me/1234567890"})]}),o.jsxs("div",{className:"input-group",children:[o.jsx("label",{children:"Clinic Code (Auto-generated)"}),o.jsx("input",{type:"text",value:p.code,disabled:!0,style:{background:"#f3f4f6",color:"#6b7280",paddingRight:"36px"}})]}),o.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",marginTop:"2rem"},children:[o.jsx("button",{type:"submit",className:"btn-primary",disabled:K,children:K?"Adding Clinic...":"Add Clinic"}),o.jsx("button",{type:"button",onClick:re,style:{background:"#6b7280",padding:"12px 24px",borderRadius:"12px",color:"white",border:"none"},children:"Cancel"})]})]})]}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(320px, 1fr))",gap:"2rem"},children:te.length===0?o.jsxs("div",{style:{gridColumn:"1 / -1",textAlign:"center",padding:"4rem",color:"#9ca3af"},children:[o.jsx(n7,{size:64,style:{marginBottom:"1rem",opacity:.5}}),o.jsx("p",{style:{fontSize:"1.3rem"},children:"No clinics found. Add your first clinic to get started!"})]}):te.map(X=>o.jsxs("div",{className:"card clinic-card",style:{padding:"1.8rem"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"1rem"},children:[o.jsx("h3",{style:{fontSize:"1.5rem",color:"#186476",margin:0},children:X.clinicName||X.name}),o.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[o.jsx("span",{style:{background:"#ecfdf5",color:"#065f46",padding:"4px 12px",borderRadius:"20px",fontSize:"0.85rem",fontWeight:600},children:X.code}),o.jsx("button",{onClick:()=>Pe(X),disabled:K,title:"Delete clinic",style:{background:"transparent",border:"none",padding:"8px",borderRadius:"8px",cursor:K?"not-allowed":"pointer",display:"grid",placeItems:"center",boxShadow:"none"},children:o.jsx(cue,{style:{color:"#ef4444"}})})]})]}),o.jsxs("div",{style:{color:"#4b5563",lineHeight:"1.8"},children:[X.address&&o.jsxs("p",{children:[o.jsx("strong",{children:"Address:"})," ",X.address]}),X.contactNumber&&o.jsxs("p",{children:[o.jsx("strong",{children:"Phone:"})," ",X.contactNumber]}),X.email&&o.jsxs("p",{children:[o.jsx("strong",{children:"Email:"})," ",X.email]}),X.whatsappLink&&o.jsxs("p",{children:[o.jsx("strong",{children:"WhatsApp:"})," ",o.jsx("a",{href:X.whatsappLink,target:"_blank",rel:"noopener noreferrer",style:{color:"#25d366"},children:"Open Chat"})]})]}),o.jsx("button",{onClick:()=>ge(X),className:"btn-primary",style:{width:"100%",marginTop:"1.5rem",fontSize:"1.1rem",padding:"14px"},children:"Enter Clinic Dashboard"})]},X.id||X._id))})]})})]}),o.jsx(Xg,{isOpen:_.isOpen,title:_.title,message:_.message,type:_.type,onClose:q}),o.jsx(VEe,{isOpen:g,onClose:()=>v(!1),userName:f,onAddClinicClicked:me})]}):o.jsx("div",{style:{display:"grid",placeItems:"center",height:"100vh",background:"#f0f4f8"},children:o.jsx("div",{style:{fontSize:"1.5rem",color:"#186476"},children:"Loading your clinics..."})})},cOe=e=>{if(!e)return{value:null,unit:""};const t=new Date(e),n=new Date;let r=n.getFullYear()-t.getFullYear(),i=n.getMonth()-t.getMonth(),a=n.getDate()-t.getDate();return a<0&&(i--,a+=new Date(n.getFullYear(),n.getMonth(),0).getDate()),i<0&&(r--,i+=12),r===0&&i===0?{value:a,unit:"days"}:r===0?{value:i,unit:"months"}:{value:r,unit:"years"}},uOe=({onClose:e,showDialog:t,setReloadPatients:n})=>{const r=wt(),{loading:i,error:a}=qe(g=>g.reception),[s,c]=w.useState({name:"",fatherName:"",dob:"",gender:"",age:"",ageUnit:"",phone:"",address:""}),[d,f]=w.useState({}),p=()=>{const g={};return s.name||(g.name="Name required"),s.gender||(g.gender="Gender required"),s.dob||(g.dob="DOB required"),(!s.age||s.age<=0)&&(g.age="Valid age required"),(!s.phone||s.phone.length!==10)&&(g.phone="10-digit number required"),s.address||(g.address="Address required"),f(g),Object.keys(g).length===0},m=async g=>{if(g.preventDefault(),!!p())try{await r(qm(s)).unwrap(),t("Success","Patient registered successfully!","success"),n(v=>!v),c({name:"",fatherName:"",dob:"",gender:"",age:"",ageUnit:"",phone:"",address:""}),e()}catch(v){t("Error",`Registration failed: ${v.message||v}`,"error")}};return o.jsx("div",{style:Pt.overlay,children:o.jsxs("div",{style:Pt.formContainer,children:[o.jsx("h2",{style:Pt.title,children:"Register New Patient"}),o.jsxs("form",{onSubmit:m,style:Pt.formGrid,children:[o.jsxs("div",{style:Pt.field,children:[o.jsx("label",{style:Pt.label,children:"Name"}),o.jsx("input",{type:"text",value:s.name,onChange:g=>{const v=g.target.value;/^[A-Za-z ]*$/.test(v)?(c({...s,name:v}),f(b=>({...b,name:""}))):f(b=>({...b,name:"Only alphabets allowed"}))},style:Pt.input,placeholder:"Enter patient name"}),d.name&&o.jsx("p",{style:Pt.error,children:d.name})]}),o.jsxs("div",{style:Pt.field,children:[o.jsx("label",{style:Pt.label,children:"Father Name"}),o.jsx("input",{type:"text",value:s.fatherName,onChange:g=>c({...s,fatherName:g.target.value}),style:Pt.input,placeholder:"Enter father name"})]}),o.jsxs("div",{style:Pt.field,children:[o.jsx("label",{style:Pt.label,children:"Gender"}),o.jsxs("select",{value:s.gender,onChange:g=>c({...s,gender:g.target.value}),style:Pt.select,children:[o.jsx("option",{value:"",children:"Select Gender"}),o.jsx("option",{value:"male",children:"Male"}),o.jsx("option",{value:"female",children:"Female"})]}),d.gender&&o.jsx("p",{style:Pt.error,children:d.gender})]}),o.jsxs("div",{style:Pt.field,children:[o.jsx("label",{style:Pt.label,children:"Date of Birth"}),o.jsx("input",{type:"date",value:s.dob,onChange:g=>{const v=g.target.value,{value:b,unit:C}=cOe(v);c({...s,dob:v,age:b,ageUnit:C}),f(j=>({...j,dob:""}))},style:Pt.input}),d.dob&&o.jsx("p",{style:Pt.error,children:d.dob})]}),o.jsxs("div",{style:Pt.field,children:[o.jsx("label",{style:Pt.label,children:"Age (Auto)"}),o.jsx("input",{type:"text",value:s.age!==""?`${s.age} ${s.ageUnit}`:"",readOnly:!0,style:{...Pt.input,background:"#f9f9f9",color:"#555"}}),d.age&&o.jsx("p",{style:Pt.error,children:d.age})]}),o.jsxs("div",{style:Pt.field,children:[o.jsx("label",{style:Pt.label,children:"Phone"}),o.jsx("input",{type:"text",maxLength:10,value:s.phone,onChange:g=>{const v=g.target.value;/^\d*$/.test(v)&&c({...s,phone:v})},style:Pt.input,placeholder:"10-digit phone number"}),d.phone&&o.jsx("p",{style:Pt.error,children:d.phone})]}),o.jsxs("div",{style:Pt.fieldFull,children:[o.jsx("label",{style:Pt.label,children:"Address"}),o.jsx("input",{type:"text",value:s.address,onChange:g=>c({...s,address:g.target.value}),style:Pt.input,placeholder:"Enter patient address"}),d.address&&o.jsx("p",{style:Pt.error,children:d.address})]}),o.jsxs("div",{style:Pt.actions,children:[o.jsx("button",{type:"submit",disabled:i,style:Pt.saveBtn,children:i?"Saving...":"Save"}),o.jsx("button",{type:"button",onClick:e,style:Pt.cancelBtn,children:"Cancel"})]}),a&&o.jsx("p",{style:Pt.error,children:a})]})]})})},Pt={overlay:{position:"fixed",inset:0,background:"rgba(0,0,0,0.4)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},formContainer:{background:"#fff",padding:30,borderRadius:12,width:500,maxWidth:"95%",boxShadow:"0 8px 25px rgba(0,0,0,0.2)",fontFamily:"'Inter', sans-serif"},title:{textAlign:"center",marginBottom:25,fontSize:22,fontWeight:700,color:"#186476"},formGrid:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:15},field:{display:"flex",flexDirection:"column"},fieldFull:{display:"flex",flexDirection:"column",gridColumn:"1 / -1"},label:{fontWeight:600,marginBottom:6,color:"#333"},input:{padding:10,border:"1px solid #ccc",borderRadius:6,fontSize:14,outline:"none",transition:"all 0.2s"},select:{padding:10,border:"1px solid #ccc",borderRadius:6,fontSize:14,outline:"none"},actions:{marginTop:20,display:"flex",justifyContent:"space-between",gridColumn:"1 / -1"},saveBtn:{background:"#186476",color:"#fff",border:"none",padding:"10px 20px",borderRadius:6,cursor:"pointer",fontWeight:600},cancelBtn:{background:"#aaa",color:"#fff",border:"none",padding:"10px 20px",borderRadius:6,cursor:"pointer",fontWeight:600},error:{color:"#d32f2f",fontSize:12,marginTop:4}},dOe=e=>{if(e==null)return[];if(typeof e=="number"||typeof e=="boolean")return[];if(typeof e=="object"&&(e.count===0||e.total===0||e.length===0))return[];const t=[e.appointments,e.data?.appointments,e.daily?.appointments,e.daily?.slots,e.slots,e.items,e.schedule,e.list];for(const n of t)if(Array.isArray(n)&&n.length>0)return n;return Array.isArray(e)&&e.length>0?e:[]},fOe=e=>{if(e==null||e==="")return"";const t=String(e);return Number.isNaN(Number(t))?t:t.padStart(3,"0")},GS=e=>{const t=e?.tokenNumber??e?.token??(e?.id&&(typeof e.id=="number"||typeof e.id=="string")?e.id:void 0)??e?.appointmentId??void 0,n=e?.name??e?.patientId?.name??e?.patientName??e?.patient?.name??"Unknown Patient",r=e?.age??e?.patientId?.age??"",i=e?.gender??e?.patientId?.gender??"";return{token:fOe(t),name:n,age:r,gender:i}},pOe=({dailyCalendar:e,calendarLoading:t=!1,calendarError:n=null,todayDashboard:r={todaysPatients:0,todaysAppointments:0,todaysBilling:0},dashboardLoading:i=!1,dashboardError:a=null,patients:s=[],appointments:c=[],billing:d=[],selectedDate:f,waiting:p=[],completed:m=[],emergency:g=[],handleUpdatePatientStatus:v,todayAppointments:b=[],todayAppointmentsLoading:C=!1,todayAppointmentsCount:j=0})=>{const[A,k]=se.useState(!0),[E,P]=se.useState(!0),[$,F]=se.useState(!1),O=dOe(e),_=Array.isArray(O)?O.length:0,D=(c||[]).filter(q=>q.date===f).length,L=(d||[]).filter(q=>q.date===f).reduce((q,te)=>q+(te.amount-(te.discount||0)),0),R=i?"":r?.todaysPatients!==void 0?r.todaysPatients:0,M=t?"":_>0?_:(r?.todaysAppointments??0)>0?r.todaysAppointments:D,H=i?"":(r?.todaysBilling??0)>0?parseInt(r.todaysBilling):parseInt(L||0),W=()=>t?o.jsx("div",{className:"api-status api-loading",children:"Loading appointments"}):n?o.jsx("div",{className:"api-status api-error",children:"Using local data (API failed)"}):_>0&&D>0&&_!==D?o.jsxs("div",{className:"api-status",style:{background:"#e8f5e9",color:"#2e7d32"},children:["Synced (",_,")  local: ",D]}):null,fe=()=>i?o.jsx("div",{className:"api-status api-loading",children:"Loading stats"}):a?o.jsx("div",{className:"api-status api-error",children:"Using local data"}):null;return o.jsxs(o.Fragment,{children:[o.jsx("style",{jsx:!0,children:`
        .overview-card {
          display: inline-block;
          width: 220px;
          padding: 15px;
          margin: 10px;
          background: #186476;
          color: #fff;
          border-radius: 8px;
          text-align: center;
          box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
          transition: transform 0.2s;
        }
        .overview-card:hover {
          transform: translateY(-3px);
        }

        .queue-container {
          display: flex;
          gap: 20px;
          flex-wrap: wrap;
          margin-bottom: 20px;
        }

        .queue-card {
          flex: 1;
          min-width: 220px;
          background: #fff;
          padding: 15px;
          border-radius: 8px;
          box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
        }

        .queue-item {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 8px 0;
          border-bottom: 1px solid #f0f0f0;
        }

        .queue-item:last-child {
          border-bottom: none;
        }

        .token-badge {
          display: inline-block;
          min-width: 56px;
          text-align: center;
          font-weight: 700;
        }

        .patient-info {
          flex: 1;
          margin-left: 12px;
          text-align: left;
        }

        .patient-meta {
          color: #666;
          font-size: 0.85rem;
        }

        .section-title {
          margin-top: 30px;
          text-align: center;
          font-size: 20px;
          font-weight: bold;
          color: #333;
        }

        .status-button {
          padding: 5px 10px;
          margin-left: 10px;
          border-radius: 4px;
          border: none;
          cursor: pointer;
          color: #fff;
          font-weight: bold;
          transition: all 0.3s;
        }
        .status-button:hover {
          transform: scale(1.05);
          opacity: 0.9;
        }

        .btn-done {
          background: #28a745;
        }
        .btn-update {
          background: #ffc107;
          color: #000;
        }
        .btn-urgent {
          background: #dc3545;
        }

        .api-status {
          margin: 8px 0 0;
          padding: 6px;
          border-radius: 6px;
          font-size: 0.85rem;
          text-align: center;
        }
        .api-loading {
          background: #e3f2fd;
          color: #1976d2;
        }
        .api-error {
          background: #ffebee;
          color: #c62828;
        }

        @media (max-width: 768px) {
          .overview-card {
            width: 100%;
            margin: 10px 0;
          }
          .queue-container {
            flex-direction: column;
          }
        }
      `}),o.jsxs("div",{children:[o.jsxs("div",{style:{textAlign:"center"},children:[o.jsxs("div",{className:"overview-card",children:["Todays Patients",o.jsx("br",{}),o.jsx("strong",{style:{fontSize:"1.8rem"},children:R}),fe()]}),o.jsxs("div",{className:"overview-card",children:["Todays Appointments",o.jsx("br",{}),o.jsx("strong",{style:{fontSize:"1.8rem"},children:M}),W()]}),o.jsxs("div",{className:"overview-card",children:["Total Billing (Today)",o.jsx("br",{}),o.jsx("strong",{style:{fontSize:"1.6rem"},children:H}),fe()]})]}),o.jsx("h2",{className:"section-title",children:"Patient Queue"}),o.jsxs("div",{className:"queue-container",children:[o.jsxs("div",{className:"queue-card",children:[o.jsxs("h3",{onClick:()=>k(!A),style:{cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",margin:"0 0 10px 0",paddingBottom:"8px",borderBottom:"2px solid #e0e0e0"},children:[o.jsxs("span",{children:["Waiting (",(p||[]).length,")"]}),o.jsx("span",{style:{fontSize:"1.4rem",color:"#186476"},children:A?"":"+"})]}),A&&o.jsx("div",{children:p&&p.length>0?p.map((q,te)=>{const{token:K,name:z,age:V,gender:Z}=GS(q);return o.jsxs("div",{className:"queue-item",children:[o.jsxs("div",{className:"token-badge",children:["#",K]}),o.jsxs("div",{className:"patient-info",children:[o.jsx("div",{children:z}),o.jsxs("div",{className:"patient-meta",children:[V?`${V}y`:"",V&&Z?", ":""," ",Z||""]})]}),o.jsx("button",{className:"status-button btn-done",onClick:()=>v&&v(q,"completed"),children:"Mark Done"})]},q._id??q.id??te)}):o.jsx("p",{style:{color:"#999",fontStyle:"italic"},children:"No patients waiting"})})]}),o.jsxs("div",{className:"queue-card",children:[o.jsxs("h3",{onClick:()=>P(!E),style:{cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",margin:"0 0 10px 0",paddingBottom:"8px",borderBottom:"2px solid #e0e0e0",color:"#d32f2f"},children:[o.jsxs("span",{children:["Emergency (",(g||[]).length,")"]}),o.jsx("span",{style:{fontSize:"1.4rem",color:"#d32f2f"},children:E?"":"+"})]}),E&&o.jsx("div",{children:g&&g.length>0?g.map((q,te)=>{const{token:K,name:z}=GS(q);return o.jsxs("div",{className:"queue-item",children:[o.jsxs("div",{className:"token-badge",children:["#",K]}),o.jsx("div",{className:"patient-info",children:o.jsx("div",{children:z})}),o.jsx("button",{className:"status-button btn-urgent",children:"Urgent"})]},q._id??q.id??te)}):o.jsx("p",{style:{color:"#999",fontStyle:"italic"},children:"No emergency patients"})})]}),o.jsxs("div",{className:"queue-card",children:[o.jsxs("h3",{onClick:()=>F(!$),style:{cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",margin:"0 0 10px 0",paddingBottom:"8px",borderBottom:"2px solid #e0e0e0",color:"#2e7d32"},children:[o.jsxs("span",{children:["Completed (",(m||[]).length,")"]}),o.jsx("span",{style:{fontSize:"1.4rem",color:"#2e7d32"},children:$?"":"+"})]}),$&&o.jsx("div",{children:m&&m.length>0?m.map((q,te)=>{const{token:K,name:z,age:V,gender:Z}=GS(q);return o.jsxs("div",{className:"queue-item",children:[o.jsxs("div",{className:"token-badge",children:["#",K]}),o.jsxs("div",{className:"patient-info",children:[o.jsx("div",{children:z}),o.jsxs("div",{className:"patient-meta",children:[V?`${V}y`:"",V&&Z?", ":""," ",Z||""]})]}),o.jsx("span",{style:{background:"#28a745",color:"white",padding:"6px 12px",borderRadius:"20px",fontSize:"0.8rem",fontWeight:"bold"},children:"Completed"})]},q._id??q.id??te)}):o.jsx("p",{style:{color:"#999",fontStyle:"italic"},children:"No patients completed yet"})})]})]}),Array.isArray(O)&&O.length>0&&!t&&o.jsxs(o.Fragment,{children:[o.jsxs("h2",{className:"section-title",children:["Todays Appointments (Live)  ",(b||[]).length," ","patients"]}),C?o.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#186476",fontSize:"1.1rem"},children:"Loading appointments"}):!b||b.length===0?o.jsx("div",{style:{textAlign:"center",padding:"60px 20px",color:"#666",background:"#f8f9fa",borderRadius:"12px",fontSize:"1.1rem",fontStyle:"italic"},children:"No appointments scheduled for today"}):o.jsx("div",{style:{background:"#ffffff",border:"1px solid #e0e0e0",borderRadius:"12px",padding:"16px",maxHeight:"520px",overflowY:"auto",boxShadow:"0 4px 12px rgba(179, 153, 153, 0.05)"},children:b.map(q=>{const te=q.patientId||q.patient||{},K=q.tokenNumber?String(q.tokenNumber).padStart(3,"0"):"",z=q.time||q.slot||"",V=(q.status||"waiting").toLowerCase(),Z=V==="completed"?"#28a745":V==="in-consultation"||V==="in consultation"?"#ffc107":V==="waiting"?"#17a2b8":"#6c757d",re=V.replace(/-/g," ").replace("in consultation","In Consultation").replace("waiting","Waiting").replace("completed","Completed");return o.jsxs("div",{style:{padding:"16px 0",borderBottom:"1px solid #f0f0f0",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[o.jsx("div",{style:{background:"#186476",color:"white",width:"48px",height:"48px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",fontSize:"1.2rem",flexShrink:0},children:K}),o.jsxs("div",{children:[o.jsxs("div",{style:{fontWeight:"600",fontSize:"1.15rem",color:"#1a1a1a",display:"flex",gap:"8px",alignItems:"center"},children:[o.jsx("span",{children:te.name||"Unknown Patient"}),te.category?o.jsx("span",{style:{background:"#eef2ff",color:"#1e40af",padding:"4px 8px",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"600",textTransform:"capitalize"},children:te.category}):null]}),o.jsxs("div",{style:{fontSize:"0.9rem",color:"#555"},children:[te.age?`${te.age}y`:"",te.age&&te.gender?"  ":" ",te.gender||""," ",z!==""?` ${z}`:""]})]})]}),o.jsx("span",{style:{background:Z,color:"white",padding:"8px 16px",borderRadius:"30px",fontSize:"0.85rem",fontWeight:"bold",textTransform:"capitalize",boxShadow:"0 2px 6px rgba(0,0,0,0.1)"},children:re})]},q._id||q.id)})})]})]})]})},ud=e=>{try{const t=e()?.auth?.token;if(t)return t}catch{}return typeof window<"u"?localStorage.getItem("token"):null},KS=Fe("appointments/getNextAppointmentId",async({clinicId:e,doctorId:t}={},{getState:n,rejectWithValue:r})=>{try{if(!e)return r({message:"clinicId required"});const i=ud(n),a={"Content-Type":"application/json"};i&&(a.Authorization=`Bearer ${i}`);const s=`https://api.mediscript.in/api/reception/appointments/${e}/next`,c=await fetch(s,{method:"POST",headers:a,body:JSON.stringify({doctorId:t||void 0})});let d=null;try{d=await c.json()}catch{}if(!c.ok)return r(d||{message:`Failed ${c.status}`});const f=d?.appointmentId||d?.id||d?.appointment_id;return f?{appointmentId:f,...d}:r({message:"No appointmentId"})}catch(i){return r({message:i.message||"Network error"})}}),ib=Fe("appointments/createAppointment",async(e,{getState:t,rejectWithValue:n})=>{try{const r=ud(t),i={"Content-Type":"application/json"};r&&(i.Authorization=`Bearer ${r}`);const{clinicId:a,...s}=e;if(!a)return n({error:"Clinic ID required"});const c=new URL("https://api.mediscript.in/api/reception/appointments");c.searchParams.append("clinicId",a);const d=await fetch(c.toString(),{method:"POST",headers:i,body:JSON.stringify(s)});let f=null;try{f=await d.json()}catch{}return d.ok?f:n(f||{message:`Failed ${d.status}`})}catch(r){return n({message:r.message||"Network error"})}}),ab=Fe("appointments/startConsultation",async({clinicId:e},{getState:t,rejectWithValue:n})=>{try{if(!e)return n({message:"clinicId required"});const r=ud(t);if(!r)return n({message:"No auth token"});const i={"Content-Type":"application/json",Authorization:`Bearer ${r}`},a=`https://api.mediscript.in/api/reception/appointments/${e}/next`;console.log("startConsultation  POST",a);const s=await fetch(a,{method:"POST",headers:i,body:JSON.stringify({})});let c=null;try{c=await s.json()}catch{}return console.log("startConsultation  status:",s.status,"response:",c),s.ok?c:n(c||{message:`Failed ${s.status}`})}catch(r){return console.error("startConsultation error:",r),n({message:r.message||"Network error"})}}),XS=Fe("appointments/callPreviousPatient",async({clinicId:e},{getState:t,rejectWithValue:n})=>{try{if(!e)return n({message:"clinicId required"});const r=ud(t);if(!r)return n({message:"No auth token"});const i={"Content-Type":"application/json",Authorization:`Bearer ${r}`},a=`https://api.mediscript.in/api/reception/appointments/${e}/previous`;console.log("callPreviousPatient  POST",a);const s=await fetch(a,{method:"POST",headers:i,body:JSON.stringify({})});let c=null;try{c=await s.json()}catch{}return console.log("callPreviousPatient  status:",s.status,"response:",c),s.ok?c:n(c||{message:`Failed ${s.status}`})}catch(r){return console.error("callPreviousPatient error:",r),n({message:r.message||"Network error"})}}),ob=Fe("appointments/preGenerateAppointmentId",async({clinicId:e},{getState:t,rejectWithValue:n})=>{try{if(!e)return n({message:"clinicId is required"});const r=ud(t);if(!r)return n({message:"Authentication token missing"});const i=`https://api.mediscript.in/api/reception/pre-generate-appointment-id?clinicId=${e}`,a=await fetch(i,{method:"GET",headers:{Authorization:`Bearer ${r}`}});let s=null;try{s=await a.json()}catch{}if(!a.ok)return n(s||{message:`Request failed with status ${a.status}`});const c=s?.appointmentId||s?.id;return c?{appointmentId:c,doctorName:s?.doctorName||null,doctorId:s.doctorId,raw:s}:n({message:"appointmentId not returned"})}catch(r){return n({message:r.message||"Network error"})}}),QS=Fe("appointment/fetchAppointmentById",async({appointmentId:e,clinicId:t,token:n},{rejectWithValue:r})=>{try{return(await $e.get(`/api/reception/appointments/${e}?clinicId=${t}`,{headers:{Authorization:`Bearer ${n}`}})).data}catch(i){return r(i.response?.data||i.message)}}),sb=Fe("appointments/markAppointmentNotArrived",async({appointmentId:e,clinicId:t},{getState:n,rejectWithValue:r})=>{try{if(!e)return r({message:"appointmentId is required"});if(!t)return r({message:"clinicId is required"});const i=ud(n);if(!i)return r({message:"Authentication token missing"});const a={"Content-Type":"application/json",Authorization:`Bearer ${i}`},s=`https://api.mediscript.in/api/reception/${e}/not-arrived?clinicId=${t}`,c=await fetch(s,{method:"PATCH",headers:a});let d=null;try{d=await c.json()}catch{}return c.ok?d||{message:"Marked as not-arrived"}:r(d||{message:`Request failed with status ${c.status}`})}catch(i){return r({message:i.message||"Network error"})}}),hOe=Fe("appointments/markAppointmentArrived",async({appointmentId:e,clinicId:t},{getState:n,rejectWithValue:r})=>{try{if(!e)return r({message:"appointmentId is required"});if(!t)return r({message:"clinicId is required"});const i=ud(n);if(!i)return r({message:"Authentication token missing"});const a={"Content-Type":"application/json",Authorization:`Bearer ${i}`},s=`https://api.mediscript.in/api/reception/${e}/arrived?clinicId=${t}`,c=await fetch(s,{method:"PATCH",headers:a});let d=null;try{d=await c.json()}catch{}return c.ok?d:r(d||{message:`Request failed with status ${c.status}`})}catch(i){return r({message:i.message||"Network error"})}}),mOe=qt({name:"appointments",initialState:{items:[],creating:!1,createError:null,nextAppointmentId:"",fetchingNextId:!1,fetchNextIdError:null,starting:!1,startError:null,nextToken:null,preGeneratedId:"",preGenerating:!1,preGenerateError:null,markingNotArrived:!1,markNotArrivedError:null,lastNotArrivedId:null,lastNotArrivedMessage:null},reducers:{clearStartError:e=>{e.startError=null}},extraReducers:e=>{e.addCase(ib.pending,t=>{t.creating=!0,t.createError=null}).addCase(ib.fulfilled,(t,n)=>{t.creating=!1,t.items.push(n.payload)}).addCase(ib.rejected,(t,n)=>{t.creating=!1,t.createError=n.payload}).addCase(KS.pending,t=>{t.fetchingNextId=!0,t.fetchNextIdError=null}).addCase(KS.fulfilled,(t,n)=>{t.fetchingNextId=!1,t.nextAppointmentId=n.payload.appointmentId}).addCase(KS.rejected,(t,n)=>{t.fetchingNextId=!1,t.fetchNextIdError=n.payload}).addCase(ab.pending,t=>{t.starting=!0,t.startError=null}).addCase(ab.fulfilled,(t,n)=>{t.starting=!1,t.nextToken=n.payload?.tokenNumber||n.payload?.appointmentId}).addCase(ab.rejected,(t,n)=>{t.starting=!1,t.startError=n.payload}).addCase(XS.pending,t=>{t.callingPrevious=!0,t.previousError=null}).addCase(XS.fulfilled,(t,n)=>{t.callingPrevious=!1,t.previousToken=n.payload?.tokenNumber||n.payload?.appointmentId}).addCase(XS.rejected,(t,n)=>{t.callingPrevious=!1,t.previousError=n.payload}).addCase(ob.pending,t=>{t.preGenerating=!0,t.preGenerateError=null}).addCase(ob.fulfilled,(t,n)=>{t.preGenerating=!1,t.preGeneratedId=n.payload.appointmentId}).addCase(ob.rejected,(t,n)=>{t.preGenerating=!1,t.preGenerateError=n.payload}).addCase(QS.pending,t=>{t.fetchingById=!0,t.fetchByIdError=null,t.fetchedItem=null}).addCase(QS.fulfilled,(t,n)=>{if(t.fetchingById=!1,t.fetchedItem=n.payload??null,n.payload&&n.payload._id){const r=t.items.findIndex(i=>i._id===n.payload._id);r>=0?t.items[r]=n.payload:t.items.push(n.payload)}}).addCase(QS.rejected,(t,n)=>{t.fetchingById=!1,t.fetchByIdError=n.payload??n.error?.message}).addCase(sb.pending,(t,n)=>{t.markingNotArrived=!0,t.markNotArrivedError=null}).addCase(sb.fulfilled,(t,n)=>{t.markingNotArrived=!1,t.lastNotArrivedId=n.meta.arg.appointmentId,t.lastNotArrivedMessage=n.payload?.message||null;const r=n.meta.arg.appointmentId,i=t.items.findIndex(a=>a._id===r||a.id===r||a.appointmentId===r);i>=0&&(t.items[i]={...t.items[i],status:"not_arrived"})}).addCase(sb.rejected,(t,n)=>{t.markingNotArrived=!1,t.markNotArrivedError=n.payload??n.error?.message})}}),{clearStartError:BIe}=mOe.actions,cL="referredByNames_v2",gOe=({initialPatient:e,onClose:t,defaultClinicId:n,defaultDoctorId:r,onSuccess:i,showDialog:a})=>{const s=wt(),{creating:c,createError:d,preGeneratedId:f,preGenerating:p,preGenerateError:m}=qe(ae=>ae.appointments||{}),[g,v]=w.useState(r||""),[b,C]=w.useState(""),[j,A]=w.useState(e?._id||""),[k,E]=w.useState(""),[P,$]=w.useState(""),[F,O]=w.useState(""),[_,D]=w.useState(""),[L,R]=w.useState(""),[M,H]=w.useState(""),[W,fe]=w.useState([]),[q,te]=w.useState([]),[K,z]=w.useState(!1),[V,Z]=w.useState(0),re=w.useRef(null),me=w.useRef(null);w.useEffect(()=>{e?._id&&A(e._id)},[e]),w.useEffect(()=>{try{const ae=localStorage.getItem(cL),ne=ae?JSON.parse(ae):[];if(Array.isArray(ne)){const G=ne.map(ee=>typeof ee=="string"?{name:ee,id:null}:ee);fe(G)}else fe([])}catch{fe([])}},[]),w.useEffect(()=>{n&&s(ob({clinicId:n})).unwrap().then(ae=>{E(ae.appointmentId||""),ae.doctorName&&C(ae.doctorName)}).catch(()=>{})},[n,s]),w.useEffect(()=>{f&&E(f)},[f]),w.useEffect(()=>{if(!L){te([]),z(!1);return}const ae=L.trim().toLowerCase(),ne=W.filter(G=>G?.name&&G.name.toLowerCase().includes(ae)).map(G=>G);te(ne),Z(0),z(ne.length>0)},[L,W]),w.useEffect(()=>{const ae=ne=>{me.current&&!me.current.contains(ne.target)&&z(!1)};return document.addEventListener("click",ae),()=>document.removeEventListener("click",ae)},[]);const ge=ae=>{R(ae.target.value),H("")},Pe=ae=>{R(ae.name||""),H(ae.id||""),z(!1)},X=ae=>{K&&(ae.key==="ArrowDown"?(ae.preventDefault(),Z(ne=>Math.min(ne+1,q.length-1))):ae.key==="ArrowUp"?(ae.preventDefault(),Z(ne=>Math.max(ne-1,0))):ae.key==="Enter"?(ae.preventDefault(),q[V]&&Pe(q[V])):ae.key==="Escape"&&z(!1))},J=ae=>{if(ae.preventDefault(),!n){a("Error","Clinic ID is missing!","error");return}if(!j||!P||!F){a("Warning","Please fill all required fields.","warning");return}if(!j||!P||!F||!_){a("Warning","Please fill all required fields.","warning");return}const ne={doctorId:g||null,clinicId:n,patientId:j,appointmentId:k||yOe(n),date:P,time:F,visitType:_,referredByName:L||null,referredById:M||null};console.log("Sending appointment payload:",ne),s(ib(ne)).unwrap().then(G=>{try{if(L&&L.trim()){const ee=L.trim();if(!W.some(Ae=>Ae.name&&Ae.name.toLowerCase()===ee.toLowerCase())){const Ae=[{name:ee,id:M||null},...W].slice(0,50);localStorage.setItem(cL,JSON.stringify(Ae)),fe(Ae)}}}catch{}a("Success","Appointment created successfully!","success"),i?.(G),t()}).catch(G=>{a("Error",G.error||G.message||"Failed to create appointment","error")})},ce=()=>re.current?.focus();return o.jsx("div",{style:Ct.overlay,children:o.jsxs("div",{role:"dialog","aria-modal":"true",style:Ct.modal,children:[o.jsxs("header",{style:Ct.header,children:[o.jsxs("div",{children:[o.jsx("h2",{style:Ct.title,children:"Create Appointment"}),o.jsx("p",{style:Ct.subtitle,children:"Fill the details below to create an appointment."})]}),o.jsx("button",{onClick:t,"aria-label":"Close",style:Ct.closeBtn,children:"X"})]}),o.jsxs("form",{onSubmit:J,style:Ct.form,children:[e&&o.jsxs("div",{style:Ct.patientCard,children:[o.jsxs("div",{children:[o.jsx("div",{style:Ct.patientName,children:e.name}),o.jsxs("div",{style:Ct.patientMeta,children:["UHID: ",e.uhid||"","  Age:"," ",e.age||"","  ",e.gender||""]})]}),o.jsxs("div",{style:Ct.patientId,children:["ID: ",e._id]})]}),o.jsxs("div",{style:Ct.grid,children:[o.jsxs("label",{style:Ct.label,children:["Clinic ID *",o.jsx("input",{style:{...Ct.input,...Ct.readOnlyInput},value:n||"",readOnly:!0})]}),o.jsxs("label",{style:Ct.label,children:["Patient ID *",o.jsx("input",{style:{...Ct.input,...Ct.readOnlyInput},value:j,readOnly:!0})]}),o.jsxs("label",{style:Ct.label,children:["Appointment ID *",o.jsx("div",{style:{display:"flex",gap:8,alignItems:"center"},children:o.jsx("input",{style:{...Ct.input,...Ct.readOnlyInput,flex:1},value:k,readOnly:!0})}),m&&o.jsx("div",{style:{color:"#b91c1c",fontSize:12,marginTop:6},children:"Using fallback ID"})]}),o.jsxs("label",{style:Ct.label,children:["Date *",o.jsx("input",{style:Ct.input,type:"date",value:P,min:new Date().toISOString().split("T")[0],onChange:ae=>$(ae.target.value),required:!0})]}),o.jsxs("label",{style:Ct.label,children:["Time *",o.jsxs("div",{style:Ct.timeWrap,children:[o.jsx("input",{ref:re,style:{...Ct.input,paddingRight:40},type:"time",value:F,onChange:ae=>O(ae.target.value),required:!0}),o.jsx("button",{type:"button",onClick:ce,style:Ct.watchBtn})]})]}),o.jsxs("label",{style:Ct.label,children:["Visit Type *",o.jsxs("select",{style:Ct.input,value:_,onChange:ae=>D(ae.target.value),required:!0,children:[o.jsx("option",{value:"",children:"-- Select Visit Type --"}),o.jsx("option",{value:"first-visit",children:"First Visit"}),o.jsx("option",{value:"follow-up",children:"Follow-Up"}),o.jsx("option",{value:"review",children:"Review"}),o.jsx("option",{value:"emergency",children:"Emergency"})]})]}),o.jsxs("label",{style:{...Ct.label,gridColumn:"1 / -1",position:"relative"},ref:me,children:["Referred By",o.jsx("input",{style:{...Ct.input},value:L,onChange:ge,onKeyDown:X,placeholder:"Type a name  suggestions will appear",autoComplete:"off"}),K&&q.length>0&&o.jsx("div",{style:ZS.container,children:q.map((ae,ne)=>o.jsx("div",{onClick:()=>Pe(ae),style:{...ZS.item,...ne===V?ZS.itemActive:{}},role:"button",tabIndex:0,children:ae.name},(ae.name||"")+ne))}),o.jsx("div",{style:{color:"#6b7280",fontSize:12,marginTop:6},children:"Suggestions are stored locally. Type to see matches."})]})]}),o.jsxs("div",{style:Ct.footer,children:[o.jsx("div",{style:Ct.helpText,children:o.jsx("small",{children:"Required fields are marked with *"})}),o.jsxs("div",{style:Ct.actions,children:[o.jsx("button",{type:"button",onClick:t,style:{...Ct.button,...Ct.cancelBtn},disabled:c,children:"Cancel"}),o.jsx("button",{type:"submit",style:{...Ct.button,...Ct.submitBtn},disabled:c,children:c?"Creating":"Create Appointment"})]})]}),d&&o.jsxs("div",{style:Ct.error,children:[o.jsx("strong",{children:"Error:"})," ",d.error||d.message||"Unknown error"]})]})]})})};function yOe(e=""){const t=e?e.slice(0,2).toUpperCase():"XX",n=new Date().getFullYear(),r=String(Math.floor(Math.random()*9999)+1).padStart(4,"0");return`${t}-APPT-${n}-${r}`}const Ct={overlay:{position:"fixed",inset:0,background:"rgba(0,0,0,0.45)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,padding:20},modal:{width:720,maxWidth:"100%",background:"#fff",borderRadius:12,boxShadow:"0 10px 30px rgba(0,0,0,0.15)",overflow:"hidden"},header:{padding:"18px 20px",borderBottom:"1px solid #eef2f5",display:"flex",justifyContent:"space-between",alignItems:"center"},title:{margin:0,fontSize:18,color:"#111827"},subtitle:{margin:"6px 0 0",color:"#6b7280",fontSize:13},closeBtn:{background:"transparent",border:"none",fontSize:18,cursor:"pointer",color:"#6b7280"},form:{padding:20,display:"flex",flexDirection:"column",gap:12},patientCard:{display:"flex",justifyContent:"space-between",background:"#f8fafc",padding:12,borderRadius:8,border:"1px solid #eef2f5"},patientName:{fontWeight:600,fontSize:14,color:"#0f172a"},patientMeta:{fontSize:12,color:"#475569",marginTop:4},patientId:{fontSize:12,color:"#475569",background:"#fff",padding:"6px 10px",borderRadius:6,border:"1px solid #e6eef6",fontFamily:"monospace"},grid:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:12},label:{display:"flex",flexDirection:"column",fontSize:13,color:"#0f172a"},input:{marginTop:6,padding:"10px 12px",borderRadius:8,border:"1px solid #dbe7f0",outline:"none",fontSize:14},readOnlyInput:{background:"#f3f4f6",color:"#374151",cursor:"not-allowed"},timeWrap:{position:"relative",display:"flex",alignItems:"center"},watchBtn:{position:"absolute",right:8,top:"50%",transform:"translateY(-50%)",background:"transparent",border:"none",cursor:"pointer",color:"#6b7280"},footer:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:6},helpText:{color:"#6b7280",fontSize:13},actions:{display:"flex",gap:10},button:{padding:"10px 14px",borderRadius:8,fontSize:14,border:"none",cursor:"pointer"},cancelBtn:{background:"#f3f4f6",color:"#111827"},submitBtn:{background:"#0b74e8",color:"#fff",boxShadow:"0 6px 18px rgba(11,116,232,0.18)"},error:{marginTop:12,background:"#fff5f5",border:"1px solid #fecaca",color:"#b91c1c",padding:10,borderRadius:8,fontSize:13}},ZS={container:{position:"absolute",zIndex:30,marginTop:6,width:"100%",maxHeight:180,overflowY:"auto",background:"#fff",border:"1px solid #e5e7eb",borderRadius:8,boxShadow:"0 6px 18px rgba(15,23,42,0.06)"},item:{padding:"8px 12px",cursor:"pointer",borderBottom:"1px solid #f1f5f9",fontSize:14},itemActive:{background:"#f1f5f9"}},vOe=({setShowPatientForm:e,clinicIdProp:t,setActiveTab:n,setNewBill:r,reloadPatients:i})=>{const a=wt(),s=qe(pe=>pe.auth),[c,d]=w.useState({isOpen:!1,title:"",message:"",type:"info"}),f=(pe,ke,st="success")=>{d({isOpen:!0,title:pe,message:ke,type:st})},p=()=>{d(pe=>({...pe,isOpen:!1}))},[m,g]=w.useState(""),[v,b]=w.useState(""),C=t||localStorage.getItem("clinicId")||localStorage.getItem("selectedClinicId")||s?.clinic?.id||s?.user?.clinicId||s?.user?.clinic?.id||Array.isArray(s?.user?.clinics)&&s.user.clinics[0]?.id||"",j=C?String(C).trim():"",{patients:A=[],loading:k,error:E,searchedPatient:P,searchLoading:$,searchError:F,loading:O}=qe(pe=>pe.reception),[_,D]=w.useState(!1),[L,R]=w.useState(null),M=w.useRef(null),[H,W]=w.useState(null),[fe,q]=w.useState(null),[te,K]=w.useState(""),[z,V]=w.useState(!1),[Z,re]=w.useState(!1),[me,ge]=w.useState(!1),[Pe,X]=w.useState(null),[J,ce]=w.useState({name:"",phone:"",address:"",gender:"",fatherName:"",dob:"",age:"",ageUnit:""});w.useEffect(()=>{j&&a(ys(j))},[j,a,i]);const ae=w.useMemo(()=>{if(!te.trim())return[];const pe=te.trim().toLowerCase();return A.filter(ke=>ke.uhid?.toLowerCase().includes(pe)).slice(0,6).map(ke=>({uhid:ke.uhid,name:ke.name,_id:ke._id}))},[te,A]),ne=pe=>{const ke=pe?.dob?new Date(pe.dob).toISOString().split("T")[0]:"";let st="",ie="";if(ke){const we=G(ke);st=we.value,ie=we.unit}X(pe),ce({name:pe.name||"",phone:pe.phone||pe.mobile||"",address:pe.address||"",gender:pe.gender||"",fatherName:pe.fatherName||"",dob:ke,age:st,ageUnit:ie}),ge(!0)},G=pe=>{if(!pe)return{value:null,unit:""};const ke=new Date(pe),st=new Date;let ie=st.getFullYear()-ke.getFullYear(),we=st.getMonth()-ke.getMonth(),Ue=st.getDate()-ke.getDate();return Ue<0&&(we--,Ue+=new Date(st.getFullYear(),st.getMonth(),0).getDate()),we<0&&(ie--,we+=12),ie===0&&we===0?{value:Ue,unit:"days"}:ie===0?{value:we,unit:"months"}:{value:ie,unit:"years"}},ee=async()=>{if(!J.name.trim())return f("Warning","Name is required","warning");try{await a(mm({uhid:Pe.uhid,clinicId:j,updateData:{name:J.name.trim(),phone:J.phone.trim(),address:J.address.trim(),gender:J.gender,fatherName:J.fatherName,dob:J.dob,age:J.age}})).unwrap(),f("Success","Patient updated successfully!","success"),ge(!1),a(ys(j))}catch(pe){f("Error",pe.message||"Update failed","error")}},ue=pe=>{R(pe),D(!0)},Ae=pe=>{r(ke=>({...ke,patientId:pe._id,patientName:pe.name,consultationFee:"",service:"",customService:"",serviceAmount:"",discount:"0"})),n("billing")},Ie=pe=>{W(pe),M.current?.click()},De=async pe=>{const ke=pe.target.files?.[0],st=H;if(!(!st||!ke))try{q(st._id),await a(Yee({patientId:st._id,file:ke})).unwrap(),f("Success","Report uploaded successfully!","success"),a(ys(j))}catch(ie){f("Upload failed: "+(ie.message||ie))}finally{q(null),W(null),pe.target.value=null}},ye=pe=>{if(!pe?.length){Ee.info("No reports found.");return}const ke=pe[0];let st=ke.url;if(ke.fileType==="application/pdf"||st.includes("/raw/")){st.includes("/raw/")||(st=st.replace("/image/upload/","/raw/upload/"));const ie=st.replace("/upload/","/upload/fl_attachment/");Oe(ie)}else window.open(st,"_blank")},Oe=pe=>{const ke=document.createElement("a");ke.href=pe,ke.download=`report_${Date.now()}.pdf`,ke.target="_blank",document.body.appendChild(ke),ke.click(),document.body.removeChild(ke)},Re=()=>{if(!te.trim())return f("Please enter UHID");a(hm({uhid:te,clinicId:j})).unwrap().then(()=>V(!0)).catch(()=>V(!0)),re(!1)},it=()=>{K(""),V(!1),re(!1)},ut=pe=>{K(pe.uhid),re(!1),a(hm({uhid:pe.uhid,clinicId:j})).unwrap().then(()=>V(!0))},ze=z&&P?[P]:A;return o.jsxs("div",{style:Ve.card,children:[o.jsx("h2",{style:Ve.title,children:"Patient Management"}),o.jsxs("div",{style:Ve.searchContainer,children:[o.jsxs("div",{style:Ve.searchWrapper,children:[o.jsx("input",{type:"text",placeholder:"Search by UHID (e.g. AS-2025-0001)",value:te,onChange:pe=>{K(pe.target.value),re(!0),V(!1)},onKeyPress:pe=>pe.key==="Enter"&&Re(),onFocus:()=>te&&re(!0),onBlur:()=>setTimeout(()=>re(!1),200),style:Ve.searchInput}),o.jsx("button",{onClick:Re,disabled:$,style:{...Ve.searchBtn,background:$?"#6c757d":"#186476"},children:$?"Searching...":"Search"}),z&&o.jsx("button",{onClick:it,style:Ve.clearBtn,children:"Clear"})]}),Z&&ae.length>0&&o.jsx("div",{style:Ve.suggestions,children:ae.map(pe=>o.jsxs("div",{style:Ve.suggestionItem,onMouseDown:()=>ut(pe),children:[o.jsx("strong",{children:pe.uhid}),"  ",pe.name]},pe._id))})]}),o.jsx(Xg,{isOpen:c.isOpen,title:c.title,message:c.message,type:c.type,onClose:p}),F&&o.jsx("div",{style:Ve.searchError,children:F}),z&&!P&&!$&&o.jsxs("div",{style:Ve.searchNotFound,children:["No patient found with UHID: ",te]}),z&&P&&o.jsxs("div",{style:Ve.searchSuccess,children:["Showing results for: ",o.jsx("strong",{children:P.uhid})]}),o.jsxs("div",{style:Ve.actionBar,children:[o.jsx("button",{style:Ve.addBtn,onClick:()=>e(!0),children:"+ Add New Patient"}),k&&o.jsx("span",{style:Ve.loading,children:"Loading..."}),E&&o.jsx("span",{style:Ve.error,children:E})]}),o.jsx("input",{ref:M,type:"file",accept:"image/*,application/pdf",style:{display:"none"},onChange:De}),o.jsx("div",{style:Ve.tableScrollContainer,children:o.jsx("div",{style:Ve.tableWrapper,children:o.jsxs("table",{style:Ve.table,children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{style:Ve.th,children:"Token"}),o.jsx("th",{style:Ve.th,children:"UHID"}),o.jsx("th",{style:Ve.th,children:"Name"}),o.jsx("th",{style:Ve.th,children:"Age"}),o.jsx("th",{style:Ve.th,children:"Age Unit"}),o.jsx("th",{style:Ve.th,children:"Gender"}),o.jsx("th",{style:Ve.th,children:"Father Name"}),o.jsx("th",{style:Ve.th,children:"Phone"}),o.jsx("th",{style:Ve.th,children:"Address"}),o.jsx("th",{style:Ve.th,children:"Visit Type"}),o.jsx("th",{style:Ve.th,children:"Status"}),o.jsx("th",{style:Ve.th,children:"Medical History"}),o.jsx("th",{style:Ve.th,children:"Last Prescription"}),o.jsx("th",{style:Ve.th,children:"Facilities Used"}),o.jsx("th",{style:Ve.th,children:"Reports"}),o.jsx("th",{style:Ve.th,children:"Actions"})]})}),o.jsx("tbody",{children:ze.length===0&&!k?o.jsx("tr",{children:o.jsx("td",{colSpan:"13",style:{...Ve.td,textAlign:"center",color:"#666"},children:z?"No patient found":"No patients in clinic"})}):ze.map(pe=>o.jsxs("tr",{style:z?{background:"#e3f2fd"}:{},children:[o.jsx("td",{style:Ve.td,children:pe.tokenNumber||"-"}),o.jsx("td",{style:Ve.td,children:pe.uhid||"-"}),o.jsx("td",{style:Ve.td,children:pe.name}),o.jsx("td",{style:Ve.td,children:pe.age}),o.jsx("td",{style:Ve.td,children:pe.ageUnit}),o.jsx("td",{style:Ve.td,children:pe.gender}),o.jsx("td",{style:Ve.td,children:pe.fatherName||"-"}),o.jsx("td",{style:Ve.td,children:pe.phone||pe.mobile||"-"}),o.jsx("td",{style:Ve.td,children:pe.address||"-"}),o.jsx("td",{style:Ve.td,children:pe.visitType||"-"}),o.jsx("td",{style:Ve.td,children:pe.status||"N/A"}),o.jsx("td",{style:Ve.td,children:pe.medicalHistory||"-"}),o.jsx("td",{style:Ve.td,children:pe.lastPrescription?o.jsx("div",{style:{maxWidth:160,fontSize:12,lineHeight:1.3},children:pe.lastPrescription}):"-"}),o.jsx("td",{style:Ve.td,children:Array.isArray(pe.facilitiesUsed)&&pe.facilitiesUsed.length>0?pe.facilitiesUsed.map(ke=>ke.name).join(", "):"-"}),o.jsx("td",{style:Ve.td,children:Array.isArray(pe.reports)&&pe.reports.length>0?o.jsxs("button",{style:Ve.viewBtn,onClick:()=>ye(pe.reports),children:["View (",pe.reports.length,")"]}):"-"}),o.jsx("td",{style:Ve.td,children:o.jsxs("div",{style:Ve.actionGroup,children:[o.jsx("button",{style:Ve.editBtn,onClick:()=>ne(pe),children:"Edit"}),o.jsx("button",{style:Ve.bookBtn,onClick:()=>ue(pe),children:"Book"}),o.jsx("button",{style:Ve.billBtn,onClick:()=>Ae(pe),children:"Bill"}),o.jsx("button",{style:{...Ve.uploadBtn,background:fe===pe._id?"#6c757d":"#20c997"},onClick:()=>Ie(pe),disabled:fe===pe._id,children:fe===pe._id?"Uploading...":"Upload"})]})})]},pe._id))})]})})}),_&&o.jsx(gOe,{initialPatient:L,onClose:()=>{D(!1),R(null)},defaultClinicId:j,onSuccess:()=>a(ys(j)),showDialog:f}),me&&Pe&&o.jsx("div",{style:Ve.modalOverlay,onClick:()=>ge(!1),children:o.jsxs("div",{style:Ve.modal,onClick:pe=>pe.stopPropagation(),children:[o.jsx("h3",{style:Ve.modalTitle,children:"Edit Patient"}),o.jsxs("div",{style:Ve.modalBody,children:[o.jsxs("p",{style:Ve.uhidLabel,children:[o.jsx("strong",{children:"UHID:"})," ",Pe.uhid]}),o.jsxs("div",{style:Ve.formGrid,children:[o.jsxs("div",{style:Ve.formField,children:[o.jsx("label",{style:Ve.label,children:"Name *"}),o.jsx("input",{type:"text",value:J.name,onChange:pe=>{const ke=pe.target.value;/^[A-Za-z ]*$/.test(ke)?(ce({...J,name:ke}),g("")):g("Name can contain letters only")},style:Ve.modalInput,placeholder:"Enter patient name"}),m&&o.jsx("p",{style:{color:"red",fontSize:12,marginTop:4},children:m})]}),o.jsxs("div",{style:Ve.formField,children:[o.jsx("label",{style:Ve.label,children:"Gender"}),o.jsxs("select",{value:J.gender,onChange:pe=>ce({...J,gender:pe.target.value}),style:Ve.modalInput,children:[o.jsx("option",{value:"",children:"Select gender"}),o.jsx("option",{value:"male",children:"Male"}),o.jsx("option",{value:"female",children:"Female"}),o.jsx("option",{value:"other",children:"Other"})]})]}),o.jsxs("div",{style:Ve.formField,children:[o.jsx("label",{style:Ve.label,children:"Age"}),o.jsx("input",{type:"number",min:"0",value:J.age,onChange:pe=>ce({...J,age:pe.target.value}),style:Ve.modalInput,placeholder:"Enter age"})]}),o.jsxs("div",{style:Ve.formField,children:[o.jsx("label",{style:Ve.label,children:"Father Name"}),o.jsx("input",{type:"text",value:J.fatherName,onChange:pe=>ce({...J,fatherName:pe.target.value}),style:Ve.modalInput,placeholder:"Enter father name"})]}),o.jsxs("div",{style:Ve.formField,children:[o.jsx("label",{style:Ve.label,children:"Phone"}),o.jsx("input",{type:"text",value:J.phone,onChange:pe=>{let ke=pe.target.value;if(!/^[0-9]*$/.test(ke)){b("Only numbers allowed");return}ke.length>10&&(ke=ke.slice(0,10)),ce({...J,phone:ke}),ke.length===0?b(""):ke.length<10?b("Phone number must be exactly 10 digits"):b("")},style:Ve.modalInput,placeholder:"Enter phone number"}),v&&o.jsx("p",{style:{color:"red",fontSize:12,marginTop:4},children:v})]}),o.jsxs("div",{style:Ve.formField,children:[o.jsx("label",{style:Ve.label,children:"Address"}),o.jsx("input",{type:"text",value:J.address,onChange:pe=>ce({...J,address:pe.target.value}),style:Ve.modalInput,placeholder:"Enter address"})]}),o.jsxs("div",{style:Ve.formField,children:[o.jsx("label",{style:Ve.label,children:"Date Of Birth"}),o.jsx("input",{type:"date",value:J.dob,onChange:pe=>{const ke=pe.target.value,{value:st,unit:ie}=G(ke);ce({...J,dob:ke,age:st,ageUnit:ie})},style:Ve.modalInput})]}),o.jsxs("div",{style:Ve.formField,children:[o.jsx("label",{style:Ve.label,children:"Age (Auto Calculated)"}),o.jsx("input",{type:"text",value:J.age?`${J.age} ${J.ageUnit}`:"",readOnly:!0,style:{...Ve.modalInput,background:"#f1f3f5",cursor:"not-allowed"},placeholder:"Auto calculated from DOB"})]})]})]}),o.jsxs("div",{style:Ve.modalFooter,children:[o.jsx("button",{onClick:ee,disabled:O,style:{...Ve.modalBtn,background:O?"#6c757d":"#186476"},children:O?"Saving...":"Save"}),o.jsx("button",{onClick:()=>ge(!1),style:{...Ve.modalBtn,background:"#dc3545"},children:"Cancel"})]})]})})]})},Ve={card:{background:"#fff",padding:24,borderRadius:16,boxShadow:"0 6px 20px rgba(0,0,0,0.08)",marginBottom:24,fontFamily:"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif"},title:{color:"#1e293b",fontSize:26,fontWeight:"700",marginBottom:20,textAlign:"center",letterSpacing:"-0.5px"},searchContainer:{position:"relative",marginBottom:20},searchWrapper:{display:"flex",gap:12,flexWrap:"wrap",alignItems:"center"},searchInput:{flex:1,minWidth:240,padding:"12px 16px",borderRadius:10,border:"2px solid #e2e8f0",fontSize:15,transition:"all 0.2s",outline:"none"},searchBtn:{padding:"12px 24px",background:"#186476",color:"#fff",border:"none",borderRadius:10,cursor:"pointer",fontWeight:"600",fontSize:15,transition:"background 0.2s"},clearBtn:{padding:"12px 18px",background:"#dc3545",color:"#fff",border:"none",borderRadius:10,cursor:"pointer",fontWeight:"600",fontSize:15},suggestions:{position:"absolute",top:"100%",left:0,right:0,background:"#fff",border:"1px solid #cbd5e1",borderRadius:10,maxHeight:220,overflowY:"auto",zIndex:10,boxShadow:"0 10px 25px rgba(0,0,0,0.1)",marginTop:6},suggestionItem:{padding:"12px 16px",borderBottom:"1px solid #f1f5f9",cursor:"pointer",fontSize:14,transition:"background 0.2s"},searchError:{color:"#dc2626",background:"#fee2e2",padding:10,borderRadius:8,marginBottom:16,fontSize:14},searchNotFound:{color:"#92400e",background:"#fffbeb",padding:10,borderRadius:8,marginBottom:16,fontSize:14},searchSuccess:{color:"#186476",background:"#d1fae5",padding:10,borderRadius:8,marginBottom:16,fontSize:14},actionBar:{display:"flex",gap:12,alignItems:"center",marginBottom:20,flexWrap:"wrap"},addBtn:{background:"#10b981",color:"#fff",padding:"12px 20px",border:"none",borderRadius:10,cursor:"pointer",fontWeight:"600",fontSize:15,boxShadow:"0 2px 6px rgba(16,185,129,0.3)"},loading:{color:"#186476",fontStyle:"italic",fontSize:14},error:{color:"#dc2626",fontWeight:"500",fontSize:14},table:{width:"100%",borderCollapse:"collapse",fontSize:14},th:{background:"#f8fafc",border:"1px solid #e2e8f0",padding:"14px 10px",textAlign:"left",fontWeight:"600",color:"#334155",fontSize:13,textTransform:"uppercase",letterSpacing:"0.5px"},td:{border:"1px solid #e2e8f0",padding:"10px",verticalAlign:"top",fontSize:14},actionGroup:{display:"flex",gap:6,flexWrap:"wrap"},editBtn:{background:"#3b82f6",color:"#fff",padding:"6px 10px",border:"none",borderRadius:6,cursor:"pointer",fontSize:12,fontWeight:"600",minWidth:48},bookBtn:{background:"#06b6d4",color:"#fff",padding:"6px 10px",border:"none",borderRadius:6,cursor:"pointer",fontSize:12,fontWeight:"600",minWidth:48},billBtn:{background:"#fbbf24",color:"#1f2937",padding:"6px 10px",border:"none",borderRadius:6,cursor:"pointer",fontSize:12,fontWeight:"600",minWidth:48},uploadBtn:{background:"#10b981",color:"#fff",padding:"6px 10px",border:"none",borderRadius:6,cursor:"pointer",fontSize:12,fontWeight:"600",minWidth:48},viewBtn:{background:"#7c3aed",color:"#fff",padding:"5px 10px",border:"none",borderRadius:6,cursor:"pointer",fontSize:12,fontWeight:"600"},modalOverlay:{position:"fixed",inset:0,background:"rgba(0,0,0,0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,backdropFilter:"blur(4px)"},modal:{background:"#fff",borderRadius:16,width:"90%",maxWidth:480,margin:"0 16px",boxShadow:"0 20px 50px rgba(0,0,0,0.15)",animation:"fadeIn 0.3s ease-out",padding:"28px 24px","@media (max-width: 480px)":{padding:"20px 16px"}},modalTitle:{margin:"0 0 18px",fontSize:22,fontWeight:"700",color:"#1e293b","@media (max-width: 480px)":{fontSize:19}},uhidLabel:{margin:"0 0 16px",fontSize:15,color:"#475569"},modalBody:{marginBottom:24},formGrid:{display:"grid",gap:16,gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))","@media (max-width: 480px)":{gridTemplateColumns:"1fr"}},formField:{display:"flex",flexDirection:"column"},label:{display:"block",margin:"0 0 6px",fontWeight:"600",color:"#374151",fontSize:14},modalInput:{width:"100%",padding:"12px 14px",borderRadius:10,border:"2px solid #e2e8f0",fontSize:15,transition:"border 0.2s",outline:"none",boxSizing:"border-box","@media (max-width: 480px)":{fontSize:14}},modalFooter:{display:"flex",gap:12,justifyContent:"flex-end",flexWrap:"wrap","@media (max-width: 480px)":{gap:8}},modalBtn:{padding:"12px 20px",color:"#fff",border:"none",borderRadius:10,cursor:"pointer",fontWeight:"600",fontSize:15,minWidth:90,"@media (max-width: 480px)":{padding:"10px 16px",fontSize:14,minWidth:80}},tableScrollContainer:{maxHeight:"580px",overflowY:"auto",borderRadius:12,border:"1px solid #e2e8f0",background:"#fff",boxShadow:"0 1px 4px rgba(0,0,0,0.05)"},tableWrapper:{minWidth:1200}},cK=document.createElement("style");cK.innerText=`
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(-20px); }
    to   { opacity: 1; transform: translateY(0); }
  }
  input:focus, select:focus, button:focus {
    outline: 2px solid #186476;
    outline-offset: 2px;
  }
  .suggestionItem:hover { background: #f1f5f9 !important; }

  /* Beautiful Scrollbar */
  div[style*="maxHeight"][style*="overflowY"]::-webkit-scrollbar {
    width: 10px;
  }
  div[style*="maxHeight"][style*="overflowY"]::-webkit-scrollbar-track {
    background: #f1f1f1;
    border-radius: 10px;
  }
  div[style*="maxHeight"][style*="overflowY"]::-webkit-scrollbar-thumb {
    background: #186476;
    border-radius: 10px;
    border: 2px solid #f1f1f1;
  }
  div[style*="maxHeight"][style*="overflowY"]::-webkit-scrollbar-thumb:hover {
    background: #134d5a;
  }
`;document.head.appendChild(cK);const bOe=e=>{try{return new Date(e).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})}catch{return e}},xOe=e=>e?typeof e=="string"&&e.length===10?e:new Date(e).toISOString().slice(0,10):new Date().toISOString().slice(0,10),wOe=({clinicId:e,appointments:t=[],calendarView:n,setCalendarView:r,selectedDate:i,setSelectedDate:a,showDialog:s})=>{const c=wt(),d=qe(Z=>Z.appointments),f=async Z=>{if(v)try{await c(sb({appointmentId:Z,clinicId:v})).unwrap(),q()}catch(re){s("Error",re.message||"Failed to skip appointment","error")}},p=localStorage.getItem("clinicId"),m=qe(Z=>Z.auth||{}),g=m?.clinic?.id||m?.user?.clinicId||null,v=e||p||g,{dailyCalendar:b=[],weeklyCalendar:C=[],calendarLoading:j,calendarError:A,weeklyLoading:k,weeklyError:E}=qe(Z=>Z.reception||{}),{starting:P,startError:$}=qe(Z=>Z.appointments||{}),F=n==="weekly"?C:b;let O=[];Array.isArray(t)&&t.length>0?O=t:Array.isArray(F)?O=F:O=[];const _=xOe(i),[D,L]=w.useState(""),[R,M]=w.useState(""),H=w.useRef(null),W=300;w.useEffect(()=>(H.current&&clearTimeout(H.current),H.current=setTimeout(()=>{M(D.trim())},W),()=>{H.current&&clearTimeout(H.current)}),[D]);const fe=w.useMemo(()=>{if(!R)return O;const Z=R.toLowerCase();return O.filter(re=>{const me=re.patientId||{},ge=(me.name||"").toString().toLowerCase(),Pe=(re.appointmentId||re.id||"").toString().toLowerCase(),X=(re.tokenNumber||re.token||"").toString().toLowerCase(),J=(me.uhid||"").toString().toLowerCase();return ge.includes(Z)||Pe.includes(Z)||X.includes(Z)||J.includes(Z)})},[O,R]),q=()=>{if(!v)return;const Z={date:_,clinicId:v};c(n==="weekly"?B1(Z):Iu(Z))};w.useEffect(()=>{q()},[v,_,n,c]);const te=n==="weekly"?!!k:!!j,K=n==="weekly"?E:A,z=async()=>{if(!v){s("Error","Clinic ID missing!","error");return}try{const Z=await c(ab({clinicId:v})).unwrap(),re=Z.tokenNumber||Z.appointmentId||"Unknown";s("Success",`Next Patient Called! Token #${re}`,"success"),q()}catch(Z){s("Error",Z.message||"Failed to call next patient","error")}},V=async Z=>{if(v)try{const re=await c(hOe({appointmentId:Z,clinicId:v})).unwrap();s("Success",`${re.message}. Token #${re.tokenNumber}`,"success"),q()}catch(re){s("Error",re.message||"Failed to mark as arrived","error")}};return o.jsxs(o.Fragment,{children:[o.jsx("style",{jsx:!0,children:`
        .card {
          background: #ffffff;
          padding: 24px;
          border-radius: 12px;
          box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);
          margin-bottom: 24px;
          font-family: system-ui, -apple-system, sans-serif;
        }
        .header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 20px;
          flex-wrap: wrap;
          gap: 12px;
        }
        .section-title {
          font-size: 22px;
          font-weight: 700;
          color: #1a1a1a;
          margin: 0;
        }
        .action-buttons {
          display: flex;
          gap: 12px;
        }
        .btn {
          padding: 11px 20px;
          border: none;
          border-radius: 8px;
          font-weight: 600;
          font-size: 14.5px;
          cursor: pointer;
          background: #007bff;
          color: #fff;
          box-shadow: 0 2px 8px rgba(0, 123, 255, 0.25);
          transition: all 0.2s;
        }
        .btn:hover:not(:disabled) {
          background: #0056b3;
          transform: translateY(-1px);
        }
        .btn:disabled {
          background: #6c757d;
          cursor: not-allowed;
        }
        .calendar-toggle {
          display: flex;
          gap: 12px;
          align-items: center;
          flex-wrap: wrap;
          margin-bottom: 20px;
        }
        .tab-button {
          padding: 10px 20px;
          border-radius: 8px;
          border: 1.5px solid #d1d5db;
          background: #fff;
          color: #4b5563;
          cursor: pointer;
          font-weight: 600;
          transition: all 0.2s;
        }
        .tab-button.active {
          background: #186476;
          color: #fff;
          border-color: #186476;
        }
        .input {
          padding: 10px 12px;
          border-radius: 8px;
          border: 1.5px solid #d1d5db;
          font-size: 14px;
          background: #f9fafb;
          min-width: 160px;
        }
        .table {
          width: 100%;
          border-collapse: collapse;
          margin-top: 12px;
          font-size: 14px;
        }
        .th {
          background: #f1f5f9;
          padding: 14px 12px;
          text-align: left;
          font-weight: 600;
          color: #374151;
          border-bottom: 2px solid #e2e8f0;
        }
        .td {
          padding: 12px;
          border-bottom: 1px solid #e2e8f0;
          vertical-align: middle;
        }
        .token {
          font-weight: 700;
          font-family: "Courier New", monospace;
          color: #186476;
        }
        .appointment-id {
          font-family: "Courier New", monospace;
          font-size: 13px;
          color: #1e40af;
          background: #ebf8ff;
          padding: 4px 8px;
          border-radius: 6px;
        }
        .patient-name {
          font-weight: 600;
          color: #1f2937;
        }
        .uhid {
          font-size: 12px;
          color: #6b7280;
          margin-top: 2px;
        }
        .status-badge {
          padding: 5px 12px;
          border-radius: 12px;
          font-size: 12px;
          font-weight: 600;
          text-transform: uppercase;
        }
        .status-waiting {
          background: #fef3c7;
          color: #92400e;
        }
        .status-in_consultation {
          background: #dbeafe;
          color: #1e40af;
        }
        .status-completed {
          background: #d1fae5;
          color: #065f46;
        }
        .status-default {
          background: #e5e7eb;
          color: #4b5563;
        }
        .loading,
        .error-msg,
        .call-error {
          padding: 14px;
          border-radius: 8px;
          text-align: center;
          margin: 12px 0;
          font-size: 14.5px;
        }
        .loading {
          background: #dbeafe;
          color: #1e40af;
        }
        .error-msg {
          background: #fee2e2;
          color: #991b1b;
        }
        .call-error {
          background: #fef3c7;
          color: #92400e;
        }
        .empty-state {
          text-align: center;
          padding: 40px 20px;
          color: #6b7280;
          font-style: italic;
        }
        @media (max-width: 768px) {
          .header {
            flex-direction: column;
            align-items: stretch;
          }
          .action-buttons {
            justify-content: center;
            margin-top: 12px;
          }
          .calendar-toggle {
            flex-direction: column;
            align-items: stretch;
          }
          .tab-button,
          .input {
            width: 100%;
            text-align: center;
          }
          .table {
            display: block;
            overflow-x: auto;
            white-space: nowrap;
          }
        }
        .table-wrapper {
          max-height: 420px; /* adjust height if needed */
          overflow-y: auto; /* vertical scroll */
          overflow-x: auto; /* horizontal scroll safety */
          border: 1px solid #e5e7eb;
          border-radius: 8px;
        }
      `}),o.jsxs("div",{className:"card",children:[o.jsxs("div",{className:"header",children:[o.jsx("h2",{className:"section-title",children:"Appointments & Queue"}),o.jsxs("div",{style:{display:"flex",gap:12,alignItems:"center"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",border:"1.5px solid #d1d5db",borderRadius:"8px",padding:"6px 8px",background:"#fff"},children:[o.jsx("input",{type:"search",placeholder:"Search by name, appointment ID, token or UHID",value:D,onChange:Z=>L(Z.target.value),style:{border:"none",outline:"none",padding:"8px",fontSize:"14px",background:"transparent",minWidth:"200px"}}),D&&o.jsx("button",{onClick:()=>{L(""),M("")},style:{background:"transparent",border:"none",cursor:"pointer",fontSize:"18px",padding:"0 6px"},children:""})]}),o.jsx("div",{className:"action-buttons",children:o.jsx("button",{className:"btn",onClick:z,disabled:P,children:P?"Calling...":"Start Consultation"})})]})]}),o.jsxs("div",{className:"calendar-toggle",children:[o.jsx("button",{className:`tab-button ${n==="daily"?"active":""}`,onClick:()=>r("daily"),children:"Daily View"}),o.jsx("button",{className:`tab-button ${n==="weekly"?"active":""}`,onClick:()=>r("weekly"),children:"Weekly View"}),o.jsx("input",{type:"date",className:"input",value:_,onChange:Z=>{a(Z.target.value),r("daily")}})]}),te&&o.jsx("div",{className:"loading",children:"Loading appointments..."}),K&&o.jsxs("div",{className:"error-msg",children:["Error: ",K]}),$&&o.jsxs("div",{className:"call-error",children:["Failed to call next patient:"," ",$.message||"Please try again"]}),o.jsx("div",{className:"table-wrapper",children:o.jsxs("table",{className:"table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{className:"th",children:"Token #"}),o.jsx("th",{className:"th",children:"Appointment ID"}),o.jsx("th",{className:"th",children:"Patient"}),o.jsx("th",{className:"th",children:"Date"}),o.jsx("th",{className:"th",children:"Time"}),o.jsx("th",{className:"th",children:"Status"}),o.jsx("th",{className:"th",children:"Action"})]})}),o.jsx("tbody",{children:fe.length>0?fe.map(Z=>{const re=Z.patientId||{},me=(Z.status||"").toString().toLowerCase(),ge=me==="waiting"?"status-waiting":me==="in_consultation"?"status-in_consultation":me==="completed"?"status-completed":"status-default",Pe=Z.appointmentId||Z.id||Z.tokenNumber||"";return o.jsxs("tr",{children:[o.jsx("td",{className:"td",children:o.jsxs("span",{className:"token",children:["#",String(Z.tokenNumber||Z.token||"").padStart(3,"0")]})}),o.jsx("td",{className:"td",children:o.jsx("span",{className:"appointment-id",children:Pe})}),o.jsxs("td",{className:"td",children:[o.jsx("div",{className:"patient-name",children:re.name||"Unknown"}),re.uhid&&o.jsxs("div",{className:"uhid",children:["(",re.uhid,")"]})]}),o.jsx("td",{className:"td",children:bOe(Z.date||_)}),o.jsx("td",{className:"td",children:Z.time||Z.slot||""}),o.jsx("td",{className:"td",children:o.jsx("span",{className:`status-badge ${ge}`,children:me?me.replace(/_/g," "):"Scheduled"})}),o.jsx("td",{className:"td",children:o.jsxs("div",{style:{display:"flex",gap:"6px"},children:[(Z.status==="skipped"||Z.status==="not-arrived")&&o.jsx("button",{className:"btn",onClick:()=>V(Z._id),style:{padding:"6px 10px",borderRadius:"6px",background:"#22c55e",color:"white",border:"none",cursor:"pointer",fontSize:"13px"},children:"Late-Arrived"}),Z.status==="waiting"&&o.jsx("button",{onClick:()=>f(Z._id),disabled:d,style:{padding:"6px 10px",borderRadius:"6px",background:"#f87171",color:"white",border:"none",cursor:"pointer",fontSize:"13px"},children:d?"Skipping...":"Skip"})]})})]},Z._id||Z.id||Z.tokenNumber)}):o.jsx("tr",{children:o.jsx("td",{colSpan:"6",className:"empty-state",children:v?te?"Loading appointments...":"No appointments for selected date":"Please select a clinic"})})})]})})]})]})},uK=({patients:e,clinicId:t})=>{const n=wt(),{activePatients:r=[],activePatientsLoading:i=!1,billingSettings:a=null,loading:s,pdfLoading:c=!1,ledgerLoading:d=!1}=qe(ie=>ie.billing||{}),[f,p]=w.useState(()=>{const ie=sessionStorage.getItem("customServices");return ie?JSON.parse(ie):[]}),[m,g]=w.useState("consultation");w.useEffect(()=>{sessionStorage.setItem("customServices",JSON.stringify(f))},[f]);const v=qe(ie=>ie.auth?.clinic?.id),b=w.useMemo(()=>t||v||a?.clinicId||localStorage.getItem("clinicId")||null,[t,v,a?.clinicId]),C=w.useRef({});w.useEffect(()=>{b&&n(Sf(b))},[b,n]),w.useEffect(()=>{if(!b)return;const ie=a&&(String(a.clinicId||a._id)===String(b)||String(a.clinic?._id||a.clinicId)===String(b)),we=Array.isArray(a?.services)&&a.services.length>0;ie&&we||n(wf(b))},[b,n]),w.useEffect(()=>{const ie=()=>{b&&n(Sf(b))};return window.addEventListener("focus",ie),()=>window.removeEventListener("focus",ie)},[b,n]);const j=w.useMemo(()=>r.length>0?r:e||[],[r,e]),[A,k]=w.useState(""),[E,P]=w.useState(!1),$=w.useRef(null),F=ie=>{k(ie.target.value),P(!0)},O=w.useMemo(()=>{if(!A.trim())return[];const ie=A.toLowerCase();return j.filter(we=>{const Ue=(we.billNumber||"").toLowerCase(),le=(we.patientName||we.name||"").toLowerCase(),et=(we.uhid||"").toLowerCase();return Ue.includes(ie)||le.includes(ie)||et.includes(ie)}).slice(0,8)},[A,j]),_=ie=>{if(!ie)return!1;const we=ie.trim().toUpperCase();return/^([A-Z]+-)?\d{4,}-\d{4,}$/.test(we)||/^[A-Z]{2,}-?\d+$/.test(we)||we.includes("-2025-")||we.includes("-2024-")},D=(ie,we)=>{if(!ie)return null;const Ue=et=>Array.isArray(et)&&et.length>0?et[0]:et,le=Array.isArray(ie)?Ue(ie):ie;return{...le,billNumber:le.billNumber||le.billNo||le.invoiceNo||le.invoiceId||null,_id:le._id||le.billId||le.id||null,patient:le.patient||{name:le.patientName||le.name||"Unknown"},uhid:le.uhid||we||le.patient?.uhid||"N/A",services:Array.isArray(le.services)?le.services:le.items||[],totalAmount:Number(le.totalAmount||le.total||le.amount||0),discount:Number(le.discount||0),paymentMethod:le.paymentMethod||le.payment_mode||"cash",status:le.status||"paid",createdAt:le.createdAt||le.date||new Date().toISOString()}},L=async()=>{const ie=A.trim();if(!ie)return Ee.error("Please enter Bill Number, Patient Name, or UHID");if(!b)return Ee.error("Clinic not selected!");const we=j.find(le=>le.billNumber&&le.billNumber.toLowerCase()===ie.toLowerCase());if(we?.billNumber){k(we.billNumber),pe(we.billNumber),P(!1);return}if(_(ie)){const le=await n(bm({uhid:ie,clinicId:b}));if(bm.fulfilled.match(le)){const et=le.payload;let ln=[];if(Array.isArray(et)?ln=et:et?.bills?ln=et.bills:et?.data?ln=Array.isArray(et.data)?et.data:[et.data]:et&&(ln=[et]),ln.length===0)return Ee.error(`No bills found for UHID: ${ie}`);const en=D(ln[0],ie);if(!en?.billNumber)return Ee.error("Bill found but no BILL NUMBER");C.current[en.billNumber]=en,k(en.billNumber),pe(en.billNumber),P(!1);return}}const Ue=j.find(le=>(le.patientName||le.name||"").toLowerCase().includes(ie.toLowerCase()));if(Ue?.billNumber&&Ue.billNumber!=="-"){k(Ue.billNumber),pe(Ue.billNumber),P(!1);return}Ee.error("No bill found. Try exact Bill No, UHID, or Patient Name")},R=ie=>{k(ie),P(!1),pe(ie)};w.useEffect(()=>{const ie=we=>{$.current&&!$.current.contains(we.target)&&P(!1)};return document.addEventListener("mousedown",ie),()=>document.removeEventListener("mousedown",ie)},[]);const M=w.useMemo(()=>{const ie=Array.isArray(a?.services)?a.services:[],we=ie.filter(Ue=>{const le=Ue?.clinicId||Ue?.clinic?._id||Ue?.clinic;return le?String(le)===String(b):!0});return console.debug("allAvailableServices:",{clinicId:b,raw:ie,filtered:we}),we},[a?.services,b]),H=ie=>{if(!ie||ie==="-")return"-";const we=new Date(ie);return isNaN(we.getTime())?ie:we.toLocaleString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})},W=ie=>ie.billNumber&&ie.billNumber!=="-"?"Paid":"Unpaid",[fe,q]=w.useState(!1),[te,K]=w.useState(null),[z,V]=w.useState([]),[Z,re]=w.useState(0),[me,ge]=w.useState("cash"),[Pe,X]=w.useState(!1),[J,ce]=w.useState(()=>Number(a?.consultationFees?.consultationFee)||0),[ae,ne]=w.useState(()=>Number(a?.consultationFees?.followUpFee)||0);w.useEffect(()=>{if(a?.consultationFees){const ie=Number(a.consultationFees.consultationFee)||0,we=Number(a.consultationFees.followUpFee)||0;ce(ie),ne(we)}},[a]);const G=w.useCallback(ie=>{K(ie),V([]),re(0),ge("cash"),q(!0)},[]),ee=()=>{q(!1),K(null),V([]),re(0),ge("cash"),n(Jee())},ue=()=>V(ie=>[...ie,{name:"",quantity:1,customAmount:0}]),Ae=(ie,we,Ue)=>V(le=>le.map((et,ln)=>ln===ie?{...et,[we]:we==="quantity"||we==="customAmount"?Number(Ue)||0:Ue}:et)),Ie=ie=>V(we=>we.filter((Ue,le)=>le!==ie)),De=(ie,we)=>{if(we==="__custom__"||we===""){V(le=>le.map((et,ln)=>ln===ie?{...et,_id:void 0,name:"",defaultAmount:0,customAmount:0,quantity:1}:et));return}const Ue=M.find(le=>le._id===we);Ue&&V(le=>le.map((et,ln)=>ln===ie?{_id:Ue._id,name:Ue.name,defaultAmount:Ue.defaultAmount||0,customAmount:0,quantity:et.quantity||1}:et))},ye=()=>{const ie=z.reduce((le,et)=>{const ln=et.customAmount>0?et.customAmount:et.defaultAmount||0;return le+ln*(et.quantity||1)},0);let we=0;m==="consultation"?we=Number(J)||0:m==="followup"&&(we=Number(ae)||0);const Ue=ie+we;return Math.max(0,Ue-Number(Z||0))},Oe=async ie=>{ie.preventDefault(),X(!0);let we=z.filter(en=>en.name?.trim()).map(en=>{const Se=en.customAmount>0?en.customAmount:en.defaultAmount||0;return{_id:en._id||`temp_${Date.now()}_${Math.random()}`,name:en.name.trim(),quantity:en.quantity||1,amount:Se,customAmount:Se}});if(m==="consultation"&&J>0?we.unshift({_id:"consultation_fee_auto",name:"Consultation Fee",quantity:1,amount:Number(J),customAmount:Number(J)}):m==="followup"&&ae>0&&we.unshift({_id:"followup_fee_auto",name:"Follow-up Consultation Fee",quantity:1,amount:Number(ae),customAmount:Number(ae)}),we.length===0){X(!1),Ee.warn("Please select at least one service or consultation fee.");return}const Ue=we.reduce((en,Se)=>en+Se.amount*(Se.quantity||1),0),le=Math.max(0,Ue-Number(Z||0)),et=`BILL-${new Date().getFullYear()}-${String(Date.now()).slice(-6)}`,ln={_id:`fake_${Date.now()}`,billNumber:et,totalAmount:le,discount:Number(Z||0),paymentMethod:me,status:"paid",services:we,createdAt:new Date().toISOString(),patient:{name:te.patientName||"Patient"},uhid:te.uhid||"N/A"};C.current[et]=ln,n(z_({appointmentId:te.appointmentId,bill:{billId:ln._id,billNumber:et,totalAmount:le,discount:Number(Z||0),paymentMethod:me,status:"paid",services:we}}));try{const en=await n(vm({clinicId:b,appointmentId:te.appointmentId,services:we,discount:Number(Z||0),paymentMethod:me,status:"paid",forceGenerate:!0,allowWithoutSettings:!0}));if(vm.fulfilled.match(en)){const Se=en.payload?.bill||en.payload;C.current[Se.billNumber]=Se,n(z_({appointmentId:te.appointmentId,bill:{billId:Se._id,billNumber:Se.billNumber,totalAmount:Se.totalAmount,services:Se.services||we}})),Ee.success(`Bill generated successfully! #${Se.billNumber}`)}}catch(en){console.log("Backend fail, but fake bill is working!",en)}n(Sf(b)),ee(),X(!1)},[Re,it]=w.useState(!1),[ut,ze]=w.useState(null),pe=w.useCallback(ie=>{!ie||ie==="-"||ie==="N/A"||(ze(ie),it(!0))},[]),ke=w.useMemo(()=>{if(!ut)return null;const ie=C.current[ut];if(ie)return ie;const we=j.find(et=>et.billNumber===ut);if(!we)return null;const Ue=we.services?typeof we.services=="string"&&we.services.trim()?[{name:we.services.trim(),quantity:1}]:Array.isArray(we.services)?we.services.map(et=>typeof et=="string"?{name:et.trim(),quantity:1}:{...et,name:et.name||"Unnamed Service"}):[]:[],le={_id:we.billId||null,billNumber:we.billNumber,totalAmount:we.totalAmount||0,discount:we.discount||0,paymentMethod:we.paymentMethod||"cash",uhid:we.uhid||"N/A",patient:{name:we.patientName||"Unknown"},services:Ue,createdAt:we.dateTime||new Date};return C.current[ut]=le,le},[ut,j]),st=()=>{if(c||!ke?._id){Ee.error("PDF not available");return}n(nv({billId:ke._id,clinicId:b}))};return o.jsxs(o.Fragment,{children:[o.jsx("style",{jsx:!0,children:`
        /* Your Full Beautiful CSS - Same as before */
        .container {
          padding: 20px;
          font-family: system-ui, sans-serif;
          background: #f8f9fa;
          min-height: 100vh;
        }
        .card {
          background: white;
          border-radius: 12px;
          box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
          padding: 20px;
          margin-bottom: 20px;
        }
        .section-title {
          font-size: 22px;
          font-weight: 700;
          color: #2c3e50;
          margin: 0 0 20px 0;
        }
        .search-container {
          display: flex;
          gap: 8px;
          position: relative;
        }
        .search-input {
          flex: 1;
          padding: 12px 16px;
          font-size: 15px;
          border: 2px solid #ddd;
          border-radius: 8px;
          outline: none;
        }
        .search-input:focus {
          border-color: #239eb9;
        }
        .search-btn {
          padding: 10px 16px;
          background: #239eb9;
          color: white;
          border: none;
          border-radius: 8px;
          cursor: pointer;
          font-weight: 600;
        }
        .suggestions {
          position: absolute;
          top: 100%;
          left: 0;
          right: 0;
          background: white;
          border: 1px solid #ddd;
          border-radius: 8px;
          max-height: 240px;
          overflow-y: auto;
          z-index: 20;
          box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        .suggestion-item {
          padding: 12px 16px;
          cursor: pointer;
          border-bottom: 1px solid #eee;
        }
        .suggestion-item:hover {
          background: #f0f8ff;
        }
        .table {
          width: 100%;
          border-collapse: collapse;
          font-size: 14px;
        }
        .th {
          background: #f1f3f5;
          padding: 12px 10px;
          text-align: left;
          font-weight: 600;
          color: #34495e;
          border-bottom: 2px solid #dee2e6;
        }
        .td {
          padding: 12px 10px;
          border-bottom: 1px solid #eee;
        }
        .tr:hover {
          background: #f8fdff;
        }
        .btn {
          padding: 8px 14px;
          border: none;
          border-radius: 6px;
          font-size: 13px;
          font-weight: 600;
          cursor: pointer;
          margin-right: 6px;
        }
        .btn-green {
          background: #28a745;
          color: white;
        }
        .btn-green:disabled {
          background: #6c757d;
          cursor: not-allowed;
        }
        .btn-blue {
          background: #239eb9;
          color: white;
        }
        .badge {
          padding: 4px 10px;
          border-radius: 20px;
          font-size: 11px;
          font-weight: 700;
          text-transform: uppercase;
        }
        .badge.paid {
          background: #d4edda;
          color: #155724;
        }
        .badge.unpaid {
          background: #f8d7da;
          color: #721c24;
        }
        .modal-overlay {
          position: fixed;
          inset: 0;
          background: rgba(0, 0, 0, 0.6);
          display: flex;
          justify-content: center;
          align-items: center;
          z-index: 9999;
        }
        .modal {
          background: white;
          border-radius: 16px;
          width: 95%;
          max-width: 700px;
          max-height: 90vh;
          overflow-y: auto;
          box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }
        .modal-header {
          padding: 20px 24px 16px;
          font-size: 20px;
          font-weight: 700;
          color: #2c3e50;
          border-bottom: 1px solid #eee;
        }
        .modal-body {
          padding: 24px;
        }
        .form-group {
          margin-bottom: 20px;
        }
        .form-label {
          display: block;
          margin-bottom: 8px;
          font-weight: 600;
          color: #444;
        }
        .form-input,
        .form-select {
          width: 100%;
          padding: 12px;
          border: 1px solid #ddd;
          border-radius: 8px;
          font-size: 15px;
        }
        .form-row {
          display: flex;
          gap: 10px;
          align-items: center;
          margin-bottom: 10px;
          flex-wrap: wrap;
        }
        .input-sm {
          width: 90px;
        }
        .btn-remove {
          background: #dc3545;
          color: white;
          border: none;
          padding: 8px 12px;
          border-radius: 6px;
          cursor: pointer;
        }
        .btn-add {
          background: #007bff;
          color: white;
          padding: 10px 16px;
          border: none;
          border-radius: 8px;
          cursor: pointer;
        }
        .total-box {
          background: #e8f5e9;
          padding: 16px;
          border-radius: 10px;
          font-size: 22px;
          font-weight: bold;
          text-align: right;
          color: #155724;
        }
        .form-actions {
          display: flex;
          justify-content: flex-end;
          gap: 12px;
          margin-top: 30px;
          padding-top: 20px;
          border-top: 1px solid #eee;
        }
        .btn-cancel {
          background: #f8f9fa;
          color: #6c757d;
          padding: 12px 20px;
          border: 1px solid #ddd;
          border-radius: 8px;
          cursor: pointer;
        }
        .btn-submit {
          background: #28a745;
          color: white;
          padding: 12px 24px;
          border: none;
          border-radius: 8px;
          cursor: pointer;
          font-weight: 600;
        }
        .bill-modal {
          max-width: 800px;
          width: 95%;
          background: #fff;
          border-radius: 16px;
          overflow: hidden;
          display: flex;
          flex-direction: column;
          max-height: 90vh;
        }
        .bill-header {
          background: linear-gradient(135deg, #239eb9, #1e7e94);
          color: white;
          padding: 20px 30px;
          display: flex;
          justify-content: space-between;
          align-items: center;
          flex-wrap: wrap;
          gap: 16px;
          flex-shrink: 0;
        }
        .bill-title h2 {
          margin: 0;
          font-size: 26px;
        }
        .bill-no {
          font-size: 18px;
          opacity: 0.9;
        }
        .clinic-info h3 {
          margin: 0 0 8px 0;
          font-size: 20px;
        }
        .bill-body {
          padding: 30px;
          overflow: auto;
          flex: 1;
          min-height: 0;
        }
        .info-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
          gap: 12px;
          margin-bottom: 20px;
          font-size: 15px;
        }
        .uhid-badge {
          background: #e3f2fd;
          color: #1976d2;
          padding: 4px 10px;
          border-radius: 6px;
          font-weight: bold;
        }
        .status-badge.paid {
          background: #d4edda;
          color: #155724;
          padding: 6px 12px;
          border-radius: 20px;
          font-weight: bold;
          text-transform: uppercase;
          font-size: 12px;
        }
        .divider {
          border: none;
          border-top: 2px dashed #ddd;
          margin: 20px 0;
        }
        .services-table {
          width: 100%;
          border-collapse: collapse;
          margin: 16px 0;
          font-size: 14px;
        }
        .services-table th {
          background: #f8f9fa;
          padding: 12px;
          text-align: left;
          border-bottom: 2px solid #dee2e6;
        }
        .services-table td {
          padding: 12px;
          border-bottom: 1px solid #eee;
        }
        .text-center {
          text-align: center;
        }
        .text-right {
          text-align: right;
        }
        .total-summary {
          margin-top: 24px;
          background: #f8f9fa;
          padding: 16px;
          border-radius: 10px;
          font-size: 16px;
        }
        .summary-row {
          display: flex;
          justify-content: space-between;
          padding: 6px 0;
        }
        .discount {
          color: #d32f2f;
        }
        .total-row {
          font-size: 20px;
          font-weight: bold;
          color: #155724;
          border-top: 2px solid #ddd;
          padding-top: 12px;
          margin-top: 8px;
        }
        .bill-footer {
          margin-top: 30px;
          text-align: center;
          color: #666;
          font-style: italic;
        }
        .bill-modal .form-actions {
          padding: 20px 30px;
          background: #f8f9fa;
          border-top: 1px solid #eee;
          position: sticky;
          bottom: 0;
          z-index: 50;
          box-shadow: 0 -6px 18px rgba(0, 0, 0, 0.04);
        }
        @media (max-width: 600px) {
          .search-container {
            flex-direction: column;
          }
          .search-btn {
            width: 100%;
          }
        }

        /* Fees row - put consultation and follow-up side-by-side nicely */
        .fees-row {
          display: flex;
          gap: 12px;
          align-items: flex-start;
          margin-bottom: 16px;
        }

        /* Ensure fee-group inputs don't overflow and look consistent */
        .fee-group .form-input {
          width: 100%;
          box-sizing: border-box;
        }

        /* Mobile: stack vertically */
        @media (max-width: 600px) {
          .fees-row {
            flex-direction: column;
          }
          .fee-group {
            margin-left: 0 !important;
          }
        }
      `}),o.jsxs("div",{className:"container",children:[o.jsxs("div",{className:"card",ref:$,children:[o.jsxs("div",{className:"search-container",children:[o.jsx("input",{type:"text",className:"search-input",placeholder:"Search by Bill No or UHID (e.g. ME-BILL-2025-0001 or SHC-2025-0020)",value:A,onChange:F,onFocus:()=>P(!0)}),o.jsx("button",{className:"search-btn",onClick:L,children:d?"Searching...":"Search"})]}),E&&O.length>0&&o.jsx("div",{className:"suggestions",children:O.map(ie=>o.jsxs("div",{className:"suggestion-item",onClick:()=>ie.billNumber&&R(ie.billNumber),children:[o.jsx("strong",{children:ie.billNumber||"No Bill"})," "," ",ie.patientName||"Unknown",ie.uhid&&` (UHID: ${ie.uhid})`]},ie.billNumber||ie._id))})]}),o.jsxs("div",{className:"card",children:[o.jsx("h2",{className:"section-title",children:"Active Patients & Billing"}),o.jsxs("table",{className:"table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{className:"th",children:"Token"}),o.jsx("th",{className:"th",children:"Patient Name"}),o.jsx("th",{className:"th",children:"Bill No"}),o.jsx("th",{className:"th",children:"Amount"}),o.jsx("th",{className:"th",children:"Discount"}),o.jsx("th",{className:"th",children:"Services"}),o.jsx("th",{className:"th",children:"Date"}),o.jsx("th",{className:"th",children:"Payment"}),o.jsx("th",{className:"th",children:"Status"}),o.jsx("th",{className:"th",children:"Actions"})]})}),o.jsx("tbody",{children:j.length>0?j.map((ie,we)=>{const Ue=ie.services?Array.isArray(ie.services)?ie.services.map(le=>typeof le=="string"?le:le.name||"Unnamed").filter(Boolean).join(", "):typeof ie.services=="string"?ie.services.trim():"-":"-";return o.jsxs("tr",{className:"tr",children:[o.jsx("td",{className:"td",children:ie.tokenNumber||"-"}),o.jsx("td",{className:"td",children:ie.patientName||ie.name||"-"}),o.jsx("td",{className:"td",children:ie.billNumber||"-"}),o.jsxs("td",{className:"td",children:["",ie.totalAmount||0]}),o.jsxs("td",{className:"td",children:["",ie.discount||0]}),o.jsx("td",{className:"td",children:Ue}),o.jsx("td",{className:"td",children:H(ie.dateTime||ie.createdAt)}),o.jsx("td",{className:"td",children:ie.paymentMethod||"-"}),o.jsx("td",{className:"td",children:o.jsx("span",{className:`badge ${W(ie).toLowerCase()}`,children:W(ie)})}),o.jsxs("td",{className:"td",children:[o.jsx("button",{className:"btn btn-green",onClick:()=>G(ie),disabled:Pe||W(ie)==="Paid",children:Pe?"...":"Generate"}),o.jsx("button",{className:"btn btn-blue",onClick:()=>pe(ie.billNumber),disabled:!ie.billNumber||ie.billNumber==="-",children:"View"})]})]},ie._id||we)}):o.jsx("tr",{children:o.jsx("td",{colSpan:"10",style:{textAlign:"center",padding:"40px",color:"#666"},children:i?"Loading patients...":"No active patients"})})})]})]}),fe&&o.jsx("div",{className:"modal-overlay",onClick:ee,children:o.jsxs("div",{className:"modal",onClick:ie=>ie.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:["Generate Bill  ",te?.patientName||"Patient"]}),o.jsx("div",{className:"modal-body",children:o.jsxs("form",{onSubmit:Oe,children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Services"}),z.map((ie,we)=>o.jsxs("div",{className:"form-row",children:[o.jsxs("select",{className:"form-select",value:ie._id||"",onChange:Ue=>De(we,Ue.target.value),style:{flex:1},children:[o.jsx("option",{value:"",children:"-- Select Service or Add Custom --"}),o.jsx("option",{value:"__custom__",children:"Add Custom Service"}),M.map(Ue=>o.jsxs("option",{value:Ue._id,children:[Ue.name," (",Ue.defaultAmount||Ue.customAmount||0,")",Ue.isCustom&&" (Custom)"]},Ue._id||`custom-${Ue.name}-${Math.random()}`))]}),o.jsx("input",{type:"text",className:"form-input",placeholder:"Custom name",value:ie.name,readOnly:!!ie._id,onChange:Ue=>Ae(we,"name",Ue.target.value),style:{width:"180px"}}),o.jsx("input",{type:"number",className:"form-input input-sm",placeholder:"Qty",value:ie.quantity,onChange:Ue=>Ae(we,"quantity",Ue.target.value),min:"1"}),o.jsx("input",{type:"number",className:"form-input input-sm",placeholder:"Price",value:ie.customAmount>0?ie.customAmount:ie.defaultAmount||"",onChange:Ue=>Ae(we,"customAmount",Ue.target.value),min:"0",step:"0.01"}),o.jsx("button",{type:"button",className:"btn-remove",onClick:()=>Ie(we),children:"Remove"})]},we)),o.jsx("button",{type:"button",className:"btn-add",onClick:ue,children:"+ Add Service"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",style:{fontSize:"18px",fontWeight:"700",color:"#2c3e50"},children:"Fee"}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px",marginTop:"12px"},children:[o.jsxs("label",{style:{display:"flex",alignItems:"center",padding:"12px 16px",background:m==="consultation"?"#e3f2fd":"#f8f9fa",border:"2px solid",borderColor:m==="consultation"?"#239eb9":"#ddd",borderRadius:"10px",cursor:"pointer",transition:"all 0.2s"},onClick:()=>g("consultation"),children:[o.jsx("input",{type:"radio",name:"feeType",checked:m==="consultation",onChange:()=>g("consultation"),style:{marginRight:"12px"}}),o.jsx("div",{style:{flex:1},children:o.jsx("strong",{children:"First Consultation"})}),o.jsxs("div",{style:{fontSize:"18px",fontWeight:"bold",color:"#239eb9"},children:["",J]})]}),o.jsxs("label",{style:{display:"flex",alignItems:"center",padding:"12px 16px",background:m==="followup"?"#e8f5e9":"#f8f9fa",border:"2px solid",borderColor:m==="followup"?"#28a745":"#ddd",borderRadius:"10px",cursor:"pointer",transition:"all 0.2s"},onClick:()=>g("followup"),children:[o.jsx("input",{type:"radio",name:"feeType",checked:m==="followup",onChange:()=>g("followup"),style:{marginRight:"12px"}}),o.jsx("div",{style:{flex:1},children:o.jsx("strong",{children:"Follow-up Visit"})}),o.jsxs("div",{style:{fontSize:"18px",fontWeight:"bold",color:"#28a745"},children:["",ae]})]}),o.jsxs("label",{style:{display:"flex",alignItems:"center",padding:"12px 16px",background:m==="none"?"#fff3cd":"#f8f9fa",border:"2px solid",borderColor:m==="none"?"#ffc107":"#ddd",borderRadius:"10px",cursor:"pointer",transition:"all 0.2s"},onClick:()=>g("none"),children:[o.jsx("input",{type:"radio",name:"feeType",checked:m==="none",onChange:()=>g("none"),style:{marginRight:"12px"}}),o.jsx("div",{style:{flex:1},children:o.jsx("strong",{children:"No Consultation Fee"})})]})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Discount ()"}),o.jsx("input",{type:"number",className:"form-input",value:Z,onChange:ie=>re(Math.max(0,Number(ie.target.value)||0)),min:"0"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:o.jsx("strong",{children:"Total Amount"})}),o.jsxs("div",{className:"total-box",children:["",ye()]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Payment Method"}),o.jsxs("select",{className:"form-select",value:me,onChange:ie=>ge(ie.target.value),children:[o.jsx("option",{value:"cash",children:"Cash"}),o.jsx("option",{value:"card",children:"Card"}),o.jsx("option",{value:"upi",children:"UPI"}),o.jsx("option",{value:"bank_transfer",children:"Bank Transfer"}),o.jsx("option",{value:"insurance",children:"Insurance"})]})]}),o.jsxs("div",{className:"form-actions",children:[o.jsx("button",{type:"button",className:"btn-cancel",onClick:ee,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn-submit",disabled:s||Pe,children:s||Pe?"Generating...":"Generate Bill"})]})]})})]})}),Re&&o.jsx("div",{className:"modal-overlay",onClick:()=>it(!1),children:o.jsxs("div",{className:"modal bill-modal",onClick:ie=>ie.stopPropagation(),children:[o.jsxs("div",{className:"bill-header",children:[o.jsxs("div",{className:"bill-title",children:[o.jsx("h2",{children:"Tax Invoice / Bill"}),o.jsxs("span",{className:"bill-no",children:["Bill No: ",ut]})]}),o.jsxs("div",{className:"clinic-info",children:[o.jsx("h3",{children:ke?.clinicId?.clinicName||"MediScript Clinic"}),o.jsx("p",{children:ke?.clinicId?.address||"123 Health Street, Medical City"}),o.jsxs("p",{children:["GST: ",ke?.clinicId?.gst||"27AAABC1234D1Z5"]})]})]}),o.jsxs("div",{className:"bill-body",children:[o.jsxs("div",{className:"info-grid",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Patient Name:"})," ",o.jsx("span",{children:ke?.patient?.name||ke?.patientName||"N/A"})]}),o.jsxs("div",{children:[o.jsx("strong",{children:"UHID:"})," ",o.jsx("span",{className:"uhid-badge",children:ke?.uhid||"N/A"})]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Date & Time:"})," ",o.jsx("span",{children:new Date(ke?.createdAt||new Date).toLocaleString("en-IN")})]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Status:"})," ",o.jsx("span",{className:"status-badge paid",children:"PAID"})]})]}),o.jsx("hr",{className:"divider"}),o.jsx("h4",{children:"Services"}),o.jsxs("table",{className:"services-table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"S.No"}),o.jsx("th",{children:"Service Name"}),o.jsx("th",{className:"text-center",children:"Qty"}),o.jsx("th",{className:"text-right",children:"Rate"}),o.jsx("th",{className:"text-right",children:"Amount"})]})}),o.jsx("tbody",{children:(()=>{let ie=[];return ke?.services&&(typeof ke.services=="string"&&ke.services.trim()?ie=[{name:ke.services.trim(),quantity:1}]:Array.isArray(ke.services)&&(ie=ke.services.map(we=>typeof we=="string"?{name:we.trim(),quantity:1}:{...we,name:we.name||"Unnamed Service"}).filter(we=>we.name))),ie.length>0?ie.map((we,Ue)=>{const le=we.amount||we.customAmount||ke?.totalAmount||0,et=we.quantity||1,ln=le*et;return o.jsxs("tr",{children:[o.jsx("td",{children:Ue+1}),o.jsx("td",{children:we.name}),o.jsx("td",{className:"text-center",children:et}),o.jsxs("td",{className:"text-right",children:["",Number(le).toFixed(2)]}),o.jsxs("td",{className:"text-right",children:["",Number(ln).toFixed(2)]})]},Ue)}):o.jsx("tr",{children:o.jsx("td",{colSpan:"5",className:"text-center",style:{color:"#999",fontStyle:"italic"},children:"No services listed"})})})()})]}),o.jsxs("div",{className:"total-summary",children:[o.jsxs("div",{className:"summary-row",children:[o.jsx("span",{children:"Subtotal"}),o.jsxs("span",{children:["",((ke?.totalAmount||0)+(ke?.discount||0)).toFixed(2)]})]}),o.jsxs("div",{className:"summary-row",children:[o.jsx("span",{children:"Discount"}),o.jsxs("span",{className:"discount",children:["-",(ke?.discount||0).toFixed(2)]})]}),o.jsxs("div",{className:"summary-row total-row",children:[o.jsx("strong",{children:"Total Amount"}),o.jsxs("strong",{children:["",(ke?.totalAmount||0).toFixed(2)]})]}),o.jsxs("div",{className:"summary-row",children:[o.jsx("span",{children:"Paid via"}),o.jsx("strong",{children:(ke?.paymentMethod||"cash").toUpperCase()})]})]}),o.jsxs("div",{className:"bill-footer",children:[o.jsx("p",{children:"Thank you for choosing us!"}),o.jsxs("small",{children:["Generated on ",new Date().toLocaleString("en-IN")]})]})]}),o.jsxs("div",{className:"form-actions",style:{padding:"20px 30px",background:"#f8f9fa",borderTop:"1px solid #eee"},children:[o.jsx("button",{className:"btn-cancel",onClick:()=>it(!1),children:"Close"}),o.jsx("button",{className:"btn-submit",onClick:st,disabled:c||!ke?._id,style:{minWidth:"220px",background:ke?._id?"#28a745":"#dc3545",fontWeight:"bold"},children:c?"Opening PDF...":ke?._id?"Print / Download PDF":"PDF Not Available"})]})]})})]})]})};uK.propTypes={patients:He.array,clinicId:He.oneOfType([He.string,He.number])};const SOe=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})}catch{return"Invalid Date"}},COe=({clinicId:e,patientId:t,patientName:n,showDialog:r})=>{const i=wt(),a=qe(R=>R.reception),[s,c]=w.useState(""),[d,f]=w.useState(""),[p,m]=w.useState(""),[g,v]=w.useState(""),b=!!t,C=b?a.patientCertificates:a.certificates,j=b?a.patientCertificatesLoading:a.certificatesLoading,A=b?a.patientCertificatesError:a.certificatesError,{pdfGenerationLoading:k,pdfGenerationError:E}=a,[P,$]=w.useState(null),F=(R=!1)=>{if(!e)return;const fe={clinicIdArg:e,filter:s,startDate:R?d:"",endDate:R?p:""};i(b&&t?fetchPatientCertificatesByPatientId({...fe,patientId:t}):U1(fe))};w.useEffect(()=>{(s||!d&&!p)&&F()},[e,t,b,s,i]);const O=R=>{const M=R.target.value;c(M),f(""),m("")},_=()=>{d&&p?(c(""),F(!0)):r("Warning","Both Start Date and End Date are required for range search.","warning")},D=async(R,M)=>{$(R),console.log("certificateType",M),E&&i({type:"reception/clearPatientError"});try{const W=(await i(z1({certificateId:R,certificateType:M,type:g})).unwrap()).blob;if(W){const fe=window.URL.createObjectURL(W);window.open(fe,"_blank"),setTimeout(()=>window.URL.revokeObjectURL(fe),1e3),r("PDF Generated",`Certificate (${M}) ready for download/print.`,"success")}else throw new Error("Received empty response for PDF.")}catch(H){const W=H?.message||E||"Failed to generate printable certificate.";r("Print Error",W,"error")}finally{$(null)}},L=C;return j?o.jsx("div",{className:"message",style:{margin:"20px",backgroundColor:"#e6f2f7",color:"#186476",textAlign:"center"},children:"Loading certificates..."}):o.jsxs(o.Fragment,{children:[o.jsx("style",{jsx:!0,children:`
        .filter-controls {
          display: flex;
          gap: 15px;
          margin-bottom: 25px;
          align-items: center;
          flex-wrap: wrap;
          padding: 15px;
          background: #e6f2f7;
          border-radius: 8px;
        }
        .filter-controls select {
          padding: 8px 15px;
          border-radius: 6px;
          border: 1px solid #186476;
          background: #fff;
          color: #186476;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.2s;
          appearance: none; /* Hide default arrow */
          background-image: url("data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23186476%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-6.5%200-12.8%202.8-17%207.8-4.5%205.3-4.9%2012.7-1%2018.5l133%20163.6c5.1%206.5%2012.8%209.6%2020.6%209.6s15.5-3%2020.6-9.6l133-163.6c3.9-5.8%203.5-13.2-1-18.5z%22%2F%3E%3C%2Fsvg%3E");
          background-repeat: no-repeat;
          background-position: right 10px center;
          background-size: 10px;
          padding-right: 30px;
        }
        .date-range-group {
          display: flex;
          gap: 10px;
          align-items: center;
        }
        .date-range-group input[type="date"] {
          padding: 8px;
          border: 1px solid #ccc;
          border-radius: 4px;
        }
        .search-btn {
          background: #025b84 !important;
          color: white !important;
          border: 1px solid #025b84 !important;
          padding: 8px 15px;
          border-radius: 6px;
          cursor: pointer;
          font-weight: 600;
        }
        .card {
          background: white;
          border-radius: 12px;
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
          padding: 28px;
          max-width: 900px;
          margin: 20px auto;
        }
        .section-title {
          font-size: 1.8rem;
          font-weight: 600;
          color: #025b84;
          border-bottom: 2px solid #e6f2f7;
          padding-bottom: 6px;
          margin-bottom: 20px;
        }
        .table {
          width: 100%;
          border-collapse: collapse;
          margin-top: 20px;
        }
        .th,
        .td {
          border: 1px solid #e6f2f7;
          padding: 12px;
          text-align: left;
        }
        .th {
          background: #186476;
          color: white;
          font-weight: 600;
        }
        .td {
          color: #2c3e50;
        }
        .print-btn {
          padding: 8px 12px;
          border-radius: 6px;
          border: none;
          background: #2e7d32;
          color: white;
          cursor: pointer;
          font-weight: 600;
          transition: background-color 0.3s, transform 0.1s;
          display: inline-flex;
          align-items: center;
          gap: 8px;
        }
        .print-btn:hover {
          background: #1b5e20;
        }
        .print-btn:disabled {
          background: #ccc;
          cursor: not-allowed;
        }
        .no-data {
          text-align: center;
          padding: 30px;
          color: #7f8c8d;
          font-size: 1.1rem;
          background-color: #f4f7f9;
          border-radius: 8px;
        }
      `}),o.jsxs("div",{className:"card",children:[o.jsxs("h2",{className:"section-title",children:[" Certificates"," "]}),o.jsxs("div",{className:"filter-controls",children:[o.jsx(Is,{style:{color:"#186476",fontSize:"1.2rem"}}),o.jsxs("select",{value:s,onChange:O,children:[o.jsx("option",{value:"",children:"-- Filter by Period --"}),o.jsx("option",{value:"day",children:"Day-wise"}),o.jsx("option",{value:"week",children:"Week-wise"}),o.jsx("option",{value:"month",children:"Month-wise"})]}),o.jsx("span",{style:{margin:"0 5px",color:"#777"},children:"OR"}),o.jsxs("div",{className:"date-range-group",children:[o.jsx("input",{type:"date",value:d,onChange:R=>{f(R.target.value),c("")},placeholder:"Start Date"}),"to",o.jsx("input",{type:"date",value:p,onChange:R=>{m(R.target.value),c("")},placeholder:"End Date"}),o.jsxs("button",{className:"search-btn",onClick:_,disabled:!d||!p,children:[o.jsx(d2,{})," Search"]})]})]}),A&&o.jsx("div",{className:"message error",style:{color:"red",textAlign:"center"},children:A}),E&&o.jsxs("div",{className:"message error",style:{color:"red",textAlign:"center",marginBottom:"15px",padding:"10px",border:"1px solid red"},children:["PDF Error: ",E]}),L.length===0?o.jsx("div",{className:"no-data",children:"No certificates found."}):o.jsxs("table",{className:"table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{className:"th",children:"#"}),o.jsx("th",{className:"th",children:"Patient Name"}),o.jsx("th",{className:"th",children:"Type"}),o.jsx("th",{className:"th",children:"Diagnosis/Reason"}),o.jsx("th",{className:"th",children:"Issue Date"}),o.jsx("th",{className:"th",children:"Action"})]})}),o.jsx("tbody",{children:L.map((R,M)=>o.jsxs(BCe.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:M*.05},className:"hover:bg-gray-50",children:[o.jsx("td",{className:"td",children:M+1}),o.jsx("td",{className:"td font-semibold",children:R.name}),o.jsx("td",{className:"td font-medium capitalize",children:R.type}),o.jsx("td",{className:"td",children:R.details?.diagnosis||"N/A"}),o.jsx("td",{className:"td",children:SOe(R.issueDate)}),o.jsx("td",{className:"td",children:o.jsx("button",{className:"print-btn",onClick:()=>{v(R?.type),D(R._id,R.type)},disabled:P===R._id||k,children:P===R._id||P&&k?o.jsxs(o.Fragment,{children:[o.jsx(Bb,{className:"animate-spin"})," Generating..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Bb,{})," Print/Download"]})})})]},R._id))})]})]})]})},jOe=()=>{const e=wt(),{supportContacts:t=[],supportContactsLoading:n=!1,supportContactsError:r=null}=qe(a=>a.reception);w.useEffect(()=>{e(gm())},[e]);const i=()=>{e(gm())};return o.jsxs("div",{style:bt.wrapper,"aria-live":"polite",children:[o.jsxs("div",{style:bt.headerRow,children:[o.jsxs("div",{children:[o.jsx("h2",{style:bt.title,children:"Clinic Support Team"}),o.jsx("p",{style:bt.subtitle,children:"Quick access to clinic support  call, email or view department."})]}),o.jsx("div",{style:bt.actions,children:o.jsxs("button",{onClick:i,style:{...bt.button,...n?bt.buttonLoading:{}},"aria-label":"Refresh support contacts","aria-busy":n,children:[o.jsx("svg",{viewBox:"0 0 24 24",width:"16",height:"16",style:{marginRight:8,transform:n?"rotate(360deg)":"none",transition:"transform 400ms linear"},"aria-hidden":!0,children:o.jsx("path",{fill:"none",stroke:"currentColor",strokeWidth:"1.5",d:"M12 2v4M12 18v4M4.9 4.9l2.8 2.8M16.3 16.3l2.8 2.8M2 12h4M18 12h4M4.9 19.1l2.8-2.8M16.3 7.7l2.8-2.8"})}),o.jsx("span",{style:{fontWeight:600},children:n?"Refreshing...":"Refresh"})]})})]}),n&&!t.length&&o.jsxs("div",{style:bt.loadingArea,children:[o.jsx("div",{style:bt.skeletonGrid,children:Array.from({length:3}).map((a,s)=>o.jsxs("div",{style:bt.skeletonCard,children:[o.jsx("div",{style:bt.skelHeader}),o.jsx("div",{style:bt.skelLine}),o.jsx("div",{style:bt.skelLineShort})]},s))}),o.jsx("p",{style:bt.loadingText,children:"Fetching support contacts..."})]}),r&&o.jsxs("div",{style:bt.errorCard,role:"alert",children:[o.jsxs("div",{style:bt.errorContent,children:[o.jsx("strong",{style:{marginRight:8},children:"Unable to load contacts."}),o.jsx("span",{style:{opacity:.9},children:r})]}),o.jsx("div",{children:o.jsx("button",{onClick:i,style:bt.retryBtn,children:"Try again"})})]}),!n&&!r&&t.length===0&&o.jsx("div",{style:bt.emptyCard,children:o.jsxs("div",{style:bt.emptyInner,children:[o.jsx("div",{style:bt.emptyIcon,children:""}),o.jsx("p",{style:{margin:0,fontSize:16},children:"No support contacts found for this clinic."}),o.jsx("button",{onClick:i,style:{...bt.button,marginTop:12},children:"Reload"})]})}),!n&&t.length>0&&o.jsx("div",{style:bt.grid,children:t.map((a,s)=>o.jsxs("article",{style:bt.card,tabIndex:0,"aria-label":a.name||"Support contact",children:[o.jsxs("div",{style:bt.cardHeader,children:[o.jsx("div",{style:bt.avatar,"aria-hidden":!0,children:o.jsx("div",{style:bt.avatarInner,children:a.name?.charAt(0).toUpperCase()||"S"})}),o.jsxs("div",{style:{flex:1},children:[o.jsx("h3",{style:bt.name,children:a.name||"Support Person"}),a.role&&o.jsx("p",{style:bt.role,children:a.role})]}),o.jsx("div",{style:bt.tagWrap,children:o.jsx("span",{style:bt.tag,children:a.department||"General"})})]}),o.jsxs("div",{style:bt.cardBody,children:[a.phone&&o.jsxs("div",{style:bt.contactRow,children:[o.jsx("span",{style:bt.icon,"aria-hidden":!0,children:""}),o.jsx("a",{href:`tel:${a.phone}`,style:bt.ctaLink,children:a.phone}),o.jsx("a",{href:`sms:${a.phone}`,style:bt.secondaryLink,children:"Message"})]}),a.email&&o.jsxs("div",{style:bt.contactRow,children:[o.jsx("span",{style:bt.icon,"aria-hidden":!0,children:""}),o.jsx("a",{href:`mailto:${a.email}`,style:bt.ctaLink,children:a.email}),o.jsx("a",{href:`mailto:${a.email}?subject=Support%20Request`,style:bt.secondaryLink,children:"Email"})]}),!a.phone&&!a.email&&a.department&&o.jsxs("div",{style:bt.contactRow,children:[o.jsx("span",{style:bt.icon,"aria-hidden":!0,children:""}),o.jsx("span",{style:{fontWeight:600},children:a.department})]})]})]},a._id||s))}),o.jsx("style",{jsx:!0,children:`
        @keyframes gentleSpin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }

        .sr-only {
          position: absolute !important;
          width: 1px; height: 1px; padding: 0; margin: -1px;
          overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border: 0;
        }
      `})]})},bt={wrapper:{maxWidth:"1100px",margin:"28px auto",padding:"20px",fontFamily:"'Inter', 'Segoe UI', Roboto, system-ui, -apple-system, sans-serif",color:"#0f172a"},headerRow:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:12,marginBottom:18,flexWrap:"wrap"},title:{margin:0,fontSize:22,fontWeight:700,letterSpacing:"-0.2px"},subtitle:{margin:"6px 0 0 0",color:"#475569",fontSize:13},actions:{display:"flex",gap:8,alignItems:"center"},button:{display:"inline-flex",alignItems:"center",gap:8,padding:"10px 14px",background:"linear-gradient(90deg,#2563eb,#60a5fa)",color:"white",border:"none",borderRadius:10,cursor:"pointer",boxShadow:"0 6px 18px rgba(59,130,246,0.18)",fontSize:14,fontWeight:600},buttonLoading:{opacity:.95},loadingArea:{textAlign:"center",padding:"18px 0 6px 0"},skeletonGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(260px, 1fr))",gap:16,marginBottom:12},skeletonCard:{padding:18,borderRadius:12,background:"linear-gradient(180deg,#ffffff,#f8fafc)",border:"1px solid #e6eefb",boxShadow:"0 6px 18px rgba(2,6,23,0.04)"},skelHeader:{height:44,borderRadius:10,background:"linear-gradient(90deg,#eef2ff,#f1f5f9)",marginBottom:12,animation:"gentleSpin 6s linear infinite",opacity:.85},skelLine:{height:12,width:"80%",borderRadius:6,background:"#eef2ff",marginBottom:8},skelLineShort:{height:12,width:"45%",borderRadius:6,background:"#eef2ff"},loadingText:{color:"#475569",fontSize:14},errorCard:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:12,padding:14,backgroundColor:"#fff7f7",border:"1px solid #fee2e2",borderRadius:12,color:"#7f1d1d",marginBottom:12},errorContent:{display:"flex",alignItems:"center",gap:8},retryBtn:{padding:"8px 12px",background:"linear-gradient(90deg,#ef4444,#f97316)",color:"white",border:"none",borderRadius:8,cursor:"pointer",fontWeight:700},emptyCard:{padding:24,borderRadius:12,background:"#f1f5f9",display:"flex",justifyContent:"center",alignItems:"center"},emptyInner:{textAlign:"center"},emptyIcon:{fontSize:34,marginBottom:8},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(320px, 1fr))",gap:18,marginTop:16},card:{background:"linear-gradient(180deg,#ffffff,#fbfdff)",borderRadius:14,boxShadow:"0 10px 30px rgba(2,6,23,0.06)",overflow:"hidden",transition:"transform 220ms cubic-bezier(.2,.9,.3,1), box-shadow 220ms",border:"1px solid rgba(2,6,23,0.04)",cursor:"pointer"},cardHeader:{display:"flex",alignItems:"center",gap:14,padding:16,background:"linear-gradient(90deg,#eef2ff 0%, #f5f3ff 100%)"},avatar:{width:56,height:56,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg,#7c3aed,#06b6d4)",boxShadow:"inset 0 -6px 12px rgba(0,0,0,0.06)",flexShrink:0},avatarInner:{color:"white",fontWeight:800,fontSize:20},name:{margin:0,fontSize:16,fontWeight:700,color:"#0f172a"},role:{margin:"6px 0 0 0",fontSize:13,color:"#475569"},tagWrap:{marginLeft:12},tag:{background:"linear-gradient(90deg,#e0f2fe,#eef2ff)",padding:"6px 10px",borderRadius:999,fontSize:12,fontWeight:700,color:"#0369a1"},cardBody:{padding:14,display:"flex",flexDirection:"column",gap:8},contactRow:{display:"flex",alignItems:"center",gap:12,fontSize:14},icon:{width:28,textAlign:"center",fontSize:16},ctaLink:{color:"#0b63d6",textDecoration:"none",fontWeight:600},secondaryLink:{marginLeft:"auto",fontSize:12,color:"#64748b",textDecoration:"none",border:"1px solid rgba(15,23,42,0.04)",padding:"6px 8px",borderRadius:8}},JS=()=>(localStorage.getItem("selectedClinicId")||localStorage.getItem("clinicId")||"").trim(),TOe=()=>{const e=wt(),t=qe(ie=>ie.auth),n=qe(ie=>ie.reception),{queue:r,loading:i}=qe(ie=>ie.reception),a=localStorage.getItem("role"),[s,c]=w.useState(()=>JS()),{user:d,loading:f}=qe(ie=>ie.auth),p=w.useMemo(()=>{const ie=["dashboard"];if(!d||f)return[...ie,"supportContacts"];if(d.role==="doctor")return["dashboard","patients","appointments","billing","PatientCertificates","supportContacts"];const we=d?.permissions||d?.user?.permissions||{};return we.canViewPatients&&ie.push("patients","appointments"),we.canEditBills&&ie.push("billing"),we.canIssueCertificates&&ie.push("PatientCertificates"),ie.push("supportContacts"),ie},[d,f]),[m,g]=w.useState({isOpen:!1,title:"",message:"",type:"info"}),v=(ie,we,Ue="success")=>g({isOpen:!0,title:ie,message:we,type:Ue}),b=()=>g(ie=>({...ie,isOpen:!1}));w.useEffect(()=>{const ie=t?.clinic?.id||t?.user?.clinicId||t?.user?.clinic?.id||Array.isArray(t?.user?.clinics)&&t.user.clinics[0]?.id;if(ie){const we=String(ie).trim();we&&we!==s&&(console.log("Syncing clinicId from auth:",we),c(we),localStorage.setItem("selectedClinicId",we),localStorage.setItem("clinicId",we))}else{const we=localStorage.getItem("selectedClinicId");we&&we!==s&&c(String(we).trim())}},[t]),w.useEffect(()=>{console.log("CLINIC DEBUG:",{selectedClinicId:localStorage.getItem("selectedClinicId"),reduxClinicId:t?.clinic?.id,userClinicId:t?.user?.clinicId,componentStateClinicId:s})},[t,s]);const{patients:C=[],dailyCalendar:j=[],calendarLoading:A,calendarError:k,loading:E,error:P,todayDashboard:$={},dashboardLoading:F=!1,dashboardError:O=null}=n,[_,D]=w.useState(!1),[L,R]=w.useState(null),[M,H]=w.useState(!1),[W,fe]=w.useState(""),[q,te]=w.useState("daily"),[K,z]=w.useState(()=>new Date().toISOString().slice(0,10)),V=Jr(),Z=Fn(),me=new URLSearchParams(V.search).get("tab"),[ge,Pe]=w.useState(me||"dashboard"),X=ie=>{if(ie===ge)return;Pe(ie);const we=new URLSearchParams(V.search);we.set("tab",ie),Z({search:we.toString()},{replace:!0})};w.useEffect(()=>{me&&me!==ge&&Pe(me)},[me]);const[J,ce]=w.useState({patientId:"",consultationFee:"",service:"",customService:"",serviceAmount:"",discount:"0"}),[ae,ne]=w.useState({}),[G,ee]=w.useState([]),[ue,Ae]=w.useState([]),[Ie,De]=w.useState(!1);w.useEffect(()=>{const ie=JS();if(ie){console.log("RE-FETCHING DATA FOR CLINIC:",ie),e(ys());const we=new Date().toISOString().split("T")[0];e(Iu({date:we}))}},[e]),w.useEffect(()=>{s&&K&&e(Iu({date:K}))},[K,e,s]),w.useEffect(()=>{const ie=we=>{if(we.key==="selectedClinicId"){const Ue=we.newValue;if(Ue&&Ue!==s){console.log("CLINIC CHANGED (from another tab):",Ue),c(Ue),e(ys());const le=new Date().toISOString().split("T")[0];e(Iu({date:le}))}}};return window.addEventListener("storage",ie),()=>window.removeEventListener("storage",ie)},[e,s]),w.useEffect(()=>{if(ge==="dashboard"){const ie=JS();ie&&(e(V1({clinicId:ie})),e(H1({clinicId:ie})),e(q1({clinicId:ie})))}},[ge,e]);const ye=async ie=>{const we={clinicId:s||ie.clinicId,uhid:ie.uhid||"",name:ie.name||"",gender:ie.gender||"",age:ie.age?Number(ie.age):void 0,phone:ie.phone||ie.mobile||"",address:ie.address||"",category:ie.category||"general",referredBy:ie.referredBy,appointmentId:ie.appointmentId};try{const Ue=await e(qm(we)).unwrap(),le=`T${String(Ue.id||C.length+1).padStart(3,"0")}`;v("Patient Registered",`Token: ${le}`,"success"),D(!1),R(null)}catch(Ue){v("Registration Failed",Ue||String(Ue),"error")}},Oe=ie=>{R(ie),D(!0)},Re=ie=>{const we=prompt("Doctor Name:"),Ue=prompt("Time:");if(!we||!Ue)return v("Warning","Both fields required","warning");const le=`T${String(ie).padStart(3,"0")}`;ee(et=>[...et,{id:et.length+1,patientId:ie,doctor:we,date:K,time:Ue,status:"waiting",token:le}]),v("Appointment Booked",`${we} at ${Ue}`,"success")},it=async()=>{if(window.confirm("Logout?"))try{await e(vf()).unwrap(),localStorage.clear(),window.location.href="/"}catch{localStorage.clear(),window.location.href="/"}},ut=()=>H(!M),ze=C.filter(ie=>ie.name?.toLowerCase().includes(W.toLowerCase())||ie.mobile?.includes(W)||ie.uhid?.includes(W)),pe=ie=>ue.filter(we=>we.patientId===ie).reduce((we,Ue)=>we+(Ue.amount-(Ue.discount||0)),0),ke=(ie,we)=>{ee(Ue=>Ue.map(le=>le.id===ie?{...le,status:we}:le))},st=(ie,we,Ue,le)=>{v("Reminder Sent",`Patient ${ie} at ${Ue} on ${le}`,"info")};return o.jsxs(o.Fragment,{children:[o.jsx(Xg,{isOpen:m.isOpen,title:m.title,message:m.message,type:m.type,onClose:b}),o.jsx("style",{jsx:!0,children:`
        .reception-page {
          font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
          background: linear-gradient(135deg, #f0f4f8 0%, #d9e2ec 100%);
          min-height: 100vh;
        }

        .layout {
          display: flex;
          min-height: 100vh;
        }

        .container {
          flex: 1;
          padding: 2rem;
          transition: margin-left 0.3s ease;
          margin-left: ${M?"280px":"0"};
        }

        .toggle-button {
          position: fixed;
          top: 20px;
          left: 20px;
          background: #186476;
          color: white;
          border: none;
          border-radius: 50%;
          width: 50px;
          height: 50px;
          font-size: 24px;
          cursor: pointer;
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
          z-index: 1000;
          display: flex;
          align-items: center;
          justify-content: center;
        }
        .toggle-button:hover {
          background: #134d5a;
          transform: scale(1.05);
        }

        /*  MAIN HEADER - centered for every tab */
        h1.header {
          display: flex;
          justify-content: center !important;
          align-items: center !important;
          text-align: center !important;
          font-size: 2.5rem;
          font-weight: 700;
          margin: 1rem 0 2rem;
          color: #1a3c5e;
          text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        h1.header.header--appointments {
          flex-wrap: wrap !important;
          gap: 12px !important;
        }

        .tabs {
          display: flex;
          justify-content: center;
          gap: 1rem;
          margin-bottom: 2rem;
          flex-wrap: wrap;
        }

        .tab-button {
          padding: 12px 24px;
          border-radius: 12px;
          border: none;
          background: #ffffff;
          color: #186476;
          font-weight: 600;
          cursor: pointer;
          box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
          transition: all 0.3s ease;
          min-width: 120px;
        }
        .tab-button:hover {
          background: #e6f3f7;
          transform: translateY(-2px);
        }
        .tab-button.active {
          background: linear-gradient(135deg, #186476, #134d5a);
          color: white;
          box-shadow: 0 6px 12px rgba(24, 100, 118, 0.3);
        }

        .logout-btn {
          position: fixed;
          top: 20px;
          right: 20px;
          background: linear-gradient(135deg, #dc3545, #c82333);
          color: white;
          border: none;
          padding: 12px 20px;
          border-radius: 12px;
          font-weight: 600;
          cursor: pointer;
          box-shadow: 0 4px 12px rgba(220, 53, 69, 0.3);
          z-index: 1000;
          transition: all 0.3s ease;
        }
        .logout-btn:hover {
          transform: translateY(-2px);
          box-shadow: 0 6px 16px rgba(220, 53, 69, 0.4);
        }

        .loading-text {
          text-align: center;
          color: #186476;
          font-size: 1.1rem;
          font-weight: 500;
        }

        .error-text {
          text-align: center;
          color: #dc3545;
          font-weight: 500;
          background: #ffe6e6;
          padding: 1rem;
          border-radius: 8px;
          margin: 1rem 0;
        }

        @media (max-width: 768px) {
          .container {
            margin-left: 0 !important;
            padding: 1rem;
          }
          .toggle-button {
            left: 15px;
            top: 15px;
            width: 45px;
            height: 45px;
            font-size: 20px;
          }
          .header {
            font-size: 2rem;
          }
          .tabs {
            gap: 0.5rem;
          }
          .tab-button {
            padding: 10px 16px;
            font-size: 0.9rem;
          }
        }
      `}),o.jsxs("div",{className:"reception-page",children:[a!=="doctor"&&o.jsx("button",{className:"logout-btn",onClick:it,children:"Logout"}),o.jsxs("div",{className:"layout",children:[M&&o.jsx(Fo,{}),o.jsxs("div",{className:"container",children:[a==="doctor"&&o.jsx("button",{className:"toggle-button",onClick:ut,children:M?"":""}),o.jsx("h1",{className:`header ${ge==="appointments"?"header--appointments":""}`,children:"Reception Dashboard"}),o.jsx("div",{className:"tabs",children:p.map(ie=>o.jsx("button",{className:`tab-button ${ge===ie?"active":""}`,onClick:()=>X(ie),children:ie==="PatientCertificates"?"Certificates":ie==="supportContacts"?"Support Contacts":ie==="appointments"?"Appointments":ie.charAt(0).toUpperCase()+ie.slice(1)},ie))}),E&&o.jsx("p",{className:"loading-text",children:"Loading patients..."}),P&&o.jsx("p",{className:"error-text",children:P}),_&&o.jsx(uOe,{onSave:ye,onClose:()=>{D(!1),R(null)},existingPatient:L,showDialog:v,reloadPatients:Ie,setReloadPatients:De}),ge==="dashboard"&&o.jsx(pOe,{patients:C,appointments:G,billing:ue,selectedDate:K,waiting:r?.waiting||[],completed:r?.completed||[],emergency:r?.emergency||[],queueLoading:i,handleUpdatePatientStatus:()=>{},dailyCalendar:j,calendarLoading:A,calendarError:k,todayDashboard:$,dashboardLoading:F,dashboardError:O,todayAppointments:n.todayAppointments||[],todayAppointmentsLoading:n.todayAppointmentsLoading,todayAppointmentsCount:n.todayAppointmentsCount||0}),ge==="patients"&&o.jsx(vOe,{patients:ze,searchQuery:W,setSearchQuery:fe,setShowPatientForm:D,handleBookAppointment:Re,handleEditPatient:Oe,setActiveTab:Pe,setNewBill:ce,clinicIdProp:s,reloadPatients:Ie}),ge==="appointments"&&o.jsx(wOe,{appointments:G,patients:C,calendarView:q,setCalendarView:te,selectedDate:K,setSelectedDate:z,handleUpdateStatus:ke,handleSendReminder:st,clinicId:s,showDialog:v}),ge==="billing"&&o.jsx(uK,{patients:C,billing:ue,getTotalBilling:pe,clinicId:s,showDialog:v}),ge==="PatientCertificates"&&o.jsx(COe,{patients:C,clinicId:s,showDialog:v}),ge==="supportContacts"&&o.jsx(jOe,{})]})]})]})]})},AOe=({newBill:e,setNewBill:t,billErrors:n,patients:r,facilityOptions:i,handleAddTransaction:a})=>o.jsxs(o.Fragment,{children:[o.jsx("style",{jsx:!0,children:`
        .card {
          background: #fff;
          padding: 20px;
          border-radius: 8px;
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
          margin-bottom: 20px;
          max-width: 800px;
          margin-left: auto;
          margin-right: auto;
        }

        .section-title {
          font-size: 20px;
          font-weight: bold;
          color: #333;
          margin-bottom: 15px;
        }

        .form-group {
          display: grid;
          gap: 1rem;
          grid-template-columns: 1fr 1fr;
          margin-bottom: 20px;
        }

        .label {
          font-weight: 600;
          margin-bottom: 0.5rem;
          color: #333;
          font-size: 14px;
          display: block;
        }

        .required {
          color: #dc3545;
          font-size: 12px;
          margin-left: 5px;
        }

        .input,
        .select {
          padding: 10px;
          border-radius: 6px;
          border: 1px solid #d1d5db;
          width: 100%;
          font-size: 14px;
          background: #f9fafb;
          transition: border-color 0.3s;
          box-sizing: border-box;
        }

        .input:focus,
        .select:focus {
          border-color: #186476;
          outline: none;
        }

        .select {
          appearance: none;
          background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='10' height='10' viewBox='0 0 24 24' fill='none' stroke='%23186476' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><polyline points='6 9 12 15 18 9'></polyline></svg>");
          background-repeat: no-repeat;
          background-position: right 0.75rem center;
          background-size: 1rem;
        }

        .error {
          color: #dc3545;
          font-size: 12px;
          margin-top: 0.3rem;
        }

        .button {
          padding: 10px 20px;
          border-radius: 6px;
          border: none;
          cursor: pointer;
          font-weight: 600;
          font-size: 14px;
          transition: background 0.3s, transform 0.1s;
        }

        .button:hover {
          transform: scale(1.05);
        }

        .green-button {
          background: #28a745;
          color: #fff;
        }

        .total-amount {
          font-size: 16px;
          font-weight: bold;
          color: #186476;
          margin-top: 10px;
          text-align: center;
        }

        @media (max-width: 768px) {
          .form-group {
            grid-template-columns: 1fr;
          }
          .card {
            padding: 15px;
          }
        }
      `}),o.jsxs("div",{className:"card",children:[o.jsx("h2",{className:"section-title",children:" New Bill"}),o.jsxs("div",{className:"form-group",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"label",children:["Patient ",o.jsx("span",{className:"required",children:"*"})]}),o.jsxs("select",{className:"select",style:n.patientId?{borderColor:"#dc3545"}:{},value:e.patientId,onChange:s=>t({...e,patientId:s.target.value}),children:[o.jsx("option",{value:"",children:"Select Patient"}),r.map(s=>o.jsx("option",{value:s.id,children:`${s.name} (UHID: ${s.uhid})`},s.id))]}),n.patientId&&o.jsx("div",{className:"error",children:n.patientId})]}),o.jsxs("div",{children:[o.jsx("label",{className:"label",children:"Consultation Fee ()"}),o.jsx("input",{type:"number",className:"input",style:n.consultationFee?{borderColor:"#dc3545"}:{},value:e.consultationFee,onChange:s=>t({...e,consultationFee:s.target.value}),min:"0",step:"0.01",placeholder:"Enter consultation fee"}),n.consultationFee&&o.jsx("div",{className:"error",children:n.consultationFee})]}),o.jsxs("div",{children:[o.jsx("label",{className:"label",children:"Service / Facility"}),o.jsxs("select",{className:"select",style:n.service?{borderColor:"#dc3545"}:{},value:e.service,onChange:s=>t({...e,service:s.target.value,serviceAmount:""}),children:[o.jsx("option",{value:"",children:"Select Service"}),i.map((s,c)=>o.jsx("option",{value:s,children:s},c))]}),n.service&&o.jsx("div",{className:"error",children:n.service})]}),o.jsxs("div",{children:[o.jsx("label",{className:"label",children:"Custom Service (if not listed)"}),o.jsx("input",{type:"text",className:"input",value:e.customService,onChange:s=>t({...e,customService:s.target.value}),placeholder:"Enter custom service"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"label",children:"Service Amount ()"}),o.jsx("input",{type:"number",className:"input",style:n.serviceAmount?{borderColor:"#dc3545"}:{},value:e.serviceAmount,onChange:s=>t({...e,serviceAmount:s.target.value}),min:"0",step:"0.01",placeholder:"Enter service amount"}),n.serviceAmount&&o.jsx("div",{className:"error",children:n.serviceAmount})]}),o.jsxs("div",{children:[o.jsx("label",{className:"label",children:"Discount ()"}),o.jsx("input",{type:"number",className:"input",style:n.discount?{borderColor:"#dc3545"}:{},value:e.discount,onChange:s=>t({...e,discount:s.target.value}),min:"0",step:"0.01",placeholder:"Enter discount"}),n.discount&&o.jsx("div",{className:"error",children:n.discount})]}),o.jsxs("div",{style:{gridColumn:"1 / -1",textAlign:"center"},children:[o.jsxs("div",{className:"total-amount",children:["Total Amount: ",(parseFloat(e.consultationFee||0)+parseFloat(e.serviceAmount||0)-parseFloat(e.discount||0)).toFixed(2)]}),o.jsx("button",{className:"button green-button",onClick:a,children:"Generate Bill"})]})]})]})]}),kOe=()=>{const{planId:e}=fc(),t=Fn(),n=wt(),{accessToken:r,user:i}=qe(g=>g.auth),{plans:a,status:s,error:c}=qe(g=>g.subscription),[d,f]=w.useState(!1);w.useEffect(()=>{const g=r||localStorage.getItem("token"),v=i?.role||localStorage.getItem("role");if(!g||!v){t("/signin");return}return n(L1({token:g,role:v})),()=>{n(Vee())}},[n,r,i,t]);const p=async g=>{const v=g||e;if(!v){Ee.error("Please select a plan");return}f(!0);try{const b=r||localStorage.getItem("token");!r&&b&&n(Ri(b));const C=await n(F1({planId:v,token:b})).unwrap();m(C.subscriptionId)}catch(b){Ee.error(b.message||"Subscription failed")}finally{f(!1)}},m=g=>{const v={key:void 0,subscription_id:g,name:"MediScript",description:"Subscription Payment",handler:async b=>{try{await n(fm({subscriptionId:b.razorpay_subscription_id,paymentId:b.razorpay_payment_id})).unwrap(),await n(ko()).unwrap(),Ee.success("Subscription activated!"),t("/clinic-management")}catch{Ee.error("Activation failed")}},theme:{color:"#064e3b"}};new window.Razorpay(v).open()};return o.jsxs("div",{className:"subscription-page",children:[o.jsx("style",{children:`
        .subscription-page {
          min-height: 100vh;
          background: #f3f4f6;
          padding: 3rem 1rem;
          font-family: Inter, sans-serif;
        }

        .container {
          max-width: 1200px;
          margin: auto;
        }

        .title {
          text-align: center;
          font-size: 2.4rem;
          font-weight: 700;
          color: #064e3b;
          margin-bottom: 3rem;
        }

        .plans-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
          gap: 2rem;
          justify-content: center;
        }

        .plan-card {
          background: white;
          padding: 2rem;
          border-radius: 1.25rem;
          box-shadow: 0 10px 30px rgba(0,0,0,0.08);
          position: relative;
        }

        .badge {
          position: absolute;
          top: 16px;
          right: 16px;
          background: #16a34a;
          color: white;
          padding: 4px 10px;
          font-size: 0.75rem;
          border-radius: 999px;
          font-weight: 600;
        }

        .plan-title {
          font-size: 1.6rem;
          font-weight: 700;
          color: #064e3b;
          margin-bottom: 0.5rem;
        }

        .plan-tagline {
          font-size: 0.95rem;
          color: #4b5563;
          margin-bottom: 1.5rem;
        }

        .includes {
          font-weight: 600;
          margin-bottom: 0.5rem;
        }

        .features ul {
          list-style: none;
          padding: 0;
          margin: 0;
        }

        .features li {
          font-size: 0.95rem;
          margin-bottom: 6px;
          color: #374151;
        }

        .price {
          font-size: 1.9rem;
          font-weight: 700;
          color: #064e3b;
          margin: 1.8rem 0 1rem;
        }

        .price span {
          font-size: 0.9rem;
          color: #6b7280;
          font-weight: 400;
        }

        .choose-button {
          width: 100%;
          padding: 0.8rem;
          background: #064e3b;
          color: white;
          border: none;
          border-radius: 0.6rem;
          font-size: 1rem;
          font-weight: 600;
          cursor: pointer;
        }

        .choose-button:disabled {
          background: #9ca3af;
          cursor: not-allowed;
        }

        .loading, .error, .no-plans {
          text-align: center;
          font-size: 1.1rem;
          color: #374151;
        }
      `}),o.jsxs("div",{className:"container",children:[o.jsx("h1",{className:"title",children:"Choose Your Plan"}),s==="loading"&&o.jsx("p",{className:"loading",children:"Loading plans..."}),s==="failed"&&o.jsx("p",{className:"error",children:c||"Failed to load plans"}),s==="succeeded"&&a.length===0&&o.jsx("p",{className:"no-plans",children:"No plans available"}),s==="succeeded"&&a.length>0&&o.jsx("div",{className:"plans-grid",children:a.map(g=>o.jsxs("div",{className:"plan-card",children:[g.badge&&o.jsx("div",{className:"badge",children:g.badge}),o.jsx("h2",{className:"plan-title",children:g.title||g.name}),g.tagline&&o.jsx("p",{className:"plan-tagline",children:g.tagline}),o.jsxs("div",{className:"features",children:[o.jsx("p",{className:"includes",children:"Includes:"}),g.features?.length>0?o.jsx("ul",{children:g.features.map((v,b)=>o.jsxs("li",{children:[" ",v]},b))}):o.jsx("p",{children:" All core features"})]}),o.jsxs("p",{className:"price",children:["",g.price,o.jsxs("span",{children:[" / ",g.interval]})]}),o.jsx("button",{className:"choose-button",disabled:d,onClick:()=>p(g._id),children:d?"Processing...":g.buttonText||"Start Learning"})]},g._id))})]})]})},EOe=()=>{const{planId:e}=fc(),t=Fn(),n=wt(),{token:r,loading:i,error:a}=qe(p=>p.auth),[s,c]=w.useState(!0),d=Ht.create({baseURL:ot,headers:{"Content-Type":"application/json"},withCredentials:!0,timeout:15e3});d.interceptors.request.use(p=>{const m=r||localStorage.getItem("token");return m&&(p.headers.Authorization=`Bearer ${m}`,r||n(Ri(m))),p},p=>Promise.reject(p)),d.interceptors.response.use(p=>p,p=>(p.response?.status===401&&(Ee.error("Session expired. Please login again."),localStorage.removeItem("token"),n(logout()),t("/signin")),Promise.reject(p))),w.useEffect(()=>{(async()=>{try{if(!r&&!localStorage.getItem("token")){Ee.error("Please login to proceed with payment."),t("/signin");return}const m=await d.post("/api/subscription/buyplan",{planId:e});m.data.subscriptionId?f(m.data.subscriptionId):Ee.error("Failed to create subscription. Try again.")}catch(m){console.error("Error creating subscription:",m),Ee.error(m.response?.data?.message||"Something went wrong. Try again.")}finally{c(!1)}})()},[e,r,t]);const f=p=>{const m={key:void 0,subscription_id:p,name:"MediScript",description:"Subscription Payment",handler:async v=>{const{razorpay_payment_id:b,razorpay_subscription_id:C}=v;console.log("Payment successful:",v),Ee.success("Payment successful! ");try{await n(fm({subscriptionId:C,paymentId:b})).unwrap(),await n(ko()).unwrap(),t("/clinic-management")}catch(j){console.error("Error updating subscription/profile:",j),Ee.error(j||"Something went wrong. Please refresh the page.")}},modal:{ondismiss:()=>console.log("Payment popup closed")},theme:{color:"#2563eb"}};new window.Razorpay(m).open()};return o.jsx("div",{style:{minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",fontFamily:"Arial"},children:s||i?o.jsx("p",{children:"Initializing payment..."}):a?o.jsx("p",{style:{color:"red"},children:a}):o.jsx("p",{children:"Opening Razorpay..."})})},Lo=Object.create(null);Lo.open="0";Lo.close="1";Lo.ping="2";Lo.pong="3";Lo.message="4";Lo.upgrade="5";Lo.noop="6";const lb=Object.create(null);Object.keys(Lo).forEach(e=>{lb[Lo[e]]=e});const x5={type:"error",data:"parser error"},dK=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",fK=typeof ArrayBuffer=="function",pK=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Tk=({type:e,data:t},n,r)=>dK&&t instanceof Blob?n?r(t):uL(t,r):fK&&(t instanceof ArrayBuffer||pK(t))?n?r(t):uL(new Blob([t]),r):r(Lo[e]+(t||"")),uL=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function dL(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let e8;function NOe(e,t){if(dK&&e.data instanceof Blob)return e.data.arrayBuffer().then(dL).then(t);if(fK&&(e.data instanceof ArrayBuffer||pK(e.data)))return t(dL(e.data));Tk(e,!1,n=>{e8||(e8=new TextEncoder),t(e8.encode(n))})}const fL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",um=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<fL.length;e++)um[fL.charCodeAt(e)]=e;const _Oe=e=>{let t=e.length*.75,n=e.length,r,i=0,a,s,c,d;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const f=new ArrayBuffer(t),p=new Uint8Array(f);for(r=0;r<n;r+=4)a=um[e.charCodeAt(r)],s=um[e.charCodeAt(r+1)],c=um[e.charCodeAt(r+2)],d=um[e.charCodeAt(r+3)],p[i++]=a<<2|s>>4,p[i++]=(s&15)<<4|c>>2,p[i++]=(c&3)<<6|d&63;return f},POe=typeof ArrayBuffer=="function",Ak=(e,t)=>{if(typeof e!="string")return{type:"message",data:hK(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:DOe(e.substring(1),t)}:lb[n]?e.length>1?{type:lb[n],data:e.substring(1)}:{type:lb[n]}:x5},DOe=(e,t)=>{if(POe){const n=_Oe(e);return hK(n,t)}else return{base64:!0,data:e}},hK=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},mK="",OOe=(e,t)=>{const n=e.length,r=new Array(n);let i=0;e.forEach((a,s)=>{Tk(a,!1,c=>{r[s]=c,++i===n&&t(r.join(mK))})})},$Oe=(e,t)=>{const n=e.split(mK),r=[];for(let i=0;i<n.length;i++){const a=Ak(n[i],t);if(r.push(a),a.type==="error")break}return r};function IOe(){return new TransformStream({transform(e,t){NOe(e,n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const a=new DataView(i.buffer);a.setUint8(0,126),a.setUint16(1,r)}else{i=new Uint8Array(9);const a=new DataView(i.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(i[0]|=128),t.enqueue(i),t.enqueue(n)})}})}let t8;function C1(e){return e.reduce((t,n)=>t+n.length,0)}function j1(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let i=0;i<t;i++)n[i]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function ROe(e,t){t8||(t8=new TextDecoder);const n=[];let r=0,i=-1,a=!1;return new TransformStream({transform(s,c){for(n.push(s);;){if(r===0){if(C1(n)<1)break;const d=j1(n,1);a=(d[0]&128)===128,i=d[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(C1(n)<2)break;const d=j1(n,2);i=new DataView(d.buffer,d.byteOffset,d.length).getUint16(0),r=3}else if(r===2){if(C1(n)<8)break;const d=j1(n,8),f=new DataView(d.buffer,d.byteOffset,d.length),p=f.getUint32(0);if(p>Math.pow(2,21)-1){c.enqueue(x5);break}i=p*Math.pow(2,32)+f.getUint32(4),r=3}else{if(C1(n)<i)break;const d=j1(n,i);c.enqueue(Ak(a?d:t8.decode(d),t)),r=0}if(i===0||i>e){c.enqueue(x5);break}}}})}const gK=4;function nr(e){if(e)return MOe(e)}function MOe(e){for(var t in nr.prototype)e[t]=nr.prototype[t];return e}nr.prototype.on=nr.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};nr.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};nr.prototype.off=nr.prototype.removeListener=nr.prototype.removeAllListeners=nr.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===t||r.fn===t){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+e],this};nr.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,t)}return this};nr.prototype.emitReserved=nr.prototype.emit;nr.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};nr.prototype.hasListeners=function(e){return!!this.listeners(e).length};const rw=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),ia=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),LOe="arraybuffer";function yK(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const FOe=ia.setTimeout,BOe=ia.clearTimeout;function iw(e,t){t.useNativeTimers?(e.setTimeoutFn=FOe.bind(ia),e.clearTimeoutFn=BOe.bind(ia)):(e.setTimeoutFn=ia.setTimeout.bind(ia),e.clearTimeoutFn=ia.clearTimeout.bind(ia))}const zOe=1.33;function UOe(e){return typeof e=="string"?HOe(e):Math.ceil((e.byteLength||e.size)*zOe)}function HOe(e){let t=0,n=0;for(let r=0,i=e.length;r<i;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function vK(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function VOe(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function qOe(e){let t={},n=e.split("&");for(let r=0,i=n.length;r<i;r++){let a=n[r].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}class YOe extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class kk extends nr{constructor(t){super(),this.writable=!1,iw(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,r){return super.emitReserved("error",new YOe(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=Ak(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=VOe(t);return n.length?"?"+n:""}}class WOe extends kk{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};$Oe(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,OOe(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=vK()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let bK=!1;try{bK=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const GOe=bK;function KOe(){}class XOe extends WOe{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(i,a)=>{this.onError("xhr post error",i,a)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}let Ff=class cb extends nr{constructor(t,n,r){super(),this.createRequest=t,iw(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var t;const n=yK(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=cb.requestsCount++,cb.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=KOe,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete cb.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};Ff.requestsCount=0;Ff.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",pL);else if(typeof addEventListener=="function"){const e="onpagehide"in ia?"pagehide":"unload";addEventListener(e,pL,!1)}}function pL(){for(let e in Ff.requests)Ff.requests.hasOwnProperty(e)&&Ff.requests[e].abort()}const QOe=(function(){const e=xK({xdomain:!1});return e&&e.responseType!==null})();class ZOe extends XOe{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=QOe&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Ff(xK,this.uri(),t)}}function xK(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||GOe))return new XMLHttpRequest}catch{}if(!t)try{return new ia[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const wK=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class JOe extends kk{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,r=wK?{}:yK(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],i=n===t.length-1;Tk(r,this.supportsBinary,a=>{try{this.doWrite(r,a)}catch{}i&&rw(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=vK()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const n8=ia.WebSocket||ia.MozWebSocket;class e$e extends JOe{createSocket(t,n,r){return wK?new n8(t,n,r):n?new n8(t,n):new n8(t)}doWrite(t,n){this.ws.send(n)}}class t$e extends kk{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=ROe(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),i=IOe();i.readable.pipeTo(t.writable),this._writer=i.writable.getWriter();const a=()=>{r.read().then(({done:c,value:d})=>{c||(this.onPacket(d),a())}).catch(c=>{})};a();const s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this._writer.write(s).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],i=n===t.length-1;this._writer.write(r).then(()=>{i&&rw(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const n$e={websocket:e$e,webtransport:t$e,polling:ZOe},r$e=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,i$e=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function w5(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let i=r$e.exec(e||""),a={},s=14;for(;s--;)a[i$e[s]]=i[s]||"";return n!=-1&&r!=-1&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=a$e(a,a.path),a.queryKey=o$e(a,a.query),a}function a$e(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function o$e(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,a){i&&(n[i]=a)}),n}const S5=typeof addEventListener=="function"&&typeof removeEventListener=="function",ub=[];S5&&addEventListener("offline",()=>{ub.forEach(e=>e())},!1);class Ql extends nr{constructor(t,n){if(super(),this.binaryType=LOe,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const r=w5(t);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=w5(n.host).host);iw(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const i=r.prototype.name;this.transports.push(i),this._transportsByName[i]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=qOe(this.opts.query)),S5&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},ub.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=gK,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Ql.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Ql.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(n+=UOe(i)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,rw(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,r){return this._sendPacket("message",t,n,r),this}send(t,n,r){return this._sendPacket("message",t,n,r),this}_sendPacket(t,n,r,i){if(typeof n=="function"&&(i=n,n=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const a={type:t,data:n,options:r};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}_onError(t){if(Ql.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),S5&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=ub.indexOf(this._offlineEventListener);r!==-1&&ub.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}Ql.protocol=gK;class s$e extends Ql{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),r=!1;Ql.priorWebsocketSuccess=!1;const i=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",m=>{if(!r)if(m.type==="pong"&&m.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Ql.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(p(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const g=new Error("probe error");g.transport=n.name,this.emitReserved("upgradeError",g)}}))};function a(){r||(r=!0,p(),n.close(),n=null)}const s=m=>{const g=new Error("probe error: "+m);g.transport=n.name,a(),this.emitReserved("upgradeError",g)};function c(){s("transport closed")}function d(){s("socket closed")}function f(m){n&&m.name!==n.name&&a()}const p=()=>{n.removeListener("open",i),n.removeListener("error",s),n.removeListener("close",c),this.off("close",d),this.off("upgrading",f)};n.once("open",i),n.once("error",s),n.once("close",c),this.once("close",d),this.once("upgrading",f),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let r=0;r<t.length;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}}let l$e=class extends s$e{constructor(t,n={}){const r=typeof t=="object"?t:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>n$e[i]).filter(i=>!!i)),super(t,r)}};function c$e(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=w5(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const a=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+a+":"+r.port+t,r.href=r.protocol+"://"+a+(n&&n.port===r.port?"":":"+r.port),r}const u$e=typeof ArrayBuffer=="function",d$e=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,SK=Object.prototype.toString,f$e=typeof Blob=="function"||typeof Blob<"u"&&SK.call(Blob)==="[object BlobConstructor]",p$e=typeof File=="function"||typeof File<"u"&&SK.call(File)==="[object FileConstructor]";function Ek(e){return u$e&&(e instanceof ArrayBuffer||d$e(e))||f$e&&e instanceof Blob||p$e&&e instanceof File}function db(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(db(e[n]))return!0;return!1}if(Ek(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return db(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&db(e[n]))return!0;return!1}function h$e(e){const t=[],n=e.data,r=e;return r.data=C5(n,t),r.attachments=t.length,{packet:r,buffers:t}}function C5(e,t){if(!e)return e;if(Ek(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=C5(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=C5(e[r],t));return n}return e}function m$e(e,t){return e.data=j5(e.data,t),delete e.attachments,e}function j5(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=j5(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=j5(e[n],t));return e}const g$e=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],y$e=5;var Dt;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Dt||(Dt={}));class v$e{constructor(t){this.replacer=t}encode(t){return(t.type===Dt.EVENT||t.type===Dt.ACK)&&db(t)?this.encodeAsBinary({type:t.type===Dt.EVENT?Dt.BINARY_EVENT:Dt.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===Dt.BINARY_EVENT||t.type===Dt.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=h$e(t),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}}function hL(e){return Object.prototype.toString.call(e)==="[object Object]"}class Nk extends nr{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===Dt.BINARY_EVENT;r||n.type===Dt.BINARY_ACK?(n.type=r?Dt.EVENT:Dt.ACK,this.reconstructor=new b$e(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Ek(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(Dt[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===Dt.BINARY_EVENT||r.type===Dt.BINARY_ACK){const a=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const s=t.substring(a,n);if(s!=Number(s)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(s)}if(t.charAt(n+1)==="/"){const a=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(a,n)}else r.nsp="/";const i=t.charAt(n+1);if(i!==""&&Number(i)==i){const a=n+1;for(;++n;){const s=t.charAt(n);if(s==null||Number(s)!=s){--n;break}if(n===t.length)break}r.id=Number(t.substring(a,n+1))}if(t.charAt(++n)){const a=this.tryParse(t.substr(n));if(Nk.isPayloadValid(r.type,a))r.data=a;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case Dt.CONNECT:return hL(n);case Dt.DISCONNECT:return n===void 0;case Dt.CONNECT_ERROR:return typeof n=="string"||hL(n);case Dt.EVENT:case Dt.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&g$e.indexOf(n[0])===-1);case Dt.ACK:case Dt.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class b$e{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=m$e(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const x$e=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Nk,Encoder:v$e,get PacketType(){return Dt},protocol:y$e},Symbol.toStringTag,{value:"Module"}));function Pa(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const w$e=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class CK extends nr{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Pa(t,"open",this.onopen.bind(this)),Pa(t,"packet",this.onpacket.bind(this)),Pa(t,"error",this.onerror.bind(this)),Pa(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var r,i,a;if(w$e.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const s={type:Dt.EVENT,data:n};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const p=this.ids++,m=n.pop();this._registerAckCallback(p,m),s.id=p}const c=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,d=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!c||(d?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(t,n){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[t]=n;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let c=0;c<this.sendBuffer.length;c++)this.sendBuffer[c].id===t&&this.sendBuffer.splice(c,1);n.call(this,new Error("operation has timed out"))},i),s=(...c)=>{this.io.clearTimeoutFn(a),n.apply(this,c)};s.withError=!0,this.acks[t]=s}emitWithAck(t,...n){return new Promise((r,i)=>{const a=(s,c)=>s?i(s):r(c);a.withError=!0,n.push(a),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...a)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...a)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Dt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){const r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Dt.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Dt.EVENT:case Dt.BINARY_EVENT:this.onevent(t);break;case Dt.ACK:case Dt.BINARY_ACK:this.onack(t);break;case Dt.DISCONNECT:this.ondisconnect();break;case Dt.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...i){r||(r=!0,n.packet({type:Dt.ACK,id:t,data:i}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Dt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function Rp(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Rp.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-n:e+n}return Math.min(e,this.max)|0};Rp.prototype.reset=function(){this.attempts=0};Rp.prototype.setMin=function(e){this.ms=e};Rp.prototype.setMax=function(e){this.max=e};Rp.prototype.setJitter=function(e){this.jitter=e};class T5 extends nr{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,iw(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Rp({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const i=n.parser||x$e;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new l$e(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=Pa(n,"open",function(){r.onopen(),t&&t()}),a=c=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",c),t?t(c):this.maybeReconnectOnOpen()},s=Pa(n,"error",a);if(this._timeout!==!1){const c=this._timeout,d=this.setTimeoutFn(()=>{i(),a(new Error("timeout")),n.close()},c);this.opts.autoUnref&&d.unref(),this.subs.push(()=>{this.clearTimeoutFn(d)})}return this.subs.push(i),this.subs.push(s),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Pa(t,"ping",this.onping.bind(this)),Pa(t,"data",this.ondata.bind(this)),Pa(t,"error",this.onerror.bind(this)),Pa(t,"close",this.onclose.bind(this)),Pa(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){rw(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new CK(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const im={};function fb(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=c$e(e,t.path||"/socket.io"),r=n.source,i=n.id,a=n.path,s=im[i]&&a in im[i].nsps,c=t.forceNew||t["force new connection"]||t.multiplex===!1||s;let d;return c?d=new T5(r,t):(im[i]||(im[i]=new T5(r,t)),d=im[i]),n.query&&!t.query&&(t.query=n.queryKey),d.socket(n.path,t)}Object.assign(fb,{Manager:T5,Socket:CK,io:fb,connect:fb});let af;const jK=e=>(af||(af=fb("https://api.mediscript.in",{transports:["websocket"],withCredentials:!0}),af.on("connect",()=>{console.log("Socket connected:",af.id),af.emit("addUser",e)})),af),S$e=({fileUrl:e,fileName:t,mimeType:n,isDoctor:r,time:i})=>{const a=n?.startsWith("image/"),s=r?"flex-end":"flex-start";return o.jsx("div",{style:{display:"flex",width:"100%",justifyContent:s},children:o.jsx("div",{style:{maxWidth:"75%",marginBottom:8},children:o.jsxs("div",{style:{background:r?"linear-gradient(135deg,#024e5a,#036a7a)":"#ffffff",padding:10,borderRadius:14,color:r?"white":"#1f2937",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[a?o.jsx("img",{src:e,alt:"uploaded",style:{width:"100%",maxWidth:240,borderRadius:10,marginBottom:6}}):o.jsx("a",{href:e,target:"_blank",download:t,style:{color:r?"white":"#0369a1",fontWeight:600},children:t}),o.jsx("div",{style:{marginTop:6,fontSize:10,opacity:.7,textAlign:"right",color:r?"white":"#6b7280"},children:i?new Date(i).toLocaleTimeString():""})]})})})},C$e=()=>{const e=String(localStorage.getItem("doctorId")||""),[t,n]=w.useState(!0),[r,i]=w.useState(null),[a,s]=w.useState([]),[c,d]=w.useState("IN_PROGRESS"),[f,p]=w.useState(0),[m,g]=w.useState({}),[v,b]=w.useState(""),[C,j]=w.useState(!1),[A,k]=w.useState(!1),[E,P]=w.useState(!1),[$,F]=w.useState(!1),[O,_]=w.useState(""),[D,L]=w.useState(!1),[R,M]=w.useState(null),[H,W]=w.useState(!1),[fe,q]=w.useState(0),[te,K]=w.useState(null),[z,V]=w.useState(""),[Z,re]=w.useState(null),[me,ge]=w.useState(!1),Pe=r?._id||null,X=(Se={})=>{if(!Se)return null;const tt=Se.time||Se.createdAt||Se.updatedAt||new Date().toISOString(),Ke=Se.text??Se.message??Se.content??Se.adminResponse??"";return{_key:Se._id||Se.messageId||`${Se.from||"system"}-${tt}-${Se.fileUrl||Ke}`,_id:Se._id||null,from:(Se.from||Se.sender||"system").toLowerCase(),senderId:Se.senderId||Se.adminId||Se.doctorId||null,type:Se.type||(Se.fileUrl?"file":"text"),text:Ke,fileUrl:Se.fileUrl||null,fileName:Se.fileName||null,mimeType:Se.mimeType||null,time:tt}};w.useRef(null);const[J,ce]=w.useState(""),[ae,ne]=w.useState(!1),[G,ee]=w.useState(!1);w.useEffect(()=>{const Se=()=>{typeof window<"u"&&ee(window.innerWidth<=768)};return Se(),window.addEventListener("resize",Se),()=>window.removeEventListener("resize",Se)},[]);const ue=w.useRef(null);w.useRef(null);const Ae=w.useRef(null),Ie=[{key:"name",label:"Patient Name",placeholder:"e.g. Rajesh Kumar"},{key:"ageSex",label:"Age / Sex",placeholder:"e.g. 45 / M"},{key:"weight",label:"Weight (kg)",placeholder:"e.g. 68 kg"},{key:"height",label:"Height (cm)",placeholder:"e.g. 172 cm"},{key:"pregnancyStatus",label:"Pregnancy / Lactation status",placeholder:"e.g. Not pregnant / Pregnant 2nd trimester / Lactating"},{key:"diagnosis",label:"Diagnosis / Provisional diagnosis",placeholder:"e.g. Type 2 Diabetes Mellitus"},{key:"clinicalNotes",label:"Clinical Notes / Symptoms",placeholder:"e.g. Polyuria, polydipsia, fatigability since 3 months"},{key:"allergies",label:"Allergies / Comorbidities",placeholder:"e.g. Allergy to penicillin, HTN since 5 yrs, CKD stage 3, etc."},{key:"medications",label:"Current Medications",placeholder:"e.g. Metformin 500 mg BD, Amlodipine 5 mg OD"},{key:"investigations",label:"Key Investigation Values",placeholder:"e.g. HbA1c 7.8%, BP 150/90, Creatinine 1.6 mg/dL, LDL 140 mg/dL"}],De=Se=>{K(Se._id),V(Se.text)},ye=async()=>{const Se=localStorage.getItem("activeSessionId");if(z.trim())try{const Ke=(await $e.put(`/api/chat-session/${Se}/messages/${te}`,{newText:z.trim()})).data.msg;s(Xe=>Xe.map(Ft=>Ft._id===Ke._id?Ke:Ft)),K(null),V("")}catch(tt){console.error("Edit message failed",tt)}},Oe=Se=>{const tt=localStorage.getItem("activeSessionId");$p.confirmAlert({title:"Delete Message",message:"Are you sure you want to delete this message?",overlayClassName:"custom-confirm-overlay",buttons:[{label:"Cancel",onClick:()=>{}},{label:"Delete",onClick:async()=>{try{await $e.delete(`/api/chat-session/${tt}/messages/${Se}`),s(Ke=>Ke.map(Xe=>Xe._id===Se?{...Xe,deleted:!0}:Xe))}catch(Ke){console.error("Delete message failed",Ke)}}}]})},Re=async Se=>{if(!(!Se||!r?._id))try{const tt=new FormData;tt.append("file",Se),tt.append("from","doctor");const Ke=await $e.post(`/api/chat-session/${r._id}/upload-file`,tt,{headers:{"Content-Type":"multipart/form-data"}}),Xe=Ke.data?.messageObject||Ke.data?.file||Ke.data?.message||Ke.data;if(!Xe?.fileUrl){console.warn("File message payload missing, fallback disabled");return}const Ft={_id:Xe._id||Date.now().toString(),sessionId:r._id,from:"doctor",type:"file",fileUrl:Xe.fileUrl,fileName:Xe.fileName,mimeType:Xe.mimeType,time:Xe.time||new Date().toISOString()};s(pi=>[...pi,Ft]),ut()}catch(tt){console.error("File upload error:",tt)}},it=async()=>{if(!(!O.trim()||!r)){L(!0);try{const tt=(await $e.post(`/api/chat-session/${r._id}/reply`,{message:O.trim()})).data?.msg;s(Ke=>[...Ke,{from:"doctor",text:O.trim(),time:new Date}]),_(""),setTimeout(()=>ut(),80)}catch(Se){console.error("Doctor reply error:",Se)}finally{L(!1)}}},ut=(Se="smooth")=>{Ae.current?.scrollIntoView({behavior:Se})},ze=Se=>{if(!Se)return"";try{return mg(new Date(Se),"p")}catch{return""}},pe=async()=>{try{n(!0);let Se=localStorage.getItem("activeSessionId");if(!Se){const Xe=await $e.get("/api/chat-session/start"),Ft=Xe.data.session||Xe.data.data||Xe.data.sessionData||(Xe.data._id?Xe.data:null);if(!Ft)return;Se=Ft._id,localStorage.setItem("activeSessionId",Se),i(Ft),Array.isArray(Ft.messages)&&s(Ft.messages.map(X).filter(Boolean)),d(Ft.status),g(Ft.patientDetails||{}),p(Ft.currentStep||0),n(!1);return}const Ke=(await $e.get(`/api/chat-session/session/${Se}`)).data.session;if(!Ke)return;i(Ke),Array.isArray(Ke.messages)&&s(Ke.messages.map(X).filter(Boolean)),d(Ke.status),g(Ke.patientDetails||{}),p(Ke.currentStep||0),n(!1)}catch(Se){console.error("loadSession error:",Se),n(!1)}};w.useEffect(()=>{pe()},[]),w.useEffect(()=>{if(!e||!Pe)return;let Se=ue.current;return Se||(Se=jK(e),ue.current=Se),Se.emit("addUser",e.toString()),Se.emit("joinSession",{doctorId:e.toString(),sessionId:Pe.toString()}),console.log("Doctor joined session:",Pe),Se.emit("markSeen",{senderId:r?.adminId,receiverId:e,sessionId:Pe}),console.log("Doctor joined session:",Pe),Se.on("adminMessage",tt=>{if(String(tt.sessionId)!==String(Pe))return;d("ADMIN_REPLIED");const Ke={_id:tt._id||Date.now(),from:"admin",type:tt.type||"text",text:tt.text||null,time:tt.time||new Date().toISOString()};s(Xe=>[...Xe,Ke]),ut()}),Se.on("prescriptionProcessing",tt=>{String(tt.sessionId)===String(Pe)&&(re("PROCESSING"),s(Ke=>[...Ke,{from:"system",text:"Admin is preparing your prescription",time:new Date}]),ut())}),Se.on("prescriptionReady",tt=>{String(tt.sessionId)===String(Pe)&&re("SUCCESS")}),Se.on("prescriptionFailed",tt=>{String(tt.sessionId)===String(Pe)&&(re("FAILED"),s(Ke=>[...Ke,{from:"system",text:tt?.message||"Prescription generation failed.",time:new Date}]),ut())}),Se.on("messageUpdated",tt=>{s(Ke=>Ke.map(Xe=>Xe._id===tt.msgId?{...Xe,text:tt.newText,isEdited:!0}:Xe))}),Se.on("messageDeleted",tt=>{s(Ke=>Ke.map(Xe=>Xe._id===tt.msgId?{...Xe,isDeleted:!0,text:null,fileUrl:null}:Xe))}),Se.on("adminFile",tt=>{if(String(tt.sessionId)!==String(Pe))return;const Ke=X({...tt,from:"admin",type:"file"});s(Xe=>[...Xe,Ke]),ut()}),Se.on("adminTyping",tt=>{String(tt.sessionId)===String(Pe)&&ge(!0)}),Se.on("adminStopTyping",tt=>{String(tt.sessionId)===String(Pe)&&ge(!1)}),Se.on("sessionExpired",tt=>{String(tt.sessionId)===String(Pe)&&(d("EXPIRED"),s(Ke=>[...Ke,{from:"system",text:" Session expired. Please create a new case.",time:new Date}]))}),()=>{Se.emit("leaveSession",{sessionId:Pe}),Se.off("sessionAdminReply"),Se.off("adminFileMessage"),Se.off("sessionExpired"),Se.off("prescriptionProcessing"),Se.off("prescriptionReady"),Se.off("prescriptionFailed"),Se.off("adminTyping"),Se.off("adminStopTyping")}},[e,Pe]),w.useEffect(()=>{ut("smooth")},[a.length]);let ke;const st=()=>{const Se=ue.current;!Se||!r||(Se.emit("doctorTyping",{sessionId:Pe,adminId:r?.adminId}),clearTimeout(ke),ke=setTimeout(()=>{Se.emit("doctorStopTyping",{sessionId:Pe,adminId:r?.adminId})},1200))},ie=f<Ie.length?Ie[f]:null,we=f>=Ie.length,Ue=Se=>{b(Se.target.value)},le=async()=>{if(!(!r||!ie||!v.trim())){j(!0);try{const Se=r._id||r.sessionId,Ke=(await $e.post(`/api/chat-session/${Se}/add-field`,{field:ie.key,value:v.trim()})).data,Xe=Ke.session||Ke.data||Ke.sessionData||(Ke._id?Ke:null);if(!Xe)console.warn("No updated session from add-field:",Ke);else{i(Xe),d(Xe.status||"IN_PROGRESS");const Ft=Xe.patientDetails||{};g(Ft),Array.isArray(Xe.messages)&&s(Xe.messages.map(X).filter(Boolean));const pi=typeof Xe.currentStep=="number"?Xe.currentStep:f+1;p(Math.min(Math.max(pi,0),Ie.length))}b(""),setTimeout(()=>ut(),80)}catch(Se){console.error("add-field error:",Se)}finally{j(!1)}}},et=async()=>{if(r){k(!0);try{const Se=r._id||r.sessionId,Ke=(await $e.post(`/api/chat-session/${Se}/submit`)).data,Xe=Ke.session||Ke.data||Ke.sessionData||(Ke._id?Ke:null);Xe?(i(Xe),d(Xe.status||"PENDING_ADMIN_REVIEW"),Array.isArray(Xe.messages)&&s(Xe.messages.map(X).filter(Boolean))):d("PENDING_ADMIN_REVIEW"),setTimeout(()=>ut(),80)}catch(Se){console.error("submit-to-admin error:",Se)}finally{k(!1)}}},ln=async()=>{if(!(!r||!R))try{W(!0);const Se=r._id,tt=new FormData;tt.append("file",R),tt.append("from","doctor");const Ke=await $e.post(`/api/chat-session/${Se}/upload-file`,tt,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:Ft=>{const pi=Math.round(Ft.loaded/Ft.total*100);q(pi)}}),Xe=Ke.data.file;if(!Xe){console.error("Unexpected upload response:",Ke.data);return}s(Ft=>[...Ft,{type:Xe.type||"file",from:Xe.from||"doctor",fileUrl:Xe.fileUrl,fileName:Xe.fileName,mimeType:Xe.mimeType,time:Xe.time||new Date().toISOString()}]),ut(),M(null),q(0)}catch(Se){console.error("File upload error:",Se)}finally{W(!1)}},en=()=>{const Se={padding:"4px 10px",borderRadius:999,fontSize:12,fontWeight:500,display:"inline-flex",alignItems:"center",gap:6,maxWidth:"100%",whiteSpace:"nowrap"};return c==="IN_PROGRESS"?o.jsxs("span",{style:{...Se,background:"#e0f2fe",color:"#0369a1"},children:[o.jsx(of,{size:8})," Filling patient details"]}):c==="PENDING_ADMIN_REVIEW"?o.jsxs("span",{style:{...Se,background:"#fef3c7",color:"#b45309"},children:[o.jsx(of,{size:8})," Waiting for admin review"]}):c==="ADMIN_REPLIED"?o.jsxs("span",{style:{...Se,background:"#dcfce7",color:"#15803d"},children:[o.jsx(of,{size:8})," Admin response received"]}):c==="COMPLETED"?o.jsxs("span",{style:{...Se,background:"#e5e7eb",color:"#4b5563"},children:[o.jsx(of,{size:8})," Case completed"]}):null};return o.jsxs(o.Fragment,{children:[o.jsx("style",{children:`
        @keyframes bounce { 0%,100%{transform:translateY(0)}50%{transform:translateY(-6px)} }
        .typing-dot { width:8px;height:8px;background:#94a3b8;border-radius:50%;display:inline-block;animation:bounce 1.3s linear infinite; }
        .typing-dot:nth-child(2){animation-delay:0.18s} .typing-dot:nth-child(3){animation-delay:0.36s}

        /* Simple scrollbar tweaks for smaller screens */
        @media (max-width: 768px) {
          .scroll-y-soft::-webkit-scrollbar {
            width: 4px;
          }
          .scroll-y-soft::-webkit-scrollbar-thumb {
            background-color: rgba(148,163,184,0.6);
            border-radius: 999px;
          }
        }
      `}),o.jsxs("div",{style:{height:"100dvh",display:"flex",flexDirection:"column",background:"linear-gradient(to bottom,#f0f7f9,#e1f0f5)",fontFamily:"'Inter',system-ui,sans-serif"},children:[o.jsx("div",{style:{background:"linear-gradient(135deg,#024e5a 0%,#036a7a 100%)",color:"white",padding:G?"14px 16px":"18px 24px",boxShadow:"0 4px 20px rgba(0,0,0,0.15)"},children:o.jsxs("div",{style:{display:"flex",flexDirection:G?"column":"row",alignItems:G?"flex-start":"center",justifyContent:"space-between",gap:G?10:16},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:G?10:16},children:[o.jsx("div",{style:{width:G?44:52,height:G?44:52,background:"rgba(255,255,255,0.2)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:G?22:26,fontWeight:"bold",backdropFilter:"blur(10px)",flexShrink:0},children:"T"}),o.jsxs("div",{children:[o.jsx("h2",{style:{margin:0,fontSize:G?17:20,fontWeight:700},children:"TATHASTU  Smart Prescription Assistant"}),o.jsx("p",{style:{margin:"4px 0 0",fontSize:G?12:13,opacity:.9,maxWidth:G?"100%":480},children:"Enter patient details step-by-step. Once submitted, admin will review and send a guideline-based prescription."})]})]}),o.jsx("div",{style:{alignSelf:G?"flex-start":"center"},children:en()})]})}),o.jsxs("div",{style:{flex:1,display:"flex",flexDirection:G?"column":"row",gap:G?10:12,padding:G?"10px 10px 12px":"16px 14px 16px",overflow:"hidden"},children:[o.jsxs("div",{style:{flex:G?"unset":1.3,background:"rgba(255,255,255,0.85)",borderRadius:18,padding:G?"10px 10px":"14px 12px",boxShadow:"0 4px 18px rgba(15,23,42,0.08)",display:"flex",flexDirection:"column",minWidth:0,height:G?"50vh":"auto"},children:[o.jsxs("div",{className:"scroll-y-soft",style:{flex:1,overflowY:"auto",padding:"4px 6px 4px 2px",display:"flex",flexDirection:"column",gap:10},children:[t?o.jsx("div",{style:{textAlign:"center",marginTop:40,color:"#64748b",fontSize:13},children:"Loading session"}):a.length===0?o.jsx("div",{style:{textAlign:"center",marginTop:40,color:"#64748b",fontSize:13},children:"No messages yet."}):a.map((Se,tt)=>{const Ke=Se.from||"system",Xe=Ke==="doctor",Ft=Ke==="admin",pi=Ke==="system",ma=Xe,Ja=Xe?"linear-gradient(135deg,#024e5a,#036a7a)":Ft?"#ffffff":"#e5f3ff",Zs=Xe?"#ffffff":"#1f2933";return o.jsx("div",{style:{display:"flex",width:"100%",justifyContent:ma?"flex-end":"flex-start"},children:o.jsxs("div",{style:{maxWidth:"78%",marginBottom:3},children:[o.jsx("div",{style:{fontSize:11,color:"#94a3b8",marginLeft:ma?"auto":4,marginRight:ma?4:"auto",marginBottom:2},children:pi?"System":Ft?"Admin":"You"}),o.jsxs("div",{style:{background:Ja,color:Zs,padding:"10px 14px",borderRadius:16,borderBottomRightRadius:ma?4:16,borderBottomLeftRadius:ma?16:4,boxShadow:"0 3px 10px rgba(15,23,42,0.12)",fontSize:G?13.5:14.5,lineHeight:1.5,wordBreak:"break-word"},children:[Se.type==="file"?o.jsx(S$e,{fileUrl:Se.fileUrl,fileName:Se.fileName,mimeType:Se.mimeType,isDoctor:Se.from==="doctor",time:Se.time}):te===Se._id?o.jsx(o.Fragment,{children:o.jsxs("div",{style:{background:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:12,padding:10,boxShadow:"0 2px 8px rgba(15,23,42,0.08)"},children:[o.jsx("textarea",{value:z,onChange:Tn=>V(Tn.target.value),autoFocus:!0,rows:3,style:{width:"80%",padding:"8px 10px",borderRadius:8,fontSize:13.5,border:"1px solid #cbd5e1",outline:"none",resize:"none",background:"#ffffff"},placeholder:"Edit your message..."}),o.jsxs("div",{style:{marginTop:8,display:"flex",justifyContent:"flex-end",gap:8},children:[o.jsx("button",{onClick:()=>K(null),style:{padding:"6px 12px",borderRadius:999,fontSize:12,border:"1px solid #cbd5e1",background:"#f1f5f9",color:"#334155",cursor:"pointer"},children:"Cancel"}),o.jsx("button",{onClick:ye,style:{padding:"6px 14px",borderRadius:999,fontSize:12,border:"none",background:"linear-gradient(135deg,#024e5a,#036a7a)",color:"white",fontWeight:500,cursor:"pointer"},children:"Save"})]})]})}):o.jsx("div",{children:Se.text}),Xe&&!Se.deleted&&o.jsxs("div",{style:{fontSize:11,marginTop:6,opacity:.8,textAlign:"right"},children:[!Se.file&&!Se.fileUrl&&o.jsx("span",{onClick:()=>De(Se),style:{cursor:"pointer",marginRight:10},children:"Edit"}),o.jsx("span",{onClick:()=>Oe(Se._id),style:{cursor:"pointer",color:"white"},children:"Delete"})]}),Se.time&&o.jsx("div",{style:{fontSize:10,opacity:.75,marginTop:6,textAlign:"right"},children:ze(Se.time)})]})]})},Se._key)}),o.jsx("div",{ref:Ae})]}),o.jsx("div",{style:{marginTop:8,borderTop:"1px solid #e6eef6",paddingTop:10,display:"flex",gap:8,alignItems:"center",justifyContent:"flex-end",flexWrap:G?"wrap":"nowrap"},children:o.jsxs("label",{style:{padding:"8px 12px",background:"#f1f5f9",borderRadius:8,cursor:"pointer",color:"#0369a1",fontSize:13,border:"1px solid #cbd5e1",flexShrink:0},children:["Attach File",o.jsx("input",{type:"file",style:{display:"none"},onChange:Se=>{const tt=Se.target.files[0];tt&&Re(tt)}})]})}),c==="PENDING_ADMIN_REVIEW"&&o.jsxs("div",{style:{marginTop:6,fontSize:12,color:"#64748b",textAlign:"center"},children:["Waiting for admin to review and send prescription",$&&o.jsx("span",{children:" refreshing"})]}),c==="ADMIN_REPLIED"&&o.jsxs("div",{style:{marginTop:12,padding:"10px 12px",borderRadius:12,background:"#f8fafc",border:"1px solid #e2e8f0"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:8,flexWrap:"wrap",marginBottom:6},children:[o.jsx("span",{style:{fontSize:13,fontWeight:600,color:"#0f172a"},children:"Reply to admin"}),o.jsx("span",{style:{fontSize:11,color:"#64748b"},children:"Optional follow-up or clarification"})]}),o.jsx("textarea",{rows:3,value:O,onChange:Se=>{_(Se.target.value),st()},placeholder:"Write a follow-up question or response for admin...",style:{width:"100%",padding:"9px 11px",borderRadius:8,border:"1px solid #cbd5e1",fontSize:14,resize:"vertical",minHeight:70,background:"#ffffff",boxSizing:"border-box"}}),o.jsxs("div",{style:{marginTop:8,display:"flex",justifyContent:"space-between",alignItems:"center",gap:8,flexWrap:"wrap"},children:[R&&o.jsxs("div",{style:{fontSize:11,color:"#475569"},children:[o.jsx("strong",{children:"Selected:"})," ",R.name,o.jsx("button",{onClick:ln,style:{marginLeft:8,padding:"5px 10px",borderRadius:999,background:"linear-gradient(135deg,#024e5a,#036a7a)",color:"white",border:"none",fontSize:11,cursor:"pointer"},children:"Upload"})]}),o.jsx("button",{onClick:it,disabled:D||!O.trim(),style:{marginLeft:"auto",padding:"8px 16px",borderRadius:999,border:"none",background:O.trim()?"linear-gradient(135deg,#024e5a,#036a7a)":"#cbd5e1",color:"white",fontSize:13,fontWeight:500,cursor:O.trim()?"pointer":"not-allowed",whiteSpace:"nowrap"},children:D?"Sending...":"Reply to Admin"})]})]}),c==="COMPLETED"&&o.jsx("div",{style:{marginTop:10,padding:"10px 12px",borderRadius:12,background:"#f1f5f9",fontSize:12.5,color:"#475569",textAlign:"center"},children:"This case has been marked completed. Data will be auto-deleted as per retention policy."})]}),o.jsxs("div",{style:{flex:1,background:"rgba(255,255,255,0.9)",borderRadius:18,padding:G?"12px 12px 10px":"16px 16px 14px",boxShadow:"0 4px 18px rgba(15,23,42,0.07)",display:"flex",flexDirection:"column",minWidth:0,height:G?"50vh":"auto"},children:[o.jsx("h3",{style:{margin:"0 0 8px",fontSize:G?15:17,color:"#0f172a",fontWeight:600},children:"Patient Intake Wizard"}),o.jsx("p",{style:{margin:"0 0 10px",fontSize:G?12:12.5,color:"#64748b"},children:"Please fill details in order. This helps TATHASTU generate a safe, guideline-aligned prescription."}),o.jsx("div",{className:"scroll-y-soft",style:{display:"flex",flexWrap:"wrap",gap:6,marginBottom:10,maxHeight:G?90:72,overflowY:"auto"},children:Ie.map((Se,tt)=>{const Ke=(r?.patientDetails||{})[Se.key],Xe=tt===f;return o.jsxs("div",{style:{padding:"4px 8px",borderRadius:999,fontSize:11,display:"inline-flex",alignItems:"center",gap:6,background:Ke?"#dcfce7":Xe?"#e0f2fe":"#f1f5f9",color:Ke?"#15803d":Xe?"#0369a1":"#6b7280"},children:[o.jsx(of,{size:7}),o.jsxs("span",{children:[tt+1,"."]}),o.jsx("span",{children:Se.label})]},Se.key)})}),o.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:10,marginTop:4,overflow:"hidden"},children:we?o.jsxs(o.Fragment,{children:[o.jsx("div",{style:{padding:"10px 12px",borderRadius:12,background:"#f0f9ff",fontSize:13,color:"#0369a1"},children:"All patient fields are filled. You can now submit this case for admin review."}),o.jsx("button",{onClick:et,disabled:A||c==="ADMIN_REPLIED"||c==="COMPLETED",style:{marginTop:8,padding:"10px 14px",borderRadius:999,border:"none",background:c==="IN_PROGRESS"?"linear-gradient(135deg,#024e5a,#036a7a)":"#cbd5e1",color:"white",fontSize:14,fontWeight:500,cursor:c==="IN_PROGRESS"&&!A?"pointer":"not-allowed"},children:A?"Submitting...":"Submit for Admin Review"}),c==="ADMIN_REPLIED"&&o.jsxs("div",{style:{marginTop:10},children:[o.jsx("textarea",{rows:3,value:O,onChange:Se=>_(Se.target.value),placeholder:"Write a follow-up question or response for admin...",style:{width:"100%",padding:"10px 12px",borderRadius:10,border:"1px solid #cbd5e1",fontSize:14,resize:"vertical"}}),R&&o.jsxs("div",{style:{marginTop:8},children:[o.jsx("strong",{children:"Selected:"})," ",R.name,o.jsx("button",{onClick:ln,style:{marginLeft:10,padding:"6px 12px",borderRadius:8,background:"linear-gradient(135deg,#024e5a,#036a7a)",color:"white",border:"none"},children:"Upload"})]}),o.jsx("button",{onClick:it,disabled:D||!O.trim(),style:{marginTop:8,padding:"8px 14px",borderRadius:999,border:"none",background:O.trim()?"linear-gradient(135deg,#024e5a,#036a7a)":"#cbd5e1",color:"white",fontSize:13,fontWeight:500,cursor:O.trim()?"pointer":"not-allowed"},children:D?"Sending...":"Reply to Admin"})]})]}):o.jsx(o.Fragment,{children:ie&&o.jsxs(o.Fragment,{children:[o.jsxs("label",{style:{fontSize:13,fontWeight:500,color:"#0f172a"},children:["Step ",f+1," of ",Ie.length,":"," ",ie.label]}),o.jsx("textarea",{rows:4,value:v,onChange:Ue,placeholder:ie.placeholder,style:{marginTop:4,resize:"vertical",minHeight:90,borderRadius:12,border:"1px solid #cbd5e1",padding:"10px 12px",fontSize:14,outline:"none",boxShadow:"inset 0 1px 2px rgba(15,23,42,0.04)"}}),o.jsxs("div",{style:{display:"flex",flexDirection:G?"column-reverse":"row",justifyContent:"space-between",alignItems:G?"flex-start":"center",marginTop:8,gap:G?8:0},children:[o.jsx("small",{style:{fontSize:11,color:"#94a3b8",maxWidth:G?"100%":"75%"},children:"Tip: You can paste structured notes here. TATHASTU will parse the details as part of this step."}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,flexWrap:"wrap"},children:[o.jsxs("label",{style:{padding:"8px 10px",background:"#036a7a",color:"white",borderRadius:999,cursor:"pointer",fontSize:12,boxShadow:"0 3px 10px rgba(0,0,0,0.15)",flexShrink:0},children:["Upload File",o.jsx("input",{type:"file",accept:"*/*",style:{display:"none"},onChange:Se=>Re(Se.target.files[0])})]}),o.jsx("button",{onClick:le,disabled:!v.trim()||C||c!=="IN_PROGRESS",style:{padding:"8px 14px",borderRadius:999,border:"none",background:v.trim()?"linear-gradient(135deg,#024e5a,#036a7a)":"#cbd5e1",color:"white",fontSize:13,fontWeight:500,cursor:v.trim()&&!C&&c==="IN_PROGRESS"?"pointer":"not-allowed",display:"inline-flex",alignItems:"center",gap:6,flexShrink:0},children:C?"Saving":o.jsxs(o.Fragment,{children:["Next",o.jsx(Uz,{size:12,style:{transform:"rotate(-45deg)"}})]})})]})]})]})})})]})]})]})]})},j$e=({redirectTo:e="/signin",children:t})=>{const n=qe(i=>i.auth.accessToken),r=Jr();return n?t??o.jsx(uB,{}):o.jsx(jb,{to:e,replace:!0,state:{from:r.pathname}})},T$e=({redirectTo:e="/subscription",children:t,allowTrials:n=!0})=>{const r=qe(c=>c.auth.accessToken),i=qe(c=>c.auth.subscriptionStatus),a=Jr();return r?i==="active"||n&&i==="trial"?t??o.jsx(uB,{}):o.jsx(jb,{to:e,replace:!0,state:{from:a.pathname,reason:"no-sub"}}):o.jsx(jb,{to:"/signin",replace:!0,state:{from:a.pathname}})};function A$e(){const e=wt(),t=Fn(),{loading:n,backupData:r,backupList:i}=qe(p=>p.backup),a=qe(p=>p.clinic.currentClinic?._id),s=qe(p=>p.clinic.currentClinic?.name)||"Your Clinic",c=qe(p=>p.clinic.currentClinic?.clinicCode)||"N/A",d=()=>{if(!a)return Ee.error("Clinic not selected!");e(jv(a)).then(()=>{e(Sm(a))})};w.useEffect(()=>{a&&e(Sm(a))},[a,e]);const f=async p=>{if(!p||p==="undefined"){Ee.error("Cannot download: file name missing!");return}const m=await e(Tv({clinicId:a,fileName:p}));if(m?.payload?.fileBlob){const g=window.URL.createObjectURL(m.payload.fileBlob),v=document.createElement("a");v.href=g,v.download=p,v.click(),window.URL.revokeObjectURL(g)}};return o.jsxs("div",{className:"backup-page",children:[o.jsx("style",{children:`
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Segoe UI', system-ui, sans-serif; background: #f5f7fa; }

        .backup-page {
          min-height: 100vh;
          background: linear-gradient(135deg, #e0f7f5 0%, #f0fdfa 50%, #ecfdf5 100%);
          padding: 25px 15px;
        }

        .container { max-width: 1200px; margin: 0 auto; }

        .back-btn {
          display: inline-flex; align-items: center; gap: 10px;
          background: white; padding: 10px 18px; border-radius: 12px;
          font-weight: 600; border: 1px solid #e2e8f0;
          cursor: pointer; margin-bottom: 20px;
          box-shadow: 0 4px 15px rgba(0,0,0,0.08);
        }
        .back-btn:hover { background: #f1f5f9; transform: translateX(-4px); }
        .back-btn::before { content: ""; font-size: 1.3em; }

        .header { text-align: center; margin-bottom: 35px; }
        .header h1 { font-size: 2.6rem; color: #13423a; font-weight: 800; }
        .header p { color: #475569; font-size: 1.15rem; }

        .card {
          background: white; border-radius: 20px; padding: 32px;
          margin-bottom: 28px; border: 1px solid #e6f4f1;
          box-shadow: 0 10px 30px rgba(0,0,0,0.07);
        }

        .create-card {
          text-align: center;
          background: linear-gradient(135deg, #3a7561ff, #059669);
          color: white; position: relative; overflow: hidden;
        }

        .create-icon {
          width: 90px; height: 90px; border-radius: 50%;
          background: rgba(255,255,255,0.25);
          display: flex; align-items: center; justify-content: center;
          margin: 0 auto 20px; font-size: 42px;
        }

        .btn-create {
          background: white; color: #059669;
          padding: 16px 48px; border-radius: 14px;
          font-size: 1.25rem; font-weight: 700;
          cursor: pointer;
        }

        .spinner {
          width: 22px; height: 22px; border: 3px solid #fff3;
          border-top: 3px solid white; border-radius: 50%;
          animation: spin 1s linear infinite;
        }
        @keyframes spin { to { transform: rotate(360deg); } }

        .latest-card {
          border-left: 7px solid #10b981;
          background: linear-gradient(to right, #ecfdf5 0%, white 20%, white 100%);
        }

        .info-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
          gap: 18px; background: #f8fff9;
          border-radius: 14px; padding: 20px;
          border: 1px dashed #86efac;
        }

        .btn-download {
          background: #10b981; color: white;
          padding: 12px 28px; border-radius: 12px; font-weight: 600;
          cursor: pointer;
        }
        .btn-download:hover { background: #059669; }

        .history-header {
          display: flex; justify-content: space-between; align-items: center;
          border-bottom: 3px solid #e0f2f1; margin-bottom: 25px;
        }

        .count-badge {
          background: #13423a; color: white;
          padding: 10px 20px; border-radius: 30px; font-weight: bold;
        }

        .backup-grid {
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
          gap: 20px;
        }

        .backup-item {
          background: #f8fff9; border: 2px solid #ccfbf1;
          border-radius: 16px; padding: 22px;
        }

        .download-small {
          background: #1e293b; color: white;
          padding: 10px; border-radius: 10px; width: 100%;
          cursor: pointer; margin-top: 12px;
        }

        .empty-state { text-align: center; padding: 70px 20px; color: #64748b; }
        .empty-icon { font-size: 80px; color: #94a3b8; }

        .footer {
          text-align: center; margin-top: 50px; background: white;
          padding: 25px; border-radius: 16px; color: #475569;
        }
      `}),o.jsxs("div",{className:"container",children:[o.jsx("button",{onClick:()=>t(-1),className:"back-btn",children:"Back to Dashboard"}),o.jsxs("div",{className:"header",children:[o.jsx("h1",{children:"Clinic Data Backup"}),o.jsx("p",{children:"Secure, encrypted, and always available  protect your clinic records"})]}),o.jsxs("div",{className:"card create-card",children:[o.jsx("div",{className:"create-icon",children:"DB"}),o.jsx("h2",{style:{fontSize:"1.8rem",marginBottom:"10px"},children:"Create New Backup"}),o.jsxs("p",{children:["Backup for ",o.jsx("strong",{children:s})," (Code: ",c,")"]}),o.jsx("button",{onClick:d,disabled:n,className:"btn-create",style:{marginTop:"20px"},children:n?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"spinner"})," Creating..."]}):"Create Backup"})]}),r&&o.jsxs("div",{className:"card latest-card",children:[o.jsx("h3",{style:{marginBottom:"15px",color:"#065f46"},children:"Latest Backup"}),o.jsxs("div",{className:"info-grid",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"File:"})," ",r.fileName]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Size:"})," ",(r.size/1024).toFixed(2)," KB"]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Date:"})," ",new Date(r.createdAt).toLocaleString()]})]}),o.jsx("button",{className:"btn-download",onClick:()=>f(r.fileName),style:{marginTop:"20px"},children:"Download Latest Backup"})]}),o.jsxs("div",{className:"card",children:[o.jsxs("div",{className:"history-header",children:[o.jsx("h3",{children:"Backup History"}),o.jsxs("span",{className:"count-badge",children:[i?.length||0," Backups"]})]}),i?.length>0?o.jsx("div",{className:"backup-grid",children:i.map(p=>o.jsxs("div",{className:"backup-item",children:[o.jsx("h4",{children:p.fileName}),o.jsxs("p",{children:[o.jsx("strong",{children:"Size:"})," ",(p.size/1024).toFixed(2)," KB"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Date:"})," ",new Date(p.createdAt).toLocaleString()]}),o.jsx("button",{className:"download-small",onClick:()=>f(p.fileName),children:"Download"})]},p._id))}):o.jsxs("div",{className:"empty-state",children:[o.jsx("div",{className:"empty-icon",children:""}),o.jsx("h3",{children:"No Backups Found"}),o.jsx("p",{children:"Create a backup to keep your clinic data safe"})]})]}),o.jsx("div",{className:"footer",children:o.jsx("p",{children:"All backups are encrypted and stored securely. Recommended: Download important backups locally."})})]})]})}function k$e(){const e=wt(),t=Fn(),{doctorProfile:n,loading:r,error:i,message:a}=qe(K=>K.backup),s=localStorage.getItem("token"),[c,d]=w.useState(0),[f,p]=w.useState(!1),[m,g]=w.useState(!1),[v,b]=w.useState({rating:"",comment:""}),C=K=>{const{name:z,value:V}=K.target;b(Z=>({...Z,[z]:V}))},j=async()=>{if(!v.rating||!v.comment){Ee.error("Please fill both rating and comment.");return}try{await $e.post("/api/platform-feedback",v,{headers:{Authorization:`Bearer ${s}`}}),Ee.success("Feedback submitted successfully!"),b({rating:"",comment:""}),g(!1)}catch(K){console.error(K),Ee.error("Failed to submit feedback.")}},[A,k]=w.useState({name:"",email:"",phone:""}),[E,P]=w.useState(""),[$,F]=w.useState(null),[O,_]=w.useState({degreeCertificate:[],provisionalCertificate:null,registrationProof:null,internshipCertificate:null,aadhaar:null,clinicCard:null}),[D,L]=w.useState({degreeCertificate:[],provisionalCertificate:"",registrationProof:"",internshipCertificate:"",aadhaar:"",clinicCard:""});w.useEffect(()=>{e(jf())},[e]),w.useEffect(()=>{if(n){const K=n,z=K.doctorDegrees?.[0]?.registryInfo?.full_name||"";if(k({name:z||K.name||"",email:K.email||"",phone:K.phone||""}),P(K.profilePhotoUrl||""),K.doctorDocuments){const Z=K.doctorDocuments;L(re=>({...re,provisionalCertificate:Z.provisionalCertificateUrl||"",registrationProof:Z.registrationProofUrl||"",internshipCertificate:Z.internshipCertificateUrl||"",aadhaar:Z.aadhaarUrl||"",clinicCard:Z.clinicCardUrl||""}))}const V=(K.doctorDegrees||[]).flatMap(Z=>Z.degreeCertificateUrl||[]);L(Z=>({...Z,degreeCertificate:V}))}},[n]);const R=K=>{const{name:z,value:V}=K.target;k(Z=>({...Z,[z]:V}))},M=K=>{const z=K.target.files[0];if(z){F(z);const V=new FileReader;V.onloadend=()=>P(V.result),V.readAsDataURL(z)}},H=(K,z,V=!1)=>{const Z=K.target.files;if(Z.length)if(V){const re=Array.from(Z);_(ge=>({...ge,[z]:re}));const me=re.map(ge=>URL.createObjectURL(ge));L(ge=>({...ge,[z]:me}))}else{const re=Z[0];_(me=>({...me,[z]:re})),L(me=>({...me,[z]:URL.createObjectURL(re)}))}},W=async()=>{const K=new FormData;Object.keys(A).forEach(V=>{A[V]&&K.append(V,A[V])}),$&&K.append("profilePhoto",$),Object.keys(O).forEach(V=>{const Z=O[V];Array.isArray(Z)?Z.forEach(re=>K.append(V,re)):Z&&K.append(V,Z)});const z=await e(Cm(K));Cm.fulfilled.match(z)?(Ee.success("Profile updated successfully!"),p(!1),e(jf())):Ee.error(z.payload||"Failed to update profile")},fe=()=>t(-1);if(r&&!n)return o.jsx("div",{className:"loading",children:"Loading profile..."});if(i&&!n)return o.jsxs("div",{className:"error",children:["Error: ",i]});if(!n)return o.jsx("div",{children:"No profile found."});const q=n,te=q.doctorDegrees?.[0]||{};return o.jsxs(o.Fragment,{children:[o.jsx("style",{jsx:!0,children:`
        /* Same styles as before */
        .card {
          background: white;
          border-radius: 16px;
          padding: 24px;
          box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
          margin-bottom: 24px;
        }
        .btn {
          padding: 12px 24px;
          border: none;
          border-radius: 8px;
          font-weight: 600;
          cursor: pointer;
        }
        .btn-primary {
          background: #007bff;
          color: white;
        }
        .btn-success {
          background: #28a745;
          color: white;
        }
        .btn-back {
          background: #6c757d;
          color: white;
        }
        .btn-outline {
          background: transparent;
          color: #007bff;
          border: 2px solid #007bff;
        }
        .btn-danger {
          background: #dc3545;
          color: white;
        }
        .badge {
          padding: 6px 12px;
          border-radius: 20px;
          font-size: 13px;
          font-weight: 600;
        }
        .badge-success {
          background: #d4edda;
          color: #155724;
        }
        .badge-warning {
          background: #fff3cd;
          color: #856404;
        }
        .badge-danger {
          background: #f8d7da;
          color: #721c24;
        }
        .profile-avatar {
          width: 130px;
          height: 130px;
          border-radius: 50%;
          object-fit: cover;
          border: 5px solid #007bff;
        }
        .form-control {
          width: 100%;
          padding: 12px;
          border: 1px solid #ddd;
          border-radius: 8px;
          margin-top: 8px;
        }
        .degree-item {
          padding: 12px;
          background: #f8f9fa;
          border-radius: 8px;
          margin-bottom: 10px;
        }
      `}),o.jsxs("div",{style:{maxWidth:"1200px",margin:"20px auto",padding:"20px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px",flexWrap:"wrap",gap:"15px"},children:[o.jsxs("div",{children:[o.jsx("h1",{style:{margin:0,fontSize:"32px"},children:f?"Edit Profile":"Doctor Profile"}),o.jsx("p",{style:{color:"#666"},children:"Manage your professional information and documents"})]}),o.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:[o.jsxs("button",{className:"btn btn-back",onClick:fe,children:[o.jsx(Ace,{})," Back"]}),f?o.jsxs(o.Fragment,{children:[o.jsxs("button",{className:"btn btn-danger",onClick:()=>p(!1),children:[o.jsx(Gg,{})," Cancel"]}),o.jsxs("button",{className:"btn btn-primary",onClick:W,disabled:r,children:[o.jsx(Sj,{}),r?" Saving...":" Save Changes"]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("button",{className:"btn btn-primary",onClick:()=>g(!0),children:[o.jsx(Oce,{})," Give Feedback"]}),o.jsxs("button",{className:"btn btn-outline",onClick:()=>p(!0),children:[o.jsx(Fb,{})," Edit Profile"]}),o.jsxs("button",{className:"btn btn-success",onClick:()=>t("/backup"),children:[o.jsx(Lce,{})," Go to Backup"]})]})]})]}),o.jsxs("div",{className:"card",style:{display:"flex",gap:"30px",alignItems:"center",flexWrap:"wrap"},children:[f?o.jsxs("label",{style:{cursor:"pointer"},children:[o.jsx("input",{type:"file",accept:"image/*",onChange:M,style:{display:"none"}}),o.jsx("img",{src:E||"https://via.placeholder.com/130",alt:"Preview",className:"profile-avatar"}),o.jsx("p",{style:{textAlign:"center",color:"#007bff",marginTop:"10px"},children:"Change Photo"})]}):o.jsx("img",{src:q.profilePhotoUrl||"https://via.placeholder.com/130",alt:"Doctor",className:"profile-avatar"}),o.jsxs("div",{style:{flex:1},children:[o.jsxs("h2",{style:{margin:"0 0 10px",fontSize:"28px"},children:["Dr."," ",f?o.jsx("input",{type:"text",name:"name",value:A.name,onChange:R,className:"form-control",style:{fontSize:"28px",fontWeight:"bold",display:"inline-block",width:"auto"},readOnly:q?.doctorDegrees?.[0]?.registrationVerified}):A.name||q.name]}),o.jsxs("p",{style:{fontSize:"18px",color:"#007bff",margin:"8px 0"},children:[o.jsx("strong",{children:"Specialization:"})," ",te.specialization||"Not specified"]}),o.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap",marginTop:"12px"},children:[o.jsxs("span",{className:"badge badge-info",children:["Reg: ",te.registrationNumber||"N/A"]}),o.jsx("span",{className:`badge ${te.verificationStatus==="completed"?"badge-success":"badge-warning"}`,children:te.verificationStatus||"Pending"}),q.verifiedByApi&&o.jsx("span",{className:"badge badge-success",children:"API Verified"})]})]})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px",marginTop:"24px"},children:[o.jsxs("div",{className:"card",children:[o.jsx("h3",{style:{color:"#007bff",borderBottom:"2px solid #007bff",paddingBottom:"10px"},children:"Basic Information"}),f?o.jsxs(o.Fragment,{children:[o.jsxs("div",{style:{marginBottom:"16px"},children:[o.jsx("strong",{children:"Email:"}),o.jsx("br",{}),o.jsx("input",{type:"email",name:"email",value:A.email,onChange:R,className:"form-control"})]}),o.jsxs("div",{style:{marginBottom:"16px"},children:[o.jsx("strong",{children:"Phone:"}),o.jsx("br",{}),o.jsx("input",{type:"number",name:"phone",value:A.phone,onChange:R,className:"form-control"})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Email:"})," ",q.email]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Phone:"})," ",q.phone||"Not provided"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Account Status:"})," ",o.jsx("span",{className:`badge ${q.status==="active"?"badge-success":"badge-danger"}`,children:q.status})]})]})]}),o.jsxs("div",{className:"card",children:[o.jsx("h3",{style:{color:"#28a745",borderBottom:"2px solid #28a745",paddingBottom:"10px"},children:"Subscription"}),q.subscription?o.jsxs(o.Fragment,{children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Plan:"})," ",o.jsx("span",{style:{background:"#e6ffed",padding:"4px 10px",borderRadius:"6px",color:"#1e7e34",fontWeight:600},children:q.subscription.status?.toUpperCase()})]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Valid Until:"})," ",new Date(q.subscription.endDate).toLocaleDateString()]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Auto Renew:"})," ",q.subscription.autoRenew?"Yes":"No"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Days Left:"})," ",o.jsx("span",{style:{background:"#fff3cd",padding:"4px 10px",borderRadius:"6px",color:"#b68900",fontWeight:600},children:q.rewardSummary?.daysLeft??"N/A"})]})]}):o.jsx("p",{style:{color:"#999"},children:"No active subscription"})]})]}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px",marginTop:"24px"},children:o.jsxs("div",{className:"card",children:[o.jsx("h3",{style:{color:"#a72859ff",borderBottom:"2px solid #a7285dff",paddingBottom:"10px"},children:"Aadhaar Details"}),q.aadhaar?o.jsxs(o.Fragment,{children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Verfied:"}),q?.aadhaar?"Yes":"No"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Aadhaar:"})," ",q?.aadhaar?.last4Digits?`XXXX-XXXX-${q.aadhaar.last4Digits}`:"N/A"]})]}):o.jsx("p",{style:{color:"#999"},children:"No active subscription"})]})}),q.doctorDegrees&&q.doctorDegrees.length>0&&o.jsxs("div",{className:"card",style:{marginTop:"24px",borderRadius:"18px",padding:"26px",background:"white",boxShadow:"0 10px 35px rgba(0,0,0,0.08)"},children:[o.jsx("h3",{style:{color:"#9c0f5c",borderBottom:"2px solid #9c0f5c",paddingBottom:"10px",marginBottom:"18px",fontSize:"22px",fontWeight:700},children:"Qualification Details"}),q.doctorDegrees.map(K=>{const z=K.registryInfo||{};return o.jsxs("div",{style:{marginBottom:"18px",border:"1px solid #f1f1f1",padding:"18px",borderRadius:"14px",background:"#fafafa"},children:[o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"14px 40px"},children:[o.jsxs("p",{children:[o.jsx(hue,{color:"#9c0f5c"})," ",o.jsx("strong",{children:" Degree:"})," ",K.degree||"N/A"]}),o.jsxs("p",{children:[o.jsx(Cj,{color:"#007bff"})," ",o.jsx("strong",{children:" Specialization:"})," ",K.specialization||"N/A"]}),o.jsxs("p",{children:[o.jsx(Kce,{color:"#ff9800"})," ",o.jsx("strong",{children:" Registration No:"})," ",K.registrationNumber||"N/A"]}),o.jsxs("p",{children:[o.jsx(Is,{color:"#28a745"})," ",o.jsx("strong",{children:" Registration Year:"})," ",K.registrationYear||z.registration_year||"N/A"]}),o.jsxs("p",{children:[o.jsx(Wce,{color:"#e91e63"})," ",o.jsx("strong",{children:" Medical Council:"})," ",z.state_medical_council||"N/A"]}),o.jsxs("p",{children:[o.jsx(uue,{color:"#673ab7"})," ",o.jsx("strong",{children:" University:"})," ",z.university||"N/A"]}),o.jsxs("p",{children:[o.jsx(Is,{color:"#03a9f4"})," ",o.jsx("strong",{children:" Registration Date:"})," ",z.registration_date?new Date(z.registration_date).toLocaleDateString():"N/A"]}),o.jsx("p",{children:K.verificationStatus==="completed"?o.jsxs(o.Fragment,{children:[o.jsx(hc,{color:"#0a7d32"})," ",o.jsx("strong",{children:" Verification:"})," ",o.jsx("span",{style:{background:"#e6ffec",padding:"6px 10px",borderRadius:"8px",color:"#0a7d32",fontWeight:"bold"},children:"Verified"})]}):o.jsxs(o.Fragment,{children:[o.jsx(Bz,{color:"#b35b00"})," ",o.jsx("strong",{children:" Verification:"})," ",o.jsx("span",{style:{background:"#fff4e6",padding:"6px 10px",borderRadius:"8px",color:"#b35b00",fontWeight:"bold"},children:"Pending"})]})})]}),K.degreeCertificateUrl?.length>0&&o.jsxs("div",{style:{marginTop:"12px"},children:[o.jsx(wj,{color:"#007bff"})," ",o.jsx("strong",{children:" Certificate:"})," ",o.jsx("a",{href:K.degreeCertificateUrl[0],target:"_blank",rel:"noopener noreferrer",style:{color:"#007bff",textDecoration:"underline",fontWeight:600},children:"View Certificate"})]})]},K._id)})]}),(f||Object.values(q.doctorDocuments||{}).some(Boolean))&&o.jsxs("div",{className:"card",style:{marginTop:"24px"},children:[o.jsxs("h3",{style:{color:"#ff9800",borderBottom:"2px solid #ff9800",paddingBottom:"10px"},children:["Documents ",f&&"(Editable)"]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"},children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Degree Certificates:"}),o.jsx("br",{}),f&&o.jsx("input",{type:"file",multiple:!0,accept:"image/*,application/pdf",onChange:K=>H(K,"degreeCertificate",!0),style:{margin:"10px 0"}}),o.jsx("div",{style:{marginTop:"10px"},children:D.degreeCertificate.length>0?D.degreeCertificate.map((K,z)=>o.jsxs("a",{href:K,target:"_blank",rel:"noopener noreferrer",style:{display:"block",color:"#007bff",margin:"5px 0"},children:["View Degree ",z+1," (Open)"]},z)):o.jsx("em",{style:{color:"#aaa"},children:"No degree certificates uploaded"})})]}),["provisionalCertificate","registrationProof","internshipCertificate","aadhaar","clinicCard"].map(K=>{const z={provisionalCertificate:"Provisional Certificate",registrationProof:"Registration Proof",internshipCertificate:"Internship Certificate",aadhaar:"Aadhaar Card",clinicCard:"Clinic Establishment Certificate"}[K];return o.jsxs("div",{children:[o.jsxs("strong",{children:[z,":"]}),o.jsx("br",{}),f&&o.jsx("input",{type:"file",accept:"image/*,application/pdf",onChange:V=>H(V,K),style:{margin:"10px 0"}}),o.jsx("div",{style:{marginTop:"10px"},children:D[K]?o.jsxs("a",{href:D[K],target:"_blank",rel:"noopener noreferrer",style:{color:"#007bff"},children:[D[K].startsWith("blob:")?"New File":"View Document"," ","(Open)"]}):q.doctorDocuments?.[K+"Url"]?o.jsx("a",{href:q.doctorDocuments[K+"Url"],target:"_blank",rel:"noopener noreferrer",style:{color:"#007bff"},children:"View Document (Open)"}):o.jsx("em",{style:{color:"#aaa"},children:"Not uploaded"})})]},K)})]}),m&&o.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:o.jsxs("div",{style:{background:"#fff",borderRadius:"12px",padding:"30px",width:"400px",maxWidth:"90%",position:"relative"},children:[o.jsx("h2",{style:{marginBottom:"20px"},children:"Feedback"}),o.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:"8px",gap:"5px"},children:[1,2,3,4,5].map(K=>o.jsx("span",{onClick:()=>b(z=>({...z,rating:K})),onMouseEnter:()=>d(K),onMouseLeave:()=>d(0),style:{cursor:"pointer",fontSize:"24px",color:(c||v.rating)>=K?"#ffc107":"#ddd"},children:""},K))}),o.jsxs("label",{style:{marginTop:"15px",display:"block",padding:"5px"},children:["Comment:",o.jsx("textarea",{name:"comment",value:v.comment,onChange:C,className:"form-control",rows:3,style:{marginTop:"8px",boxSizing:"border-box"}})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"10px",marginTop:"20px"},children:[o.jsx("button",{className:"btn btn-outline",onClick:()=>g(!1),children:"Cancel"}),o.jsx("button",{className:"btn btn-success",onClick:j,children:"Submit"})]})]})})]}),a&&o.jsx("div",{style:{padding:"16px",background:"#d4edda",borderRadius:"8px",marginTop:"20px",color:"#155724"},children:a})]})]})}const E$e=se.createContext({}),TK=!0;function N$e({baseColor:e,highlightColor:t,width:n,height:r,borderRadius:i,circle:a,direction:s,duration:c,enableAnimation:d=TK,customHighlightBackground:f}){const p={};return s==="rtl"&&(p["--animation-direction"]="reverse"),typeof c=="number"&&(p["--animation-duration"]=`${c}s`),d||(p["--pseudo-element-display"]="none"),(typeof n=="string"||typeof n=="number")&&(p.width=n),(typeof r=="string"||typeof r=="number")&&(p.height=r),(typeof i=="string"||typeof i=="number")&&(p.borderRadius=i),a&&(p.borderRadius="50%"),typeof e<"u"&&(p["--base-color"]=e),typeof t<"u"&&(p["--highlight-color"]=t),typeof f=="string"&&(p["--custom-highlight-background"]=f),p}function _$e({count:e=1,wrapper:t,className:n,containerClassName:r,containerTestId:i,circle:a=!1,style:s,...c}){var d,f,p;const m=se.useContext(E$e),g={...c};for(const[E,P]of Object.entries(c))typeof P>"u"&&delete g[E];const v={...m,...g,circle:a},b={...s,...N$e(v)};let C="react-loading-skeleton";n&&(C+=` ${n}`);const j=(d=v.inline)!==null&&d!==void 0?d:!1,A=[],k=Math.ceil(e);for(let E=0;E<k;E++){let P=b;if(k>e&&E===k-1){const F=(f=P.width)!==null&&f!==void 0?f:"100%",O=e%1,_=typeof F=="number"?F*O:`calc(${F} * ${O})`;P={...P,width:_}}const $=se.createElement("span",{className:C,style:P,key:E},"");j?A.push($):A.push(se.createElement(se.Fragment,{key:E},$,se.createElement("br",null)))}return se.createElement("span",{className:r,"data-testid":i,"aria-live":"polite","aria-busy":(p=v.enableAnimation)!==null&&p!==void 0?p:TK},t?A.map((E,P)=>se.createElement(t,{key:P},E)):A)}const Ci={primary:"#0f766e",danger:"#dc2626",text:"#111827",muted:"#6b7280",border:"#e5e7eb",unreadBg:"#f0fdfa",card:"#ffffff"},P$e=()=>{const e=wt(),t=Fn(),{currentClinic:n}=qe(v=>v.clinic),{notifications:r,loading:i,readNotifications:a}=qe(v=>v.notifications),[s,c]=w.useState("unread");w.useEffect(()=>{if(n?._id){e(Tf({clinicId:n._id})),e(Tm());const v=setInterval(()=>{e(Tf({clinicId:n._id})),e(Tm())},2e4);return()=>clearInterval(v)}},[e,n]);const d=w.useMemo(()=>r.filter(v=>!v.read).sort((v,b)=>new Date(b.createdAt)-new Date(v.createdAt)),[r]),f=w.useMemo(()=>a?[...a].sort((v,b)=>new Date(b.createdAt)-new Date(v.createdAt)):[],[a]),p=async v=>{(await e(YF({notificationId:v}))).meta.requestStatus==="fulfilled"&&Ee.success("Marked as read")},m=async(v,b)=>{b.stopPropagation(),(await e(WF({notificationId:v,receiverId:n?._id}))).meta.requestStatus==="fulfilled"&&Ee.success("Notification deleted")},g=({data:v,read:b})=>o.jsxs("div",{onClick:()=>!b&&p(v._id),style:{display:"flex",justifyContent:"space-between",gap:"16px",padding:"18px",borderRadius:"14px",background:b?Ci.card:Ci.unreadBg,border:`1px solid ${Ci.border}`,cursor:b?"default":"pointer",transition:"0.25s",boxShadow:"0 4px 14px rgba(0,0,0,0.04)"},children:[o.jsxs("div",{style:{flex:1},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"6px"},children:[o.jsx("h4",{style:{margin:0,fontSize:"16px",fontWeight:b?500:600,color:Ci.text},children:v.title}),!b&&o.jsx("span",{style:{background:Ci.primary,color:"#fff",fontSize:"11px",padding:"2px 10px",borderRadius:"999px",fontWeight:600},children:"NEW"})]}),o.jsx("p",{style:{margin:"4px 0 8px",color:Ci.muted,fontSize:"14px",lineHeight:1.6},children:v.message}),o.jsx("small",{style:{color:"#9ca3af"},children:J5e(new Date(v.createdAt),{addSuffix:!0})})]}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[!b&&o.jsx("button",{onClick:C=>{C.stopPropagation(),p(v._id)},style:{background:"transparent",border:"none",color:Ci.primary,cursor:"pointer",fontSize:"18px"},title:"Mark as read",children:o.jsx(hc,{})}),o.jsx("button",{onClick:C=>m(v._id,C),style:{background:"transparent",border:"none",color:Ci.danger,cursor:"pointer",fontSize:"18px"},title:"Delete",children:o.jsx(Im,{})})]})]});return o.jsxs("div",{style:{maxWidth:"900px",margin:"0 auto",padding:"24px"},children:[o.jsx("button",{onClick:()=>t(-1),style:{marginBottom:"20px",background:"transparent",border:"none",color:Ci.primary,cursor:"pointer",fontWeight:600},children:" Back"}),o.jsx("h2",{style:{marginBottom:"20px"},children:"Notifications"}),o.jsx("div",{style:{display:"inline-flex",gap:"8px",background:"#f3f4f6",padding:"6px",borderRadius:"999px",marginBottom:"24px"},children:["unread","read"].map(v=>o.jsx("button",{onClick:()=>c(v),style:{padding:"8px 18px",borderRadius:"999px",border:"none",cursor:"pointer",fontWeight:600,background:s===v?Ci.primary:"transparent",color:s===v?"#fff":Ci.text},children:v==="unread"?`Unread (${d.length})`:`Read (${f.length})`},v))}),i&&[...Array(4)].map((v,b)=>o.jsx(_$e,{height:90,borderRadius:14,style:{marginBottom:"12px"}},b)),!i&&s==="unread"&&d.length===0&&o.jsx("p",{style:{textAlign:"center",color:Ci.muted},children:" No unread notifications"}),!i&&s==="read"&&f.length===0&&o.jsx("p",{style:{textAlign:"center",color:Ci.muted},children:"No read notifications"}),!i&&o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"14px"},children:[s==="unread"&&d.map(v=>o.jsx(g,{data:v},v._id)),s==="read"&&f.map(v=>o.jsx(g,{data:v,read:!0},v._id))]})]})};function D$e(e){return Ye({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"},child:[]}]})(e)}function O$e(e){return Ye({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.56.56 0 0 0-.163-.505L1.71 6.745l4.052-.576a.53.53 0 0 0 .393-.288L8 2.223l1.847 3.658a.53.53 0 0 0 .393.288l4.052.575-2.906 2.77a.56.56 0 0 0-.163.506l.694 3.957-3.686-1.894a.5.5 0 0 0-.461 0z"},child:[]}]})(e)}const $$e=({rating:e,setRating:t})=>{const n={transition:"transform 0.2s ease, color 0.2s ease"};return o.jsx("div",{style:{display:"flex",gap:"8px",cursor:"pointer"},children:[1,2,3,4,5].map(r=>o.jsx("span",{onClick:()=>t(r),onMouseEnter:i=>i.target.style.transform="scale(1.2)",onMouseLeave:i=>i.target.style.transform="scale(1)",style:n,children:r<=e?o.jsx(D$e,{color:"#ffb300",size:28}):o.jsx(O$e,{color:"#c7c7c7",size:28})},r))})};function I$e({onSuccess:e}){const t=wt(),{clinicId:n}=fc(),r=qe(E=>E.backup),i=w.useMemo(()=>{const E=n,P=localStorage.getItem("selectedClinicId"),$=r?.clinicId,F=E||P||$;return F&&localStorage.setItem("selectedClinicId",F),F},[n,r?.clinicId]),[a,s]=w.useState(""),[c,d]=w.useState(0),[f,p]=w.useState(""),{submissionLoading:m,submissionError:g,submissionSuccess:v}=r,b=async E=>{if(E.preventDefault(),!i){Ee.error("Clinic ID is missing.");return}if(c===0){Ee.warn("Rating is required.");return}const P=await t(jm({clinicId:i,rating:c,comment:f.trim(),patientName:a.trim()}));jm.fulfilled.match(P)?(Ee.success("Feedback submitted successfully"),s(""),d(0),p(""),e&&e()):Ee.error(P?.payload?.message||"Failed to submit feedback ")},C={maxWidth:"600px",margin:"60px auto",padding:"40px",background:"linear-gradient(135deg, #ffffff 0%, #f8faff 100%)",borderRadius:"18px",boxShadow:"0 8px 25px rgba(0,0,0,0.08)",fontFamily:"'Poppins', sans-serif"},j={display:"block",marginBottom:"8px",fontWeight:600,color:"#444",fontSize:"14px"},A={width:"100%",padding:"12px 14px",marginBottom:"22px",border:"1px solid #d0d7e4",borderRadius:"10px",outline:"none",fontSize:"14px",background:"#fafbfd"},k={width:"100%",padding:"14px",background:"#007bff",color:"white",border:"none",borderRadius:"10px",cursor:"pointer",fontSize:"17px",fontWeight:"600",marginTop:"15px",boxShadow:"0 4px 12px rgba(0,123,255,0.3)"};return o.jsxs("form",{style:C,onSubmit:b,children:[o.jsx("h2",{style:{textAlign:"center",marginBottom:"25px",fontWeight:"700",fontSize:"26px",color:"#007bff"},children:"Share Your Feedback"}),g&&o.jsxs("div",{style:{background:"#fdecea",color:"#b71c1c",padding:"12px",marginBottom:"15px",borderRadius:"8px"},children:[" ",g]}),v&&o.jsxs("div",{style:{background:"#e8f5e9",color:"#256029",padding:"12px",marginBottom:"15px",borderRadius:"8px"},children:[" ",v]}),!i&&o.jsx("div",{style:{background:"#fff4e5",color:"#b26a00",padding:"12px",marginBottom:"15px",borderRadius:"8px"},children:" Clinic ID is missing."}),o.jsx("label",{style:j,children:"Rating *"}),o.jsx($$e,{rating:c,setRating:d}),o.jsx("label",{style:j,children:"Patient Name (Optional)"}),o.jsx("input",{type:"text",value:a,onChange:E=>s(E.target.value),style:A,placeholder:"Enter your name"}),o.jsx("label",{style:j,children:"Comment (Optional)"}),o.jsx("textarea",{value:f,onChange:E=>p(E.target.value),style:{...A,minHeight:"120px"},placeholder:"Share your experience (optional)"}),o.jsx("button",{disabled:m||!i,type:"submit",style:k,children:m?"Submitting...":"Submit Feedback"})]})}const R$e=4e3,M$e=()=>{const e=String(localStorage.getItem("doctorId"));console.log("Doctor_Id",e);const[t,n]=w.useState([]),[r,i]=w.useState(""),[a,s]=w.useState(!1),c=w.useRef(null),d=w.useRef(null),f=w.useRef(null),p=w.useRef(null),m=w.useRef(!1),g=(k="smooth")=>{c.current?.scrollIntoView({behavior:k})},v=async()=>{if(!m.current){m.current=!0;try{const E=(await $e.get("/api/chat/doctor/messages")).data.messages.map(P=>({...P,senderId:String(P.senderId)}));n(P=>{const $=new Map(P.map(_=>[String(_._id),_])),F=new Map($);for(const _ of E){if(!_)continue;const D=String(_._id),L=F.get(D);L?F.set(D,{...L,..._,status:_.seen?"seen":L.status||"delivered"}):F.set(D,{..._,status:_.seen?"seen":"delivered"})}return Array.from(F.values()).sort((_,D)=>new Date(_.createdAt)-new Date(D.createdAt))})}catch(k){console.error("fetchAndMergeMessages error:",k)}finally{m.current=!1}}};w.useEffect(()=>{v().then(()=>setTimeout(()=>g("auto"),60))},[]),w.useEffect(()=>{if(!e)return;const k=jK(e);f.current=k,k.on("connect",()=>{try{k.emit("addUser",e)}catch{}v()});const E=_=>{_&&(_.createdAt||(_.createdAt=new Date().toISOString()),n(D=>(_._id?D.some(R=>R._id===_._id):D.some(R=>R.message===_.message&&R.createdAt===_.createdAt))?D:[...D,{..._,status:_.seen?"seen":"delivered"}]),v(),setTimeout(()=>g(),60))},P=_=>s(!!_);k.on("receiveMessage",E),k.on("newMessage",E),k.on("message",E),k.on("adminTyping",P),k.on("typing",P),(()=>{p.current||(p.current=setInterval(()=>{v()},R$e))})();const F=()=>{document.visibilityState==="visible"&&v()};window.addEventListener("visibilitychange",F);const O=()=>v();return window.addEventListener("focus",O),()=>{try{k.off("receiveMessage",E),k.off("newMessage",E),k.off("message",E),k.off("adminTyping",P),k.off("typing",P),k.off("connect"),k.off("disconnect"),k.emit?.("leaveDoctor",{doctorId:e}),k.disconnect?.()}catch{}p.current&&(clearInterval(p.current),p.current=null),window.removeEventListener("visibilitychange",F),window.removeEventListener("focus",O)}},[e]),w.useEffect(()=>{g()},[t.length]);const b=async()=>{const k=r.trim();if(!k)return;const E={_id:`temp-${Date.now()}`,senderId:e,message:k,createdAt:new Date().toISOString(),status:"sending"};n(P=>[...P,E]),i(""),d.current?.focus(),setTimeout(()=>g(),40);try{const $=(await $e.post("/api/chat/doctor/send",{message:k})).data.msg;n($?F=>{const O=F.findIndex(_=>_._id===E._id);if(O>=0){const _=[...F];return _[O]={...$,status:$.seen?"seen":"sent"},_}return F.some(_=>_._id===$._id)?F:[...F,{...$,status:$.seen?"seen":"sent"}]}:F=>F.map(O=>O._id===E._id?{...O,status:"sent"}:O)),v()}catch(P){console.error("Send error:",P),n($=>$.map(F=>F._id===E._id?{...F,status:"failed"}:F))}},C=k=>{k.key==="Enter"&&!k.shiftKey&&(k.preventDefault(),b())},j=k=>{try{return mg(new Date(k),"p")}catch{return""}},A=k=>k?k==="sending"?o.jsx("span",{style:{marginLeft:8,opacity:.6},children:o.jsx(t7,{})}):k==="sent"?o.jsx("span",{style:{marginLeft:8,opacity:.6},children:o.jsx(t7,{})}):k==="delivered"?o.jsx("span",{style:{marginLeft:8,opacity:.75},children:o.jsx(e7,{})}):k==="seen"?o.jsx("span",{style:{marginLeft:8,color:"#3b82f6"},children:o.jsx(e7,{})}):k==="failed"?o.jsx("span",{style:{marginLeft:8,opacity:.6},children:"!"}):null:null;return o.jsxs(o.Fragment,{children:[o.jsx("style",{children:`
        @keyframes bounce { 0%,100%{transform:translateY(0)}50%{transform:translateY(-6px)} }
        .typing-dot { width:8px;height:8px;background:#94a3b8;border-radius:50%;display:inline-block;animation:bounce 1.3s linear infinite; }
        .typing-dot:nth-child(2){animation-delay:0.18s} .typing-dot:nth-child(3){animation-delay:0.36s}
      `}),o.jsxs("div",{style:{height:"100dvh",display:"flex",flexDirection:"column",background:"linear-gradient(to bottom,#f0f7f9,#e1f0f5)",fontFamily:"'Inter',system-ui,sans-serif"},children:[o.jsx("div",{style:{background:"linear-gradient(135deg,#024e5a 0%,#036a7a 100%)",color:"white",padding:"20px 28px",boxShadow:"0 4px 20px rgba(0,0,0,0.15)"},children:o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16},children:[o.jsx("div",{style:{width:56,height:56,background:"rgba(255,255,255,0.2)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:28,fontWeight:"bold",backdropFilter:"blur(10px)"},children:"A"}),o.jsxs("div",{children:[o.jsx("h2",{style:{margin:0,fontSize:22,fontWeight:700},children:"Clinic Admin"}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginTop:4},children:[o.jsx(of,{size:10,color:"#4ade80"}),o.jsx("span",{style:{fontSize:14},children:"Online"})]})]})]})}),o.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"24px 20px",display:"flex",flexDirection:"column",gap:12},children:[t.length===0?o.jsxs("div",{style:{textAlign:"center",color:"#64748b",marginTop:80},children:[o.jsx("p",{style:{fontSize:17,fontWeight:500},children:"Start your conversation"}),o.jsx("p",{style:{color:"#94a3b8"},children:"All messages are secure & encrypted"})]}):t.map((k,E)=>{const P=String(k?.senderId)===String(e),$=E===0||new Date(k.createdAt).toDateString()!==new Date(t[E-1]?.createdAt).toDateString();return o.jsxs("div",{style:{width:"100%",display:"flex",flexDirection:"column"},children:[$&&o.jsx("div",{style:{textAlign:"center",margin:"12px 0",color:"#64748b",fontSize:13},children:mg(new Date(k.createdAt),"EEEE, MMMM d")}),o.jsx("div",{style:{display:"flex",width:"100%"},children:o.jsx("div",{style:{display:"inline-block",maxWidth:"75%",marginLeft:P?"auto":void 0,marginRight:P?void 0:"auto"},children:o.jsxs("div",{style:{background:P?"linear-gradient(135deg,#024e5a,#036a7a)":"#ffffff",color:P?"white":"#1e293b",padding:"12px 18px",borderRadius:20,borderBottomRightRadius:P?4:20,borderBottomLeftRadius:P?20:4,boxShadow:"0 4px 12px rgba(0,0,0,0.08)",display:"inline-block",wordBreak:"break-word",position:"relative"},children:[o.jsx("p",{style:{margin:0,lineHeight:1.5,fontSize:15.5},children:k.message}),o.jsxs("div",{style:{fontSize:11.5,opacity:.8,marginTop:6,textAlign:"right",display:"flex",alignItems:"center",justifyContent:"flex-end"},children:[o.jsx("span",{children:j(k.createdAt)}),P&&A(k.status)]})]})})})]},k._id??`msg-${E}`)}),a&&o.jsx("div",{style:{display:"flex",paddingLeft:12},children:o.jsxs("div",{style:{background:"white",padding:"12px 18px",borderRadius:20,boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[o.jsx("span",{className:"typing-dot"}),o.jsx("span",{className:"typing-dot"}),o.jsx("span",{className:"typing-dot"})]})}),o.jsx("div",{ref:c})]}),o.jsx("div",{style:{padding:"16px 20px 24px",background:"white",borderTop:"1px solid #e2e8f0"},children:o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,background:"#f8fafc",borderRadius:30,padding:"8px 12px",boxShadow:"0 4px 15px rgba(0,0,0,0.06)"},children:[o.jsx("input",{ref:d,type:"text",value:r,onChange:k=>i(k.target.value),onKeyDown:C,placeholder:"Write your message...",style:{flex:1,border:"none",outline:"none",background:"transparent",padding:12,fontSize:16}}),o.jsx("button",{onClick:b,disabled:!r.trim(),style:{width:46,height:46,borderRadius:"50%",background:r.trim()?"linear-gradient(135deg,#024e5a,#036a7a)":"#cbd5e1",border:"none",color:"white",cursor:r.trim()?"pointer":"not-allowed",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:r.trim()?"0 6px 20px rgba(2,78,90,0.4)":"none"},children:o.jsx(Uz,{size:19,style:{transform:"rotate(-45deg)"}})})]})})]})]})},L$e=({children:e})=>localStorage.getItem("rzp_device_id")?o.jsx(jb,{to:"/",replace:!0}):e;function F$e(){const e=wt(),t=qe(n=>n.auth.user);return localStorage.getItem("rzp_device_id"),w.useEffect(()=>{const n=localStorage.getItem("token")||localStorage.getItem("accessToken")||null,r=localStorage.getItem("user");let i=null;if(r)try{i=JSON.parse(r),e(Sb(i))}catch(a){console.warn("Invalid user in localStorage",a),localStorage.removeItem("user")}n&&(e(Ri(n)),sn(n),i?.role==="doctor"&&e(ko()).catch(a=>{console.warn("fetchUserProfile failed:",a)}))},[e]),o.jsx(xre,{children:o.jsxs("div",{style:{margin:"0 auto",overflow:"hidden"},children:[o.jsxs(Qne,{children:[o.jsx(zt,{path:"/",element:o.jsx($3,{})}),o.jsx(zt,{path:"/signin",element:o.jsx($3,{})}),o.jsx(zt,{path:"/signup",element:o.jsx(Sue,{})}),o.jsx(zt,{path:"/subscription",element:o.jsx(L$e,{children:o.jsx(kOe,{})})}),o.jsx(zt,{path:"/payment/:planId",element:o.jsx(EOe,{})}),o.jsx(zt,{path:"/feedback/:clinicId",element:o.jsx(I$e,{})}),o.jsx(zt,{path:"/doctor-chat",element:o.jsx(M$e,{doctorId:t?._id})}),o.jsxs(zt,{element:o.jsx(j$e,{}),children:[o.jsx(zt,{path:"/doctor-dashboard",element:o.jsx(UCe,{})}),o.jsx(zt,{path:"/notifications",element:o.jsx(P$e,{})}),o.jsx(zt,{path:"/chat",element:o.jsx(C$e,{})}),o.jsx(zt,{path:"/receptionist-dashboard",element:o.jsx(TOe,{})}),o.jsx(zt,{path:"/patients/:clinicId?",element:o.jsx(cM,{})}),o.jsx(zt,{path:"/patients/:clinicId/:patientId?",element:o.jsx(cM,{})}),o.jsx(zt,{path:"/certificates",element:o.jsx(hEe,{})}),o.jsx(zt,{path:"/account-billing",element:o.jsx(AEe,{})}),o.jsx(zt,{path:"/prescription-library",element:o.jsx(vEe,{})}),o.jsx(zt,{path:"/analytics",element:o.jsx(zCe,{})}),o.jsx(zt,{path:"/drugs-library",element:o.jsx(dM,{})}),o.jsx(zt,{path:"/drugs-library/:id",element:o.jsx(dM,{})}),o.jsx(zt,{path:"/library",element:o.jsx(UEe,{})}),o.jsx(zt,{path:"/backup",element:o.jsx(A$e,{})}),o.jsx(zt,{path:"/doctor-profile",element:o.jsx(k$e,{})}),o.jsx(zt,{path:"/doctor-feedback",element:o.jsx(xG,{})})]}),o.jsxs(zt,{element:o.jsx(T$e,{}),children:[o.jsx(zt,{path:"/my-clinic",element:o.jsx(K9e,{})}),o.jsx(zt,{path:"/doctor-suite",element:o.jsx(iM,{})}),o.jsx(zt,{path:"/doctor-suite/:clinicId",element:o.jsx(iM,{})}),o.jsx(zt,{path:"/clinic-management",element:o.jsx(lOe,{})}),o.jsx(zt,{path:"/new-bill",element:o.jsx(AOe,{})})]}),o.jsx(zt,{path:"*",element:o.jsx($3,{})})]}),o.jsx(Hte,{position:"top-right",autoClose:4e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})})}lQ.createRoot(document.getElementById("root")).render(o.jsx(w.StrictMode,{children:o.jsx(yL,{store:Jx,children:o.jsx(F$e,{})})}));
